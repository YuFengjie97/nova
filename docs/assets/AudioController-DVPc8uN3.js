var g=Object.defineProperty;var m=(a,s,e)=>s in a?g(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e;var c=(a,s,e)=>(m(a,typeof s!="symbol"?s+"":s,e),e);import{d as f,r as u,j as D,e as x,f as i,C as n,D as r,i as C,o as y,_}from"./index-BO-XTyUX.js";import"./p5.min-CSTknFkb.js";import{m as B}from"./audio-sugarCrush-1d8eZUIK.js";class S{constructor(s,e=512){c(this,"dataArray");c(this,"analyser");c(this,"source");c(this,"ctx");c(this,"audioDom");c(this,"fftSize");const h=window.AudioContext;this.fftSize=e,this.ctx=new h,this.source=null,this.audioDom=s,this.analyser=this.ctx.createAnalyser(),this.analyser.fftSize=e,this.updateSource();const l=this.analyser.frequencyBinCount;this.dataArray=new Uint8Array(l)}updateSource(){this.ctx.createMediaElementSource(this.audioDom).connect(this.analyser),this.analyser.connect(this.ctx.destination)}getAudioData(){return this.analyser.getByteFrequencyData(this.dataArray),this.dataArray}}const A="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M885.16%20648.57c0%2055.97-60.82%2091.05-109.33%2063.06l-118.29-68.29-118.29-68.29-18.28-10.45V459.38l18.28-10.45%20118.29-68.29%20118.29-68.29c48.51-27.99%20109.33%207.09%20109.33%2063.06v273.16z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M520.93%20648.57c0%2055.97-60.82%2091.05-108.96%2063.06l-118.66-68.29-118.29-68.29c-48.14-27.99-48.14-98.14%200-126.12l118.29-68.29%20118.66-68.29c48.14-27.99%20108.96%207.09%20108.96%2063.06v273.16z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",z="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20884.78c-205.88%200-372.78-166.9-372.78-372.78s166.9-372.78%20372.78-372.78S883.69%20306.12%20883.69%20512s-166.9%20372.78-372.78%20372.78z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M514.59%20383.77c-26.84-15.66-59.27-15.66-86.11%200-26.84%2015.66-42.87%2043.24-42.87%2074.56V583.2c0%2030.94%2016.03%2058.9%2042.87%2074.56%2013.42%207.83%2028.33%2011.56%2042.87%2011.56%2014.91%200%2029.45-3.73%2042.87-11.56l108.11-62.25c26.84-15.66%2042.87-43.24%2042.87-74.56%200.75-31.31-15.28-59.27-42.5-74.93l-108.11-62.25z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",F="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20885.15c-206.08%200-373.15-167.06-373.15-373.15s167.06-373.15%20373.15-373.15S884.05%20305.92%20884.05%20512%20716.99%20885.15%20510.91%20885.15z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M464.24%20398.93c0-17.91-7.46-25-26.49-25h-48.51c-19.03%200-26.49%207.09-26.49%2025v226.13c0%2017.91%207.46%2025%2026.49%2025h48.14c19.4%200%2026.87-7.09%2026.87-25V398.93zM661.22%20398.93c0-17.91-7.46-25-26.49-25h-48.14c-19.03%200-26.49%207.09-26.49%2025v226.13c0%2017.91%207.46%2025%2026.49%2025h48.14c19.03%200%2026.49-7.09%2026.49-25V398.93z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",V="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20885.15c-206.08%200-373.15-167.06-373.15-373.15s167.06-373.15%20373.15-373.15S884.05%20305.92%20884.05%20512%20716.99%20885.15%20510.91%20885.15z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M557.88%20669.84c61.94%200%20111.94-50%20111.94-111.94v-91.8c0-61.94-50-111.94-111.94-111.94h-91.79c-61.94%200-111.94%2050-111.94%20111.94v91.79c0%2061.94%2050%20111.94%20111.94%20111.94h91.79z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",G="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.85%20648.57c0%2055.97%2060.82%2091.05%20109.33%2063.06l118.29-68.29%20118.29-68.29%2018.29-10.45V459.38l-18.29-10.45-118.29-68.29-118.29-68.29c-48.51-27.99-109.33%207.09-109.33%2063.06v273.16z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M503.04%20648.57c0%2055.97%2060.82%2091.05%20108.96%2063.06l118.66-68.29%20118.29-68.29c48.14-27.99%2048.14-98.14%200-126.12l-118.29-68.29L612%20312.35c-48.14-27.99-108.96%207.09-108.96%2063.06v273.16z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",T={class:"con"},M={class:"houtui",src:A},E={class:"tingzhi",src:V},P={class:"kuaijin",src:G},k=f({__name:"AudioController",props:{showStop:{type:Boolean,default:!1},showForward:{type:Boolean,default:!1},showBackward:{type:Boolean,default:!1},audioSrc:{default:B},fftSize:{default:512}},emits:["backward","play","pause","stop","forward","initAudioAnalyser"],setup(a,{emit:s}){const e=a,h=s;let l;const d=u(!1),o=u(),p=u(!1);function v(){var t;d.value=!0,(t=o.value)==null||t.play(),l||(l=new S(o.value,e.fftSize),h("initAudioAnalyser",l))}function w(){var t;d.value=!1,(t=o.value)==null||t.pause()}return D(()=>{o.value&&(o.value.src=e.audioSrc,o.value.oncanplay=function(){p.value=!0})}),(t,L)=>(y(),x("div",T,[i("div",{class:C(["audioControlCon",{disable:!p.value}])},[n(i("img",M,null,512),[[r,t.showBackward]]),n(i("img",{class:"bofang",src:z,onClick:v},null,512),[[r,!d.value]]),n(i("img",{class:"zanting",src:F,onClick:w},null,512),[[r,d.value]]),n(i("img",E,null,512),[[r,t.showStop]]),n(i("img",P,null,512),[[r,t.showForward]])],2),i("audio",{ref_key:"audioDom",ref:o,loop:""},null,512)]))}}),W=_(k,[["__scopeId","data-v-d756832c"]]);export{W as A};
