import{c as k}from"./simplex-noise-Sr2aaxRX.js";import{d as y,b as l,e as I,o as P,c as B,a as g,x as C}from"./index-242-C2dX.js";import"./p5.min-DK4k5B0I.js";import{v as D,i as M}from"./color-8IY-PzcW.js";import"./math-iY9w5Tob.js";const z=y({__name:"canvasPoint",setup(R){const i=l(),o=l(),c=l(),h=k(),w=M([.5,0,.5],[.5,0,.5],[.5,0,.5],[0,0,.5]);return I(async()=>{var p,v;const{width:f}=i.value.getBoundingClientRect(),r=(p=o.value)==null?void 0:p.getContext("2d"),n=(v=c.value)==null?void 0:v.getContext("2d"),e=Math.floor(f/2);o.value.width=e,o.value.height=e,c.value.width=e,c.value.height=e;function _(){return new Promise(a=>{const t=new Image;t.src=C,t.onload=()=>{r.drawImage(t,0,0,e,e),a(1)}})}await _();const b=r.getImageData(0,0,e,e).data,m=6,u=[];for(let a=0;a<e;a+=m)for(let t=0;t<e;t+=m){const s=(a*e+t)*4;b[s]>125&&u.push({x:t,y:a})}function x(){const a=performance.now()/1e3;n.clearRect(0,0,e,e),u.forEach(({x:t,y:s})=>{n.fillStyle=D(w(h(t*.005,s*.001,a))),n.beginPath(),n.arc(t,s,2,0,Math.PI*2),n.fill()})}function d(){x(),requestAnimationFrame(d)}d()}),(f,r)=>(P(),B("div",{ref_key:"con",ref:i,class:"w-full h-full bg-#000 flex items-center"},[g("canvas",{ref_key:"canvas",ref:o,class:"block w-50%"},null,512),g("canvas",{ref_key:"canvas2",ref:c,class:"block w-50%"},null,512)],512))}});export{z as default};
