import{d as H,r as p,e as S,f as c,q as V,A as w,B as _,y as W,t as N,o as z,_ as D}from"./index-CqfaNC88.js";import{P as F}from"./P5-CFZ07hFp.js";import{a as u}from"./p5.min-WfQBoNak.js";const M="/nova/assets/gameover-MU4fuh4x.png",U={class:"viewCon"},q={class:"canvasCon"},A=["src"],E={class:"score"},G={class:"info"},I=H({__name:"FlappyBird",setup(L){const{floor:r,min:x}=Math,l=p(!1),f=p(0),v=p(!1);let t,h=800,e=800,i,a=[],g=2,m=6,y=new u.Vector(0,.2);class b{constructor(o){this.c="#0984e3",this.cross=!1,this.top=r(t.random(60,e/2)),this.bottom=r(t.random(60,e/2)),this.w=r(t.random(30,70)),this.x=o}show(){t.noStroke(),t.fill(this.c),t.rect(this.x,0,this.w,this.top,0,0,this.w/2,this.w/2),t.rect(this.x,e-this.bottom,this.w,this.bottom,this.w/2,this.w/2,0,0)}update(){this.outCanvas(),this.x-=g}outCanvas(){this.x<-50&&(this.x=h,this.w=r(t.random(30,70)),this.c="#0984e3",this.cross=!1)}birdHit(o){let{pos:{x:n,y:d}}=o;n>=this.x&&n<=this.x+this.w&&(d<=this.top||d>=e-this.bottom)&&(this.c="#d63031",l.value=!0)}birdCross(o){if(this.cross)return;let{pos:{x:n,y:d}}=o;n>this.x+this.w&&(this.cross=!0,f.value++)}}class C{constructor(){this.pos=new u.Vector(40,e/2),this.vel=new u.Vector(0,1),this.d=20}show(){t.fill("#fdcb6e"),t.circle(this.pos.x,this.pos.y,this.d)}up(){this.vel.set(0,-4)}update(){this.pos.y+this.d/2>e?(this.vel.mult(0),this.pos.set(this.pos.x,e-this.d/2)):this.vel.add(y),this.pos.y<this.d/2&&(this.pos.y=this.d/2),this.pos.add(this.vel)}}function k(){for(let s=0;s<m;s++)a.push(new b(h+s*(h/m)))}function B(){for(let s=0;s<a.length;s++)a[s].birdHit(i),a[s].birdCross(i),a[s].update(),a[s].show()}function P(s){t=s,t.setup=function(){e=h=x(innerWidth,innerHeight),innerWidth<800?(t.createCanvas(innerWidth,innerHeight),h=innerWidth,e=innerHeight):t.createCanvas(h,e),i=new C,k(),setTimeout(()=>{v.value=!0},5e3)},t.draw=function(){t.touches.length>0&&i.up(),l.value||(t.background(50),i.update(),i.show(),B())},t.keyPressed=function(){t.keyCode===32&&i.up()}}return(s,o)=>(z(),S("div",U,[c("div",q,[V(F,{sketch:P}),w(c("img",{class:"gameover",src:W(M)},null,8,A),[[_,l.value]]),c("div",E,"Score: "+N(f.value),1),w(c("div",G,"Use space/touch to fly",512),[[_,!v.value]])])]))}}),J=D(I,[["__scopeId","data-v-a3304756"]]);export{J as default};
