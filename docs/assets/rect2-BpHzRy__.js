import{c as k}from"./chroma-Bae7IUH1.js";import{a as C}from"./simplex-noise-BtZ5wMFy.js";import{i as S}from"./audio2-Bh-ajUVZ.js";import{m as q}from"./audio-sugarCrush-1d8eZUIK.js";import{d as I,r,j as z,J as D,e as E,f as h,t as F,o as M,_ as N}from"./index-CXaHQ9wk.js";import"./p5.min-7bV0qykS.js";const t=800,v=100,i=512,P=100,R=I({__name:"rect2",setup(T){C();const{min:y,max:$,PI:j,sin:J,cos:U,atan:V,random:G,abs:H,sqrt:K,floor:L}=Math,n=r(),a=r();let l;t/v,t/v;const _=i/2,g=["#d63031","#81ecec","#fdcb6e"];k.scale(g);const x=new Uint8Array(_);let s;const{audio:o,getAnalyser:w}=S(q,i),c=r(!1);function A(){o.paused?(o.play(),c.value=!0,s||(s=w().analyser)):(o.pause(),c.value=!1)}const u=[];return z(()=>{const{stats:f}=D(n.value),{width:d,height:b}=n.value.getBoundingClientRect(),p=y(d,b);a.value.width=t,a.value.height=t,a.value.style.cssText=`width:${p}px;height:${p}px`,l=a.value.getContext("2d");function B(){for(let e=0;e<i/2;e++);}B();function m(){l.clearRect(0,0,t,t),f.update(),u.forEach(e=>{e.update(),e.draw()}),requestAnimationFrame(m)}m(),setInterval(()=>{s&&s.getByteFrequencyData(x),u.forEach(e=>e.updateTarget())},P)}),(f,d)=>(M(),E("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[h("div",{class:"bt",onClick:A},F(c.value?"pause":"play"),1),h("canvas",{ref_key:"canvas",ref:a,class:"canvas",width:"400",height:"400"},null,512)],512))}}),ee=N(R,[["__scopeId","data-v-85bc8b97"]]);export{ee as default};
