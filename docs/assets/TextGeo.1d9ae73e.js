import{_ as Y,$ as ee,a0 as ne,t as te,G as oe,l as W,e as M,v as ie,a1 as se,A as ae,S as re,C as ce,a2 as le,P as de,V as he,W as ue,a3 as pe,U as fe}from"./three.module.c94f3e3c.js";import{S as ve}from"./stats.module.f23e5c82.js";import{G as ge}from"./dat.gui.module.5aaed78b.js";import{d as we,b as D,h as me,c as be,a as R,o as xe,_ as ye}from"./index.dd42b8fd.js";class Se extends Y{constructor(e){super(e)}load(e,n,a,l){const c=this,i=new ee(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,function(d){const p=c.parse(JSON.parse(d));n&&n(p)},a,l)}parse(e){return new _e(e)}}class _e{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const a=[],l=ke(e,n,this.data);for(let c=0,i=l.length;c<i;c++)a.push(...l[c].toShapes());return a}}function ke(g,e,n){const a=Array.from(g),l=e/n.resolution,c=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*l,i=[];let d=0,p=0;for(let r=0;r<a.length;r++){const u=a[r];if(u===`
`)d=0,p-=c;else{const v=Ce(u,l,d,p,n);d+=v.offsetX,i.push(v.path)}}return i}function Ce(g,e,n,a,l){const c=l.glyphs[g]||l.glyphs["?"];if(!c){console.error('THREE.Font: character "'+g+'" does not exists in font family '+l.familyName+".");return}const i=new ne;let d,p,r,u,v,w,x,_;if(c.o){const t=c._cachedOutline||(c._cachedOutline=c.o.split(" "));for(let s=0,C=t.length;s<C;)switch(t[s++]){case"m":d=t[s++]*e+n,p=t[s++]*e+a,i.moveTo(d,p);break;case"l":d=t[s++]*e+n,p=t[s++]*e+a,i.lineTo(d,p);break;case"q":r=t[s++]*e+n,u=t[s++]*e+a,v=t[s++]*e+n,w=t[s++]*e+a,i.quadraticCurveTo(v,w,r,u);break;case"b":r=t[s++]*e+n,u=t[s++]*e+a,v=t[s++]*e+n,w=t[s++]*e+a,x=t[s++]*e+n,_=t[s++]*e+a,i.bezierCurveTo(v,w,x,_,r,u);break}}return{offsetX:c.ha*e,path:i}}const Te="/nova/assets/helvetiker_regular.typeface.d5c54676.json";class ze extends te{constructor(e,n={}){const a=n.font;if(a===void 0)super();else{const l=a.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(l,n)}this.type="TextGeometry"}}const Pe={class:"viewCon"},Ge=we({__name:"TextGeo",setup(g){const{PI:e,random:n,floor:a}=Math,l=D(),c=D();let i=window.innerWidth,d=window.innerHeight,p,r,u,v,w,x="Hello three.js!",_,t,s=0,C=0,m,G,T,k,z,E=40,P;function A(o){let f=o.key;console.log(f),f==="Backspace"?x=x.slice(0,-1):x+=f,b()}function q(){let o=n()*100,f=1,y=.5;P.color.setHSL(o,f,y)}let h={changeColor:function(){q()},fontSize:50,height:6,curveSegments:1,bevelEnabled:!0,bevelThickness:4,bevelSize:3.2,bevelSegments:1};function O(){const o=new ge({width:300});o.add(h,"changeColor").name("randomColor").listen(),o.add(h,"fontSize",20,100,1).onFinishChange(f=>{E=f*.8,b()}),o.add(h,"height",1,30,1).onFinishChange(b),o.add(h,"curveSegments",1,10,1).onFinishChange(b),o.add(h,"bevelEnabled").onChange(b),o.add(h,"bevelThickness",1,10,1).onFinishChange(b),o.add(h,"bevelSize",.1,5,.1).onFinishChange(b),o.add(h,"bevelSegments",1,10,1).onFinishChange(b)}function b(){t.remove(T),t.remove(k),B()}let F=!1;function j(o){F=!0,C=o.clientX}function I(o){F&&(s=(o.clientX-C)/w*e*.04)}function U(){F=!1,s=0}function N(){const o=new Se;return new Promise((f,y)=>{o.load(Te,function(S){f(S)},void 0,function(S){y(S)})})}function B(){var y,S,L;t=new oe,r.add(t),m=new ze(x,{font:_,size:h.fontSize,height:h.height,curveSegments:h.curveSegments,bevelEnabled:h.bevelEnabled,bevelThickness:h.bevelThickness,bevelSize:h.bevelSize,bevelSegments:h.bevelSegments}),G=[new W({color:16777215,flatShading:!0}),new W({color:16777215})],T=new M(m,G),t.add(T),m.computeBoundingBox();const o=-.5*(((y=m.boundingBox)==null?void 0:y.max.x)-((S=m.boundingBox)==null?void 0:S.min.x)),f=((L=m.boundingBox)==null?void 0:L.min.y)+E;T.position.set(o,f,0),k=new M(m,G),k.position.set(o,-f,0),k.rotation.x=-e,t.add(k)}function V(){z=new M(new ie(1e4,1e4),new se({color:16777215,opacity:.5,transparent:!0})),z.position.y=0,z.rotation.x=-e/2,r.add(z)}function $(){p=ve(),c.value.append(p.dom)}function J(){r.add(new ae(1e3))}function K(){i=window.innerWidth,d=window.innerHeight,w=i/2,u.aspect=i/d,u.updateProjectionMatrix(),v.setSize(i,d)}function Q(){r=new re,r.background=new ce(0),r.fog=new le(0,250,1400),u=new de(75,i/d,1,4e3),u.position.set(0,100,300),u.lookAt(new he(0,50,0)),v=new ue({canvas:l.value,antialias:!0}),v.setSize(i,d),window.addEventListener("resize",K)}function X(){const o=new pe(16777215,.125);o.position.set(0,-100,1).normalize(),r.add(o),P=new fe(7101671,1.5),P.position.set(0,-100,90),r.add(P)}function Z(){t.rotation.y=t.rotation.y+s}function H(){requestAnimationFrame(H),p.update(),Z(),v.render(r,u)}return me(async()=>{document.addEventListener("keydown",A),w=window.innerWidth/2,Q(),O(),X(),J(),$(),_=await N(),B(),V(),H()}),(o,f)=>(xe(),be("div",Pe,[R("div",{class:"canvasCon",ref_key:"canvasCon",ref:c},[R("canvas",{class:"canvas",ref_key:"canvasDom",ref:l,onPointerdown:j,onPointermove:I,onPointerup:U},null,544)],512)]))}});const He=ye(Ge,[["__scopeId","data-v-ce59d162"]]);export{He as default};
