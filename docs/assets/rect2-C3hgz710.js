import{c as A}from"./chroma-ZZZ4fKfI.js";import{a as B}from"./simplex-noise-BtZ5wMFy.js";import{i as k}from"./audio2-Bh-ajUVZ.js";import{m as C}from"./audio-sugarCrush-1d8eZUIK.js";import{i as q}from"./initStats-k2kTMle0.js";import"./p5.min-DzgWThwl.js";import{d as I,r,h as S,o as D,b as E,e as m,t as z,_ as F}from"./index-CpijY5gs.js";const s=800,h=512,M=100,N=I({__name:"rect2",setup(P){B();const{min:v,max:R,PI:T,sin:$,cos:U,atan:V,random:j,abs:G,sqrt:H,floor:J}=Math,n=r(),e=r();let i;const y=h/2,_=["#d63031","#81ecec","#fdcb6e"];A.scale(_);const g=new Uint8Array(y);let a;const{audio:o,getAnalyser:x}=k(C,h),c=r(!1);function b(){o.paused?(o.play(),c.value=!0,a||(a=x().analyser)):(o.pause(),c.value=!1)}const l=[];return S(()=>{const{stats:u}=q(n.value),{width:f,height:w}=n.value.getBoundingClientRect(),d=v(f,w);e.value.width=s,e.value.height=s,e.value.style.cssText=`width:${d}px;height:${d}px`,i=e.value.getContext("2d");function p(){i.clearRect(0,0,s,s),u.update(),l.forEach(t=>{t.update(),t.draw()}),requestAnimationFrame(p)}p(),setInterval(()=>{a&&a.getByteFrequencyData(g),l.forEach(t=>t.updateTarget())},M)}),(u,f)=>(D(),E("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[m("div",{class:"bt",onClick:b},z(c.value?"pause":"play"),1),m("canvas",{ref_key:"canvas",ref:e,class:"canvas",width:"400",height:"400"},null,512)],512))}}),Z=F(N,[["__scopeId","data-v-85bc8b97"]]);export{Z as default};
