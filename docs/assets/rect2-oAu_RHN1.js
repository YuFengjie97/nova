import{c as B}from"./index-T8xJO8QF.js";import{a as b}from"./simplex-noise-BkggsaiG.js";import{i as k}from"./audio2-Bh-ajUVZ.js";import{m as C}from"./audio-sugarCrush-1d8eZUIK.js";import{d as S,r,j as q,H as D,e as E,f as m,t as I,o as z,_ as F}from"./index-CqfaNC88.js";import"./p5.min-WfQBoNak.js";const s=800,h=512,M=100,N=S({__name:"rect2",setup(R){b();const{min:v}=Math,n=r(),e=r();let i;const y=h/2,_=["#d63031","#81ecec","#fdcb6e"];B.scale(_);const g=new Uint8Array(y);let t;const{audio:c,getAnalyser:x}=k(C,h),o=r(!1);function w(){c.paused?(c.play(),o.value=!0,t||(t=x().analyser)):(c.pause(),o.value=!1)}const l=[];return q(()=>{const{stats:u}=D(n.value),{width:f,height:A}=n.value.getBoundingClientRect(),d=v(f,A);e.value.width=s,e.value.height=s,e.value.style.cssText=`width:${d}px;height:${d}px`,i=e.value.getContext("2d");function p(){i.clearRect(0,0,s,s),u.update(),l.forEach(a=>{a.update(),a.draw()}),requestAnimationFrame(p)}p(),setInterval(()=>{t&&t.getByteFrequencyData(g),l.forEach(a=>a.updateTarget())},M)}),(u,f)=>(z(),E("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[m("div",{class:"bt",onClick:w},I(o.value?"pause":"play"),1),m("canvas",{ref_key:"canvas",ref:e,class:"canvas",width:"400",height:"400"},null,512)],512))}}),V=F(N,[["__scopeId","data-v-85bc8b97"]]);export{V as default};
