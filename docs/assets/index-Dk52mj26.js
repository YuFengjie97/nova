function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/reverseCardPic-DZxWyDmu.js","assets/reverseCardPic-vIZtUUQZ.css","assets/StarRate-DVjiMbbh.js","assets/Card-Dv0n58Uq.js","assets/Card-D4lgtYd5.css","assets/initGUI-CcmszmDW.js","assets/dat.gui.module-DcMWPYuf.js","assets/StarRate-bfWt5Jht.css","assets/Sun-DpW9CRT5.js","assets/Sun-DHE4tjzF.css","assets/ProgressCube-DG7NfcB9.js","assets/ProgressCube-B5OsLfjf.css","assets/DeathLoading-Bglo-W5F.js","assets/DeathLoading-BUrVnOrD.css","assets/HSCard-CMayys_J.js","assets/HSCard-h57siTcr.css","assets/BarChart-C8A0Vk06.js","assets/BarChart-CDcy6dQO.css","assets/Water-mOQHL1oc.js","assets/Water-DMcM00NL.css","assets/timeSun-BOdQ7uD8.js","assets/timeSun-Dk5Ey5xW.css","assets/hackText-CFdDemYL.js","assets/hackText-DGLcP_QY.css","assets/FlowField-CIpcontM.js","assets/fabric-Ii7tDBob.js","assets/noise-CqzBSU_F.js","assets/FlowField-AgBGOWED.css","assets/FlowFieldLine-BIwsU7iZ.js","assets/CanvasTextPoint-BkujYZK-.js","assets/simplex-noise-BtZ5wMFy.js","assets/CanvasTextPoint-B2qoHh8a.css","assets/canvasPoint-Bp7YxkKn.js","assets/color-CVlT263R.js","assets/flow-B6pXGUgx.js","assets/initStats-z-qGLZo8.js","assets/delaunator-BsY9hiGd.js","assets/imgIdle-CIacWlFS.js","assets/canvas-Bae2WlW-.js","assets/nyanCat-CX0bYxs0.js","assets/particleLife-9W8ahNeS.js","assets/chroma-D8b-vtvi.js","assets/test-BzK8D13F.js","assets/gameOfLife-q5o4_ZCH.js","assets/mihuanshuibo-CMckrkQ3.js","assets/audio-sugarCrush-1d8eZUIK.js","assets/audio2-Bh-ajUVZ.js","assets/mihuanshuibo-BZF8Gd1h.css","assets/rect-FsKhlNXl.js","assets/rect-BZorovxU.css","assets/rect2-DI0XreKQ.js","assets/rect2-Hp2eCcgA.css","assets/freqAndDomain-meXqyYt8.js","assets/freqAndDomain-C0QatTZg.css","assets/githubSnake-VNZxj0Fc.js","assets/githubSnake-DcoNdpVU.css","assets/THREE-template-BjlvCKrm.js","assets/stats.module--VATS4Kh.js","assets/OrbitControls-Rz_z-Chd.js","assets/THREE-template-B_OZX_Dp.css","assets/CubeLine-CEnTb45h.js","assets/CubeLine-DrF4MCpb.css","assets/AllBufferGeo-BE-rD65w.js","assets/AllBufferGeo-Sn7jiluu.css","assets/ThreeTextPoint-CKo9JWFS.js","assets/ThreeTextPoint-DFFVpEol.css","assets/TextGeo-Bv0UUbUZ.js","assets/helvetiker_regular.typeface-j2wsOv6P.js","assets/TextGeo-Bnsw2Yl1.css","assets/SolarSystem-MdJemXym.js","assets/RenderPass-BN88JlIK.js","assets/UnrealBloomPass-q4RNDoWX.js","assets/GlowBall-DIUi_1kD.js","assets/Atom-D8XsG3p_.js","assets/Atom-BdO_mpnw.css","assets/LavaBall-DfECpfHc.js","assets/LavaBall-CkVPAxbe.css","assets/LensFlares-Be56a4pW.js","assets/LensFlares-B53niRJK.css","assets/flowFieldPoint3D-DumuFmeb.js","assets/initThree-CPuUtzyO.js","assets/dotTexture-NXlc0I5v.js","assets/particleLife-juKwnRom.js","assets/FlowFieldLine2-DfMQnyMF.js","assets/P5Con-Cx4nSln6.js","assets/P5Con-BzWjxV2F.css","assets/paticle-CgcAxsLY.js","assets/Maze-ClIoahjR.js","assets/GradientLine-CS1BoDdU.js","assets/CodeRain-DZFVpyEC.js","assets/Cross-D4Na7TVn.js","assets/MusicRect-CgNJoNA8.js","assets/AudioController-Bj40XwAW.js","assets/AudioController-DUH9HyxV.css","assets/p5bezier-CIE_Y1Yz.js","assets/MusicCircle-M5qSEdcC.js","assets/BoRe-BITaBrjh.js","assets/BoRe-DuzSWB6r.css","assets/Tangram-B1k_KyGl.js","assets/Terrain-DroWuABV.js","assets/P5-33W7Gzbn.js","assets/P5-BmgriCZ0.css","assets/Terrain-Cn6GLP6f.css","assets/DisperseParticle-B-qZWyzU.js","assets/DisperseParticle-HrAehjQp.css","assets/DisperseParticle2-luXW0rna.js","assets/DisperseParticle2-DPPUpi_3.css","assets/Snake-BbtwJrx6.js","assets/LightBall-jV2cXG9m.js","assets/LightBall-BpkZGc93.css","assets/FlappyBird-CMHmxjh1.js","assets/FlappyBird-BO6JxVhq.css","assets/Firework-DBdIpsSR.js","assets/PixelPicture-Dg0JAwWA.js","assets/PixelPicture-4xAYvbeF.css","assets/circuitBoard-BrXCEUxT.js","assets/circuitBoard-BBxOKhSP.css","assets/circuitBoard2-Dlnz0dv3.js","assets/circuitBoard2-CNYN8PBZ.css","assets/index-Ca_h0gXW.js","assets/index-B-PRO443.js","assets/index-DKELcOkz.js","assets/index-CTpKKmRf.js","assets/index-CMSWtwcX.css","assets/index-iFqs2Cbk.js","assets/index-D1wbxD2g.js","assets/index-C_uGbkhF.js","assets/Shader.vue_vue_type_script_setup_true_lang-D3rXRAhP.js","assets/index-7pl_MY-w.js","assets/index-CBImuuV5.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $d(h,e){const r=new Set(h.split(","));return e?t=>r.has(t.toLowerCase()):t=>r.has(t)}const er={},_o=[],Sn=()=>{},i_=()=>!1,wu=h=>h.charCodeAt(0)===111&&h.charCodeAt(1)===110&&(h.charCodeAt(2)>122||h.charCodeAt(2)<97),Qd=h=>h.startsWith("onUpdate:"),Dr=Object.assign,eh=(h,e)=>{const r=h.indexOf(e);r>-1&&h.splice(r,1)},s_=Object.prototype.hasOwnProperty,Ot=(h,e)=>s_.call(h,e),_t=Array.isArray,bo=h=>Su(h)==="[object Map]",Rg=h=>Su(h)==="[object Set]",St=h=>typeof h=="function",fr=h=>typeof h=="string",Go=h=>typeof h=="symbol",ir=h=>h!==null&&typeof h=="object",Dg=h=>(ir(h)||St(h))&&St(h.then)&&St(h.catch),Og=Object.prototype.toString,Su=h=>Og.call(h),o_=h=>Su(h).slice(8,-1),Ig=h=>Su(h)==="[object Object]",th=h=>fr(h)&&h!=="NaN"&&h[0]!=="-"&&""+parseInt(h,10)===h,ga=$d(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mu=h=>{const e=Object.create(null);return r=>e[r]||(e[r]=h(r))},a_=/-(\w)/g,ti=Mu(h=>h.replace(a_,(e,r)=>r?r.toUpperCase():"")),l_=/\B([A-Z])/g,Vo=Mu(h=>h.replace(l_,"-$1").toLowerCase()),Eu=Mu(h=>h.charAt(0).toUpperCase()+h.slice(1)),Qu=Mu(h=>h?`on${Eu(h)}`:""),es=(h,e)=>!Object.is(h,e),Xl=(h,e)=>{for(let r=0;r<h.length;r++)h[r](e)},ou=(h,e,r)=>{Object.defineProperty(h,e,{configurable:!0,enumerable:!1,value:r})},sd=h=>{const e=parseFloat(h);return isNaN(e)?h:e};let kf;const kg=()=>kf||(kf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qa(h){if(_t(h)){const e={};for(let r=0;r<h.length;r++){const t=h[r],o=fr(t)?h_(t):qa(t);if(o)for(const l in o)e[l]=o[l]}return e}else if(fr(h)||ir(h))return h}const u_=/;(?![^(]*\))/g,c_=/:([^]+)/,d_=/\/\*[^]*?\*\//g;function h_(h){const e={};return h.replace(d_,"").split(u_).forEach(r=>{if(r){const t=r.split(c_);t.length>1&&(e[t[0].trim()]=t[1].trim())}}),e}function Tu(h){let e="";if(fr(h))e=h;else if(_t(h))for(let r=0;r<h.length;r++){const t=Tu(h[r]);t&&(e+=t+" ")}else if(ir(h))for(const r in h)h[r]&&(e+=r+" ");return e.trim()}function A3(h){if(!h)return null;let{class:e,style:r}=h;return e&&!fr(e)&&(h.class=Tu(e)),r&&(h.style=qa(r)),h}const f_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p_=$d(f_);function Ng(h){return!!h||h===""}const Nf=h=>fr(h)?h:h==null?"":_t(h)||ir(h)&&(h.toString===Og||!St(h.toString))?JSON.stringify(h,Ug,2):String(h),Ug=(h,e)=>e&&e.__v_isRef?Ug(h,e.value):bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[t,o],l)=>(r[ec(t,l)+" =>"]=o,r),{})}:Rg(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ec(r))}:Go(e)?ec(e):ir(e)&&!_t(e)&&!Ig(e)?String(e):e,ec=(h,e="")=>{var r;return Go(h)?`Symbol(${(r=h.description)!=null?r:e})`:h};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let In;class m_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=In,!e&&In&&(this.index=(In.scopes||(In.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=In;try{return In=this,e()}finally{In=r}}}on(){In=this}off(){In=this.parent}stop(e){if(this._active){let r,t;for(r=0,t=this.effects.length;r<t;r++)this.effects[r].stop();for(r=0,t=this.cleanups.length;r<t;r++)this.cleanups[r]();if(this.scopes)for(r=0,t=this.scopes.length;r<t;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function g_(h,e=In){e&&e.active&&e.effects.push(h)}function y_(){return In}let Ss;class rh{constructor(e,r,t,o){this.fn=e,this.trigger=r,this.scheduler=t,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,g_(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ns();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(v_(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Us()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Yi,r=Ss;try{return Yi=!0,Ss=this,this._runnings++,Uf(this),this.fn()}finally{Ff(this),this._runnings--,Ss=r,Yi=e}}stop(){var e;this.active&&(Uf(this),Ff(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function v_(h){return h.value}function Uf(h){h._trackId++,h._depsLength=0}function Ff(h){if(h.deps.length>h._depsLength){for(let e=h._depsLength;e<h.deps.length;e++)Fg(h.deps[e],h);h.deps.length=h._depsLength}}function Fg(h,e){const r=h.get(e);r!==void 0&&e._trackId!==r&&(h.delete(e),h.size===0&&h.cleanup())}let Yi=!0,od=0;const Bg=[];function Ns(){Bg.push(Yi),Yi=!1}function Us(){const h=Bg.pop();Yi=h===void 0?!0:h}function nh(){od++}function ih(){for(od--;!od&&ad.length;)ad.shift()()}function zg(h,e,r){if(e.get(h)!==h._trackId){e.set(h,h._trackId);const t=h.deps[h._depsLength];t!==e?(t&&Fg(t,h),h.deps[h._depsLength++]=e):h._depsLength++}}const ad=[];function Gg(h,e,r){nh();for(const t of h.keys()){let o;t._dirtyLevel<e&&(o??(o=h.get(t)===t._trackId))&&(t._shouldSchedule||(t._shouldSchedule=t._dirtyLevel===0),t._dirtyLevel=e),t._shouldSchedule&&(o??(o=h.get(t)===t._trackId))&&(t.trigger(),(!t._runnings||t.allowRecurse)&&t._dirtyLevel!==2&&(t._shouldSchedule=!1,t.scheduler&&ad.push(t.scheduler)))}ih()}const Vg=(h,e)=>{const r=new Map;return r.cleanup=h,r.computed=e,r},ld=new WeakMap,Ms=Symbol(""),ud=Symbol("");function on(h,e,r){if(Yi&&Ss){let t=ld.get(h);t||ld.set(h,t=new Map);let o=t.get(r);o||t.set(r,o=Vg(()=>t.delete(r))),zg(Ss,o)}}function gi(h,e,r,t,o,l){const s=ld.get(h);if(!s)return;let n=[];if(e==="clear")n=[...s.values()];else if(r==="length"&&_t(h)){const i=Number(t);s.forEach((u,f)=>{(f==="length"||!Go(f)&&f>=i)&&n.push(u)})}else switch(r!==void 0&&n.push(s.get(r)),e){case"add":_t(h)?th(r)&&n.push(s.get("length")):(n.push(s.get(Ms)),bo(h)&&n.push(s.get(ud)));break;case"delete":_t(h)||(n.push(s.get(Ms)),bo(h)&&n.push(s.get(ud)));break;case"set":bo(h)&&n.push(s.get(Ms));break}nh();for(const i of n)i&&Gg(i,4);ih()}const __=$d("__proto__,__v_isRef,__isVue"),Hg=new Set(Object.getOwnPropertyNames(Symbol).filter(h=>h!=="arguments"&&h!=="caller").map(h=>Symbol[h]).filter(Go)),Bf=b_();function b_(){const h={};return["includes","indexOf","lastIndexOf"].forEach(e=>{h[e]=function(...r){const t=It(this);for(let l=0,s=this.length;l<s;l++)on(t,"get",l+"");const o=t[e](...r);return o===-1||o===!1?t[e](...r.map(It)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{h[e]=function(...r){Ns(),nh();const t=It(this)[e].apply(this,r);return ih(),Us(),t}}),h}function x_(h){const e=It(this);return on(e,"has",h),e.hasOwnProperty(h)}class Wg{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,t){const o=this._isReadonly,l=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return l;if(r==="__v_raw")return t===(o?l?O_:Zg:l?Yg:Xg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(t)?e:void 0;const s=_t(e);if(!o){if(s&&Ot(Bf,r))return Reflect.get(Bf,r,t);if(r==="hasOwnProperty")return x_}const n=Reflect.get(e,r,t);return(Go(r)?Hg.has(r):__(r))||(o||on(e,"get",r),l)?n:an(n)?s&&th(r)?n:n.value:ir(n)?o?Kg(n):Xa(n):n}}class qg extends Wg{constructor(e=!1){super(!1,e)}set(e,r,t,o){let l=e[r];if(!this._isShallow){const i=jo(l);if(!au(t)&&!jo(t)&&(l=It(l),t=It(t)),!_t(e)&&an(l)&&!an(t))return i?!1:(l.value=t,!0)}const s=_t(e)&&th(r)?Number(r)<e.length:Ot(e,r),n=Reflect.set(e,r,t,o);return e===It(o)&&(s?es(t,l)&&gi(e,"set",r,t):gi(e,"add",r,t)),n}deleteProperty(e,r){const t=Ot(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&t&&gi(e,"delete",r,void 0),o}has(e,r){const t=Reflect.has(e,r);return(!Go(r)||!Hg.has(r))&&on(e,"has",r),t}ownKeys(e){return on(e,"iterate",_t(e)?"length":Ms),Reflect.ownKeys(e)}}class w_ extends Wg{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const S_=new qg,M_=new w_,E_=new qg(!0),sh=h=>h,Au=h=>Reflect.getPrototypeOf(h);function sl(h,e,r=!1,t=!1){h=h.__v_raw;const o=It(h),l=It(e);r||(es(e,l)&&on(o,"get",e),on(o,"get",l));const{has:s}=Au(o),n=t?sh:r?lh:Ca;if(s.call(o,e))return n(h.get(e));if(s.call(o,l))return n(h.get(l));h!==o&&h.get(e)}function ol(h,e=!1){const r=this.__v_raw,t=It(r),o=It(h);return e||(es(h,o)&&on(t,"has",h),on(t,"has",o)),h===o?r.has(h):r.has(h)||r.has(o)}function al(h,e=!1){return h=h.__v_raw,!e&&on(It(h),"iterate",Ms),Reflect.get(h,"size",h)}function zf(h){h=It(h);const e=It(this);return Au(e).has.call(e,h)||(e.add(h),gi(e,"add",h,h)),this}function Gf(h,e){e=It(e);const r=It(this),{has:t,get:o}=Au(r);let l=t.call(r,h);l||(h=It(h),l=t.call(r,h));const s=o.call(r,h);return r.set(h,e),l?es(e,s)&&gi(r,"set",h,e):gi(r,"add",h,e),this}function Vf(h){const e=It(this),{has:r,get:t}=Au(e);let o=r.call(e,h);o||(h=It(h),o=r.call(e,h)),t&&t.call(e,h);const l=e.delete(h);return o&&gi(e,"delete",h,void 0),l}function Hf(){const h=It(this),e=h.size!==0,r=h.clear();return e&&gi(h,"clear",void 0,void 0),r}function ll(h,e){return function(t,o){const l=this,s=l.__v_raw,n=It(s),i=e?sh:h?lh:Ca;return!h&&on(n,"iterate",Ms),s.forEach((u,f)=>t.call(o,i(u),i(f),l))}}function ul(h,e,r){return function(...t){const o=this.__v_raw,l=It(o),s=bo(l),n=h==="entries"||h===Symbol.iterator&&s,i=h==="keys"&&s,u=o[h](...t),f=r?sh:e?lh:Ca;return!e&&on(l,"iterate",i?ud:Ms),{next(){const{value:m,done:a}=u.next();return a?{value:m,done:a}:{value:n?[f(m[0]),f(m[1])]:f(m),done:a}},[Symbol.iterator](){return this}}}}function Ci(h){return function(...e){return h==="delete"?!1:h==="clear"?void 0:this}}function T_(){const h={get(l){return sl(this,l)},get size(){return al(this)},has:ol,add:zf,set:Gf,delete:Vf,clear:Hf,forEach:ll(!1,!1)},e={get(l){return sl(this,l,!1,!0)},get size(){return al(this)},has:ol,add:zf,set:Gf,delete:Vf,clear:Hf,forEach:ll(!1,!0)},r={get(l){return sl(this,l,!0)},get size(){return al(this,!0)},has(l){return ol.call(this,l,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ll(!0,!1)},t={get(l){return sl(this,l,!0,!0)},get size(){return al(this,!0)},has(l){return ol.call(this,l,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ll(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{h[l]=ul(l,!1,!1),r[l]=ul(l,!0,!1),e[l]=ul(l,!1,!0),t[l]=ul(l,!0,!0)}),[h,r,e,t]}const[A_,j_,C_,P_]=T_();function oh(h,e){const r=e?h?P_:C_:h?j_:A_;return(t,o,l)=>o==="__v_isReactive"?!h:o==="__v_isReadonly"?h:o==="__v_raw"?t:Reflect.get(Ot(r,o)&&o in t?r:t,o,l)}const L_={get:oh(!1,!1)},R_={get:oh(!1,!0)},D_={get:oh(!0,!1)},Xg=new WeakMap,Yg=new WeakMap,Zg=new WeakMap,O_=new WeakMap;function I_(h){switch(h){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function k_(h){return h.__v_skip||!Object.isExtensible(h)?0:I_(o_(h))}function Xa(h){return jo(h)?h:ah(h,!1,S_,L_,Xg)}function N_(h){return ah(h,!1,E_,R_,Yg)}function Kg(h){return ah(h,!0,M_,D_,Zg)}function ah(h,e,r,t,o){if(!ir(h)||h.__v_raw&&!(e&&h.__v_isReactive))return h;const l=o.get(h);if(l)return l;const s=k_(h);if(s===0)return h;const n=new Proxy(h,s===2?t:r);return o.set(h,n),n}function xo(h){return jo(h)?xo(h.__v_raw):!!(h&&h.__v_isReactive)}function jo(h){return!!(h&&h.__v_isReadonly)}function au(h){return!!(h&&h.__v_isShallow)}function Jg(h){return xo(h)||jo(h)}function It(h){const e=h&&h.__v_raw;return e?It(e):h}function $g(h){return Object.isExtensible(h)&&ou(h,"__v_skip",!0),h}const Ca=h=>ir(h)?Xa(h):h,lh=h=>ir(h)?Kg(h):h;class Qg{constructor(e,r,t,o){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new rh(()=>e(this._value),()=>Yl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=t}get value(){const e=It(this);return(!e._cacheable||e.effect.dirty)&&es(e._value,e._value=e.effect.run())&&Yl(e,4),ey(e),e.effect._dirtyLevel>=2&&Yl(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function U_(h,e,r=!1){let t,o;const l=St(h);return l?(t=h,o=Sn):(t=h.get,o=h.set),new Qg(t,o,l||!o,r)}function ey(h){var e;Yi&&Ss&&(h=It(h),zg(Ss,(e=h.dep)!=null?e:h.dep=Vg(()=>h.dep=void 0,h instanceof Qg?h:void 0)))}function Yl(h,e=4,r){h=It(h);const t=h.dep;t&&Gg(t,e)}function an(h){return!!(h&&h.__v_isRef===!0)}function Gi(h){return ty(h,!1)}function F_(h){return ty(h,!0)}function ty(h,e){return an(h)?h:new B_(h,e)}class B_{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:It(e),this._value=r?e:Ca(e)}get value(){return ey(this),this._value}set value(e){const r=this.__v_isShallow||au(e)||jo(e);e=r?e:It(e),es(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ca(e),Yl(this,4))}}function Zi(h){return an(h)?h.value:h}const z_={get:(h,e,r)=>Zi(Reflect.get(h,e,r)),set:(h,e,r,t)=>{const o=h[e];return an(o)&&!an(r)?(o.value=r,!0):Reflect.set(h,e,r,t)}};function ry(h){return xo(h)?h:new Proxy(h,z_)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ki(h,e,r,t){try{return t?h(...t):h()}catch(o){ju(o,e,r)}}function zn(h,e,r,t){if(St(h)){const l=Ki(h,e,r,t);return l&&Dg(l)&&l.catch(s=>{ju(s,e,r)}),l}const o=[];for(let l=0;l<h.length;l++)o.push(zn(h[l],e,r,t));return o}function ju(h,e,r,t=!0){const o=e?e.vnode:null;if(e){let l=e.parent;const s=e.proxy,n=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](h,s,n)===!1)return}l=l.parent}const i=e.appContext.config.errorHandler;if(i){Ki(i,null,10,[h,s,n]);return}}G_(h,r,o,t)}function G_(h,e,r,t=!0){console.error(h)}let Pa=!1,cd=!1;const zr=[];let Kn=0;const wo=[];let Ui=null,gs=0;const ny=Promise.resolve();let uh=null;function iy(h){const e=uh||ny;return h?e.then(this?h.bind(this):h):e}function V_(h){let e=Kn+1,r=zr.length;for(;e<r;){const t=e+r>>>1,o=zr[t],l=La(o);l<h||l===h&&o.pre?e=t+1:r=t}return e}function ch(h){(!zr.length||!zr.includes(h,Pa&&h.allowRecurse?Kn+1:Kn))&&(h.id==null?zr.push(h):zr.splice(V_(h.id),0,h),sy())}function sy(){!Pa&&!cd&&(cd=!0,uh=ny.then(ay))}function H_(h){const e=zr.indexOf(h);e>Kn&&zr.splice(e,1)}function W_(h){_t(h)?wo.push(...h):(!Ui||!Ui.includes(h,h.allowRecurse?gs+1:gs))&&wo.push(h),sy()}function Wf(h,e,r=Pa?Kn+1:0){for(;r<zr.length;r++){const t=zr[r];if(t&&t.pre){if(h&&t.id!==h.uid)continue;zr.splice(r,1),r--,t()}}}function oy(h){if(wo.length){const e=[...new Set(wo)].sort((r,t)=>La(r)-La(t));if(wo.length=0,Ui){Ui.push(...e);return}for(Ui=e,gs=0;gs<Ui.length;gs++)Ui[gs]();Ui=null,gs=0}}const La=h=>h.id==null?1/0:h.id,q_=(h,e)=>{const r=La(h)-La(e);if(r===0){if(h.pre&&!e.pre)return-1;if(e.pre&&!h.pre)return 1}return r};function ay(h){cd=!1,Pa=!0,zr.sort(q_);try{for(Kn=0;Kn<zr.length;Kn++){const e=zr[Kn];e&&e.active!==!1&&Ki(e,null,14)}}finally{Kn=0,zr.length=0,oy(),Pa=!1,uh=null,(zr.length||wo.length)&&ay()}}function X_(h,e,...r){if(h.isUnmounted)return;const t=h.vnode.props||er;let o=r;const l=e.startsWith("update:"),s=l&&e.slice(7);if(s&&s in t){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:a}=t[f]||er;a&&(o=r.map(c=>fr(c)?c.trim():c)),m&&(o=r.map(sd))}let n,i=t[n=Qu(e)]||t[n=Qu(ti(e))];!i&&l&&(i=t[n=Qu(Vo(e))]),i&&zn(i,h,6,o);const u=t[n+"Once"];if(u){if(!h.emitted)h.emitted={};else if(h.emitted[n])return;h.emitted[n]=!0,zn(u,h,6,o)}}function ly(h,e,r=!1){const t=e.emitsCache,o=t.get(h);if(o!==void 0)return o;const l=h.emits;let s={},n=!1;if(!St(h)){const i=u=>{const f=ly(u,e,!0);f&&(n=!0,Dr(s,f))};!r&&e.mixins.length&&e.mixins.forEach(i),h.extends&&i(h.extends),h.mixins&&h.mixins.forEach(i)}return!l&&!n?(ir(h)&&t.set(h,null),null):(_t(l)?l.forEach(i=>s[i]=null):Dr(s,l),ir(h)&&t.set(h,s),s)}function Cu(h,e){return!h||!wu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ot(h,e[0].toLowerCase()+e.slice(1))||Ot(h,Vo(e))||Ot(h,e))}let Tr=null,Pu=null;function lu(h){const e=Tr;return Tr=h,Pu=h&&h.type.__scopeId||null,e}function Y_(h){Pu=h}function Z_(){Pu=null}function K_(h,e=Tr,r){if(!e||h._n)return h;const t=(...o)=>{t._d&&rp(-1);const l=lu(e);let s;try{s=h(...o)}finally{lu(l),t._d&&rp(1)}return s};return t._n=!0,t._c=!0,t._d=!0,t}function tc(h){const{type:e,vnode:r,proxy:t,withProxy:o,props:l,propsOptions:[s],slots:n,attrs:i,emit:u,render:f,renderCache:m,data:a,setupState:c,ctx:d,inheritAttrs:p}=h;let g,y;const v=lu(h);try{if(r.shapeFlag&4){const x=o||t,w=x;g=Yn(f.call(w,x,m,l,c,a,d)),y=i}else{const x=e;g=Yn(x.length>1?x(l,{attrs:i,slots:n,emit:u}):x(l,null)),y=e.props?i:J_(i)}}catch(x){ba.length=0,ju(x,h,1),g=Rr(ts)}let _=g;if(y&&p!==!1){const x=Object.keys(y),{shapeFlag:w}=_;x.length&&w&7&&(s&&x.some(Qd)&&(y=$_(y,s)),_=Co(_,y))}return r.dirs&&(_=Co(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),g=_,lu(v),g}const J_=h=>{let e;for(const r in h)(r==="class"||r==="style"||wu(r))&&((e||(e={}))[r]=h[r]);return e},$_=(h,e)=>{const r={};for(const t in h)(!Qd(t)||!(t.slice(9)in e))&&(r[t]=h[t]);return r};function Q_(h,e,r){const{props:t,children:o,component:l}=h,{props:s,children:n,patchFlag:i}=e,u=l.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&i>=0){if(i&1024)return!0;if(i&16)return t?qf(t,s,u):!!s;if(i&8){const f=e.dynamicProps;for(let m=0;m<f.length;m++){const a=f[m];if(s[a]!==t[a]&&!Cu(u,a))return!0}}}else return(o||n)&&(!n||!n.$stable)?!0:t===s?!1:t?s?qf(t,s,u):!0:!!s;return!1}function qf(h,e,r){const t=Object.keys(e);if(t.length!==Object.keys(h).length)return!0;for(let o=0;o<t.length;o++){const l=t[o];if(e[l]!==h[l]&&!Cu(r,l))return!0}return!1}function e1({vnode:h,parent:e},r){for(;e;){const t=e.subTree;if(t.suspense&&t.suspense.activeBranch===h&&(t.el=h.el),t===h)(h=e.vnode).el=r,e=e.parent;else break}}const dh="components";function t1(h,e){return cy(dh,h,!0,e)||h}const uy=Symbol.for("v-ndc");function j3(h){return fr(h)?cy(dh,h,!1)||h:h||uy}function cy(h,e,r=!0,t=!1){const o=Tr||Gr;if(o){const l=o.type;if(h===dh){const n=Y1(l,!1);if(n&&(n===e||n===ti(e)||n===Eu(ti(e))))return l}const s=Xf(o[h]||l[h],e)||Xf(o.appContext[h],e);return!s&&t?l:s}}function Xf(h,e){return h&&(h[e]||h[ti(e)]||h[Eu(ti(e))])}const r1=h=>h.__isSuspense;function n1(h,e){e&&e.pendingBranch?_t(h)?e.effects.push(...h):e.effects.push(h):W_(h)}const i1=Symbol.for("v-scx"),s1=()=>yi(i1);function C3(h,e){return hh(h,null,e)}const cl={};function Zl(h,e,r){return hh(h,e,r)}function hh(h,e,{immediate:r,deep:t,flush:o,once:l,onTrack:s,onTrigger:n}=er){if(e&&l){const E=e;e=(...T)=>{E(...T),w()}}const i=Gr,u=E=>t===!0?E:vs(E,t===!1?1:void 0);let f,m=!1,a=!1;if(an(h)?(f=()=>h.value,m=au(h)):xo(h)?(f=()=>u(h),m=!0):_t(h)?(a=!0,m=h.some(E=>xo(E)||au(E)),f=()=>h.map(E=>{if(an(E))return E.value;if(xo(E))return u(E);if(St(E))return Ki(E,i,2)})):St(h)?e?f=()=>Ki(h,i,2):f=()=>(c&&c(),zn(h,i,3,[d])):f=Sn,e&&t){const E=f;f=()=>vs(E())}let c,d=E=>{c=_.onStop=()=>{Ki(E,i,4),c=_.onStop=void 0}},p;if(Ou)if(d=Sn,e?r&&zn(e,i,3,[f(),a?[]:void 0,d]):f(),o==="sync"){const E=s1();p=E.__watcherHandles||(E.__watcherHandles=[])}else return Sn;let g=a?new Array(h.length).fill(cl):cl;const y=()=>{if(!(!_.active||!_.dirty))if(e){const E=_.run();(t||m||(a?E.some((T,M)=>es(T,g[M])):es(E,g)))&&(c&&c(),zn(e,i,3,[E,g===cl?void 0:a&&g[0]===cl?[]:g,d]),g=E)}else _.run()};y.allowRecurse=!!e;let v;o==="sync"?v=y:o==="post"?v=()=>$r(y,i&&i.suspense):(y.pre=!0,i&&(y.id=i.uid),v=()=>ch(y));const _=new rh(f,Sn,v),x=y_(),w=()=>{_.stop(),x&&eh(x.effects,_)};return e?r?y():g=_.run():o==="post"?$r(_.run.bind(_),i&&i.suspense):_.run(),p&&p.push(w),w}function o1(h,e,r){const t=this.proxy,o=fr(h)?h.includes(".")?dy(t,h):()=>t[h]:h.bind(t,t);let l;St(e)?l=e:(l=e.handler,r=e);const s=Ya(this),n=hh(o,l.bind(t),r);return s(),n}function dy(h,e){const r=e.split(".");return()=>{let t=h;for(let o=0;o<r.length&&t;o++)t=t[r[o]];return t}}function vs(h,e,r=0,t){if(!ir(h)||h.__v_skip)return h;if(e&&e>0){if(r>=e)return h;r++}if(t=t||new Set,t.has(h))return h;if(t.add(h),an(h))vs(h.value,e,r,t);else if(_t(h))for(let o=0;o<h.length;o++)vs(h[o],e,r,t);else if(Rg(h)||bo(h))h.forEach(o=>{vs(o,e,r,t)});else if(Ig(h))for(const o in h)vs(h[o],e,r,t);return h}function P3(h,e){if(Tr===null)return h;const r=Iu(Tr)||Tr.proxy,t=h.dirs||(h.dirs=[]);for(let o=0;o<e.length;o++){let[l,s,n,i=er]=e[o];l&&(St(l)&&(l={mounted:l,updated:l}),l.deep&&vs(s),t.push({dir:l,instance:r,value:s,oldValue:void 0,arg:n,modifiers:i}))}return h}function os(h,e,r,t){const o=h.dirs,l=e&&e.dirs;for(let s=0;s<o.length;s++){const n=o[s];l&&(n.oldValue=l[s].value);let i=n.dir[t];i&&(Ns(),zn(i,r,8,[h.el,n,h,e]),Us())}}/*! #__NO_SIDE_EFFECTS__ */function Ho(h,e){return St(h)?Dr({name:h.name},e,{setup:h}):h}const ya=h=>!!h.type.__asyncLoader,hy=h=>h.type.__isKeepAlive;function a1(h,e){fy(h,"a",e)}function l1(h,e){fy(h,"da",e)}function fy(h,e,r=Gr){const t=h.__wdc||(h.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return h()});if(Lu(e,t,r),r){let o=r.parent;for(;o&&o.parent;)hy(o.parent.vnode)&&u1(t,e,r,o),o=o.parent}}function u1(h,e,r,t){const o=Lu(e,h,t,!0);ph(()=>{eh(t[e],o)},r)}function Lu(h,e,r=Gr,t=!1){if(r){const o=r[h]||(r[h]=[]),l=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;Ns();const n=Ya(r),i=zn(e,r,h,s);return n(),Us(),i});return t?o.unshift(l):o.push(l),l}}const Mi=h=>(e,r=Gr)=>(!Ou||h==="sp")&&Lu(h,(...t)=>e(...t),r),c1=Mi("bm"),fh=Mi("m"),d1=Mi("bu"),h1=Mi("u"),f1=Mi("bum"),ph=Mi("um"),p1=Mi("sp"),m1=Mi("rtg"),g1=Mi("rtc");function y1(h,e=Gr){Lu("ec",h,e)}function dd(h,e,r,t){let o;const l=r&&r[t];if(_t(h)||fr(h)){o=new Array(h.length);for(let s=0,n=h.length;s<n;s++)o[s]=e(h[s],s,void 0,l&&l[s])}else if(typeof h=="number"){o=new Array(h);for(let s=0;s<h;s++)o[s]=e(s+1,s,void 0,l&&l[s])}else if(ir(h))if(h[Symbol.iterator])o=Array.from(h,(s,n)=>e(s,n,void 0,l&&l[n]));else{const s=Object.keys(h);o=new Array(s.length);for(let n=0,i=s.length;n<i;n++){const u=s[n];o[n]=e(h[u],u,n,l&&l[n])}}else o=[];return r&&(r[t]=o),o}function L3(h,e,r={},t,o){if(Tr.isCE||Tr.parent&&ya(Tr.parent)&&Tr.parent.isCE)return e!=="default"&&(r.name=e),Rr("slot",r,t&&t());let l=h[e];l&&l._c&&(l._d=!1),fn();const s=l&&py(l(r)),n=Ey(Qr,{key:r.key||s&&s.key||`_${e}`},s||(t?t():[]),s&&h._===1?64:-2);return!o&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),l&&l._c&&(l._d=!0),n}function py(h){return h.some(e=>cu(e)?!(e.type===ts||e.type===Qr&&!py(e.children)):!0)?h:null}const hd=h=>h?Ay(h)?Iu(h)||h.proxy:hd(h.parent):null,va=Dr(Object.create(null),{$:h=>h,$el:h=>h.vnode.el,$data:h=>h.data,$props:h=>h.props,$attrs:h=>h.attrs,$slots:h=>h.slots,$refs:h=>h.refs,$parent:h=>hd(h.parent),$root:h=>hd(h.root),$emit:h=>h.emit,$options:h=>mh(h),$forceUpdate:h=>h.f||(h.f=()=>{h.effect.dirty=!0,ch(h.update)}),$nextTick:h=>h.n||(h.n=iy.bind(h.proxy)),$watch:h=>o1.bind(h)}),rc=(h,e)=>h!==er&&!h.__isScriptSetup&&Ot(h,e),v1={get({_:h},e){const{ctx:r,setupState:t,data:o,props:l,accessCache:s,type:n,appContext:i}=h;let u;if(e[0]!=="$"){const c=s[e];if(c!==void 0)switch(c){case 1:return t[e];case 2:return o[e];case 4:return r[e];case 3:return l[e]}else{if(rc(t,e))return s[e]=1,t[e];if(o!==er&&Ot(o,e))return s[e]=2,o[e];if((u=h.propsOptions[0])&&Ot(u,e))return s[e]=3,l[e];if(r!==er&&Ot(r,e))return s[e]=4,r[e];fd&&(s[e]=0)}}const f=va[e];let m,a;if(f)return e==="$attrs"&&on(h,"get",e),f(h);if((m=n.__cssModules)&&(m=m[e]))return m;if(r!==er&&Ot(r,e))return s[e]=4,r[e];if(a=i.config.globalProperties,Ot(a,e))return a[e]},set({_:h},e,r){const{data:t,setupState:o,ctx:l}=h;return rc(o,e)?(o[e]=r,!0):t!==er&&Ot(t,e)?(t[e]=r,!0):Ot(h.props,e)||e[0]==="$"&&e.slice(1)in h?!1:(l[e]=r,!0)},has({_:{data:h,setupState:e,accessCache:r,ctx:t,appContext:o,propsOptions:l}},s){let n;return!!r[s]||h!==er&&Ot(h,s)||rc(e,s)||(n=l[0])&&Ot(n,s)||Ot(t,s)||Ot(va,s)||Ot(o.config.globalProperties,s)},defineProperty(h,e,r){return r.get!=null?h._.accessCache[e]=0:Ot(r,"value")&&this.set(h,e,r.value,null),Reflect.defineProperty(h,e,r)}};function Yf(h){return _t(h)?h.reduce((e,r)=>(e[r]=null,e),{}):h}let fd=!0;function _1(h){const e=mh(h),r=h.proxy,t=h.ctx;fd=!1,e.beforeCreate&&Zf(e.beforeCreate,h,"bc");const{data:o,computed:l,methods:s,watch:n,provide:i,inject:u,created:f,beforeMount:m,mounted:a,beforeUpdate:c,updated:d,activated:p,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:_,unmounted:x,render:w,renderTracked:E,renderTriggered:T,errorCaptured:M,serverPrefetch:j,expose:P,inheritAttrs:L,components:N,directives:O,filters:k}=e;if(u&&b1(u,t,null),s)for(const q in s){const H=s[q];St(H)&&(t[q]=H.bind(r))}if(o){const q=o.call(r,r);ir(q)&&(h.data=Xa(q))}if(fd=!0,l)for(const q in l){const H=l[q],z=St(H)?H.bind(r,r):St(H.get)?H.get.bind(r,r):Sn,W=!St(H)&&St(H.set)?H.set.bind(r):Sn,$=wn({get:z,set:W});Object.defineProperty(t,q,{enumerable:!0,configurable:!0,get:()=>$.value,set:se=>$.value=se})}if(n)for(const q in n)my(n[q],t,r,q);if(i){const q=St(i)?i.call(r):i;Reflect.ownKeys(q).forEach(H=>{Kl(H,q[H])})}f&&Zf(f,h,"c");function Y(q,H){_t(H)?H.forEach(z=>q(z.bind(r))):H&&q(H.bind(r))}if(Y(c1,m),Y(fh,a),Y(d1,c),Y(h1,d),Y(a1,p),Y(l1,g),Y(y1,M),Y(g1,E),Y(m1,T),Y(f1,v),Y(ph,x),Y(p1,j),_t(P))if(P.length){const q=h.exposed||(h.exposed={});P.forEach(H=>{Object.defineProperty(q,H,{get:()=>r[H],set:z=>r[H]=z})})}else h.exposed||(h.exposed={});w&&h.render===Sn&&(h.render=w),L!=null&&(h.inheritAttrs=L),N&&(h.components=N),O&&(h.directives=O)}function b1(h,e,r=Sn){_t(h)&&(h=pd(h));for(const t in h){const o=h[t];let l;ir(o)?"default"in o?l=yi(o.from||t,o.default,!0):l=yi(o.from||t):l=yi(o),an(l)?Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:s=>l.value=s}):e[t]=l}}function Zf(h,e,r){zn(_t(h)?h.map(t=>t.bind(e.proxy)):h.bind(e.proxy),e,r)}function my(h,e,r,t){const o=t.includes(".")?dy(r,t):()=>r[t];if(fr(h)){const l=e[h];St(l)&&Zl(o,l)}else if(St(h))Zl(o,h.bind(r));else if(ir(h))if(_t(h))h.forEach(l=>my(l,e,r,t));else{const l=St(h.handler)?h.handler.bind(r):e[h.handler];St(l)&&Zl(o,l,h)}}function mh(h){const e=h.type,{mixins:r,extends:t}=e,{mixins:o,optionsCache:l,config:{optionMergeStrategies:s}}=h.appContext,n=l.get(e);let i;return n?i=n:!o.length&&!r&&!t?i=e:(i={},o.length&&o.forEach(u=>uu(i,u,s,!0)),uu(i,e,s)),ir(e)&&l.set(e,i),i}function uu(h,e,r,t=!1){const{mixins:o,extends:l}=e;l&&uu(h,l,r,!0),o&&o.forEach(s=>uu(h,s,r,!0));for(const s in e)if(!(t&&s==="expose")){const n=x1[s]||r&&r[s];h[s]=n?n(h[s],e[s]):e[s]}return h}const x1={data:Kf,props:Jf,emits:Jf,methods:da,computed:da,beforeCreate:Yr,created:Yr,beforeMount:Yr,mounted:Yr,beforeUpdate:Yr,updated:Yr,beforeDestroy:Yr,beforeUnmount:Yr,destroyed:Yr,unmounted:Yr,activated:Yr,deactivated:Yr,errorCaptured:Yr,serverPrefetch:Yr,components:da,directives:da,watch:S1,provide:Kf,inject:w1};function Kf(h,e){return e?h?function(){return Dr(St(h)?h.call(this,this):h,St(e)?e.call(this,this):e)}:e:h}function w1(h,e){return da(pd(h),pd(e))}function pd(h){if(_t(h)){const e={};for(let r=0;r<h.length;r++)e[h[r]]=h[r];return e}return h}function Yr(h,e){return h?[...new Set([].concat(h,e))]:e}function da(h,e){return h?Dr(Object.create(null),h,e):e}function Jf(h,e){return h?_t(h)&&_t(e)?[...new Set([...h,...e])]:Dr(Object.create(null),Yf(h),Yf(e??{})):e}function S1(h,e){if(!h)return e;if(!e)return h;const r=Dr(Object.create(null),h);for(const t in e)r[t]=Yr(h[t],e[t]);return r}function gy(){return{app:null,config:{isNativeTag:i_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let M1=0;function E1(h,e){return function(t,o=null){St(t)||(t=Dr({},t)),o!=null&&!ir(o)&&(o=null);const l=gy(),s=new WeakSet;let n=!1;const i=l.app={_uid:M1++,_component:t,_props:o,_container:null,_context:l,_instance:null,version:K1,get config(){return l.config},set config(u){},use(u,...f){return s.has(u)||(u&&St(u.install)?(s.add(u),u.install(i,...f)):St(u)&&(s.add(u),u(i,...f))),i},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),i},component(u,f){return f?(l.components[u]=f,i):l.components[u]},directive(u,f){return f?(l.directives[u]=f,i):l.directives[u]},mount(u,f,m){if(!n){const a=Rr(t,o);return a.appContext=l,m===!0?m="svg":m===!1&&(m=void 0),f&&e?e(a,u):h(a,u,m),n=!0,i._container=u,u.__vue_app__=i,Iu(a.component)||a.component.proxy}},unmount(){n&&(h(null,i._container),delete i._container.__vue_app__)},provide(u,f){return l.provides[u]=f,i},runWithContext(u){const f=_a;_a=i;try{return u()}finally{_a=f}}};return i}}let _a=null;function Kl(h,e){if(Gr){let r=Gr.provides;const t=Gr.parent&&Gr.parent.provides;t===r&&(r=Gr.provides=Object.create(t)),r[h]=e}}function yi(h,e,r=!1){const t=Gr||Tr;if(t||_a){const o=t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:_a._context.provides;if(o&&h in o)return o[h];if(arguments.length>1)return r&&St(e)?e.call(t&&t.proxy):e}}function T1(h,e,r,t=!1){const o={},l={};ou(l,Du,1),h.propsDefaults=Object.create(null),yy(h,e,o,l);for(const s in h.propsOptions[0])s in o||(o[s]=void 0);r?h.props=t?o:N_(o):h.type.props?h.props=o:h.props=l,h.attrs=l}function A1(h,e,r,t){const{props:o,attrs:l,vnode:{patchFlag:s}}=h,n=It(o),[i]=h.propsOptions;let u=!1;if((t||s>0)&&!(s&16)){if(s&8){const f=h.vnode.dynamicProps;for(let m=0;m<f.length;m++){let a=f[m];if(Cu(h.emitsOptions,a))continue;const c=e[a];if(i)if(Ot(l,a))c!==l[a]&&(l[a]=c,u=!0);else{const d=ti(a);o[d]=md(i,n,d,c,h,!1)}else c!==l[a]&&(l[a]=c,u=!0)}}}else{yy(h,e,o,l)&&(u=!0);let f;for(const m in n)(!e||!Ot(e,m)&&((f=Vo(m))===m||!Ot(e,f)))&&(i?r&&(r[m]!==void 0||r[f]!==void 0)&&(o[m]=md(i,n,m,void 0,h,!0)):delete o[m]);if(l!==n)for(const m in l)(!e||!Ot(e,m))&&(delete l[m],u=!0)}u&&gi(h,"set","$attrs")}function yy(h,e,r,t){const[o,l]=h.propsOptions;let s=!1,n;if(e)for(let i in e){if(ga(i))continue;const u=e[i];let f;o&&Ot(o,f=ti(i))?!l||!l.includes(f)?r[f]=u:(n||(n={}))[f]=u:Cu(h.emitsOptions,i)||(!(i in t)||u!==t[i])&&(t[i]=u,s=!0)}if(l){const i=It(r),u=n||er;for(let f=0;f<l.length;f++){const m=l[f];r[m]=md(o,i,m,u[m],h,!Ot(u,m))}}return s}function md(h,e,r,t,o,l){const s=h[r];if(s!=null){const n=Ot(s,"default");if(n&&t===void 0){const i=s.default;if(s.type!==Function&&!s.skipFactory&&St(i)){const{propsDefaults:u}=o;if(r in u)t=u[r];else{const f=Ya(o);t=u[r]=i.call(null,e),f()}}else t=i}s[0]&&(l&&!n?t=!1:s[1]&&(t===""||t===Vo(r))&&(t=!0))}return t}function vy(h,e,r=!1){const t=e.propsCache,o=t.get(h);if(o)return o;const l=h.props,s={},n=[];let i=!1;if(!St(h)){const f=m=>{i=!0;const[a,c]=vy(m,e,!0);Dr(s,a),c&&n.push(...c)};!r&&e.mixins.length&&e.mixins.forEach(f),h.extends&&f(h.extends),h.mixins&&h.mixins.forEach(f)}if(!l&&!i)return ir(h)&&t.set(h,_o),_o;if(_t(l))for(let f=0;f<l.length;f++){const m=ti(l[f]);$f(m)&&(s[m]=er)}else if(l)for(const f in l){const m=ti(f);if($f(m)){const a=l[f],c=s[m]=_t(a)||St(a)?{type:a}:Dr({},a);if(c){const d=tp(Boolean,c.type),p=tp(String,c.type);c[0]=d>-1,c[1]=p<0||d<p,(d>-1||Ot(c,"default"))&&n.push(m)}}}const u=[s,n];return ir(h)&&t.set(h,u),u}function $f(h){return h[0]!=="$"&&!ga(h)}function Qf(h){return h===null?"null":typeof h=="function"?h.name||"":typeof h=="object"&&h.constructor&&h.constructor.name||""}function ep(h,e){return Qf(h)===Qf(e)}function tp(h,e){return _t(e)?e.findIndex(r=>ep(r,h)):St(e)&&ep(e,h)?0:-1}const _y=h=>h[0]==="_"||h==="$stable",gh=h=>_t(h)?h.map(Yn):[Yn(h)],j1=(h,e,r)=>{if(e._n)return e;const t=K_((...o)=>gh(e(...o)),r);return t._c=!1,t},by=(h,e,r)=>{const t=h._ctx;for(const o in h){if(_y(o))continue;const l=h[o];if(St(l))e[o]=j1(o,l,t);else if(l!=null){const s=gh(l);e[o]=()=>s}}},xy=(h,e)=>{const r=gh(e);h.slots.default=()=>r},C1=(h,e)=>{if(h.vnode.shapeFlag&32){const r=e._;r?(h.slots=It(e),ou(e,"_",r)):by(e,h.slots={})}else h.slots={},e&&xy(h,e);ou(h.slots,Du,1)},P1=(h,e,r)=>{const{vnode:t,slots:o}=h;let l=!0,s=er;if(t.shapeFlag&32){const n=e._;n?r&&n===1?l=!1:(Dr(o,e),!r&&n===1&&delete o._):(l=!e.$stable,by(e,o)),s=e}else e&&(xy(h,e),s={default:1});if(l)for(const n in o)!_y(n)&&s[n]==null&&delete o[n]};function gd(h,e,r,t,o=!1){if(_t(h)){h.forEach((a,c)=>gd(a,e&&(_t(e)?e[c]:e),r,t,o));return}if(ya(t)&&!o)return;const l=t.shapeFlag&4?Iu(t.component)||t.component.proxy:t.el,s=o?null:l,{i:n,r:i}=h,u=e&&e.r,f=n.refs===er?n.refs={}:n.refs,m=n.setupState;if(u!=null&&u!==i&&(fr(u)?(f[u]=null,Ot(m,u)&&(m[u]=null)):an(u)&&(u.value=null)),St(i))Ki(i,n,12,[s,f]);else{const a=fr(i),c=an(i);if(a||c){const d=()=>{if(h.f){const p=a?Ot(m,i)?m[i]:f[i]:i.value;o?_t(p)&&eh(p,l):_t(p)?p.includes(l)||p.push(l):a?(f[i]=[l],Ot(m,i)&&(m[i]=f[i])):(i.value=[l],h.k&&(f[h.k]=i.value))}else a?(f[i]=s,Ot(m,i)&&(m[i]=s)):c&&(i.value=s,h.k&&(f[h.k]=s))};s?(d.id=-1,$r(d,r)):d()}}}const $r=n1;function L1(h){return R1(h)}function R1(h,e){const r=kg();r.__VUE__=!0;const{insert:t,remove:o,patchProp:l,createElement:s,createText:n,createComment:i,setText:u,setElementText:f,parentNode:m,nextSibling:a,setScopeId:c=Sn,insertStaticContent:d}=h,p=(V,F,re,ae=null,he=null,de=null,Me=void 0,Se=null,je=!!F.dynamicChildren)=>{if(V===F)return;V&&!ea(V,F)&&(ae=ee(V),se(V,he,de,!0),V=null),F.patchFlag===-2&&(je=!1,F.dynamicChildren=null);const{type:J,ref:te,shapeFlag:Te}=F;switch(J){case Ru:g(V,F,re,ae);break;case ts:y(V,F,re,ae);break;case Jl:V==null&&v(F,re,ae,Me);break;case Qr:N(V,F,re,ae,he,de,Me,Se,je);break;default:Te&1?w(V,F,re,ae,he,de,Me,Se,je):Te&6?O(V,F,re,ae,he,de,Me,Se,je):(Te&64||Te&128)&&J.process(V,F,re,ae,he,de,Me,Se,je,pe)}te!=null&&he&&gd(te,V&&V.ref,de,F||V,!F)},g=(V,F,re,ae)=>{if(V==null)t(F.el=n(F.children),re,ae);else{const he=F.el=V.el;F.children!==V.children&&u(he,F.children)}},y=(V,F,re,ae)=>{V==null?t(F.el=i(F.children||""),re,ae):F.el=V.el},v=(V,F,re,ae)=>{[V.el,V.anchor]=d(V.children,F,re,ae,V.el,V.anchor)},_=({el:V,anchor:F},re,ae)=>{let he;for(;V&&V!==F;)he=a(V),t(V,re,ae),V=he;t(F,re,ae)},x=({el:V,anchor:F})=>{let re;for(;V&&V!==F;)re=a(V),o(V),V=re;o(F)},w=(V,F,re,ae,he,de,Me,Se,je)=>{F.type==="svg"?Me="svg":F.type==="math"&&(Me="mathml"),V==null?E(F,re,ae,he,de,Me,Se,je):j(V,F,he,de,Me,Se,je)},E=(V,F,re,ae,he,de,Me,Se)=>{let je,J;const{props:te,shapeFlag:Te,transition:Pe,dirs:Oe}=V;if(je=V.el=s(V.type,de,te&&te.is,te),Te&8?f(je,V.children):Te&16&&M(V.children,je,null,ae,he,nc(V,de),Me,Se),Oe&&os(V,null,ae,"created"),T(je,V,V.scopeId,Me,ae),te){for(const we in te)we!=="value"&&!ga(we)&&l(je,we,null,te[we],de,V.children,ae,he,G);"value"in te&&l(je,"value",null,te.value,de),(J=te.onVnodeBeforeMount)&&qn(J,ae,V)}Oe&&os(V,null,ae,"beforeMount");const ke=D1(he,Pe);ke&&Pe.beforeEnter(je),t(je,F,re),((J=te&&te.onVnodeMounted)||ke||Oe)&&$r(()=>{J&&qn(J,ae,V),ke&&Pe.enter(je),Oe&&os(V,null,ae,"mounted")},he)},T=(V,F,re,ae,he)=>{if(re&&c(V,re),ae)for(let de=0;de<ae.length;de++)c(V,ae[de]);if(he){let de=he.subTree;if(F===de){const Me=he.vnode;T(V,Me,Me.scopeId,Me.slotScopeIds,he.parent)}}},M=(V,F,re,ae,he,de,Me,Se,je=0)=>{for(let J=je;J<V.length;J++){const te=V[J]=Se?Fi(V[J]):Yn(V[J]);p(null,te,F,re,ae,he,de,Me,Se)}},j=(V,F,re,ae,he,de,Me)=>{const Se=F.el=V.el;let{patchFlag:je,dynamicChildren:J,dirs:te}=F;je|=V.patchFlag&16;const Te=V.props||er,Pe=F.props||er;let Oe;if(re&&as(re,!1),(Oe=Pe.onVnodeBeforeUpdate)&&qn(Oe,re,F,V),te&&os(F,V,re,"beforeUpdate"),re&&as(re,!0),J?P(V.dynamicChildren,J,Se,re,ae,nc(F,he),de):Me||H(V,F,Se,null,re,ae,nc(F,he),de,!1),je>0){if(je&16)L(Se,F,Te,Pe,re,ae,he);else if(je&2&&Te.class!==Pe.class&&l(Se,"class",null,Pe.class,he),je&4&&l(Se,"style",Te.style,Pe.style,he),je&8){const ke=F.dynamicProps;for(let we=0;we<ke.length;we++){const Le=ke[we],me=Te[Le],Q=Pe[Le];(Q!==me||Le==="value")&&l(Se,Le,me,Q,he,V.children,re,ae,G)}}je&1&&V.children!==F.children&&f(Se,F.children)}else!Me&&J==null&&L(Se,F,Te,Pe,re,ae,he);((Oe=Pe.onVnodeUpdated)||te)&&$r(()=>{Oe&&qn(Oe,re,F,V),te&&os(F,V,re,"updated")},ae)},P=(V,F,re,ae,he,de,Me)=>{for(let Se=0;Se<F.length;Se++){const je=V[Se],J=F[Se],te=je.el&&(je.type===Qr||!ea(je,J)||je.shapeFlag&70)?m(je.el):re;p(je,J,te,null,ae,he,de,Me,!0)}},L=(V,F,re,ae,he,de,Me)=>{if(re!==ae){if(re!==er)for(const Se in re)!ga(Se)&&!(Se in ae)&&l(V,Se,re[Se],null,Me,F.children,he,de,G);for(const Se in ae){if(ga(Se))continue;const je=ae[Se],J=re[Se];je!==J&&Se!=="value"&&l(V,Se,J,je,Me,F.children,he,de,G)}"value"in ae&&l(V,"value",re.value,ae.value,Me)}},N=(V,F,re,ae,he,de,Me,Se,je)=>{const J=F.el=V?V.el:n(""),te=F.anchor=V?V.anchor:n("");let{patchFlag:Te,dynamicChildren:Pe,slotScopeIds:Oe}=F;Oe&&(Se=Se?Se.concat(Oe):Oe),V==null?(t(J,re,ae),t(te,re,ae),M(F.children||[],re,te,he,de,Me,Se,je)):Te>0&&Te&64&&Pe&&V.dynamicChildren?(P(V.dynamicChildren,Pe,re,he,de,Me,Se),(F.key!=null||he&&F===he.subTree)&&wy(V,F,!0)):H(V,F,re,te,he,de,Me,Se,je)},O=(V,F,re,ae,he,de,Me,Se,je)=>{F.slotScopeIds=Se,V==null?F.shapeFlag&512?he.ctx.activate(F,re,ae,Me,je):k(F,re,ae,he,de,Me,je):X(V,F,je)},k=(V,F,re,ae,he,de,Me)=>{const Se=V.component=V1(V,ae,he);if(hy(V)&&(Se.ctx.renderer=pe),H1(Se),Se.asyncDep){if(he&&he.registerDep(Se,Y),!V.el){const je=Se.subTree=Rr(ts);y(null,je,F,re)}}else Y(Se,V,F,re,he,de,Me)},X=(V,F,re)=>{const ae=F.component=V.component;if(Q_(V,F,re))if(ae.asyncDep&&!ae.asyncResolved){q(ae,F,re);return}else ae.next=F,H_(ae.update),ae.effect.dirty=!0,ae.update();else F.el=V.el,ae.vnode=F},Y=(V,F,re,ae,he,de,Me)=>{const Se=()=>{if(V.isMounted){let{next:te,bu:Te,u:Pe,parent:Oe,vnode:ke}=V;{const ne=Sy(V);if(ne){te&&(te.el=ke.el,q(V,te,Me)),ne.asyncDep.then(()=>{V.isUnmounted||Se()});return}}let we=te,Le;as(V,!1),te?(te.el=ke.el,q(V,te,Me)):te=ke,Te&&Xl(Te),(Le=te.props&&te.props.onVnodeBeforeUpdate)&&qn(Le,Oe,te,ke),as(V,!0);const me=tc(V),Q=V.subTree;V.subTree=me,p(Q,me,m(Q.el),ee(Q),V,he,de),te.el=me.el,we===null&&e1(V,me.el),Pe&&$r(Pe,he),(Le=te.props&&te.props.onVnodeUpdated)&&$r(()=>qn(Le,Oe,te,ke),he)}else{let te;const{el:Te,props:Pe}=F,{bm:Oe,m:ke,parent:we}=V,Le=ya(F);if(as(V,!1),Oe&&Xl(Oe),!Le&&(te=Pe&&Pe.onVnodeBeforeMount)&&qn(te,we,F),as(V,!0),Te&&ie){const me=()=>{V.subTree=tc(V),ie(Te,V.subTree,V,he,null)};Le?F.type.__asyncLoader().then(()=>!V.isUnmounted&&me()):me()}else{const me=V.subTree=tc(V);p(null,me,re,ae,V,he,de),F.el=me.el}if(ke&&$r(ke,he),!Le&&(te=Pe&&Pe.onVnodeMounted)){const me=F;$r(()=>qn(te,we,me),he)}(F.shapeFlag&256||we&&ya(we.vnode)&&we.vnode.shapeFlag&256)&&V.a&&$r(V.a,he),V.isMounted=!0,F=re=ae=null}},je=V.effect=new rh(Se,Sn,()=>ch(J),V.scope),J=V.update=()=>{je.dirty&&je.run()};J.id=V.uid,as(V,!0),J()},q=(V,F,re)=>{F.component=V;const ae=V.vnode.props;V.vnode=F,V.next=null,A1(V,F.props,ae,re),P1(V,F.children,re),Ns(),Wf(V),Us()},H=(V,F,re,ae,he,de,Me,Se,je=!1)=>{const J=V&&V.children,te=V?V.shapeFlag:0,Te=F.children,{patchFlag:Pe,shapeFlag:Oe}=F;if(Pe>0){if(Pe&128){W(J,Te,re,ae,he,de,Me,Se,je);return}else if(Pe&256){z(J,Te,re,ae,he,de,Me,Se,je);return}}Oe&8?(te&16&&G(J,he,de),Te!==J&&f(re,Te)):te&16?Oe&16?W(J,Te,re,ae,he,de,Me,Se,je):G(J,he,de,!0):(te&8&&f(re,""),Oe&16&&M(Te,re,ae,he,de,Me,Se,je))},z=(V,F,re,ae,he,de,Me,Se,je)=>{V=V||_o,F=F||_o;const J=V.length,te=F.length,Te=Math.min(J,te);let Pe;for(Pe=0;Pe<Te;Pe++){const Oe=F[Pe]=je?Fi(F[Pe]):Yn(F[Pe]);p(V[Pe],Oe,re,null,he,de,Me,Se,je)}J>te?G(V,he,de,!0,!1,Te):M(F,re,ae,he,de,Me,Se,je,Te)},W=(V,F,re,ae,he,de,Me,Se,je)=>{let J=0;const te=F.length;let Te=V.length-1,Pe=te-1;for(;J<=Te&&J<=Pe;){const Oe=V[J],ke=F[J]=je?Fi(F[J]):Yn(F[J]);if(ea(Oe,ke))p(Oe,ke,re,null,he,de,Me,Se,je);else break;J++}for(;J<=Te&&J<=Pe;){const Oe=V[Te],ke=F[Pe]=je?Fi(F[Pe]):Yn(F[Pe]);if(ea(Oe,ke))p(Oe,ke,re,null,he,de,Me,Se,je);else break;Te--,Pe--}if(J>Te){if(J<=Pe){const Oe=Pe+1,ke=Oe<te?F[Oe].el:ae;for(;J<=Pe;)p(null,F[J]=je?Fi(F[J]):Yn(F[J]),re,ke,he,de,Me,Se,je),J++}}else if(J>Pe)for(;J<=Te;)se(V[J],he,de,!0),J++;else{const Oe=J,ke=J,we=new Map;for(J=ke;J<=Pe;J++){const Ce=F[J]=je?Fi(F[J]):Yn(F[J]);Ce.key!=null&&we.set(Ce.key,J)}let Le,me=0;const Q=Pe-ke+1;let ne=!1,K=0;const oe=new Array(Q);for(J=0;J<Q;J++)oe[J]=0;for(J=Oe;J<=Te;J++){const Ce=V[J];if(me>=Q){se(Ce,he,de,!0);continue}let Ne;if(Ce.key!=null)Ne=we.get(Ce.key);else for(Le=ke;Le<=Pe;Le++)if(oe[Le-ke]===0&&ea(Ce,F[Le])){Ne=Le;break}Ne===void 0?se(Ce,he,de,!0):(oe[Ne-ke]=J+1,Ne>=K?K=Ne:ne=!0,p(Ce,F[Ne],re,null,he,de,Me,Se,je),me++)}const xe=ne?O1(oe):_o;for(Le=xe.length-1,J=Q-1;J>=0;J--){const Ce=ke+J,Ne=F[Ce],Ze=Ce+1<te?F[Ce+1].el:ae;oe[J]===0?p(null,Ne,re,Ze,he,de,Me,Se,je):ne&&(Le<0||J!==xe[Le]?$(Ne,re,Ze,2):Le--)}}},$=(V,F,re,ae,he=null)=>{const{el:de,type:Me,transition:Se,children:je,shapeFlag:J}=V;if(J&6){$(V.component.subTree,F,re,ae);return}if(J&128){V.suspense.move(F,re,ae);return}if(J&64){Me.move(V,F,re,pe);return}if(Me===Qr){t(de,F,re);for(let Te=0;Te<je.length;Te++)$(je[Te],F,re,ae);t(V.anchor,F,re);return}if(Me===Jl){_(V,F,re);return}if(ae!==2&&J&1&&Se)if(ae===0)Se.beforeEnter(de),t(de,F,re),$r(()=>Se.enter(de),he);else{const{leave:Te,delayLeave:Pe,afterLeave:Oe}=Se,ke=()=>t(de,F,re),we=()=>{Te(de,()=>{ke(),Oe&&Oe()})};Pe?Pe(de,ke,we):we()}else t(de,F,re)},se=(V,F,re,ae=!1,he=!1)=>{const{type:de,props:Me,ref:Se,children:je,dynamicChildren:J,shapeFlag:te,patchFlag:Te,dirs:Pe}=V;if(Se!=null&&gd(Se,null,re,V,!0),te&256){F.ctx.deactivate(V);return}const Oe=te&1&&Pe,ke=!ya(V);let we;if(ke&&(we=Me&&Me.onVnodeBeforeUnmount)&&qn(we,F,V),te&6)U(V.component,re,ae);else{if(te&128){V.suspense.unmount(re,ae);return}Oe&&os(V,null,F,"beforeUnmount"),te&64?V.type.remove(V,F,re,he,pe,ae):J&&(de!==Qr||Te>0&&Te&64)?G(J,F,re,!1,!0):(de===Qr&&Te&384||!he&&te&16)&&G(je,F,re),ae&&R(V)}(ke&&(we=Me&&Me.onVnodeUnmounted)||Oe)&&$r(()=>{we&&qn(we,F,V),Oe&&os(V,null,F,"unmounted")},re)},R=V=>{const{type:F,el:re,anchor:ae,transition:he}=V;if(F===Qr){I(re,ae);return}if(F===Jl){x(V);return}const de=()=>{o(re),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(V.shapeFlag&1&&he&&!he.persisted){const{leave:Me,delayLeave:Se}=he,je=()=>Me(re,de);Se?Se(V.el,de,je):je()}else de()},I=(V,F)=>{let re;for(;V!==F;)re=a(V),o(V),V=re;o(F)},U=(V,F,re)=>{const{bum:ae,scope:he,update:de,subTree:Me,um:Se}=V;ae&&Xl(ae),he.stop(),de&&(de.active=!1,se(Me,V,F,re)),Se&&$r(Se,F),$r(()=>{V.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},G=(V,F,re,ae=!1,he=!1,de=0)=>{for(let Me=de;Me<V.length;Me++)se(V[Me],F,re,ae,he)},ee=V=>V.shapeFlag&6?ee(V.component.subTree):V.shapeFlag&128?V.suspense.next():a(V.anchor||V.el);let ue=!1;const fe=(V,F,re)=>{V==null?F._vnode&&se(F._vnode,null,null,!0):p(F._vnode||null,V,F,null,null,null,re),ue||(ue=!0,Wf(),oy(),ue=!1),F._vnode=V},pe={p,um:se,m:$,r:R,mt:k,mc:M,pc:H,pbc:P,n:ee,o:h};let ce,ie;return e&&([ce,ie]=e(pe)),{render:fe,hydrate:ce,createApp:E1(fe,ce)}}function nc({type:h,props:e},r){return r==="svg"&&h==="foreignObject"||r==="mathml"&&h==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function as({effect:h,update:e},r){h.allowRecurse=e.allowRecurse=r}function D1(h,e){return(!h||h&&!h.pendingBranch)&&e&&!e.persisted}function wy(h,e,r=!1){const t=h.children,o=e.children;if(_t(t)&&_t(o))for(let l=0;l<t.length;l++){const s=t[l];let n=o[l];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=o[l]=Fi(o[l]),n.el=s.el),r||wy(s,n)),n.type===Ru&&(n.el=s.el)}}function O1(h){const e=h.slice(),r=[0];let t,o,l,s,n;const i=h.length;for(t=0;t<i;t++){const u=h[t];if(u!==0){if(o=r[r.length-1],h[o]<u){e[t]=o,r.push(t);continue}for(l=0,s=r.length-1;l<s;)n=l+s>>1,h[r[n]]<u?l=n+1:s=n;u<h[r[l]]&&(l>0&&(e[t]=r[l-1]),r[l]=t)}}for(l=r.length,s=r[l-1];l-- >0;)r[l]=s,s=e[s];return r}function Sy(h){const e=h.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sy(e)}const I1=h=>h.__isTeleport,Qr=Symbol.for("v-fgt"),Ru=Symbol.for("v-txt"),ts=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),ba=[];let Fn=null;function fn(h=!1){ba.push(Fn=h?null:[])}function k1(){ba.pop(),Fn=ba[ba.length-1]||null}let Ra=1;function rp(h){Ra+=h}function My(h){return h.dynamicChildren=Ra>0?Fn||_o:null,k1(),Ra>0&&Fn&&Fn.push(h),h}function kn(h,e,r,t,o,l){return My(en(h,e,r,t,o,l,!0))}function Ey(h,e,r,t,o){return My(Rr(h,e,r,t,o,!0))}function cu(h){return h?h.__v_isVNode===!0:!1}function ea(h,e){return h.type===e.type&&h.key===e.key}const Du="__vInternal",Ty=({key:h})=>h??null,$l=({ref:h,ref_key:e,ref_for:r})=>(typeof h=="number"&&(h=""+h),h!=null?fr(h)||an(h)||St(h)?{i:Tr,r:h,k:e,f:!!r}:h:null);function en(h,e=null,r=null,t=0,o=null,l=h===Qr?0:1,s=!1,n=!1){const i={__v_isVNode:!0,__v_skip:!0,type:h,props:e,key:e&&Ty(e),ref:e&&$l(e),scopeId:Pu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:t,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Tr};return n?(yh(i,r),l&128&&h.normalize(i)):r&&(i.shapeFlag|=fr(r)?8:16),Ra>0&&!s&&Fn&&(i.patchFlag>0||l&6)&&i.patchFlag!==32&&Fn.push(i),i}const Rr=N1;function N1(h,e=null,r=null,t=0,o=null,l=!1){if((!h||h===uy)&&(h=ts),cu(h)){const n=Co(h,e,!0);return r&&yh(n,r),Ra>0&&!l&&Fn&&(n.shapeFlag&6?Fn[Fn.indexOf(h)]=n:Fn.push(n)),n.patchFlag|=-2,n}if(Z1(h)&&(h=h.__vccOpts),e){e=U1(e);let{class:n,style:i}=e;n&&!fr(n)&&(e.class=Tu(n)),ir(i)&&(Jg(i)&&!_t(i)&&(i=Dr({},i)),e.style=qa(i))}const s=fr(h)?1:r1(h)?128:I1(h)?64:ir(h)?4:St(h)?2:0;return en(h,e,r,t,o,s,l,!0)}function U1(h){return h?Jg(h)||Du in h?Dr({},h):h:null}function Co(h,e,r=!1){const{props:t,ref:o,patchFlag:l,children:s}=h,n=e?B1(t||{},e):t;return{__v_isVNode:!0,__v_skip:!0,type:h.type,props:n,key:n&&Ty(n),ref:e&&e.ref?r&&o?_t(o)?o.concat($l(e)):[o,$l(e)]:$l(e):o,scopeId:h.scopeId,slotScopeIds:h.slotScopeIds,children:s,target:h.target,targetAnchor:h.targetAnchor,staticCount:h.staticCount,shapeFlag:h.shapeFlag,patchFlag:e&&h.type!==Qr?l===-1?16:l|16:l,dynamicProps:h.dynamicProps,dynamicChildren:h.dynamicChildren,appContext:h.appContext,dirs:h.dirs,transition:h.transition,component:h.component,suspense:h.suspense,ssContent:h.ssContent&&Co(h.ssContent),ssFallback:h.ssFallback&&Co(h.ssFallback),el:h.el,anchor:h.anchor,ctx:h.ctx,ce:h.ce}}function F1(h=" ",e=0){return Rr(Ru,null,h,e)}function R3(h,e){const r=Rr(Jl,null,h);return r.staticCount=e,r}function D3(h="",e=!1){return e?(fn(),Ey(ts,null,h)):Rr(ts,null,h)}function Yn(h){return h==null||typeof h=="boolean"?Rr(ts):_t(h)?Rr(Qr,null,h.slice()):typeof h=="object"?Fi(h):Rr(Ru,null,String(h))}function Fi(h){return h.el===null&&h.patchFlag!==-1||h.memo?h:Co(h)}function yh(h,e){let r=0;const{shapeFlag:t}=h;if(e==null)e=null;else if(_t(e))r=16;else if(typeof e=="object")if(t&65){const o=e.default;o&&(o._c&&(o._d=!1),yh(h,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(Du in e)?e._ctx=Tr:o===3&&Tr&&(Tr.slots._===1?e._=1:(e._=2,h.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:Tr},r=32):(e=String(e),t&64?(r=16,e=[F1(e)]):r=8);h.children=e,h.shapeFlag|=r}function B1(...h){const e={};for(let r=0;r<h.length;r++){const t=h[r];for(const o in t)if(o==="class")e.class!==t.class&&(e.class=Tu([e.class,t.class]));else if(o==="style")e.style=qa([e.style,t.style]);else if(wu(o)){const l=e[o],s=t[o];s&&l!==s&&!(_t(l)&&l.includes(s))&&(e[o]=l?[].concat(l,s):s)}else o!==""&&(e[o]=t[o])}return e}function qn(h,e,r,t=null){zn(h,e,7,[r,t])}const z1=gy();let G1=0;function V1(h,e,r){const t=h.type,o=(e?e.appContext:h.appContext)||z1,l={uid:G1++,vnode:h,type:t,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new m_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vy(t,o),emitsOptions:ly(t,o),emit:null,emitted:null,propsDefaults:er,inheritAttrs:t.inheritAttrs,ctx:er,data:er,props:er,attrs:er,slots:er,refs:er,setupState:er,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=X_.bind(null,l),h.ce&&h.ce(l),l}let Gr=null,du,yd;{const h=kg(),e=(r,t)=>{let o;return(o=h[r])||(o=h[r]=[]),o.push(t),l=>{o.length>1?o.forEach(s=>s(l)):o[0](l)}};du=e("__VUE_INSTANCE_SETTERS__",r=>Gr=r),yd=e("__VUE_SSR_SETTERS__",r=>Ou=r)}const Ya=h=>{const e=Gr;return du(h),h.scope.on(),()=>{h.scope.off(),du(e)}},np=()=>{Gr&&Gr.scope.off(),du(null)};function Ay(h){return h.vnode.shapeFlag&4}let Ou=!1;function H1(h,e=!1){e&&yd(e);const{props:r,children:t}=h.vnode,o=Ay(h);T1(h,r,o,e),C1(h,t);const l=o?W1(h,e):void 0;return e&&yd(!1),l}function W1(h,e){const r=h.type;h.accessCache=Object.create(null),h.proxy=$g(new Proxy(h.ctx,v1));const{setup:t}=r;if(t){const o=h.setupContext=t.length>1?X1(h):null,l=Ya(h);Ns();const s=Ki(t,h,0,[h.props,o]);if(Us(),l(),Dg(s)){if(s.then(np,np),e)return s.then(n=>{ip(h,n,e)}).catch(n=>{ju(n,h,0)});h.asyncDep=s}else ip(h,s,e)}else jy(h,e)}function ip(h,e,r){St(e)?h.type.__ssrInlineRender?h.ssrRender=e:h.render=e:ir(e)&&(h.setupState=ry(e)),jy(h,r)}let sp;function jy(h,e,r){const t=h.type;if(!h.render){if(!e&&sp&&!t.render){const o=t.template||mh(h).template;if(o){const{isCustomElement:l,compilerOptions:s}=h.appContext.config,{delimiters:n,compilerOptions:i}=t,u=Dr(Dr({isCustomElement:l,delimiters:n},s),i);t.render=sp(o,u)}}h.render=t.render||Sn}{const o=Ya(h);Ns();try{_1(h)}finally{Us(),o()}}}function q1(h){return h.attrsProxy||(h.attrsProxy=new Proxy(h.attrs,{get(e,r){return on(h,"get","$attrs"),e[r]}}))}function X1(h){const e=r=>{h.exposed=r||{}};return{get attrs(){return q1(h)},slots:h.slots,emit:h.emit,expose:e}}function Iu(h){if(h.exposed)return h.exposeProxy||(h.exposeProxy=new Proxy(ry($g(h.exposed)),{get(e,r){if(r in e)return e[r];if(r in va)return va[r](h)},has(e,r){return r in e||r in va}}))}function Y1(h,e=!0){return St(h)?h.displayName||h.name:h.name||e&&h.__name}function Z1(h){return St(h)&&"__vccOpts"in h}const wn=(h,e)=>U_(h,e,Ou);function Cy(h,e,r){const t=arguments.length;return t===2?ir(e)&&!_t(e)?cu(e)?Rr(h,null,[e]):Rr(h,e):Rr(h,null,e):(t>3?r=Array.prototype.slice.call(arguments,2):t===3&&cu(r)&&(r=[r]),Rr(h,e,r))}const K1="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const J1="http://www.w3.org/2000/svg",$1="http://www.w3.org/1998/Math/MathML",Bi=typeof document<"u"?document:null,op=Bi&&Bi.createElement("template"),Q1={insert:(h,e,r)=>{e.insertBefore(h,r||null)},remove:h=>{const e=h.parentNode;e&&e.removeChild(h)},createElement:(h,e,r,t)=>{const o=e==="svg"?Bi.createElementNS(J1,h):e==="mathml"?Bi.createElementNS($1,h):Bi.createElement(h,r?{is:r}:void 0);return h==="select"&&t&&t.multiple!=null&&o.setAttribute("multiple",t.multiple),o},createText:h=>Bi.createTextNode(h),createComment:h=>Bi.createComment(h),setText:(h,e)=>{h.nodeValue=e},setElementText:(h,e)=>{h.textContent=e},parentNode:h=>h.parentNode,nextSibling:h=>h.nextSibling,querySelector:h=>Bi.querySelector(h),setScopeId(h,e){h.setAttribute(e,"")},insertStaticContent(h,e,r,t,o,l){const s=r?r.previousSibling:e.lastChild;if(o&&(o===l||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===l||!(o=o.nextSibling)););else{op.innerHTML=t==="svg"?`<svg>${h}</svg>`:t==="mathml"?`<math>${h}</math>`:h;const n=op.content;if(t==="svg"||t==="mathml"){const i=n.firstChild;for(;i.firstChild;)n.appendChild(i.firstChild);n.removeChild(i)}e.insertBefore(n,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},eb=Symbol("_vtc");function tb(h,e,r){const t=h[eb];t&&(e=(e?[e,...t]:[...t]).join(" ")),e==null?h.removeAttribute("class"):r?h.setAttribute("class",e):h.className=e}const hu=Symbol("_vod"),Py=Symbol("_vsh"),O3={beforeMount(h,{value:e},{transition:r}){h[hu]=h.style.display==="none"?"":h.style.display,r&&e?r.beforeEnter(h):ta(h,e)},mounted(h,{value:e},{transition:r}){r&&e&&r.enter(h)},updated(h,{value:e,oldValue:r},{transition:t}){!e!=!r&&(t?e?(t.beforeEnter(h),ta(h,!0),t.enter(h)):t.leave(h,()=>{ta(h,!1)}):ta(h,e))},beforeUnmount(h,{value:e}){ta(h,e)}};function ta(h,e){h.style.display=e?h[hu]:"none",h[Py]=!e}const rb=Symbol(""),nb=/(^|;)\s*display\s*:/;function ib(h,e,r){const t=h.style,o=fr(r);let l=!1;if(r&&!o){if(e)if(fr(e))for(const s of e.split(";")){const n=s.slice(0,s.indexOf(":")).trim();r[n]==null&&Ql(t,n,"")}else for(const s in e)r[s]==null&&Ql(t,s,"");for(const s in r)s==="display"&&(l=!0),Ql(t,s,r[s])}else if(o){if(e!==r){const s=t[rb];s&&(r+=";"+s),t.cssText=r,l=nb.test(r)}}else e&&h.removeAttribute("style");hu in h&&(h[hu]=l?t.display:"",h[Py]&&(t.display="none"))}const ap=/\s*!important$/;function Ql(h,e,r){if(_t(r))r.forEach(t=>Ql(h,e,t));else if(r==null&&(r=""),e.startsWith("--"))h.setProperty(e,r);else{const t=sb(h,e);ap.test(r)?h.setProperty(Vo(t),r.replace(ap,""),"important"):h[t]=r}}const lp=["Webkit","Moz","ms"],ic={};function sb(h,e){const r=ic[e];if(r)return r;let t=ti(e);if(t!=="filter"&&t in h)return ic[e]=t;t=Eu(t);for(let o=0;o<lp.length;o++){const l=lp[o]+t;if(l in h)return ic[e]=l}return e}const up="http://www.w3.org/1999/xlink";function ob(h,e,r,t,o){if(t&&e.startsWith("xlink:"))r==null?h.removeAttributeNS(up,e.slice(6,e.length)):h.setAttributeNS(up,e,r);else{const l=p_(e);r==null||l&&!Ng(r)?h.removeAttribute(e):h.setAttribute(e,l?"":r)}}function ab(h,e,r,t,o,l,s){if(e==="innerHTML"||e==="textContent"){t&&s(t,o,l),h[e]=r??"";return}const n=h.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const u=n==="OPTION"?h.getAttribute("value")||"":h.value,f=r??"";(u!==f||!("_value"in h))&&(h.value=f),r==null&&h.removeAttribute(e),h._value=r;return}let i=!1;if(r===""||r==null){const u=typeof h[e];u==="boolean"?r=Ng(r):r==null&&u==="string"?(r="",i=!0):u==="number"&&(r=0,i=!0)}try{h[e]=r}catch{}i&&h.removeAttribute(e)}function co(h,e,r,t){h.addEventListener(e,r,t)}function lb(h,e,r,t){h.removeEventListener(e,r,t)}const cp=Symbol("_vei");function ub(h,e,r,t,o=null){const l=h[cp]||(h[cp]={}),s=l[e];if(t&&s)s.value=t;else{const[n,i]=cb(e);if(t){const u=l[e]=fb(t,o);co(h,n,u,i)}else s&&(lb(h,n,s,i),l[e]=void 0)}}const dp=/(?:Once|Passive|Capture)$/;function cb(h){let e;if(dp.test(h)){e={};let t;for(;t=h.match(dp);)h=h.slice(0,h.length-t[0].length),e[t[0].toLowerCase()]=!0}return[h[2]===":"?h.slice(3):Vo(h.slice(2)),e]}let sc=0;const db=Promise.resolve(),hb=()=>sc||(db.then(()=>sc=0),sc=Date.now());function fb(h,e){const r=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=r.attached)return;zn(pb(t,r.value),e,5,[t])};return r.value=h,r.attached=hb(),r}function pb(h,e){if(_t(e)){const r=h.stopImmediatePropagation;return h.stopImmediatePropagation=()=>{r.call(h),h._stopped=!0},e.map(t=>o=>!o._stopped&&t&&t(o))}else return e}const hp=h=>h.charCodeAt(0)===111&&h.charCodeAt(1)===110&&h.charCodeAt(2)>96&&h.charCodeAt(2)<123,mb=(h,e,r,t,o,l,s,n,i)=>{const u=o==="svg";e==="class"?tb(h,t,u):e==="style"?ib(h,r,t):wu(e)?Qd(e)||ub(h,e,r,t,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gb(h,e,t,u))?ab(h,e,t,l,s,n,i):(e==="true-value"?h._trueValue=t:e==="false-value"&&(h._falseValue=t),ob(h,e,t,u))};function gb(h,e,r,t){if(t)return!!(e==="innerHTML"||e==="textContent"||e in h&&hp(e)&&St(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&h.tagName==="INPUT"||e==="type"&&h.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=h.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return hp(e)&&fr(r)?!1:e in h}const fp=h=>{const e=h.props["onUpdate:modelValue"]||!1;return _t(e)?r=>Xl(e,r):e};function yb(h){h.target.composing=!0}function pp(h){const e=h.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const oc=Symbol("_assign"),I3={created(h,{modifiers:{lazy:e,trim:r,number:t}},o){h[oc]=fp(o);const l=t||o.props&&o.props.type==="number";co(h,e?"change":"input",s=>{if(s.target.composing)return;let n=h.value;r&&(n=n.trim()),l&&(n=sd(n)),h[oc](n)}),r&&co(h,"change",()=>{h.value=h.value.trim()}),e||(co(h,"compositionstart",yb),co(h,"compositionend",pp),co(h,"change",pp))},mounted(h,{value:e}){h.value=e??""},beforeUpdate(h,{value:e,modifiers:{lazy:r,trim:t,number:o}},l){if(h[oc]=fp(l),h.composing)return;const s=o||h.type==="number"?sd(h.value):h.value,n=e??"";s!==n&&(document.activeElement===h&&h.type!=="range"&&(r||t&&h.value.trim()===n)||(h.value=n))}},vb=Dr({patchProp:mb},Q1);let mp;function _b(){return mp||(mp=L1(vb))}const bb=(...h)=>{const e=_b().createApp(...h),{mount:r}=e;return e.mount=t=>{const o=wb(t);if(!o)return;const l=e._component;!St(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.innerHTML="";const s=r(o,!1,xb(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function xb(h){if(h instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&h instanceof MathMLElement)return"mathml"}function wb(h){return fr(h)?document.querySelector(h):h}const Sb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFC0lEQVR4nN3agVHbSBiG4W8riK6CiAoiKoioIKaCkyvAqeDkCmIqiKggTgVZKkBUgKjgRAXcuywKxpHtXdmAuHfmkZkBa+R/ZVkwGL1tGVw13qTXGECGL3CPyaMMfdVoH9X4Cff4Yr3UANwLziVNkGq/GklLWPmBHDSDQ5VK+gcTJHiJWiwxR6MDZLBvCc5Q6nUrJZ2jxeD2GUAC98JnSPAWtVhg8CCGDiCX9B2pxlEjaQqryAxic6u+wBibolJEBjG5VS807ir5QQRlEFKCX8jwHqpxghZbM9hVgvf04rtqnKDFxgx25V58rveZlR/Cxgy29R2F3neVtlwTDDZVyA/g/9AUlXoy6CvDFXb1FxKk8rfAzke8ZHdYwsp//if4gV0do8azDPq6QartXSLXn00ww2ccsluU6l/JGp+wrUbSEZ5lsF6hsFN/jlKby+UP9iNc13AH2ugpK1+GBC73mOEzXHcotf3my33vDLuaotJKBqsluEKq3Z1iiW0lyGA1LPfcFo22Vyhs0RqtnQUGq5Xyv9KGdAKrcZTLf1yHNEepxwy6EtzAPYZ0AqtxlCt8AC2O4B6fDaBU+Oq7TmA1jnKFD8A1Ryky6HLv/QyhzVFqHJWKW7wax/g9gFT+9I/pJyYYQ0t8QUxHaAwb1wzfENMxaoyhDFbSB4T2FYtuAFdwOwnt4ckYUzN8Q2g1jt0AEvyL0G6Rapw1errxCunIsCkUdhPRNUepcVYo7rWcGjal4q6gR2g03u4R2tywKRU+gGtkGHNLfEFIDwOwevrFY1fnmGHMlQpf0MvYAcxRatwVCr8OPAzgBqnCmqPUuMsVflvcGjb3CG2OUuMuV/gAZHCP0OYoNe4Khb8FHgbQKPzmYY5S465U+EXw1rCxCr8IXiLXuKsk/Y2QLg0bq/ABuNxzxtwNUoU1aACnWGKMZbhCaBduAKXC3zMuK//XoDFWKfz0d80Nm1wRHxuPncBqXKXyp39MJ4aN6x4x1TjGmPqFXHGZbgBWcdcB1zlmGEOl4t7Grkvkho1rgTPENkWlt61QxI3PSnOUho0rVfz7p6uSH8Rb5BbNLd6QjtAYNl1W8W+DrhpTuMfXKJVf9VzDukQuMugq5He63jUq+XJt/2NDJX9teKlBpPKrPsM+nWIJGazW4gNWW8I9oWuCSn/+3Go1KvlJu6/3KcNnTJBr/26R6jGD1Ur1X01rTOEeXRmstg+hq4UboFVcufw/PiQ4ZF+xwEMG69X4hPVanMLKN8EP7Oon3M8Oycqv/qG6Robf9Q0gl7+p6KvFMRr5FjjDpu6Qyj9vSKn8gnzAITqG29/vDPqqtPme+isW6HJfn6GvCxTar237j+kcMzzLoK8Ejfon38h/hq42QSF/9nTPuUahtYkPaIIf2Kc7pOo5Ew02lcHq6QWtdoolXqNUw2/SXHfItWEhDLZVqP/eoMUJarxGLfoWIqRTLNGbwa5K9X80tnA7t3r5rIZ9GkxRaUsGIVXafFG08t+/RKOXySp+ABcotCOD0Gb4hphi9r8tq7gBTFEpIIOYCvVfEzYVu/9NWYUN4A5uoSoFNuQAMyzxEbsasv++rHYP4BYT1AjOYEgJSu2+QRm6//Wstg/gHKX8hTmqfQ8wl79T+4S+9t1/l1X/AK5RKHLVVzvUARby1g/yUPu3er5v98IXqLRnhzrArlx+EH/DHWSGQ7TEF1ygkh/IQTJ4DyWPGh24/wALgxPtjCtEEQAAAABJRU5ErkJggg==",vh=(h,e)=>{const r=h.__vccOpts||h;for(const[t,o]of e)r[t]=o;return r},Mb={},Eb=h=>(Y_("data-v-fc931a84"),h=h(),Z_(),h),Tb={class:"relative w-full h-full overflow-hidden"},Ab=Eb(()=>en("div",{class:"github absolute bottom-0 right-0 z-900 w-200px h-40px bg-#fff flex justify-center items-center"},[en("a",{class:"flex items-center",href:"https://github.com/YuFengjie97/nova",target:"_blank"},[en("img",{src:Sb,class:"w-36px h-36px m-l-4px",alt:""})])],-1));function jb(h,e){const r=t1("router-view");return fn(),kn("div",Tb,[Ab,Rr(r)])}const Fs=vh(Mb,[["render",jb],["__scopeId","data-v-fc931a84"]]);/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ho=typeof window<"u";function Cb(h){return h.__esModule||h[Symbol.toStringTag]==="Module"}const Ut=Object.assign;function ac(h,e){const r={};for(const t in e){const o=e[t];r[t]=Gn(o)?o.map(h):h(o)}return r}const xa=()=>{},Gn=Array.isArray,Pb=/\/$/,Lb=h=>h.replace(Pb,"");function lc(h,e,r="/"){let t,o={},l="",s="";const n=e.indexOf("#");let i=e.indexOf("?");return n<i&&n>=0&&(i=-1),i>-1&&(t=e.slice(0,i),l=e.slice(i+1,n>-1?n:e.length),o=h(l)),n>-1&&(t=t||e.slice(0,n),s=e.slice(n,e.length)),t=Ib(t??e,r),{fullPath:t+(l&&"?")+l+s,path:t,query:o,hash:s}}function Rb(h,e){const r=e.query?h(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function gp(h,e){return!e||!h.toLowerCase().startsWith(e.toLowerCase())?h:h.slice(e.length)||"/"}function Db(h,e,r){const t=e.matched.length-1,o=r.matched.length-1;return t>-1&&t===o&&Po(e.matched[t],r.matched[o])&&Ly(e.params,r.params)&&h(e.query)===h(r.query)&&e.hash===r.hash}function Po(h,e){return(h.aliasOf||h)===(e.aliasOf||e)}function Ly(h,e){if(Object.keys(h).length!==Object.keys(e).length)return!1;for(const r in h)if(!Ob(h[r],e[r]))return!1;return!0}function Ob(h,e){return Gn(h)?yp(h,e):Gn(e)?yp(e,h):h===e}function yp(h,e){return Gn(e)?h.length===e.length&&h.every((r,t)=>r===e[t]):h.length===1&&h[0]===e}function Ib(h,e){if(h.startsWith("/"))return h;if(!h)return e;const r=e.split("/"),t=h.split("/");let o=r.length-1,l,s;for(l=0;l<t.length;l++)if(s=t[l],s!==".")if(s==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+t.slice(l-(l===t.length?1:0)).join("/")}var Da;(function(h){h.pop="pop",h.push="push"})(Da||(Da={}));var wa;(function(h){h.back="back",h.forward="forward",h.unknown=""})(wa||(wa={}));function kb(h){if(!h)if(ho){const e=document.querySelector("base");h=e&&e.getAttribute("href")||"/",h=h.replace(/^\w+:\/\/[^\/]+/,"")}else h="/";return h[0]!=="/"&&h[0]!=="#"&&(h="/"+h),Lb(h)}const Nb=/^[^#]+#/;function Ub(h,e){return h.replace(Nb,"#")+e}function Fb(h,e){const r=document.documentElement.getBoundingClientRect(),t=h.getBoundingClientRect();return{behavior:e.behavior,left:t.left-r.left-(e.left||0),top:t.top-r.top-(e.top||0)}}const ku=()=>({left:window.pageXOffset,top:window.pageYOffset});function Bb(h){let e;if("el"in h){const r=h.el,t=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?t?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=Fb(o,h)}else e=h;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function vp(h,e){return(history.state?history.state.position-e:-1)+h}const vd=new Map;function zb(h,e){vd.set(h,e)}function Gb(h){const e=vd.get(h);return vd.delete(h),e}let Vb=()=>location.protocol+"//"+location.host;function Ry(h,e){const{pathname:r,search:t,hash:o}=e,l=h.indexOf("#");if(l>-1){let n=o.includes(h.slice(l))?h.slice(l).length:1,i=o.slice(n);return i[0]!=="/"&&(i="/"+i),gp(i,"")}return gp(r,h)+t+o}function Hb(h,e,r,t){let o=[],l=[],s=null;const n=({state:a})=>{const c=Ry(h,location),d=r.value,p=e.value;let g=0;if(a){if(r.value=c,e.value=a,s&&s===d){s=null;return}g=p?a.position-p.position:0}else t(c);o.forEach(y=>{y(r.value,d,{delta:g,type:Da.pop,direction:g?g>0?wa.forward:wa.back:wa.unknown})})};function i(){s=r.value}function u(a){o.push(a);const c=()=>{const d=o.indexOf(a);d>-1&&o.splice(d,1)};return l.push(c),c}function f(){const{history:a}=window;a.state&&a.replaceState(Ut({},a.state,{scroll:ku()}),"")}function m(){for(const a of l)a();l=[],window.removeEventListener("popstate",n),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",n),window.addEventListener("beforeunload",f),{pauseListeners:i,listen:u,destroy:m}}function _p(h,e,r,t=!1,o=!1){return{back:h,current:e,forward:r,replaced:t,position:window.history.length,scroll:o?ku():null}}function Wb(h){const{history:e,location:r}=window,t={value:Ry(h,r)},o={value:e.state};o.value||l(t.value,{back:null,current:t.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function l(i,u,f){const m=h.indexOf("#"),a=m>-1?(r.host&&document.querySelector("base")?h:h.slice(m))+i:Vb()+h+i;try{e[f?"replaceState":"pushState"](u,"",a),o.value=u}catch(c){console.error(c),r[f?"replace":"assign"](a)}}function s(i,u){const f=Ut({},e.state,_p(o.value.back,i,o.value.forward,!0),u,{position:o.value.position});l(i,f,!0),t.value=i}function n(i,u){const f=Ut({},o.value,e.state,{forward:i,scroll:ku()});l(f.current,f,!0);const m=Ut({},_p(t.value,i,null),{position:f.position+1},u);l(i,m,!1),t.value=i}return{location:t,state:o,push:n,replace:s}}function qb(h){h=kb(h);const e=Wb(h),r=Hb(h,e.state,e.location,e.replace);function t(l,s=!0){s||r.pauseListeners(),history.go(l)}const o=Ut({location:"",base:h,go:t,createHref:Ub.bind(null,h)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function Xb(h){return h=location.host?h||location.pathname+location.search:"",h.includes("#")||(h+="#"),qb(h)}function Yb(h){return typeof h=="string"||h&&typeof h=="object"}function Dy(h){return typeof h=="string"||typeof h=="symbol"}const Pi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oy=Symbol("");var bp;(function(h){h[h.aborted=4]="aborted",h[h.cancelled=8]="cancelled",h[h.duplicated=16]="duplicated"})(bp||(bp={}));function Lo(h,e){return Ut(new Error,{type:h,[Oy]:!0},e)}function oi(h,e){return h instanceof Error&&Oy in h&&(e==null||!!(h.type&e))}const xp="[^/]+?",Zb={sensitive:!1,strict:!1,start:!0,end:!0},Kb=/[.+*?^${}()[\]/\\]/g;function Jb(h,e){const r=Ut({},Zb,e),t=[];let o=r.start?"^":"";const l=[];for(const u of h){const f=u.length?[]:[90];r.strict&&!u.length&&(o+="/");for(let m=0;m<u.length;m++){const a=u[m];let c=40+(r.sensitive?.25:0);if(a.type===0)m||(o+="/"),o+=a.value.replace(Kb,"\\$&"),c+=40;else if(a.type===1){const{value:d,repeatable:p,optional:g,regexp:y}=a;l.push({name:d,repeatable:p,optional:g});const v=y||xp;if(v!==xp){c+=10;try{new RegExp(`(${v})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${d}" (${v}): `+x.message)}}let _=p?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;m||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),o+=_,c+=20,g&&(c+=-8),p&&(c+=-20),v===".*"&&(c+=-50)}f.push(c)}t.push(f)}if(r.strict&&r.end){const u=t.length-1;t[u][t[u].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const s=new RegExp(o,r.sensitive?"":"i");function n(u){const f=u.match(s),m={};if(!f)return null;for(let a=1;a<f.length;a++){const c=f[a]||"",d=l[a-1];m[d.name]=c&&d.repeatable?c.split("/"):c}return m}function i(u){let f="",m=!1;for(const a of h){(!m||!f.endsWith("/"))&&(f+="/"),m=!1;for(const c of a)if(c.type===0)f+=c.value;else if(c.type===1){const{value:d,repeatable:p,optional:g}=c,y=d in u?u[d]:"";if(Gn(y)&&!p)throw new Error(`Provided param "${d}" is an array but it is not repeatable (* or + modifiers)`);const v=Gn(y)?y.join("/"):y;if(!v)if(g)a.length<2&&(f.endsWith("/")?f=f.slice(0,-1):m=!0);else throw new Error(`Missing required param "${d}"`);f+=v}}return f||"/"}return{re:s,score:t,keys:l,parse:n,stringify:i}}function $b(h,e){let r=0;for(;r<h.length&&r<e.length;){const t=e[r]-h[r];if(t)return t;r++}return h.length<e.length?h.length===1&&h[0]===80?-1:1:h.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Qb(h,e){let r=0;const t=h.score,o=e.score;for(;r<t.length&&r<o.length;){const l=$b(t[r],o[r]);if(l)return l;r++}if(Math.abs(o.length-t.length)===1){if(wp(t))return 1;if(wp(o))return-1}return o.length-t.length}function wp(h){const e=h[h.length-1];return h.length>0&&e[e.length-1]<0}const ex={type:0,value:""},tx=/[a-zA-Z0-9_]/;function rx(h){if(!h)return[[]];if(h==="/")return[[ex]];if(!h.startsWith("/"))throw new Error(`Invalid path "${h}"`);function e(c){throw new Error(`ERR (${r})/"${u}": ${c}`)}let r=0,t=r;const o=[];let l;function s(){l&&o.push(l),l=[]}let n=0,i,u="",f="";function m(){u&&(r===0?l.push({type:0,value:u}):r===1||r===2||r===3?(l.length>1&&(i==="*"||i==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:u,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):e("Invalid state to consume buffer"),u="")}function a(){u+=i}for(;n<h.length;){if(i=h[n++],i==="\\"&&r!==2){t=r,r=4;continue}switch(r){case 0:i==="/"?(u&&m(),s()):i===":"?(m(),r=1):a();break;case 4:a(),r=t;break;case 1:i==="("?r=2:tx.test(i)?a():(m(),r=0,i!=="*"&&i!=="?"&&i!=="+"&&n--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:r=3:f+=i;break;case 3:m(),r=0,i!=="*"&&i!=="?"&&i!=="+"&&n--,f="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),m(),s(),o}function nx(h,e,r){const t=Jb(rx(h.path),r),o=Ut(t,{record:h,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function ix(h,e){const r=[],t=new Map;e=Ep({strict:!1,end:!0,sensitive:!1},e);function o(f){return t.get(f)}function l(f,m,a){const c=!a,d=sx(f);d.aliasOf=a&&a.record;const p=Ep(e,f),g=[d];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of _)g.push(Ut({},d,{components:a?a.record.components:d.components,path:x,aliasOf:a?a.record:d}))}let y,v;for(const _ of g){const{path:x}=_;if(m&&x[0]!=="/"){const w=m.record.path,E=w[w.length-1]==="/"?"":"/";_.path=m.record.path+(x&&E+x)}if(y=nx(_,m,p),a?a.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),c&&f.name&&!Mp(y)&&s(f.name)),d.children){const w=d.children;for(let E=0;E<w.length;E++)l(w[E],y,a&&a.children[E])}a=a||y,i(y)}return v?()=>{s(v)}:xa}function s(f){if(Dy(f)){const m=t.get(f);m&&(t.delete(f),r.splice(r.indexOf(m),1),m.children.forEach(s),m.alias.forEach(s))}else{const m=r.indexOf(f);m>-1&&(r.splice(m,1),f.record.name&&t.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function n(){return r}function i(f){let m=0;for(;m<r.length&&Qb(f,r[m])>=0&&(f.record.path!==r[m].record.path||!Iy(f,r[m]));)m++;r.splice(m,0,f),f.record.name&&!Mp(f)&&t.set(f.record.name,f)}function u(f,m){let a,c={},d,p;if("name"in f&&f.name){if(a=t.get(f.name),!a)throw Lo(1,{location:f});p=a.record.name,c=Ut(Sp(m.params,a.keys.filter(v=>!v.optional).map(v=>v.name)),f.params&&Sp(f.params,a.keys.map(v=>v.name))),d=a.stringify(c)}else if("path"in f)d=f.path,a=r.find(v=>v.re.test(d)),a&&(c=a.parse(d),p=a.record.name);else{if(a=m.name?t.get(m.name):r.find(v=>v.re.test(m.path)),!a)throw Lo(1,{location:f,currentLocation:m});p=a.record.name,c=Ut({},m.params,f.params),d=a.stringify(c)}const g=[];let y=a;for(;y;)g.unshift(y.record),y=y.parent;return{name:p,path:d,params:c,matched:g,meta:ax(g)}}return h.forEach(f=>l(f)),{addRoute:l,resolve:u,removeRoute:s,getRoutes:n,getRecordMatcher:o}}function Sp(h,e){const r={};for(const t of e)t in h&&(r[t]=h[t]);return r}function sx(h){return{path:h.path,redirect:h.redirect,name:h.name,meta:h.meta||{},aliasOf:void 0,beforeEnter:h.beforeEnter,props:ox(h),children:h.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in h?h.components||null:h.component&&{default:h.component}}}function ox(h){const e={},r=h.props||!1;if("component"in h)e.default=r;else for(const t in h.components)e[t]=typeof r=="boolean"?r:r[t];return e}function Mp(h){for(;h;){if(h.record.aliasOf)return!0;h=h.parent}return!1}function ax(h){return h.reduce((e,r)=>Ut(e,r.meta),{})}function Ep(h,e){const r={};for(const t in h)r[t]=t in e?e[t]:h[t];return r}function Iy(h,e){return e.children.some(r=>r===h||Iy(h,r))}const ky=/#/g,lx=/&/g,ux=/\//g,cx=/=/g,dx=/\?/g,Ny=/\+/g,hx=/%5B/g,fx=/%5D/g,Uy=/%5E/g,px=/%60/g,Fy=/%7B/g,mx=/%7C/g,By=/%7D/g,gx=/%20/g;function _h(h){return encodeURI(""+h).replace(mx,"|").replace(hx,"[").replace(fx,"]")}function yx(h){return _h(h).replace(Fy,"{").replace(By,"}").replace(Uy,"^")}function _d(h){return _h(h).replace(Ny,"%2B").replace(gx,"+").replace(ky,"%23").replace(lx,"%26").replace(px,"`").replace(Fy,"{").replace(By,"}").replace(Uy,"^")}function vx(h){return _d(h).replace(cx,"%3D")}function _x(h){return _h(h).replace(ky,"%23").replace(dx,"%3F")}function bx(h){return h==null?"":_x(h).replace(ux,"%2F")}function fu(h){try{return decodeURIComponent(""+h)}catch{}return""+h}function xx(h){const e={};if(h===""||h==="?")return e;const t=(h[0]==="?"?h.slice(1):h).split("&");for(let o=0;o<t.length;++o){const l=t[o].replace(Ny," "),s=l.indexOf("="),n=fu(s<0?l:l.slice(0,s)),i=s<0?null:fu(l.slice(s+1));if(n in e){let u=e[n];Gn(u)||(u=e[n]=[u]),u.push(i)}else e[n]=i}return e}function Tp(h){let e="";for(let r in h){const t=h[r];if(r=vx(r),t==null){t!==void 0&&(e+=(e.length?"&":"")+r);continue}(Gn(t)?t.map(l=>l&&_d(l)):[t&&_d(t)]).forEach(l=>{l!==void 0&&(e+=(e.length?"&":"")+r,l!=null&&(e+="="+l))})}return e}function wx(h){const e={};for(const r in h){const t=h[r];t!==void 0&&(e[r]=Gn(t)?t.map(o=>o==null?null:""+o):t==null?t:""+t)}return e}const Sx=Symbol(""),Ap=Symbol(""),bh=Symbol(""),zy=Symbol(""),bd=Symbol("");function ra(){let h=[];function e(t){return h.push(t),()=>{const o=h.indexOf(t);o>-1&&h.splice(o,1)}}function r(){h=[]}return{add:e,list:()=>h,reset:r}}function zi(h,e,r,t,o){const l=t&&(t.enterCallbacks[o]=t.enterCallbacks[o]||[]);return()=>new Promise((s,n)=>{const i=m=>{m===!1?n(Lo(4,{from:r,to:e})):m instanceof Error?n(m):Yb(m)?n(Lo(2,{from:e,to:m})):(l&&t.enterCallbacks[o]===l&&typeof m=="function"&&l.push(m),s())},u=h.call(t&&t.instances[o],e,r,i);let f=Promise.resolve(u);h.length<3&&(f=f.then(i)),f.catch(m=>n(m))})}function uc(h,e,r,t){const o=[];for(const l of h)for(const s in l.components){let n=l.components[s];if(!(e!=="beforeRouteEnter"&&!l.instances[s]))if(Mx(n)){const u=(n.__vccOpts||n)[e];u&&o.push(zi(u,r,t,l,s))}else{let i=n();o.push(()=>i.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${l.path}"`));const f=Cb(u)?u.default:u;l.components[s]=f;const a=(f.__vccOpts||f)[e];return a&&zi(a,r,t,l,s)()}))}}return o}function Mx(h){return typeof h=="object"||"displayName"in h||"props"in h||"__vccOpts"in h}function jp(h){const e=yi(bh),r=yi(zy),t=wn(()=>e.resolve(Zi(h.to))),o=wn(()=>{const{matched:i}=t.value,{length:u}=i,f=i[u-1],m=r.matched;if(!f||!m.length)return-1;const a=m.findIndex(Po.bind(null,f));if(a>-1)return a;const c=Cp(i[u-2]);return u>1&&Cp(f)===c&&m[m.length-1].path!==c?m.findIndex(Po.bind(null,i[u-2])):a}),l=wn(()=>o.value>-1&&jx(r.params,t.value.params)),s=wn(()=>o.value>-1&&o.value===r.matched.length-1&&Ly(r.params,t.value.params));function n(i={}){return Ax(i)?e[Zi(h.replace)?"replace":"push"](Zi(h.to)).catch(xa):Promise.resolve()}return{route:t,href:wn(()=>t.value.href),isActive:l,isExactActive:s,navigate:n}}const Ex=Ho({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jp,setup(h,{slots:e}){const r=Xa(jp(h)),{options:t}=yi(bh),o=wn(()=>({[Pp(h.activeClass,t.linkActiveClass,"router-link-active")]:r.isActive,[Pp(h.exactActiveClass,t.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const l=e.default&&e.default(r);return h.custom?l:Cy("a",{"aria-current":r.isExactActive?h.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},l)}}}),Tx=Ex;function Ax(h){if(!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)&&!h.defaultPrevented&&!(h.button!==void 0&&h.button!==0)){if(h.currentTarget&&h.currentTarget.getAttribute){const e=h.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return h.preventDefault&&h.preventDefault(),!0}}function jx(h,e){for(const r in e){const t=e[r],o=h[r];if(typeof t=="string"){if(t!==o)return!1}else if(!Gn(o)||o.length!==t.length||t.some((l,s)=>l!==o[s]))return!1}return!0}function Cp(h){return h?h.aliasOf?h.aliasOf.path:h.path:""}const Pp=(h,e,r)=>h??e??r,Cx=Ho({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(h,{attrs:e,slots:r}){const t=yi(bd),o=wn(()=>h.route||t.value),l=yi(Ap,0),s=wn(()=>{let u=Zi(l);const{matched:f}=o.value;let m;for(;(m=f[u])&&!m.components;)u++;return u}),n=wn(()=>o.value.matched[s.value]);Kl(Ap,wn(()=>s.value+1)),Kl(Sx,n),Kl(bd,o);const i=Gi();return Zl(()=>[i.value,n.value,h.name],([u,f,m],[a,c,d])=>{f&&(f.instances[m]=u,c&&c!==f&&u&&u===a&&(f.leaveGuards.size||(f.leaveGuards=c.leaveGuards),f.updateGuards.size||(f.updateGuards=c.updateGuards))),u&&f&&(!c||!Po(f,c)||!a)&&(f.enterCallbacks[m]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=o.value,f=h.name,m=n.value,a=m&&m.components[f];if(!a)return Lp(r.default,{Component:a,route:u});const c=m.props[f],d=c?c===!0?u.params:typeof c=="function"?c(u):c:null,g=Cy(a,Ut({},d,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(m.instances[f]=null)},ref:i}));return Lp(r.default,{Component:g,route:u})||g}}});function Lp(h,e){if(!h)return null;const r=h(e);return r.length===1?r[0]:r}const Px=Cx;function Lx(h){const e=ix(h.routes,h),r=h.parseQuery||xx,t=h.stringifyQuery||Tp,o=h.history,l=ra(),s=ra(),n=ra(),i=F_(Pi);let u=Pi;ho&&h.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ac.bind(null,U=>""+U),m=ac.bind(null,bx),a=ac.bind(null,fu);function c(U,G){let ee,ue;return Dy(U)?(ee=e.getRecordMatcher(U),ue=G):ue=U,e.addRoute(ue,ee)}function d(U){const G=e.getRecordMatcher(U);G&&e.removeRoute(G)}function p(){return e.getRoutes().map(U=>U.record)}function g(U){return!!e.getRecordMatcher(U)}function y(U,G){if(G=Ut({},G||i.value),typeof U=="string"){const ie=lc(r,U,G.path),V=e.resolve({path:ie.path},G),F=o.createHref(ie.fullPath);return Ut(ie,V,{params:a(V.params),hash:fu(ie.hash),redirectedFrom:void 0,href:F})}let ee;if("path"in U)ee=Ut({},U,{path:lc(r,U.path,G.path).path});else{const ie=Ut({},U.params);for(const V in ie)ie[V]==null&&delete ie[V];ee=Ut({},U,{params:m(U.params)}),G.params=m(G.params)}const ue=e.resolve(ee,G),fe=U.hash||"";ue.params=f(a(ue.params));const pe=Rb(t,Ut({},U,{hash:yx(fe),path:ue.path})),ce=o.createHref(pe);return Ut({fullPath:pe,hash:fe,query:t===Tp?wx(U.query):U.query||{}},ue,{redirectedFrom:void 0,href:ce})}function v(U){return typeof U=="string"?lc(r,U,i.value.path):Ut({},U)}function _(U,G){if(u!==U)return Lo(8,{from:G,to:U})}function x(U){return T(U)}function w(U){return x(Ut(v(U),{replace:!0}))}function E(U){const G=U.matched[U.matched.length-1];if(G&&G.redirect){const{redirect:ee}=G;let ue=typeof ee=="function"?ee(U):ee;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=v(ue):{path:ue},ue.params={}),Ut({query:U.query,hash:U.hash,params:"path"in ue?{}:U.params},ue)}}function T(U,G){const ee=u=y(U),ue=i.value,fe=U.state,pe=U.force,ce=U.replace===!0,ie=E(ee);if(ie)return T(Ut(v(ie),{state:typeof ie=="object"?Ut({},fe,ie.state):fe,force:pe,replace:ce}),G||ee);const V=ee;V.redirectedFrom=G;let F;return!pe&&Db(t,ue,ee)&&(F=Lo(16,{to:V,from:ue}),W(ue,ue,!0,!1)),(F?Promise.resolve(F):j(V,ue)).catch(re=>oi(re)?oi(re,2)?re:z(re):q(re,V,ue)).then(re=>{if(re){if(oi(re,2))return T(Ut({replace:ce},v(re.to),{state:typeof re.to=="object"?Ut({},fe,re.to.state):fe,force:pe}),G||V)}else re=L(V,ue,!0,ce,fe);return P(V,ue,re),re})}function M(U,G){const ee=_(U,G);return ee?Promise.reject(ee):Promise.resolve()}function j(U,G){let ee;const[ue,fe,pe]=Rx(U,G);ee=uc(ue.reverse(),"beforeRouteLeave",U,G);for(const ie of ue)ie.leaveGuards.forEach(V=>{ee.push(zi(V,U,G))});const ce=M.bind(null,U,G);return ee.push(ce),qs(ee).then(()=>{ee=[];for(const ie of l.list())ee.push(zi(ie,U,G));return ee.push(ce),qs(ee)}).then(()=>{ee=uc(fe,"beforeRouteUpdate",U,G);for(const ie of fe)ie.updateGuards.forEach(V=>{ee.push(zi(V,U,G))});return ee.push(ce),qs(ee)}).then(()=>{ee=[];for(const ie of U.matched)if(ie.beforeEnter&&!G.matched.includes(ie))if(Gn(ie.beforeEnter))for(const V of ie.beforeEnter)ee.push(zi(V,U,G));else ee.push(zi(ie.beforeEnter,U,G));return ee.push(ce),qs(ee)}).then(()=>(U.matched.forEach(ie=>ie.enterCallbacks={}),ee=uc(pe,"beforeRouteEnter",U,G),ee.push(ce),qs(ee))).then(()=>{ee=[];for(const ie of s.list())ee.push(zi(ie,U,G));return ee.push(ce),qs(ee)}).catch(ie=>oi(ie,8)?ie:Promise.reject(ie))}function P(U,G,ee){for(const ue of n.list())ue(U,G,ee)}function L(U,G,ee,ue,fe){const pe=_(U,G);if(pe)return pe;const ce=G===Pi,ie=ho?history.state:{};ee&&(ue||ce?o.replace(U.fullPath,Ut({scroll:ce&&ie&&ie.scroll},fe)):o.push(U.fullPath,fe)),i.value=U,W(U,G,ee,ce),z()}let N;function O(){N||(N=o.listen((U,G,ee)=>{if(!I.listening)return;const ue=y(U),fe=E(ue);if(fe){T(Ut(fe,{replace:!0}),ue).catch(xa);return}u=ue;const pe=i.value;ho&&zb(vp(pe.fullPath,ee.delta),ku()),j(ue,pe).catch(ce=>oi(ce,12)?ce:oi(ce,2)?(T(ce.to,ue).then(ie=>{oi(ie,20)&&!ee.delta&&ee.type===Da.pop&&o.go(-1,!1)}).catch(xa),Promise.reject()):(ee.delta&&o.go(-ee.delta,!1),q(ce,ue,pe))).then(ce=>{ce=ce||L(ue,pe,!1),ce&&(ee.delta&&!oi(ce,8)?o.go(-ee.delta,!1):ee.type===Da.pop&&oi(ce,20)&&o.go(-1,!1)),P(ue,pe,ce)}).catch(xa)}))}let k=ra(),X=ra(),Y;function q(U,G,ee){z(U);const ue=X.list();return ue.length?ue.forEach(fe=>fe(U,G,ee)):console.error(U),Promise.reject(U)}function H(){return Y&&i.value!==Pi?Promise.resolve():new Promise((U,G)=>{k.add([U,G])})}function z(U){return Y||(Y=!U,O(),k.list().forEach(([G,ee])=>U?ee(U):G()),k.reset()),U}function W(U,G,ee,ue){const{scrollBehavior:fe}=h;if(!ho||!fe)return Promise.resolve();const pe=!ee&&Gb(vp(U.fullPath,0))||(ue||!ee)&&history.state&&history.state.scroll||null;return iy().then(()=>fe(U,G,pe)).then(ce=>ce&&Bb(ce)).catch(ce=>q(ce,U,G))}const $=U=>o.go(U);let se;const R=new Set,I={currentRoute:i,listening:!0,addRoute:c,removeRoute:d,hasRoute:g,getRoutes:p,resolve:y,options:h,push:x,replace:w,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:l.add,beforeResolve:s.add,afterEach:n.add,onError:X.add,isReady:H,install(U){const G=this;U.component("RouterLink",Tx),U.component("RouterView",Px),U.config.globalProperties.$router=G,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Zi(i)}),ho&&!se&&i.value===Pi&&(se=!0,x(o.location).catch(fe=>{}));const ee={};for(const fe in Pi)ee[fe]=wn(()=>i.value[fe]);U.provide(bh,G),U.provide(zy,Xa(ee)),U.provide(bd,i);const ue=U.unmount;R.add(U),U.unmount=function(){R.delete(U),R.size<1&&(u=Pi,N&&N(),N=null,i.value=Pi,se=!1,Y=!1),ue()}}};return I}function qs(h){return h.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function Rx(h,e){const r=[],t=[],o=[],l=Math.max(e.matched.length,h.matched.length);for(let s=0;s<l;s++){const n=e.matched[s];n&&(h.matched.find(u=>Po(u,n))?t.push(n):r.push(n));const i=h.matched[s];i&&(e.matched.find(u=>Po(u,i))||o.push(i))}return[r,t,o]}const Dx="modulepreload",Ox=function(h){return"/nova/"+h},Rp={},lt=function(e,r,t){let o=Promise.resolve();if(r&&r.length>0){const l=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),n=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(r.map(i=>{if(i=Ox(i),i in Rp)return;Rp[i]=!0;const u=i.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!t)for(let c=l.length-1;c>=0;c--){const d=l[c];if(d.href===i&&(!u||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${f}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":Dx,u||(a.as="script",a.crossOrigin=""),a.href=i,n&&a.setAttribute("nonce",n),document.head.appendChild(a),u)return new Promise((c,d)=>{a.addEventListener("load",c),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})}))}return o.then(()=>e()).catch(l=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l})},Ix={path:"/css",meta:{name:"CSS"},component:Fs,children:[{path:"reverseCard",meta:{type:"css",name:"反转卡片图片",visable:!0},component:()=>lt(()=>import("./reverseCardPic-DZxWyDmu.js"),__vite__mapDeps([0,1]))},{path:"starRate",meta:{type:"css",name:"图案评分",visable:!0},component:()=>lt(()=>import("./StarRate-DVjiMbbh.js"),__vite__mapDeps([2,3,4,5,6,7]))},{path:"sun",meta:{type:"css",name:"小太阳",visable:!0},component:()=>lt(()=>import("./Sun-DpW9CRT5.js"),__vite__mapDeps([8,9]))},{path:"progressCube",meta:{type:"css",name:"立体进度条",visable:!1},component:()=>lt(()=>import("./ProgressCube-DG7NfcB9.js"),__vite__mapDeps([10,5,6,11]))},{path:"deathLoading",meta:{type:"css",name:"死亡搁浅loading",visable:!0},component:()=>lt(()=>import("./DeathLoading-Bglo-W5F.js"),__vite__mapDeps([12,13]))},{path:"hsCard",meta:{type:"css",name:"炉石卡片",visable:!0},component:()=>lt(()=>import("./HSCard-CMayys_J.js"),__vite__mapDeps([14,15]))},{path:"barChart",meta:{type:"css",name:"css条状表",visable:!1},component:()=>lt(()=>import("./BarChart-C8A0Vk06.js"),__vite__mapDeps([16,17]))},{path:"water",meta:{type:"css",name:"模拟水滴",visable:!1},component:()=>lt(()=>import("./Water-mOQHL1oc.js"),__vite__mapDeps([18,19]))},{path:"sun-time",meta:{type:"css",name:"太阳与时间倒影",visable:!0},component:()=>lt(()=>import("./timeSun-BOdQ7uD8.js"),__vite__mapDeps([20,21]))},{path:"crush-pic",meta:{type:"css",name:"破碎图片",visable:!0},component:()=>lt(()=>Promise.resolve().then(()=>t3),void 0)},{path:"hack-text",meta:{type:"css",name:"绿色终端",visable:!1},component:()=>lt(()=>import("./hackText-CFdDemYL.js"),__vite__mapDeps([22,23]))}]},kx={path:"/canvas",meta:{name:"Canvas"},component:Fs,children:[{path:"flowField",meta:{type:"canvas",name:"FlowField(fabric)",visable:!0},component:()=>lt(()=>import("./FlowField-CIpcontM.js"),__vite__mapDeps([24,25,3,4,26,27]))},{path:"flowFieldLine",meta:{type:"canvas",name:"FlowFieldLine",visable:!1},component:()=>lt(()=>import("./FlowFieldLine-BIwsU7iZ.js"),__vite__mapDeps([28,3,4,25,26]))},{path:"canvasTextPoint",meta:{type:"canvas",name:"canvasTextPoint",visable:!1},component:()=>lt(()=>import("./CanvasTextPoint-BkujYZK-.js"),__vite__mapDeps([29,30,31]))},{path:"canvasPoint",meta:{type:"canvas",name:"图片点阵化",visable:!0},component:()=>lt(()=>import("./canvasPoint-Bp7YxkKn.js"),__vite__mapDeps([32,30,33]))},{path:"flow",meta:{type:"canvas",name:"mac锁屏flow",visable:!0},component:()=>lt(()=>import("./flow-B6pXGUgx.js"),__vite__mapDeps([34,30,5,6,35]))},{path:"delaunator",meta:{type:"canvas",name:"三角切分",visable:!0},component:()=>lt(()=>import("./delaunator-BsY9hiGd.js"),__vite__mapDeps([36,30,33]))},{path:"circuit-borad",meta:{type:"canvas",name:"电路板",visable:!0},component:()=>lt(()=>import("./circuitBoard-D6JspsqV.js"),[])},{path:"img-idle",meta:{type:"canvas",name:"图片做Idle",visable:!1},component:()=>lt(()=>import("./imgIdle-CIacWlFS.js"),__vite__mapDeps([37,38]))},{path:"nyan-cat",meta:{type:"canvas",name:"彩虹猫",visable:!0},component:()=>lt(()=>import("./nyanCat-CX0bYxs0.js"),__vite__mapDeps([39,30,35,38]))},{path:"particle-life",meta:{type:"canvas",name:"粒子生命模拟",visable:!0},component:()=>lt(()=>import("./particleLife-9W8ahNeS.js"),__vite__mapDeps([40,41,35,5,6]))},{path:"test",meta:{type:"canvas",name:"test",visable:!1},component:()=>lt(()=>import("./test-BzK8D13F.js"),__vite__mapDeps([42,35]))},{path:"game-of-life",meta:{type:"canvas",name:"生命游戏",visable:!1},component:()=>lt(()=>import("./gameOfLife-q5o4_ZCH.js"),__vite__mapDeps([43,35]))},{path:"music-mhsb",meta:{type:"canvas",name:"我是一个快乐的鸡蛋饼",visable:!0},component:()=>lt(()=>import("./mihuanshuibo-CMckrkQ3.js"),__vite__mapDeps([44,30,45,46,35,47]))},{path:"music-rect",meta:{type:"canvas",name:"music-片片面",visable:!0},component:()=>lt(()=>import("./rect-FsKhlNXl.js"),__vite__mapDeps([48,41,30,46,45,35,49]))},{path:"music-rect-2",meta:{type:"canvas",name:"music-重叠矩形",visable:!1},component:()=>lt(()=>import("./rect2-DI0XreKQ.js"),__vite__mapDeps([50,41,30,46,45,35,51]))},{path:"freq-domain",meta:{type:"canvas",name:"频率和波形",visable:!0},component:()=>lt(()=>import("./freqAndDomain-meXqyYt8.js"),__vite__mapDeps([52,41,30,46,45,35,53]))},{path:"github-snake",meta:{type:"canvas",name:"github贪吃蛇",visable:!0},component:()=>lt(()=>import("./githubSnake-VNZxj0Fc.js"),__vite__mapDeps([54,41,35,55]))}]},vi=11102230246251565e-32,Ur=134217729,Nx=(3+8*vi)*vi;function cc(h,e,r,t,o){let l,s,n,i,u=e[0],f=t[0],m=0,a=0;f>u==f>-u?(l=u,u=e[++m]):(l=f,f=t[++a]);let c=0;if(m<h&&a<r)for(f>u==f>-u?(s=u+l,n=l-(s-u),u=e[++m]):(s=f+l,n=l-(s-f),f=t[++a]),l=s,n!==0&&(o[c++]=n);m<h&&a<r;)f>u==f>-u?(s=l+u,i=s-l,n=l-(s-i)+(u-i),u=e[++m]):(s=l+f,i=s-l,n=l-(s-i)+(f-i),f=t[++a]),l=s,n!==0&&(o[c++]=n);for(;m<h;)s=l+u,i=s-l,n=l-(s-i)+(u-i),u=e[++m],l=s,n!==0&&(o[c++]=n);for(;a<r;)s=l+f,i=s-l,n=l-(s-i)+(f-i),f=t[++a],l=s,n!==0&&(o[c++]=n);return(l!==0||c===0)&&(o[c++]=l),c}function Ux(h,e){let r=e[0];for(let t=1;t<h;t++)r+=e[t];return r}function Za(h){return new Float64Array(h)}const Fx=(3+16*vi)*vi,Bx=(2+12*vi)*vi,zx=(9+64*vi)*vi*vi,Xs=Za(4),Dp=Za(8),Op=Za(12),Ip=Za(16),qr=Za(4);function Gx(h,e,r,t,o,l,s){let n,i,u,f,m,a,c,d,p,g,y,v,_,x,w,E,T,M;const j=h-o,P=r-o,L=e-l,N=t-l;x=j*N,a=Ur*j,c=a-(a-j),d=j-c,a=Ur*N,p=a-(a-N),g=N-p,w=d*g-(x-c*p-d*p-c*g),E=L*P,a=Ur*L,c=a-(a-L),d=L-c,a=Ur*P,p=a-(a-P),g=P-p,T=d*g-(E-c*p-d*p-c*g),y=w-T,m=w-y,Xs[0]=w-(y+m)+(m-T),v=x+y,m=v-x,_=x-(v-m)+(y-m),y=_-E,m=_-y,Xs[1]=_-(y+m)+(m-E),M=v+y,m=M-v,Xs[2]=v-(M-m)+(y-m),Xs[3]=M;let O=Ux(4,Xs),k=Bx*s;if(O>=k||-O>=k||(m=h-j,n=h-(j+m)+(m-o),m=r-P,u=r-(P+m)+(m-o),m=e-L,i=e-(L+m)+(m-l),m=t-N,f=t-(N+m)+(m-l),n===0&&i===0&&u===0&&f===0)||(k=zx*s+Nx*Math.abs(O),O+=j*f+N*n-(L*u+P*i),O>=k||-O>=k))return O;x=n*N,a=Ur*n,c=a-(a-n),d=n-c,a=Ur*N,p=a-(a-N),g=N-p,w=d*g-(x-c*p-d*p-c*g),E=i*P,a=Ur*i,c=a-(a-i),d=i-c,a=Ur*P,p=a-(a-P),g=P-p,T=d*g-(E-c*p-d*p-c*g),y=w-T,m=w-y,qr[0]=w-(y+m)+(m-T),v=x+y,m=v-x,_=x-(v-m)+(y-m),y=_-E,m=_-y,qr[1]=_-(y+m)+(m-E),M=v+y,m=M-v,qr[2]=v-(M-m)+(y-m),qr[3]=M;const X=cc(4,Xs,4,qr,Dp);x=j*f,a=Ur*j,c=a-(a-j),d=j-c,a=Ur*f,p=a-(a-f),g=f-p,w=d*g-(x-c*p-d*p-c*g),E=L*u,a=Ur*L,c=a-(a-L),d=L-c,a=Ur*u,p=a-(a-u),g=u-p,T=d*g-(E-c*p-d*p-c*g),y=w-T,m=w-y,qr[0]=w-(y+m)+(m-T),v=x+y,m=v-x,_=x-(v-m)+(y-m),y=_-E,m=_-y,qr[1]=_-(y+m)+(m-E),M=v+y,m=M-v,qr[2]=v-(M-m)+(y-m),qr[3]=M;const Y=cc(X,Dp,4,qr,Op);x=n*f,a=Ur*n,c=a-(a-n),d=n-c,a=Ur*f,p=a-(a-f),g=f-p,w=d*g-(x-c*p-d*p-c*g),E=i*u,a=Ur*i,c=a-(a-i),d=i-c,a=Ur*u,p=a-(a-u),g=u-p,T=d*g-(E-c*p-d*p-c*g),y=w-T,m=w-y,qr[0]=w-(y+m)+(m-T),v=x+y,m=v-x,_=x-(v-m)+(y-m),y=_-E,m=_-y,qr[1]=_-(y+m)+(m-E),M=v+y,m=M-v,qr[2]=v-(M-m)+(y-m),qr[3]=M;const q=cc(Y,Op,4,qr,Ip);return Ip[q-1]}function dl(h,e,r,t,o,l){const s=(e-l)*(r-o),n=(h-o)*(t-l),i=s-n,u=Math.abs(s+n);return Math.abs(i)>=Fx*u?i:-Gx(h,e,r,t,o,l,u)}const kp=Math.pow(2,-52),hl=new Uint32Array(512);class xh{static from(e,r=Xx,t=Yx){const o=e.length,l=new Float64Array(o*2);for(let s=0;s<o;s++){const n=e[s];l[2*s]=r(n),l[2*s+1]=t(n)}return new xh(l)}constructor(e){const r=e.length>>1;if(r>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const t=Math.max(2*r-5,0);this._triangles=new Uint32Array(t*3),this._halfedges=new Int32Array(t*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:e,_hullPrev:r,_hullNext:t,_hullTri:o,_hullHash:l}=this,s=e.length>>1;let n=1/0,i=1/0,u=-1/0,f=-1/0;for(let P=0;P<s;P++){const L=e[2*P],N=e[2*P+1];L<n&&(n=L),N<i&&(i=N),L>u&&(u=L),N>f&&(f=N),this._ids[P]=P}const m=(n+u)/2,a=(i+f)/2;let c=1/0,d,p,g;for(let P=0;P<s;P++){const L=dc(m,a,e[2*P],e[2*P+1]);L<c&&(d=P,c=L)}const y=e[2*d],v=e[2*d+1];c=1/0;for(let P=0;P<s;P++){if(P===d)continue;const L=dc(y,v,e[2*P],e[2*P+1]);L<c&&L>0&&(p=P,c=L)}let _=e[2*p],x=e[2*p+1],w=1/0;for(let P=0;P<s;P++){if(P===d||P===p)continue;const L=Wx(y,v,_,x,e[2*P],e[2*P+1]);L<w&&(g=P,w=L)}let E=e[2*g],T=e[2*g+1];if(w===1/0){for(let N=0;N<s;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];po(this._ids,this._dists,0,s-1);const P=new Uint32Array(s);let L=0;for(let N=0,O=-1/0;N<s;N++){const k=this._ids[N];this._dists[k]>O&&(P[L++]=k,O=this._dists[k])}this.hull=P.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(dl(y,v,_,x,E,T)<0){const P=p,L=_,N=x;p=g,_=E,x=T,g=P,E=L,T=N}const M=qx(y,v,_,x,E,T);this._cx=M.x,this._cy=M.y;for(let P=0;P<s;P++)this._dists[P]=dc(e[2*P],e[2*P+1],M.x,M.y);po(this._ids,this._dists,0,s-1),this._hullStart=d;let j=3;t[d]=r[g]=p,t[p]=r[d]=g,t[g]=r[p]=d,o[d]=0,o[p]=1,o[g]=2,l.fill(-1),l[this._hashKey(y,v)]=d,l[this._hashKey(_,x)]=p,l[this._hashKey(E,T)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let P=0,L,N;P<this._ids.length;P++){const O=this._ids[P],k=e[2*O],X=e[2*O+1];if(P>0&&Math.abs(k-L)<=kp&&Math.abs(X-N)<=kp||(L=k,N=X,O===d||O===p||O===g))continue;let Y=0;for(let $=0,se=this._hashKey(k,X);$<this._hashSize&&(Y=l[(se+$)%this._hashSize],!(Y!==-1&&Y!==t[Y]));$++);Y=r[Y];let q=Y,H;for(;H=t[q],dl(k,X,e[2*q],e[2*q+1],e[2*H],e[2*H+1])>=0;)if(q=H,q===Y){q=-1;break}if(q===-1)continue;let z=this._addTriangle(q,O,t[q],-1,-1,o[q]);o[O]=this._legalize(z+2),o[q]=z,j++;let W=t[q];for(;H=t[W],dl(k,X,e[2*W],e[2*W+1],e[2*H],e[2*H+1])<0;)z=this._addTriangle(W,O,H,o[O],-1,o[W]),o[O]=this._legalize(z+2),t[W]=W,j--,W=H;if(q===Y)for(;H=r[q],dl(k,X,e[2*H],e[2*H+1],e[2*q],e[2*q+1])<0;)z=this._addTriangle(H,O,q,-1,o[q],o[H]),this._legalize(z+2),o[H]=z,t[q]=q,j--,q=H;this._hullStart=r[O]=q,t[q]=r[W]=O,t[O]=W,l[this._hashKey(k,X)]=O,l[this._hashKey(e[2*q],e[2*q+1])]=q}this.hull=new Uint32Array(j);for(let P=0,L=this._hullStart;P<j;P++)this.hull[P]=L,L=t[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,r){return Math.floor(Vx(e-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:r,_halfedges:t,coords:o}=this;let l=0,s=0;for(;;){const n=t[e],i=e-e%3;if(s=i+(e+2)%3,n===-1){if(l===0)break;e=hl[--l];continue}const u=n-n%3,f=i+(e+1)%3,m=u+(n+2)%3,a=r[s],c=r[e],d=r[f],p=r[m];if(Hx(o[2*a],o[2*a+1],o[2*c],o[2*c+1],o[2*d],o[2*d+1],o[2*p],o[2*p+1])){r[e]=p,r[n]=a;const y=t[m];if(y===-1){let _=this._hullStart;do{if(this._hullTri[_]===m){this._hullTri[_]=e;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(e,y),this._link(n,t[s]),this._link(s,m);const v=u+(n+1)%3;l<hl.length&&(hl[l++]=v)}else{if(l===0)break;e=hl[--l]}}return s}_link(e,r){this._halfedges[e]=r,r!==-1&&(this._halfedges[r]=e)}_addTriangle(e,r,t,o,l,s){const n=this.trianglesLen;return this._triangles[n]=e,this._triangles[n+1]=r,this._triangles[n+2]=t,this._link(n,o),this._link(n+1,l),this._link(n+2,s),this.trianglesLen+=3,n}}function Vx(h,e){const r=h/(Math.abs(h)+Math.abs(e));return(e>0?3-r:1+r)/4}function dc(h,e,r,t){const o=h-r,l=e-t;return o*o+l*l}function Hx(h,e,r,t,o,l,s,n){const i=h-s,u=e-n,f=r-s,m=t-n,a=o-s,c=l-n,d=i*i+u*u,p=f*f+m*m,g=a*a+c*c;return i*(m*g-p*c)-u*(f*g-p*a)+d*(f*c-m*a)<0}function Wx(h,e,r,t,o,l){const s=r-h,n=t-e,i=o-h,u=l-e,f=s*s+n*n,m=i*i+u*u,a=.5/(s*u-n*i),c=(u*f-n*m)*a,d=(s*m-i*f)*a;return c*c+d*d}function qx(h,e,r,t,o,l){const s=r-h,n=t-e,i=o-h,u=l-e,f=s*s+n*n,m=i*i+u*u,a=.5/(s*u-n*i),c=h+(u*f-n*m)*a,d=e+(s*m-i*f)*a;return{x:c,y:d}}function po(h,e,r,t){if(t-r<=20)for(let o=r+1;o<=t;o++){const l=h[o],s=e[l];let n=o-1;for(;n>=r&&e[h[n]]>s;)h[n+1]=h[n--];h[n+1]=l}else{const o=r+t>>1;let l=r+1,s=t;na(h,o,l),e[h[r]]>e[h[t]]&&na(h,r,t),e[h[l]]>e[h[t]]&&na(h,l,t),e[h[r]]>e[h[l]]&&na(h,r,l);const n=h[l],i=e[n];for(;;){do l++;while(e[h[l]]<i);do s--;while(e[h[s]]>i);if(s<l)break;na(h,l,s)}h[r+1]=h[s],h[s]=n,t-l+1>=s-r?(po(h,e,l,t),po(h,e,r,s-1)):(po(h,e,r,s-1),po(h,e,l,t))}}function na(h,e,r){const t=h[e];h[e]=h[r],h[r]=t}function Xx(h){return h[0]}function Yx(h){return h[1]}function fi(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Gy(h,e){h.prototype=Object.create(e.prototype),h.prototype.constructor=h,h.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ro={duration:.5,overwrite:!1,delay:0},wh,Hr,rr,Mn=1e8,Zt=1/Mn,xd=Math.PI*2,Zx=xd/4,Kx=0,Vy=Math.sqrt,Jx=Math.cos,$x=Math.sin,jr=function(e){return typeof e=="string"},dr=function(e){return typeof e=="function"},wi=function(e){return typeof e=="number"},Sh=function(e){return typeof e>"u"},ri=function(e){return typeof e=="object"},tn=function(e){return e!==!1},Mh=function(){return typeof window<"u"},fl=function(e){return dr(e)||jr(e)},Hy=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Wr=Array.isArray,wd=/(?:-?\.?\d|\.)+/gi,Wy=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,mo=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,hc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,qy=/[+-]=-?[.\d]+/,Xy=/[^,'"\[\]\s]+/gi,Qx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,or,Xn,Sd,Eh,yn={},pu={},Yy,Zy=function(e){return(pu=Ls(e,yn))&&ln},Th=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Oa=function(e,r){return!r&&console.warn(e)},Ky=function(e,r){return e&&(yn[e]=r)&&pu&&(pu[e]=r)||yn},Ia=function(){return 0},ew={suppressEvents:!0,isStart:!0,kill:!1},eu={suppressEvents:!0,kill:!1},tw={suppressEvents:!0},Ah={},Ji=[],Md={},Jy,dn={},fc={},Np=30,tu=[],jh="",Ch=function(e){var r=e[0],t,o;if(ri(r)||dr(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(o=tu.length;o--&&!tu[o].targetTest(r););t=tu[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new x0(e[o],t)))||e.splice(o,1);return e},Es=function(e){return e._gsap||Ch(En(e))[0]._gsap},$y=function(e,r,t){return(t=e[r])&&dr(t)?e[r]():Sh(t)&&e.getAttribute&&e.getAttribute(r)||t},rn=function(e,r){return(e=e.split(",")).forEach(r)||e},hr=function(e){return Math.round(e*1e5)/1e5||0},Er=function(e){return Math.round(e*1e7)/1e7||0},So=function(e,r){var t=r.charAt(0),o=parseFloat(r.substr(2));return e=parseFloat(e),t==="+"?e+o:t==="-"?e-o:t==="*"?e*o:e/o},rw=function(e,r){for(var t=r.length,o=0;e.indexOf(r[o])<0&&++o<t;);return o<t},mu=function(){var e=Ji.length,r=Ji.slice(0),t,o;for(Md={},Ji.length=0,t=0;t<e;t++)o=r[t],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Qy=function(e,r,t,o){Ji.length&&!Hr&&mu(),e.render(r,t,o||Hr&&r<0&&(e._initted||e._startAt)),Ji.length&&!Hr&&mu()},e0=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(Xy).length<2?r:jr(e)?e.trim():e},t0=function(e){return e},jn=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},nw=function(e){return function(r,t){for(var o in t)o in r||o==="duration"&&e||o==="ease"||(r[o]=t[o])}},Ls=function(e,r){for(var t in r)e[t]=r[t];return e},Up=function h(e,r){for(var t in r)t!=="__proto__"&&t!=="constructor"&&t!=="prototype"&&(e[t]=ri(r[t])?h(e[t]||(e[t]={}),r[t]):r[t]);return e},gu=function(e,r){var t={},o;for(o in e)o in r||(t[o]=e[o]);return t},Sa=function(e){var r=e.parent||or,t=e.keyframes?nw(Wr(e.keyframes)):jn;if(tn(e.inherit))for(;r;)t(e,r.vars.defaults),r=r.parent||r._dp;return e},iw=function(e,r){for(var t=e.length,o=t===r.length;o&&t--&&e[t]===r[t];);return t<0},r0=function(e,r,t,o,l){t===void 0&&(t="_first"),o===void 0&&(o="_last");var s=e[o],n;if(l)for(n=r[l];s&&s[l]>n;)s=s._prev;return s?(r._next=s._next,s._next=r):(r._next=e[t],e[t]=r),r._next?r._next._prev=r:e[o]=r,r._prev=s,r.parent=r._dp=e,r},Nu=function(e,r,t,o){t===void 0&&(t="_first"),o===void 0&&(o="_last");var l=r._prev,s=r._next;l?l._next=s:e[t]===r&&(e[t]=s),s?s._prev=l:e[o]===r&&(e[o]=l),r._next=r._prev=r.parent=null},rs=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ts=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var t=e;t;)t._dirty=1,t=t.parent;return e},sw=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Ed=function(e,r,t,o){return e._startAt&&(Hr?e._startAt.revert(eu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,o))},ow=function h(e){return!e||e._ts&&h(e.parent)},Fp=function(e){return e._repeat?Do(e._tTime,e=e.duration()+e._rDelay)*e:0},Do=function(e,r){var t=Math.floor(e/=r);return e&&t===e?t-1:t},yu=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Uu=function(e){return e._end=Er(e._start+(e._tDur/Math.abs(e._ts||e._rts||Zt)||0))},Fu=function(e,r){var t=e._dp;return t&&t.smoothChildTiming&&e._ts&&(e._start=Er(t._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Uu(e),t._dirty||Ts(t,e)),e},n0=function(e,r){var t;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(t=yu(e.rawTime(),r),(!r._dur||Ka(0,r.totalDuration(),t)-r._tTime>Zt)&&r.render(t,!0)),Ts(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(t=e;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;e._zTime=-Zt}},Jn=function(e,r,t,o){return r.parent&&rs(r),r._start=Er((wi(t)?t:t||e!==or?bn(e,t,r):e._time)+r._delay),r._end=Er(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),r0(e,r,"_first","_last",e._sort?"_start":0),Td(r)||(e._recent=r),o||n0(e,r),e._ts<0&&Fu(e,e._tTime),e},i0=function(e,r){return(yn.ScrollTrigger||Th("scrollTrigger",r))&&yn.ScrollTrigger.create(r,e)},s0=function(e,r,t,o,l){if(Lh(e,r,l),!e._initted)return 1;if(!t&&e._pt&&!Hr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Jy!==pn.frame)return Ji.push(e),e._lazy=[l,o],1},aw=function h(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||h(r))},Td=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},lw=function(e,r,t,o){var l=e.ratio,s=r<0||!r&&(!e._start&&aw(e)&&!(!e._initted&&Td(e))||(e._ts<0||e._dp._ts<0)&&!Td(e))?0:1,n=e._rDelay,i=0,u,f,m;if(n&&e._repeat&&(i=Ka(0,e._tDur,r),f=Do(i,n),e._yoyo&&f&1&&(s=1-s),f!==Do(e._tTime,n)&&(l=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==l||Hr||o||e._zTime===Zt||!r&&e._zTime){if(!e._initted&&s0(e,r,o,t,i))return;for(m=e._zTime,e._zTime=r||(t?Zt:0),t||(t=r&&!m),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=i,u=e._pt;u;)u.r(s,u.d),u=u._next;r<0&&Ed(e,r,t,!0),e._onUpdate&&!t&&mn(e,"onUpdate"),i&&e._repeat&&!t&&e.parent&&mn(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===s&&(s&&rs(e,1),!t&&!Hr&&(mn(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},uw=function(e,r,t){var o;if(t>r)for(o=e._first;o&&o._start<=t;){if(o.data==="isPause"&&o._start>r)return o;o=o._next}else for(o=e._last;o&&o._start>=t;){if(o.data==="isPause"&&o._start<r)return o;o=o._prev}},Oo=function(e,r,t,o){var l=e._repeat,s=Er(r)||0,n=e._tTime/e._tDur;return n&&!o&&(e._time*=s/e._dur),e._dur=s,e._tDur=l?l<0?1e10:Er(s*(l+1)+e._rDelay*l):s,n>0&&!o&&Fu(e,e._tTime=e._tDur*n),e.parent&&Uu(e),t||Ts(e.parent,e),e},Bp=function(e){return e instanceof Kr?Ts(e):Oo(e,e._dur)},cw={_start:0,endTime:Ia,totalDuration:Ia},bn=function h(e,r,t){var o=e.labels,l=e._recent||cw,s=e.duration()>=Mn?l.endTime(!1):e._dur,n,i,u;return jr(r)&&(isNaN(r)||r in o)?(i=r.charAt(0),u=r.substr(-1)==="%",n=r.indexOf("="),i==="<"||i===">"?(n>=0&&(r=r.replace(/=/,"")),(i==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(n<0?l:t).totalDuration()/100:1)):n<0?(r in o||(o[r]=s),o[r]):(i=parseFloat(r.charAt(n-1)+r.substr(n+1)),u&&t&&(i=i/100*(Wr(t)?t[0]:t).totalDuration()),n>1?h(e,r.substr(0,n-1),t)+i:s+i)):r==null?s:+r},Ma=function(e,r,t){var o=wi(r[1]),l=(o?2:1)+(e<2?0:1),s=r[l],n,i;if(o&&(s.duration=r[1]),s.parent=t,e){for(n=s,i=t;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=tn(i.vars.inherit)&&i.parent;s.immediateRender=tn(n.immediateRender),e<2?s.runBackwards=1:s.startAt=r[l-1]}return new vr(r[0],s,r[l+1])},ss=function(e,r){return e||e===0?r(e):r},Ka=function(e,r,t){return t<e?e:t>r?r:t},Vr=function(e,r){return!jr(e)||!(r=Qx.exec(e))?"":r[1]},dw=function(e,r,t){return ss(t,function(o){return Ka(e,r,o)})},Ad=[].slice,o0=function(e,r){return e&&ri(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ri(e[0]))&&!e.nodeType&&e!==Xn},hw=function(e,r,t){return t===void 0&&(t=[]),e.forEach(function(o){var l;return jr(o)&&!r||o0(o,1)?(l=t).push.apply(l,En(o)):t.push(o)})||t},En=function(e,r,t){return rr&&!r&&rr.selector?rr.selector(e):jr(e)&&!t&&(Sd||!Io())?Ad.call((r||Eh).querySelectorAll(e),0):Wr(e)?hw(e,t):o0(e)?Ad.call(e,0):e?[e]:[]},jd=function(e){return e=En(e)[0]||Oa("Invalid scope")||{},function(r){var t=e.current||e.nativeElement||e;return En(r,t.querySelectorAll?t:t===e?Oa("Invalid scope")||Eh.createElement("div"):e)}},a0=function(e){return e.sort(function(){return .5-Math.random()})},l0=function(e){if(dr(e))return e;var r=ri(e)?e:{each:e},t=As(r.ease),o=r.from||0,l=parseFloat(r.base)||0,s={},n=o>0&&o<1,i=isNaN(o)||n,u=r.axis,f=o,m=o;return jr(o)?f=m={center:.5,edges:.5,end:1}[o]||0:!n&&i&&(f=o[0],m=o[1]),function(a,c,d){var p=(d||r).length,g=s[p],y,v,_,x,w,E,T,M,j;if(!g){if(j=r.grid==="auto"?0:(r.grid||[1,Mn])[1],!j){for(T=-Mn;T<(T=d[j++].getBoundingClientRect().left)&&j<p;);j<p&&j--}for(g=s[p]=[],y=i?Math.min(j,p)*f-.5:o%j,v=j===Mn?0:i?p*m/j-.5:o/j|0,T=0,M=Mn,E=0;E<p;E++)_=E%j-y,x=v-(E/j|0),g[E]=w=u?Math.abs(u==="y"?x:_):Vy(_*_+x*x),w>T&&(T=w),w<M&&(M=w);o==="random"&&a0(g),g.max=T-M,g.min=M,g.v=p=(parseFloat(r.amount)||parseFloat(r.each)*(j>p?p-1:u?u==="y"?p/j:j:Math.max(j,p/j))||0)*(o==="edges"?-1:1),g.b=p<0?l-p:l,g.u=Vr(r.amount||r.each)||0,t=t&&p<0?v0(t):t}return p=(g[a]-g.min)/g.max||0,Er(g.b+(t?t(p):p)*g.v)+g.u}},Cd=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(t){var o=Er(Math.round(parseFloat(t)/e)*e*r);return(o-o%1)/r+(wi(t)?0:Vr(t))}},u0=function(e,r){var t=Wr(e),o,l;return!t&&ri(e)&&(o=t=e.radius||Mn,e.values?(e=En(e.values),(l=!wi(e[0]))&&(o*=o)):e=Cd(e.increment)),ss(r,t?dr(e)?function(s){return l=e(s),Math.abs(l-s)<=o?l:s}:function(s){for(var n=parseFloat(l?s.x:s),i=parseFloat(l?s.y:0),u=Mn,f=0,m=e.length,a,c;m--;)l?(a=e[m].x-n,c=e[m].y-i,a=a*a+c*c):a=Math.abs(e[m]-n),a<u&&(u=a,f=m);return f=!o||u<=o?e[f]:s,l||f===s||wi(s)?f:f+Vr(s)}:Cd(e))},c0=function(e,r,t,o){return ss(Wr(e)?!r:t===!0?!!(t=0):!o,function(){return Wr(e)?e[~~(Math.random()*e.length)]:(t=t||1e-5)&&(o=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((e-t/2+Math.random()*(r-e+t*.99))/t)*t*o)/o})},fw=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(o){return r.reduce(function(l,s){return s(l)},o)}},pw=function(e,r){return function(t){return e(parseFloat(t))+(r||Vr(t))}},mw=function(e,r,t){return h0(e,r,0,1,t)},d0=function(e,r,t){return ss(t,function(o){return e[~~r(o)]})},gw=function h(e,r,t){var o=r-e;return Wr(e)?d0(e,h(0,e.length),r):ss(t,function(l){return(o+(l-e)%o)%o+e})},yw=function h(e,r,t){var o=r-e,l=o*2;return Wr(e)?d0(e,h(0,e.length-1),r):ss(t,function(s){return s=(l+(s-e)%l)%l||0,e+(s>o?l-s:s)})},ka=function(e){for(var r=0,t="",o,l,s,n;~(o=e.indexOf("random(",r));)s=e.indexOf(")",o),n=e.charAt(o+7)==="[",l=e.substr(o+7,s-o-7).match(n?Xy:wd),t+=e.substr(r,o-r)+c0(n?l:+l[0],n?0:+l[1],+l[2]||1e-5),r=s+1;return t+e.substr(r,e.length-r)},h0=function(e,r,t,o,l){var s=r-e,n=o-t;return ss(l,function(i){return t+((i-e)/s*n||0)})},vw=function h(e,r,t,o){var l=isNaN(e+r)?0:function(c){return(1-c)*e+c*r};if(!l){var s=jr(e),n={},i,u,f,m,a;if(t===!0&&(o=1)&&(t=null),s)e={p:e},r={p:r};else if(Wr(e)&&!Wr(r)){for(f=[],m=e.length,a=m-2,u=1;u<m;u++)f.push(h(e[u-1],e[u]));m--,l=function(d){d*=m;var p=Math.min(a,~~d);return f[p](d-p)},t=r}else o||(e=Ls(Wr(e)?[]:{},e));if(!f){for(i in r)Ph.call(n,e,i,"get",r[i]);l=function(d){return Oh(d,n)||(s?e.p:e)}}}return ss(t,l)},zp=function(e,r,t){var o=e.labels,l=Mn,s,n,i;for(s in o)n=o[s]-r,n<0==!!t&&n&&l>(n=Math.abs(n))&&(i=s,l=n);return i},mn=function(e,r,t){var o=e.vars,l=o[r],s=rr,n=e._ctx,i,u,f;if(l)return i=o[r+"Params"],u=o.callbackScope||e,t&&Ji.length&&mu(),n&&(rr=n),f=i?l.apply(u,i):l.call(u),rr=s,f},ha=function(e){return rs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Hr),e.progress()<1&&mn(e,"onInterrupt"),e},go,f0=[],p0=function(e){if(e)if(e=!e.name&&e.default||e,Mh()||e.headless){var r=e.name,t=dr(e),o=r&&!t&&e.init?function(){this._props=[]}:e,l={init:Ia,render:Oh,add:Ph,kill:Ow,modifier:Dw,rawVars:0},s={targetTest:0,get:0,getSetter:Dh,aliases:{},register:0};if(Io(),e!==o){if(dn[r])return;jn(o,jn(gu(e,l),s)),Ls(o.prototype,Ls(l,gu(e,s))),dn[o.prop=r]=o,e.targetTest&&(tu.push(o),Ah[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Ky(r,o),e.register&&e.register(ln,o,nn)}else f0.push(e)},Ht=255,fa={aqua:[0,Ht,Ht],lime:[0,Ht,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ht],navy:[0,0,128],white:[Ht,Ht,Ht],olive:[128,128,0],yellow:[Ht,Ht,0],orange:[Ht,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ht,0,0],pink:[Ht,192,203],cyan:[0,Ht,Ht],transparent:[Ht,Ht,Ht,0]},pc=function(e,r,t){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(t-r)*e*6:e<.5?t:e*3<2?r+(t-r)*(2/3-e)*6:r)*Ht+.5|0},m0=function(e,r,t){var o=e?wi(e)?[e>>16,e>>8&Ht,e&Ht]:0:fa.black,l,s,n,i,u,f,m,a,c,d;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fa[e])o=fa[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),s=e.charAt(2),n=e.charAt(3),e="#"+l+l+s+s+n+n+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&Ht,o&Ht,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&Ht,e&Ht]}else if(e.substr(0,3)==="hsl"){if(o=d=e.match(wd),!r)i=+o[0]%360/360,u=+o[1]/100,f=+o[2]/100,s=f<=.5?f*(u+1):f+u-f*u,l=f*2-s,o.length>3&&(o[3]*=1),o[0]=pc(i+1/3,l,s),o[1]=pc(i,l,s),o[2]=pc(i-1/3,l,s);else if(~e.indexOf("="))return o=e.match(Wy),t&&o.length<4&&(o[3]=1),o}else o=e.match(wd)||fa.transparent;o=o.map(Number)}return r&&!d&&(l=o[0]/Ht,s=o[1]/Ht,n=o[2]/Ht,m=Math.max(l,s,n),a=Math.min(l,s,n),f=(m+a)/2,m===a?i=u=0:(c=m-a,u=f>.5?c/(2-m-a):c/(m+a),i=m===l?(s-n)/c+(s<n?6:0):m===s?(n-l)/c+2:(l-s)/c+4,i*=60),o[0]=~~(i+.5),o[1]=~~(u*100+.5),o[2]=~~(f*100+.5)),t&&o.length<4&&(o[3]=1),o},g0=function(e){var r=[],t=[],o=-1;return e.split($i).forEach(function(l){var s=l.match(mo)||[];r.push.apply(r,s),t.push(o+=s.length+1)}),r.c=t,r},Gp=function(e,r,t){var o="",l=(e+o).match($i),s=r?"hsla(":"rgba(",n=0,i,u,f,m;if(!l)return e;if(l=l.map(function(a){return(a=m0(a,r,1))&&s+(r?a[0]+","+a[1]+"%,"+a[2]+"%,"+a[3]:a.join(","))+")"}),t&&(f=g0(e),i=t.c,i.join(o)!==f.c.join(o)))for(u=e.replace($i,"1").split(mo),m=u.length-1;n<m;n++)o+=u[n]+(~i.indexOf(n)?l.shift()||s+"0,0,0,0)":(f.length?f:l.length?l:t).shift());if(!u)for(u=e.split($i),m=u.length-1;n<m;n++)o+=u[n]+l[n];return o+u[m]},$i=function(){var h="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fa)h+="|"+e+"\\b";return new RegExp(h+")","gi")}(),_w=/hsl[a]?\(/,y0=function(e){var r=e.join(" "),t;if($i.lastIndex=0,$i.test(r))return t=_w.test(r),e[1]=Gp(e[1],t),e[0]=Gp(e[0],t,g0(e[1])),!0},Na,pn=function(){var h=Date.now,e=500,r=33,t=h(),o=t,l=1e3/240,s=l,n=[],i,u,f,m,a,c,d=function p(g){var y=h()-o,v=g===!0,_,x,w,E;if((y>e||y<0)&&(t+=y-r),o+=y,w=o-t,_=w-s,(_>0||v)&&(E=++m.frame,a=w-m.time*1e3,m.time=w=w/1e3,s+=_+(_>=l?4:l-_),x=1),v||(i=u(p)),x)for(c=0;c<n.length;c++)n[c](w,a,E,g)};return m={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(g){return a/(1e3/(g||60))},wake:function(){Yy&&(!Sd&&Mh()&&(Xn=Sd=window,Eh=Xn.document||{},yn.gsap=ln,(Xn.gsapVersions||(Xn.gsapVersions=[])).push(ln.version),Zy(pu||Xn.GreenSockGlobals||!Xn.gsap&&Xn||{}),f0.forEach(p0)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,i&&m.sleep(),u=f||function(g){return setTimeout(g,s-m.time*1e3+1|0)},Na=1,d(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(i),Na=0,u=Ia},lagSmoothing:function(g,y){e=g||1/0,r=Math.min(y||33,e)},fps:function(g){l=1e3/(g||240),s=m.time*1e3+l},add:function(g,y,v){var _=y?function(x,w,E,T){g(x,w,E,T),m.remove(_)}:g;return m.remove(g),n[v?"unshift":"push"](_),Io(),_},remove:function(g,y){~(y=n.indexOf(g))&&n.splice(y,1)&&c>=y&&c--},_listeners:n},m}(),Io=function(){return!Na&&pn.wake()},Rt={},bw=/^[\d.\-M][\d.\-,\s]/,xw=/["']/g,ww=function(e){for(var r={},t=e.substr(1,e.length-3).split(":"),o=t[0],l=1,s=t.length,n,i,u;l<s;l++)i=t[l],n=l!==s-1?i.lastIndexOf(","):i.length,u=i.substr(0,n),r[o]=isNaN(u)?u.replace(xw,"").trim():+u,o=i.substr(n+1).trim();return r},Sw=function(e){var r=e.indexOf("(")+1,t=e.indexOf(")"),o=e.indexOf("(",r);return e.substring(r,~o&&o<t?e.indexOf(")",t+1):t)},Mw=function(e){var r=(e+"").split("("),t=Rt[r[0]];return t&&r.length>1&&t.config?t.config.apply(null,~e.indexOf("{")?[ww(r[1])]:Sw(e).split(",").map(e0)):Rt._CE&&bw.test(e)?Rt._CE("",e):t},v0=function(e){return function(r){return 1-e(1-r)}},_0=function h(e,r){for(var t=e._first,o;t;)t instanceof Kr?h(t,r):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==r&&(t.timeline?h(t.timeline,r):(o=t._ease,t._ease=t._yEase,t._yEase=o,t._yoyo=r)),t=t._next},As=function(e,r){return e&&(dr(e)?e:Rt[e]||Mw(e))||r},Bs=function(e,r,t,o){t===void 0&&(t=function(i){return 1-r(1-i)}),o===void 0&&(o=function(i){return i<.5?r(i*2)/2:1-r((1-i)*2)/2});var l={easeIn:r,easeOut:t,easeInOut:o},s;return rn(e,function(n){Rt[n]=yn[n]=l,Rt[s=n.toLowerCase()]=t;for(var i in l)Rt[s+(i==="easeIn"?".in":i==="easeOut"?".out":".inOut")]=Rt[n+"."+i]=l[i]}),l},b0=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},mc=function h(e,r,t){var o=r>=1?r:1,l=(t||(e?.3:.45))/(r<1?r:1),s=l/xd*(Math.asin(1/o)||0),n=function(f){return f===1?1:o*Math.pow(2,-10*f)*$x((f-s)*l)+1},i=e==="out"?n:e==="in"?function(u){return 1-n(1-u)}:b0(n);return l=xd/l,i.config=function(u,f){return h(e,u,f)},i},gc=function h(e,r){r===void 0&&(r=1.70158);var t=function(s){return s?--s*s*((r+1)*s+r)+1:0},o=e==="out"?t:e==="in"?function(l){return 1-t(1-l)}:b0(t);return o.config=function(l){return h(e,l)},o};rn("Linear,Quad,Cubic,Quart,Quint,Strong",function(h,e){var r=e<5?e+1:e;Bs(h+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(t*2,r)/2:1-Math.pow((1-t)*2,r)/2})});Rt.Linear.easeNone=Rt.none=Rt.Linear.easeIn;Bs("Elastic",mc("in"),mc("out"),mc());(function(h,e){var r=1/e,t=2*r,o=2.5*r,l=function(n){return n<r?h*n*n:n<t?h*Math.pow(n-1.5/e,2)+.75:n<o?h*(n-=2.25/e)*n+.9375:h*Math.pow(n-2.625/e,2)+.984375};Bs("Bounce",function(s){return 1-l(1-s)},l)})(7.5625,2.75);Bs("Expo",function(h){return h?Math.pow(2,10*(h-1)):0});Bs("Circ",function(h){return-(Vy(1-h*h)-1)});Bs("Sine",function(h){return h===1?1:-Jx(h*Zx)+1});Bs("Back",gc("in"),gc("out"),gc());Rt.SteppedEase=Rt.steps=yn.SteppedEase={config:function(e,r){e===void 0&&(e=1);var t=1/e,o=e+(r?0:1),l=r?1:0,s=1-Zt;return function(n){return((o*Ka(0,s,n)|0)+l)*t}}};Ro.ease=Rt["quad.out"];rn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(h){return jh+=h+","+h+"Params,"});var x0=function(e,r){this.id=Kx++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:$y,this.set=r?r.getSetter:Dh},Ua=function(){function h(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,Oo(this,+r.duration,1,1),this.data=r.data,rr&&(this._ctx=rr,rr.data.push(this)),Na||pn.wake()}var e=h.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Oo(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,o){if(Io(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Fu(this,t),!l._dp||l.parent||n0(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Jn(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Zt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Qy(this,t,o)),this},e.time=function(t,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Fp(this))%(this._dur+this._rDelay)||(t?this._dur:0),o):this._time},e.totalProgress=function(t,o){return arguments.length?this.totalTime(this.totalDuration()*t,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+Fp(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,o){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*l,o):this._repeat?Do(this._tTime,l)+1:1},e.timeScale=function(t,o){if(!arguments.length)return this._rts===-Zt?0:this._rts;if(this._rts===t)return this;var l=this.parent&&this._ts?yu(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Zt?0:this._rts,this.totalTime(Ka(-Math.abs(this._delay),this._tDur,l),o!==!1),Uu(this),sw(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Io(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Zt&&(this._tTime-=Zt)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Jn(o,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(tn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var o=this.parent||this._dp;return o?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yu(o.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=tw);var o=Hr;return Hr=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),Hr=o,this},e.globalTime=function(t){for(var o=this,l=arguments.length?t:o.rawTime();o;)l=o._start+l/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(t):l},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Bp(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var o=this._time;return this._rDelay=t,Bp(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,o){return this.totalTime(bn(this,t),tn(o))},e.restart=function(t,o){return this.play().totalTime(t?-this._delay:0,tn(o))},e.play=function(t,o){return t!=null&&this.seek(t,o),this.reversed(!1).paused(!1)},e.reverse=function(t,o){return t!=null&&this.seek(t||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(t,o){return t!=null&&this.seek(t,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Zt,this},e.isActive=function(){var t=this.parent||this._dp,o=this._start,l;return!!(!t||this._ts&&this._initted&&t.isActive()&&(l=t.rawTime(!0))>=o&&l<this.endTime(!0)-Zt)},e.eventCallback=function(t,o,l){var s=this.vars;return arguments.length>1?(o?(s[t]=o,l&&(s[t+"Params"]=l),t==="onUpdate"&&(this._onUpdate=o)):delete s[t],this):s[t]},e.then=function(t){var o=this;return new Promise(function(l){var s=dr(t)?t:t0,n=function(){var u=o.then;o.then=null,dr(s)&&(s=s(o))&&(s.then||s===o)&&(o.then=u),l(s),o.then=u};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?n():o._prom=n})},e.kill=function(){ha(this)},h}();jn(Ua.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Zt,_prom:0,_ps:!1,_rts:1});var Kr=function(h){Gy(e,h);function e(t,o){var l;return t===void 0&&(t={}),l=h.call(this,t)||this,l.labels={},l.smoothChildTiming=!!t.smoothChildTiming,l.autoRemoveChildren=!!t.autoRemoveChildren,l._sort=tn(t.sortChildren),or&&Jn(t.parent||or,fi(l),o),t.reversed&&l.reverse(),t.paused&&l.paused(!0),t.scrollTrigger&&i0(fi(l),t.scrollTrigger),l}var r=e.prototype;return r.to=function(o,l,s){return Ma(0,arguments,this),this},r.from=function(o,l,s){return Ma(1,arguments,this),this},r.fromTo=function(o,l,s,n){return Ma(2,arguments,this),this},r.set=function(o,l,s){return l.duration=0,l.parent=this,Sa(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new vr(o,l,bn(this,s),1),this},r.call=function(o,l,s){return Jn(this,vr.delayedCall(0,o,l),s)},r.staggerTo=function(o,l,s,n,i,u,f){return s.duration=l,s.stagger=s.stagger||n,s.onComplete=u,s.onCompleteParams=f,s.parent=this,new vr(o,s,bn(this,i)),this},r.staggerFrom=function(o,l,s,n,i,u,f){return s.runBackwards=1,Sa(s).immediateRender=tn(s.immediateRender),this.staggerTo(o,l,s,n,i,u,f)},r.staggerFromTo=function(o,l,s,n,i,u,f,m){return n.startAt=s,Sa(n).immediateRender=tn(n.immediateRender),this.staggerTo(o,l,n,i,u,f,m)},r.render=function(o,l,s){var n=this._time,i=this._dirty?this.totalDuration():this._tDur,u=this._dur,f=o<=0?0:Er(o),m=this._zTime<0!=o<0&&(this._initted||!u),a,c,d,p,g,y,v,_,x,w,E,T;if(this!==or&&f>i&&o>=0&&(f=i),f!==this._tTime||s||m){if(n!==this._time&&u&&(f+=this._time-n,o+=this._time-n),a=f,x=this._start,_=this._ts,y=!_,m&&(u||(n=this._zTime),(o||!l)&&(this._zTime=o)),this._repeat){if(E=this._yoyo,g=u+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(g*100+o,l,s);if(a=Er(f%g),f===i?(p=this._repeat,a=u):(p=~~(f/g),p&&p===f/g&&(a=u,p--),a>u&&(a=u)),w=Do(this._tTime,g),!n&&this._tTime&&w!==p&&this._tTime-w*g-this._dur<=0&&(w=p),E&&p&1&&(a=u-a,T=1),p!==w&&!this._lock){var M=E&&w&1,j=M===(E&&p&1);if(p<w&&(M=!M),n=M?0:f%u?u:f,this._lock=1,this.render(n||(T?0:Er(p*g)),l,!u)._lock=0,this._tTime=f,!l&&this.parent&&mn(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),n&&n!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,i=this._tDur,j&&(this._lock=2,n=M?u:-1e-4,this.render(n,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;_0(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=uw(this,Er(n),Er(a)),v&&(f-=a-(a=v._start))),this._tTime=f,this._time=a,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,n=0),!n&&a&&!l&&!p&&(mn(this,"onStart"),this._tTime!==f))return this;if(a>=n&&o>=0)for(c=this._first;c;){if(d=c._next,(c._act||a>=c._start)&&c._ts&&v!==c){if(c.parent!==this)return this.render(o,l,s);if(c.render(c._ts>0?(a-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(a-c._start)*c._ts,l,s),a!==this._time||!this._ts&&!y){v=0,d&&(f+=this._zTime=-Zt);break}}c=d}else{c=this._last;for(var P=o<0?o:a;c;){if(d=c._prev,(c._act||P<=c._end)&&c._ts&&v!==c){if(c.parent!==this)return this.render(o,l,s);if(c.render(c._ts>0?(P-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(P-c._start)*c._ts,l,s||Hr&&(c._initted||c._startAt)),a!==this._time||!this._ts&&!y){v=0,d&&(f+=this._zTime=P?-Zt:Zt);break}}c=d}}if(v&&!l&&(this.pause(),v.render(a>=n?0:-Zt)._zTime=a>=n?1:-1,this._ts))return this._start=x,Uu(this),this.render(o,l,s);this._onUpdate&&!l&&mn(this,"onUpdate",!0),(f===i&&this._tTime>=this.totalDuration()||!f&&n)&&(x===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((o||!u)&&(f===i&&this._ts>0||!f&&this._ts<0)&&rs(this,1),!l&&!(o<0&&!n)&&(f||n||!i)&&(mn(this,f===i&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<i&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(o,l){var s=this;if(wi(l)||(l=bn(this,l,o)),!(o instanceof Ua)){if(Wr(o))return o.forEach(function(n){return s.add(n,l)}),this;if(jr(o))return this.addLabel(o,l);if(dr(o))o=vr.delayedCall(0,o);else return this}return this!==o?Jn(this,o,l):this},r.getChildren=function(o,l,s,n){o===void 0&&(o=!0),l===void 0&&(l=!0),s===void 0&&(s=!0),n===void 0&&(n=-Mn);for(var i=[],u=this._first;u;)u._start>=n&&(u instanceof vr?l&&i.push(u):(s&&i.push(u),o&&i.push.apply(i,u.getChildren(!0,l,s)))),u=u._next;return i},r.getById=function(o){for(var l=this.getChildren(1,1,1),s=l.length;s--;)if(l[s].vars.id===o)return l[s]},r.remove=function(o){return jr(o)?this.removeLabel(o):dr(o)?this.killTweensOf(o):(Nu(this,o),o===this._recent&&(this._recent=this._last),Ts(this))},r.totalTime=function(o,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Er(pn.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),h.prototype.totalTime.call(this,o,l),this._forcing=0,this):this._tTime},r.addLabel=function(o,l){return this.labels[o]=bn(this,l),this},r.removeLabel=function(o){return delete this.labels[o],this},r.addPause=function(o,l,s){var n=vr.delayedCall(0,l||Ia,s);return n.data="isPause",this._hasPause=1,Jn(this,n,bn(this,o))},r.removePause=function(o){var l=this._first;for(o=bn(this,o);l;)l._start===o&&l.data==="isPause"&&rs(l),l=l._next},r.killTweensOf=function(o,l,s){for(var n=this.getTweensOf(o,s),i=n.length;i--;)Vi!==n[i]&&n[i].kill(o,l);return this},r.getTweensOf=function(o,l){for(var s=[],n=En(o),i=this._first,u=wi(l),f;i;)i instanceof vr?rw(i._targets,n)&&(u?(!Vi||i._initted&&i._ts)&&i.globalTime(0)<=l&&i.globalTime(i.totalDuration())>l:!l||i.isActive())&&s.push(i):(f=i.getTweensOf(n,l)).length&&s.push.apply(s,f),i=i._next;return s},r.tweenTo=function(o,l){l=l||{};var s=this,n=bn(s,o),i=l,u=i.startAt,f=i.onStart,m=i.onStartParams,a=i.immediateRender,c,d=vr.to(s,jn({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:l.duration||Math.abs((n-(u&&"time"in u?u.time:s._time))/s.timeScale())||Zt,onStart:function(){if(s.pause(),!c){var g=l.duration||Math.abs((n-(u&&"time"in u?u.time:s._time))/s.timeScale());d._dur!==g&&Oo(d,g,0,1).render(d._time,!0,!0),c=1}f&&f.apply(d,m||[])}},l));return a?d.render(0):d},r.tweenFromTo=function(o,l,s){return this.tweenTo(l,jn({startAt:{time:bn(this,o)}},s))},r.recent=function(){return this._recent},r.nextLabel=function(o){return o===void 0&&(o=this._time),zp(this,bn(this,o))},r.previousLabel=function(o){return o===void 0&&(o=this._time),zp(this,bn(this,o),1)},r.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Zt)},r.shiftChildren=function(o,l,s){s===void 0&&(s=0);for(var n=this._first,i=this.labels,u;n;)n._start>=s&&(n._start+=o,n._end+=o),n=n._next;if(l)for(u in i)i[u]>=s&&(i[u]+=o);return Ts(this)},r.invalidate=function(o){var l=this._first;for(this._lock=0;l;)l.invalidate(o),l=l._next;return h.prototype.invalidate.call(this,o)},r.clear=function(o){o===void 0&&(o=!0);for(var l=this._first,s;l;)s=l._next,this.remove(l),l=s;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Ts(this)},r.totalDuration=function(o){var l=0,s=this,n=s._last,i=Mn,u,f,m;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-o:o));if(s._dirty){for(m=s.parent;n;)u=n._prev,n._dirty&&n.totalDuration(),f=n._start,f>i&&s._sort&&n._ts&&!s._lock?(s._lock=1,Jn(s,n,f-n._delay,1)._lock=0):i=f,f<0&&n._ts&&(l-=f,(!m&&!s._dp||m&&m.smoothChildTiming)&&(s._start+=f/s._ts,s._time-=f,s._tTime-=f),s.shiftChildren(-f,!1,-1/0),i=0),n._end>l&&n._ts&&(l=n._end),n=u;Oo(s,s===or&&s._time>l?s._time:l,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(o){if(or._ts&&(Qy(or,yu(o,or)),Jy=pn.frame),pn.frame>=Np){Np+=gn.autoSleep||120;var l=or._first;if((!l||!l._ts)&&gn.autoSleep&&pn._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||pn.sleep()}}},e}(Ua);jn(Kr.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ew=function(e,r,t,o,l,s,n){var i=new nn(this._pt,e,r,0,1,A0,null,l),u=0,f=0,m,a,c,d,p,g,y,v;for(i.b=t,i.e=o,t+="",o+="",(y=~o.indexOf("random("))&&(o=ka(o)),s&&(v=[t,o],s(v,e,r),t=v[0],o=v[1]),a=t.match(hc)||[];m=hc.exec(o);)d=m[0],p=o.substring(u,m.index),c?c=(c+1)%5:p.substr(-5)==="rgba("&&(c=1),d!==a[f++]&&(g=parseFloat(a[f-1])||0,i._pt={_next:i._pt,p:p||f===1?p:",",s:g,c:d.charAt(1)==="="?So(g,d)-g:parseFloat(d)-g,m:c&&c<4?Math.round:0},u=hc.lastIndex);return i.c=u<o.length?o.substring(u,o.length):"",i.fp=n,(qy.test(o)||y)&&(i.e=0),this._pt=i,i},Ph=function(e,r,t,o,l,s,n,i,u,f){dr(o)&&(o=o(l||0,e,s));var m=e[r],a=t!=="get"?t:dr(m)?u?e[r.indexOf("set")||!dr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():m,c=dr(m)?u?Pw:E0:Rh,d;if(jr(o)&&(~o.indexOf("random(")&&(o=ka(o)),o.charAt(1)==="="&&(d=So(a,o)+(Vr(a)||0),(d||d===0)&&(o=d))),!f||a!==o||Pd)return!isNaN(a*o)&&o!==""?(d=new nn(this._pt,e,r,+a||0,o-(a||0),typeof m=="boolean"?Rw:T0,0,c),u&&(d.fp=u),n&&d.modifier(n,this,e),this._pt=d):(!m&&!(r in e)&&Th(r,o),Ew.call(this,e,r,a,o,c,i||gn.stringFilter,u))},Tw=function(e,r,t,o,l){if(dr(e)&&(e=Ea(e,l,r,t,o)),!ri(e)||e.style&&e.nodeType||Wr(e)||Hy(e))return jr(e)?Ea(e,l,r,t,o):e;var s={},n;for(n in e)s[n]=Ea(e[n],l,r,t,o);return s},w0=function(e,r,t,o,l,s){var n,i,u,f;if(dn[e]&&(n=new dn[e]).init(l,n.rawVars?r[e]:Tw(r[e],o,l,s,t),t,o,s)!==!1&&(t._pt=i=new nn(t._pt,l,e,0,1,n.render,n,0,n.priority),t!==go))for(u=t._ptLookup[t._targets.indexOf(l)],f=n._props.length;f--;)u[n._props[f]]=i;return n},Vi,Pd,Lh=function h(e,r,t){var o=e.vars,l=o.ease,s=o.startAt,n=o.immediateRender,i=o.lazy,u=o.onUpdate,f=o.runBackwards,m=o.yoyoEase,a=o.keyframes,c=o.autoRevert,d=e._dur,p=e._startAt,g=e._targets,y=e.parent,v=y&&y.data==="nested"?y.vars.targets:g,_=e._overwrite==="auto"&&!wh,x=e.timeline,w,E,T,M,j,P,L,N,O,k,X,Y,q;if(x&&(!a||!l)&&(l="none"),e._ease=As(l,Ro.ease),e._yEase=m?v0(As(m===!0?l:m,Ro.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!x&&!!o.runBackwards,!x||a&&!o.stagger){if(N=g[0]?Es(g[0]).harness:0,Y=N&&o[N.prop],w=gu(o,Ah),p&&(p._zTime<0&&p.progress(1),r<0&&f&&n&&!c?p.render(-1,!0):p.revert(f&&d?eu:ew),p._lazy=0),s){if(rs(e._startAt=vr.set(g,jn({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&tn(i),startAt:null,delay:0,onUpdate:u&&function(){return mn(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Hr||!n&&!c)&&e._startAt.revert(eu),n&&d&&r<=0&&t<=0){r&&(e._zTime=r);return}}else if(f&&d&&!p){if(r&&(n=!1),T=jn({overwrite:!1,data:"isFromStart",lazy:n&&!p&&tn(i),immediateRender:n,stagger:0,parent:y},w),Y&&(T[N.prop]=Y),rs(e._startAt=vr.set(g,T)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Hr?e._startAt.revert(eu):e._startAt.render(-1,!0)),e._zTime=r,!n)h(e._startAt,Zt,Zt);else if(!r)return}for(e._pt=e._ptCache=0,i=d&&tn(i)||i&&!d,E=0;E<g.length;E++){if(j=g[E],L=j._gsap||Ch(g)[E]._gsap,e._ptLookup[E]=k={},Md[L.id]&&Ji.length&&mu(),X=v===g?E:v.indexOf(j),N&&(O=new N).init(j,Y||w,e,X,v)!==!1&&(e._pt=M=new nn(e._pt,j,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(H){k[H]=M}),O.priority&&(P=1)),!N||Y)for(T in w)dn[T]&&(O=w0(T,w,e,X,j,v))?O.priority&&(P=1):k[T]=M=Ph.call(e,j,T,"get",w[T],X,v,0,o.stringFilter);e._op&&e._op[E]&&e.kill(j,e._op[E]),_&&e._pt&&(Vi=e,or.killTweensOf(j,k,e.globalTime(r)),q=!e.parent,Vi=0),e._pt&&i&&(Md[L.id]=1)}P&&j0(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!q,a&&r<=0&&x.render(Mn,!0,!0)},Aw=function(e,r,t,o,l,s,n,i){var u=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,m,a,c;if(!u)for(u=e._ptCache[r]=[],a=e._ptLookup,c=e._targets.length;c--;){if(f=a[c][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return Pd=1,e.vars[r]="+=0",Lh(e,n),Pd=0,i?Oa(r+" not eligible for reset"):1;u.push(f)}for(c=u.length;c--;)m=u[c],f=m._pt||m,f.s=(o||o===0)&&!l?o:f.s+(o||0)+s*f.c,f.c=t-f.s,m.e&&(m.e=hr(t)+Vr(m.e)),m.b&&(m.b=f.s+Vr(m.b))},jw=function(e,r){var t=e[0]?Es(e[0]).harness:0,o=t&&t.aliases,l,s,n,i;if(!o)return r;l=Ls({},r);for(s in o)if(s in l)for(i=o[s].split(","),n=i.length;n--;)l[i[n]]=l[s];return l},Cw=function(e,r,t,o){var l=r.ease||o||"power1.inOut",s,n;if(Wr(r))n=t[e]||(t[e]=[]),r.forEach(function(i,u){return n.push({t:u/(r.length-1)*100,v:i,e:l})});else for(s in r)n=t[s]||(t[s]=[]),s==="ease"||n.push({t:parseFloat(e),v:r[s],e:l})},Ea=function(e,r,t,o,l){return dr(e)?e.call(r,t,o,l):jr(e)&&~e.indexOf("random(")?ka(e):e},S0=jh+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",M0={};rn(S0+",id,stagger,delay,duration,paused,scrollTrigger",function(h){return M0[h]=1});var vr=function(h){Gy(e,h);function e(t,o,l,s){var n;typeof o=="number"&&(l.duration=o,o=l,l=null),n=h.call(this,s?o:Sa(o))||this;var i=n.vars,u=i.duration,f=i.delay,m=i.immediateRender,a=i.stagger,c=i.overwrite,d=i.keyframes,p=i.defaults,g=i.scrollTrigger,y=i.yoyoEase,v=o.parent||or,_=(Wr(t)||Hy(t)?wi(t[0]):"length"in o)?[t]:En(t),x,w,E,T,M,j,P,L;if(n._targets=_.length?Ch(_):Oa("GSAP target "+t+" not found. https://gsap.com",!gn.nullTargetWarn)||[],n._ptLookup=[],n._overwrite=c,d||a||fl(u)||fl(f)){if(o=n.vars,x=n.timeline=new Kr({data:"nested",defaults:p||{},targets:v&&v.data==="nested"?v.vars.targets:_}),x.kill(),x.parent=x._dp=fi(n),x._start=0,a||fl(u)||fl(f)){if(T=_.length,P=a&&l0(a),ri(a))for(M in a)~S0.indexOf(M)&&(L||(L={}),L[M]=a[M]);for(w=0;w<T;w++)E=gu(o,M0),E.stagger=0,y&&(E.yoyoEase=y),L&&Ls(E,L),j=_[w],E.duration=+Ea(u,fi(n),w,j,_),E.delay=(+Ea(f,fi(n),w,j,_)||0)-n._delay,!a&&T===1&&E.delay&&(n._delay=f=E.delay,n._start+=f,E.delay=0),x.to(j,E,P?P(w,j,_):0),x._ease=Rt.none;x.duration()?u=f=0:n.timeline=0}else if(d){Sa(jn(x.vars.defaults,{ease:"none"})),x._ease=As(d.ease||o.ease||"none");var N=0,O,k,X;if(Wr(d))d.forEach(function(Y){return x.to(_,Y,">")}),x.duration();else{E={};for(M in d)M==="ease"||M==="easeEach"||Cw(M,d[M],E,d.easeEach);for(M in E)for(O=E[M].sort(function(Y,q){return Y.t-q.t}),N=0,w=0;w<O.length;w++)k=O[w],X={ease:k.e,duration:(k.t-(w?O[w-1].t:0))/100*u},X[M]=k.v,x.to(_,X,N),N+=X.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||n.duration(u=x.duration())}else n.timeline=0;return c===!0&&!wh&&(Vi=fi(n),or.killTweensOf(_),Vi=0),Jn(v,fi(n),l),o.reversed&&n.reverse(),o.paused&&n.paused(!0),(m||!u&&!d&&n._start===Er(v._time)&&tn(m)&&ow(fi(n))&&v.data!=="nested")&&(n._tTime=-Zt,n.render(Math.max(0,-f)||0)),g&&i0(fi(n),g),n}var r=e.prototype;return r.render=function(o,l,s){var n=this._time,i=this._tDur,u=this._dur,f=o<0,m=o>i-Zt&&!f?i:o<Zt?0:o,a,c,d,p,g,y,v,_,x;if(!u)lw(this,o,l,s);else if(m!==this._tTime||!o||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(a=m,_=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&f)return this.totalTime(p*100+o,l,s);if(a=Er(m%p),m===i?(d=this._repeat,a=u):(d=~~(m/p),d&&d===Er(m/p)&&(a=u,d--),a>u&&(a=u)),y=this._yoyo&&d&1,y&&(x=this._yEase,a=u-a),g=Do(this._tTime,p),a===n&&!s&&this._initted&&d===g)return this._tTime=m,this;d!==g&&(_&&this._yEase&&_0(_,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==p&&this._initted&&(this._lock=s=1,this.render(Er(p*d),!0).invalidate()._lock=0))}if(!this._initted){if(s0(this,f?o:a,s,l,m))return this._tTime=0,this;if(n!==this._time&&!(s&&this.vars.repeatRefresh&&d!==g))return this;if(u!==this._dur)return this.render(o,l,s)}if(this._tTime=m,this._time=a,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(a/u),this._from&&(this.ratio=v=1-v),a&&!n&&!l&&!d&&(mn(this,"onStart"),this._tTime!==m))return this;for(c=this._pt;c;)c.r(v,c.d),c=c._next;_&&_.render(o<0?o:_._dur*_._ease(a/this._dur),l,s)||this._startAt&&(this._zTime=o),this._onUpdate&&!l&&(f&&Ed(this,o,l,s),mn(this,"onUpdate")),this._repeat&&d!==g&&this.vars.onRepeat&&!l&&this.parent&&mn(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(f&&!this._onUpdate&&Ed(this,o,!0,!0),(o||!u)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&rs(this,1),!l&&!(f&&!n)&&(m||n||y)&&(mn(this,m===i?"onComplete":"onReverseComplete",!0),this._prom&&!(m<i&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),h.prototype.invalidate.call(this,o)},r.resetTo=function(o,l,s,n,i){Na||pn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||Lh(this,u),f=this._ease(u/this._dur),Aw(this,o,l,s,n,f,u,i)?this.resetTo(o,l,s,n,1):(Fu(this,0),this.parent||r0(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(o,l){if(l===void 0&&(l="all"),!o&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?ha(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(o,l,Vi&&Vi.vars.overwrite!==!0)._first||ha(this),this.parent&&s!==this.timeline.totalDuration()&&Oo(this,this._dur*this.timeline._tDur/s,0,1),this}var n=this._targets,i=o?En(o):n,u=this._ptLookup,f=this._pt,m,a,c,d,p,g,y;if((!l||l==="all")&&iw(n,i))return l==="all"&&(this._pt=0),ha(this);for(m=this._op=this._op||[],l!=="all"&&(jr(l)&&(p={},rn(l,function(v){return p[v]=1}),l=p),l=jw(n,l)),y=n.length;y--;)if(~i.indexOf(n[y])){a=u[y],l==="all"?(m[y]=l,d=a,c={}):(c=m[y]=m[y]||{},d=l);for(p in d)g=a&&a[p],g&&((!("kill"in g.d)||g.d.kill(p)===!0)&&Nu(this,g,"_pt"),delete a[p]),c!=="all"&&(c[p]=1)}return this._initted&&!this._pt&&f&&ha(this),this},e.to=function(o,l){return new e(o,l,arguments[2])},e.from=function(o,l){return Ma(1,arguments)},e.delayedCall=function(o,l,s,n){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:l,onReverseComplete:l,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:n})},e.fromTo=function(o,l,s){return Ma(2,arguments)},e.set=function(o,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(o,l)},e.killTweensOf=function(o,l,s){return or.killTweensOf(o,l,s)},e}(Ua);jn(vr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});rn("staggerTo,staggerFrom,staggerFromTo",function(h){vr[h]=function(){var e=new Kr,r=Ad.call(arguments,0);return r.splice(h==="staggerFromTo"?5:4,0,0),e[h].apply(e,r)}});var Rh=function(e,r,t){return e[r]=t},E0=function(e,r,t){return e[r](t)},Pw=function(e,r,t,o){return e[r](o.fp,t)},Lw=function(e,r,t){return e.setAttribute(r,t)},Dh=function(e,r){return dr(e[r])?E0:Sh(e[r])&&e.setAttribute?Lw:Rh},T0=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Rw=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},A0=function(e,r){var t=r._pt,o="";if(!e&&r.b)o=r.b;else if(e===1&&r.e)o=r.e;else{for(;t;)o=t.p+(t.m?t.m(t.s+t.c*e):Math.round((t.s+t.c*e)*1e4)/1e4)+o,t=t._next;o+=r.c}r.set(r.t,r.p,o,r)},Oh=function(e,r){for(var t=r._pt;t;)t.r(e,t.d),t=t._next},Dw=function(e,r,t,o){for(var l=this._pt,s;l;)s=l._next,l.p===o&&l.modifier(e,r,t),l=s},Ow=function(e){for(var r=this._pt,t,o;r;)o=r._next,r.p===e&&!r.op||r.op===e?Nu(this,r,"_pt"):r.dep||(t=1),r=o;return!t},Iw=function(e,r,t,o){o.mSet(e,r,o.m.call(o.tween,t,o.mt),o)},j0=function(e){for(var r=e._pt,t,o,l,s;r;){for(t=r._next,o=l;o&&o.pr>r.pr;)o=o._next;(r._prev=o?o._prev:s)?r._prev._next=r:l=r,(r._next=o)?o._prev=r:s=r,r=t}e._pt=l},nn=function(){function h(r,t,o,l,s,n,i,u,f){this.t=t,this.s=l,this.c=s,this.p=o,this.r=n||T0,this.d=i||this,this.set=u||Rh,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=h.prototype;return e.modifier=function(t,o,l){this.mSet=this.mSet||this.set,this.set=Iw,this.m=t,this.mt=l,this.tween=o},h}();rn(jh+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(h){return Ah[h]=1});yn.TweenMax=yn.TweenLite=vr;yn.TimelineLite=yn.TimelineMax=Kr;or=new Kr({sortChildren:!1,defaults:Ro,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gn.stringFilter=y0;var js=[],ru={},kw=[],Vp=0,Nw=0,yc=function(e){return(ru[e]||kw).map(function(r){return r()})},Ld=function(){var e=Date.now(),r=[];e-Vp>2&&(yc("matchMediaInit"),js.forEach(function(t){var o=t.queries,l=t.conditions,s,n,i,u;for(n in o)s=Xn.matchMedia(o[n]).matches,s&&(i=1),s!==l[n]&&(l[n]=s,u=1);u&&(t.revert(),i&&r.push(t))}),yc("matchMediaRevert"),r.forEach(function(t){return t.onMatch(t,function(o){return t.add(null,o)})}),Vp=e,yc("matchMedia"))},C0=function(){function h(r,t){this.selector=t&&jd(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Nw++,r&&this.add(r)}var e=h.prototype;return e.add=function(t,o,l){dr(t)&&(l=o,o=t,t=dr);var s=this,n=function(){var u=rr,f=s.selector,m;return u&&u!==s&&u.data.push(s),l&&(s.selector=jd(l)),rr=s,m=o.apply(s,arguments),dr(m)&&s._r.push(m),rr=u,s.selector=f,s.isReverted=!1,m};return s.last=n,t===dr?n(s,function(i){return s.add(null,i)}):t?s[t]=n:n},e.ignore=function(t){var o=rr;rr=null,t(this),rr=o},e.getTweens=function(){var t=[];return this.data.forEach(function(o){return o instanceof h?t.push.apply(t,o.getTweens()):o instanceof vr&&!(o.parent&&o.parent.data==="nested")&&t.push(o)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,o){var l=this;if(t?function(){for(var n=l.getTweens(),i=l.data.length,u;i--;)u=l.data[i],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(f){return n.splice(n.indexOf(f),1)}));for(n.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,m){return m.g-f.g||-1/0}).forEach(function(f){return f.t.revert(t)}),i=l.data.length;i--;)u=l.data[i],u instanceof Kr?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof vr)&&u.revert&&u.revert(t);l._r.forEach(function(f){return f(t,l)}),l.isReverted=!0}():this.data.forEach(function(n){return n.kill&&n.kill()}),this.clear(),o)for(var s=js.length;s--;)js[s].id===this.id&&js.splice(s,1)},e.revert=function(t){this.kill(t||{})},h}(),Uw=function(){function h(r){this.contexts=[],this.scope=r,rr&&rr.data.push(this)}var e=h.prototype;return e.add=function(t,o,l){ri(t)||(t={matches:t});var s=new C0(0,l||this.scope),n=s.conditions={},i,u,f;rr&&!s.selector&&(s.selector=rr.selector),this.contexts.push(s),o=s.add("onMatch",o),s.queries=t;for(u in t)u==="all"?f=1:(i=Xn.matchMedia(t[u]),i&&(js.indexOf(s)<0&&js.push(s),(n[u]=i.matches)&&(f=1),i.addListener?i.addListener(Ld):i.addEventListener("change",Ld)));return f&&o(s,function(m){return s.add(null,m)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(o){return o.kill(t,!0)})},h}(),vu={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];r.forEach(function(o){return p0(o)})},timeline:function(e){return new Kr(e)},getTweensOf:function(e,r){return or.getTweensOf(e,r)},getProperty:function(e,r,t,o){jr(e)&&(e=En(e)[0]);var l=Es(e||{}).get,s=t?t0:e0;return t==="native"&&(t=""),e&&(r?s((dn[r]&&dn[r].get||l)(e,r,t,o)):function(n,i,u){return s((dn[n]&&dn[n].get||l)(e,n,i,u))})},quickSetter:function(e,r,t){if(e=En(e),e.length>1){var o=e.map(function(f){return ln.quickSetter(f,r,t)}),l=o.length;return function(f){for(var m=l;m--;)o[m](f)}}e=e[0]||{};var s=dn[r],n=Es(e),i=n.harness&&(n.harness.aliases||{})[r]||r,u=s?function(f){var m=new s;go._pt=0,m.init(e,t?f+t:f,go,0,[e]),m.render(1,m),go._pt&&Oh(1,go)}:n.set(e,i);return s?u:function(f){return u(e,i,t?f+t:f,n,1)}},quickTo:function(e,r,t){var o,l=ln.to(e,Ls((o={},o[r]="+=0.1",o.paused=!0,o),t||{})),s=function(i,u,f){return l.resetTo(r,i,u,f)};return s.tween=l,s},isTweening:function(e){return or.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=As(e.ease,Ro.ease)),Up(Ro,e||{})},config:function(e){return Up(gn,e||{})},registerEffect:function(e){var r=e.name,t=e.effect,o=e.plugins,l=e.defaults,s=e.extendTimeline;(o||"").split(",").forEach(function(n){return n&&!dn[n]&&!yn[n]&&Oa(r+" effect requires "+n+" plugin.")}),fc[r]=function(n,i,u){return t(En(n),jn(i||{},l),u)},s&&(Kr.prototype[r]=function(n,i,u){return this.add(fc[r](n,ri(i)?i:(u=i)&&{},this),u)})},registerEase:function(e,r){Rt[e]=As(r)},parseEase:function(e,r){return arguments.length?As(e,r):Rt},getById:function(e){return or.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var t=new Kr(e),o,l;for(t.smoothChildTiming=tn(e.smoothChildTiming),or.remove(t),t._dp=0,t._time=t._tTime=or._time,o=or._first;o;)l=o._next,(r||!(!o._dur&&o instanceof vr&&o.vars.onComplete===o._targets[0]))&&Jn(t,o,o._start-o._delay),o=l;return Jn(or,t,0),t},context:function(e,r){return e?new C0(e,r):rr},matchMedia:function(e){return new Uw(e)},matchMediaRefresh:function(){return js.forEach(function(e){var r=e.conditions,t,o;for(o in r)r[o]&&(r[o]=!1,t=1);t&&e.revert()})||Ld()},addEventListener:function(e,r){var t=ru[e]||(ru[e]=[]);~t.indexOf(r)||t.push(r)},removeEventListener:function(e,r){var t=ru[e],o=t&&t.indexOf(r);o>=0&&t.splice(o,1)},utils:{wrap:gw,wrapYoyo:yw,distribute:l0,random:c0,snap:u0,normalize:mw,getUnit:Vr,clamp:dw,splitColor:m0,toArray:En,selector:jd,mapRange:h0,pipe:fw,unitize:pw,interpolate:vw,shuffle:a0},install:Zy,effects:fc,ticker:pn,updateRoot:Kr.updateRoot,plugins:dn,globalTimeline:or,core:{PropTween:nn,globals:Ky,Tween:vr,Timeline:Kr,Animation:Ua,getCache:Es,_removeLinkedListItem:Nu,reverting:function(){return Hr},context:function(e){return e&&rr&&(rr.data.push(e),e._ctx=rr),rr},suppressOverwrites:function(e){return wh=e}}};rn("to,from,fromTo,delayedCall,set,killTweensOf",function(h){return vu[h]=vr[h]});pn.add(Kr.updateRoot);go=vu.to({},{duration:0});var Fw=function(e,r){for(var t=e._pt;t&&t.p!==r&&t.op!==r&&t.fp!==r;)t=t._next;return t},Bw=function(e,r){var t=e._targets,o,l,s;for(o in r)for(l=t.length;l--;)s=e._ptLookup[l][o],s&&(s=s.d)&&(s._pt&&(s=Fw(s,o)),s&&s.modifier&&s.modifier(r[o],e,t[l],o))},vc=function(e,r){return{name:e,rawVars:1,init:function(o,l,s){s._onInit=function(n){var i,u;if(jr(l)&&(i={},rn(l,function(f){return i[f]=1}),l=i),r){i={};for(u in l)i[u]=r(l[u]);l=i}Bw(n,l)}}}},ln=vu.registerPlugin({name:"attr",init:function(e,r,t,o,l){var s,n,i;this.tween=t;for(s in r)i=e.getAttribute(s)||"",n=this.add(e,"setAttribute",(i||0)+"",r[s],o,l,0,0,s),n.op=s,n.b=i,this._props.push(s)},render:function(e,r){for(var t=r._pt;t;)Hr?t.set(t.t,t.p,t.b,t):t.r(e,t.d),t=t._next}},{name:"endArray",init:function(e,r){for(var t=r.length;t--;)this.add(e,t,e[t]||0,r[t],0,0,0,0,0,1)}},vc("roundProps",Cd),vc("modifiers"),vc("snap",u0))||vu;vr.version=Kr.version=ln.version="3.12.5";Yy=1;Mh()&&Io();Rt.Power0;Rt.Power1;Rt.Power2;Rt.Power3;Rt.Power4;Rt.Linear;Rt.Quad;Rt.Cubic;Rt.Quart;Rt.Quint;Rt.Strong;Rt.Elastic;Rt.Back;Rt.SteppedEase;Rt.Bounce;Rt.Sine;Rt.Expo;Rt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Hp,Hi,Mo,Ih,_s,Wp,kh,zw=function(){return typeof window<"u"},Si={},fs=180/Math.PI,Eo=Math.PI/180,Ys=Math.atan2,qp=1e8,Nh=/([A-Z])/g,Gw=/(left|right|width|margin|padding|x)/i,Vw=/[\s,\(]\S/,Qn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Rd=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Hw=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Ww=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},qw=function(e,r){var t=r.s+r.c*e;r.set(r.t,r.p,~~(t+(t<0?-.5:.5))+r.u,r)},P0=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},L0=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},Xw=function(e,r,t){return e.style[r]=t},Yw=function(e,r,t){return e.style.setProperty(r,t)},Zw=function(e,r,t){return e._gsap[r]=t},Kw=function(e,r,t){return e._gsap.scaleX=e._gsap.scaleY=t},Jw=function(e,r,t,o,l){var s=e._gsap;s.scaleX=s.scaleY=t,s.renderTransform(l,s)},$w=function(e,r,t,o,l){var s=e._gsap;s[r]=t,s.renderTransform(l,s)},ar="transform",sn=ar+"Origin",Qw=function h(e,r){var t=this,o=this.target,l=o.style,s=o._gsap;if(e in Si&&l){if(this.tfm=this.tfm||{},e!=="transform")e=Qn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(n){return t.tfm[n]=mi(o,n)}):this.tfm[e]=s.x?s[e]:mi(o,e),e===sn&&(this.tfm.zOrigin=s.zOrigin);else return Qn.transform.split(",").forEach(function(n){return h.call(t,n,r)});if(this.props.indexOf(ar)>=0)return;s.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(sn,r,"")),e=ar}(l||r)&&this.props.push(e,r,l[e])},R0=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},eS=function(){var e=this.props,r=this.target,t=r.style,o=r._gsap,l,s;for(l=0;l<e.length;l+=3)e[l+1]?r[e[l]]=e[l+2]:e[l+2]?t[e[l]]=e[l+2]:t.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(Nh,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)o[s]=this.tfm[s];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),l=kh(),(!l||!l.isStart)&&!t[ar]&&(R0(t),o.zOrigin&&t[sn]&&(t[sn]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},D0=function(e,r){var t={target:e,props:[],revert:eS,save:Qw};return e._gsap||ln.core.getCache(e),r&&r.split(",").forEach(function(o){return t.save(o)}),t},O0,Dd=function(e,r){var t=Hi.createElementNS?Hi.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Hi.createElement(e);return t&&t.style?t:Hi.createElement(e)},ei=function h(e,r,t){var o=getComputedStyle(e);return o[r]||o.getPropertyValue(r.replace(Nh,"-$1").toLowerCase())||o.getPropertyValue(r)||!t&&h(e,ko(r)||r,1)||""},Xp="O,Moz,ms,Ms,Webkit".split(","),ko=function(e,r,t){var o=r||_s,l=o.style,s=5;if(e in l&&!t)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Xp[s]+e in l););return s<0?null:(s===3?"ms":s>=0?Xp[s]:"")+e},Od=function(){zw()&&window.document&&(Hp=window,Hi=Hp.document,Mo=Hi.documentElement,_s=Dd("div")||{style:{}},Dd("div"),ar=ko(ar),sn=ar+"Origin",_s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",O0=!!ko("perspective"),kh=ln.core.reverting,Ih=1)},_c=function h(e){var r=Dd("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,o=this.nextSibling,l=this.style.cssText,s;if(Mo.appendChild(r),r.appendChild(this),this.style.display="block",e)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=h}catch{}else this._gsapBBox&&(s=this._gsapBBox());return t&&(o?t.insertBefore(this,o):t.appendChild(this)),Mo.removeChild(r),this.style.cssText=l,s},Yp=function(e,r){for(var t=r.length;t--;)if(e.hasAttribute(r[t]))return e.getAttribute(r[t])},I0=function(e){var r;try{r=e.getBBox()}catch{r=_c.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===_c||(r=_c.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+Yp(e,["x","cx","x1"])||0,y:+Yp(e,["y","cy","y1"])||0,width:0,height:0}:r},k0=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&I0(e))},Rs=function(e,r){if(r){var t=e.style,o;r in Si&&r!==sn&&(r=ar),t.removeProperty?(o=r.substr(0,2),(o==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),t.removeProperty(o==="--"?r:r.replace(Nh,"-$1").toLowerCase())):t.removeAttribute(r)}},Wi=function(e,r,t,o,l,s){var n=new nn(e._pt,r,t,0,1,s?L0:P0);return e._pt=n,n.b=o,n.e=l,e._props.push(t),n},Zp={deg:1,rad:1,turn:1},tS={grid:1,flex:1},ns=function h(e,r,t,o){var l=parseFloat(t)||0,s=(t+"").trim().substr((l+"").length)||"px",n=_s.style,i=Gw.test(r),u=e.tagName.toLowerCase()==="svg",f=(u?"client":"offset")+(i?"Width":"Height"),m=100,a=o==="px",c=o==="%",d,p,g,y;if(o===s||!l||Zp[o]||Zp[s])return l;if(s!=="px"&&!a&&(l=h(e,r,t,"px")),y=e.getCTM&&k0(e),(c||s==="%")&&(Si[r]||~r.indexOf("adius")))return d=y?e.getBBox()[i?"width":"height"]:e[f],hr(c?l/d*m:l/100*d);if(n[i?"width":"height"]=m+(a?s:o),p=~r.indexOf("adius")||o==="em"&&e.appendChild&&!u?e:e.parentNode,y&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===Hi||!p.appendChild)&&(p=Hi.body),g=p._gsap,g&&c&&g.width&&i&&g.time===pn.time&&!g.uncache)return hr(l/g.width*m);if(c&&(r==="height"||r==="width")){var v=e.style[r];e.style[r]=m+o,d=e[f],v?e.style[r]=v:Rs(e,r)}else(c||s==="%")&&!tS[ei(p,"display")]&&(n.position=ei(e,"position")),p===e&&(n.position="static"),p.appendChild(_s),d=_s[f],p.removeChild(_s),n.position="absolute";return i&&c&&(g=Es(p),g.time=pn.time,g.width=p[f]),hr(a?d*l/m:d&&l?m/d*l:0)},mi=function(e,r,t,o){var l;return Ih||Od(),r in Qn&&r!=="transform"&&(r=Qn[r],~r.indexOf(",")&&(r=r.split(",")[0])),Si[r]&&r!=="transform"?(l=Ba(e,o),l=r!=="transformOrigin"?l[r]:l.svg?l.origin:bu(ei(e,sn))+" "+l.zOrigin+"px"):(l=e.style[r],(!l||l==="auto"||o||~(l+"").indexOf("calc("))&&(l=_u[r]&&_u[r](e,r,t)||ei(e,r)||$y(e,r)||(r==="opacity"?1:0))),t&&!~(l+"").trim().indexOf(" ")?ns(e,r,l,t)+t:l},rS=function(e,r,t,o){if(!t||t==="none"){var l=ko(r,e,1),s=l&&ei(e,l,1);s&&s!==t?(r=l,t=s):r==="borderColor"&&(t=ei(e,"borderTopColor"))}var n=new nn(this._pt,e.style,r,0,1,A0),i=0,u=0,f,m,a,c,d,p,g,y,v,_,x,w;if(n.b=t,n.e=o,t+="",o+="",o==="auto"&&(p=e.style[r],e.style[r]=o,o=ei(e,r)||o,p?e.style[r]=p:Rs(e,r)),f=[t,o],y0(f),t=f[0],o=f[1],a=t.match(mo)||[],w=o.match(mo)||[],w.length){for(;m=mo.exec(o);)g=m[0],v=o.substring(i,m.index),d?d=(d+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(d=1),g!==(p=a[u++]||"")&&(c=parseFloat(p)||0,x=p.substr((c+"").length),g.charAt(1)==="="&&(g=So(c,g)+x),y=parseFloat(g),_=g.substr((y+"").length),i=mo.lastIndex-_.length,_||(_=_||gn.units[r]||x,i===o.length&&(o+=_,n.e+=_)),x!==_&&(c=ns(e,r,p,_)||0),n._pt={_next:n._pt,p:v||u===1?v:",",s:c,c:y-c,m:d&&d<4||r==="zIndex"?Math.round:0});n.c=i<o.length?o.substring(i,o.length):""}else n.r=r==="display"&&o==="none"?L0:P0;return qy.test(o)&&(n.e=0),this._pt=n,n},Kp={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},nS=function(e){var r=e.split(" "),t=r[0],o=r[1]||"50%";return(t==="top"||t==="bottom"||o==="left"||o==="right")&&(e=t,t=o,o=e),r[0]=Kp[t]||t,r[1]=Kp[o]||o,r.join(" ")},iS=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var t=r.t,o=t.style,l=r.u,s=t._gsap,n,i,u;if(l==="all"||l===!0)o.cssText="",i=1;else for(l=l.split(","),u=l.length;--u>-1;)n=l[u],Si[n]&&(i=1,n=n==="transformOrigin"?sn:ar),Rs(t,n);i&&(Rs(t,ar),s&&(s.svg&&t.removeAttribute("transform"),Ba(t,1),s.uncache=1,R0(o)))}},_u={clearProps:function(e,r,t,o,l){if(l.data!=="isFromStart"){var s=e._pt=new nn(e._pt,r,t,0,0,iS);return s.u=o,s.pr=-10,s.tween=l,e._props.push(t),1}}},Fa=[1,0,0,1,0,0],N0={},U0=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Jp=function(e){var r=ei(e,ar);return U0(r)?Fa:r.substr(7).match(Wy).map(hr)},Uh=function(e,r){var t=e._gsap||Es(e),o=e.style,l=Jp(e),s,n,i,u;return t.svg&&e.getAttribute("transform")?(i=e.transform.baseVal.consolidate().matrix,l=[i.a,i.b,i.c,i.d,i.e,i.f],l.join(",")==="1,0,0,1,0,0"?Fa:l):(l===Fa&&!e.offsetParent&&e!==Mo&&!t.svg&&(i=o.display,o.display="block",s=e.parentNode,(!s||!e.offsetParent)&&(u=1,n=e.nextElementSibling,Mo.appendChild(e)),l=Jp(e),i?o.display=i:Rs(e,"display"),u&&(n?s.insertBefore(e,n):s?s.appendChild(e):Mo.removeChild(e))),r&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Id=function(e,r,t,o,l,s){var n=e._gsap,i=l||Uh(e,!0),u=n.xOrigin||0,f=n.yOrigin||0,m=n.xOffset||0,a=n.yOffset||0,c=i[0],d=i[1],p=i[2],g=i[3],y=i[4],v=i[5],_=r.split(" "),x=parseFloat(_[0])||0,w=parseFloat(_[1])||0,E,T,M,j;t?i!==Fa&&(T=c*g-d*p)&&(M=x*(g/T)+w*(-p/T)+(p*v-g*y)/T,j=x*(-d/T)+w*(c/T)-(c*v-d*y)/T,x=M,w=j):(E=I0(e),x=E.x+(~_[0].indexOf("%")?x/100*E.width:x),w=E.y+(~(_[1]||_[0]).indexOf("%")?w/100*E.height:w)),o||o!==!1&&n.smooth?(y=x-u,v=w-f,n.xOffset=m+(y*c+v*p)-y,n.yOffset=a+(y*d+v*g)-v):n.xOffset=n.yOffset=0,n.xOrigin=x,n.yOrigin=w,n.smooth=!!o,n.origin=r,n.originIsAbsolute=!!t,e.style[sn]="0px 0px",s&&(Wi(s,n,"xOrigin",u,x),Wi(s,n,"yOrigin",f,w),Wi(s,n,"xOffset",m,n.xOffset),Wi(s,n,"yOffset",a,n.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},Ba=function(e,r){var t=e._gsap||new x0(e);if("x"in t&&!r&&!t.uncache)return t;var o=e.style,l=t.scaleX<0,s="px",n="deg",i=getComputedStyle(e),u=ei(e,sn)||"0",f,m,a,c,d,p,g,y,v,_,x,w,E,T,M,j,P,L,N,O,k,X,Y,q,H,z,W,$,se,R,I,U;return f=m=a=p=g=y=v=_=x=0,c=d=1,t.svg=!!(e.getCTM&&k0(e)),i.translate&&((i.translate!=="none"||i.scale!=="none"||i.rotate!=="none")&&(o[ar]=(i.translate!=="none"?"translate3d("+(i.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(i.rotate!=="none"?"rotate("+i.rotate+") ":"")+(i.scale!=="none"?"scale("+i.scale.split(" ").join(",")+") ":"")+(i[ar]!=="none"?i[ar]:"")),o.scale=o.rotate=o.translate="none"),T=Uh(e,t.svg),t.svg&&(t.uncache?(H=e.getBBox(),u=t.xOrigin-H.x+"px "+(t.yOrigin-H.y)+"px",q=""):q=!r&&e.getAttribute("data-svg-origin"),Id(e,q||u,!!q||t.originIsAbsolute,t.smooth!==!1,T)),w=t.xOrigin||0,E=t.yOrigin||0,T!==Fa&&(L=T[0],N=T[1],O=T[2],k=T[3],f=X=T[4],m=Y=T[5],T.length===6?(c=Math.sqrt(L*L+N*N),d=Math.sqrt(k*k+O*O),p=L||N?Ys(N,L)*fs:0,v=O||k?Ys(O,k)*fs+p:0,v&&(d*=Math.abs(Math.cos(v*Eo))),t.svg&&(f-=w-(w*L+E*O),m-=E-(w*N+E*k))):(U=T[6],R=T[7],W=T[8],$=T[9],se=T[10],I=T[11],f=T[12],m=T[13],a=T[14],M=Ys(U,se),g=M*fs,M&&(j=Math.cos(-M),P=Math.sin(-M),q=X*j+W*P,H=Y*j+$*P,z=U*j+se*P,W=X*-P+W*j,$=Y*-P+$*j,se=U*-P+se*j,I=R*-P+I*j,X=q,Y=H,U=z),M=Ys(-O,se),y=M*fs,M&&(j=Math.cos(-M),P=Math.sin(-M),q=L*j-W*P,H=N*j-$*P,z=O*j-se*P,I=k*P+I*j,L=q,N=H,O=z),M=Ys(N,L),p=M*fs,M&&(j=Math.cos(M),P=Math.sin(M),q=L*j+N*P,H=X*j+Y*P,N=N*j-L*P,Y=Y*j-X*P,L=q,X=H),g&&Math.abs(g)+Math.abs(p)>359.9&&(g=p=0,y=180-y),c=hr(Math.sqrt(L*L+N*N+O*O)),d=hr(Math.sqrt(Y*Y+U*U)),M=Ys(X,Y),v=Math.abs(M)>2e-4?M*fs:0,x=I?1/(I<0?-I:I):0),t.svg&&(q=e.getAttribute("transform"),t.forceCSS=e.setAttribute("transform","")||!U0(ei(e,ar)),q&&e.setAttribute("transform",q))),Math.abs(v)>90&&Math.abs(v)<270&&(l?(c*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(d*=-1,v+=v<=0?180:-180)),r=r||t.uncache,t.x=f-((t.xPercent=f&&(!r&&t.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*t.xPercent/100:0)+s,t.y=m-((t.yPercent=m&&(!r&&t.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*t.yPercent/100:0)+s,t.z=a+s,t.scaleX=hr(c),t.scaleY=hr(d),t.rotation=hr(p)+n,t.rotationX=hr(g)+n,t.rotationY=hr(y)+n,t.skewX=v+n,t.skewY=_+n,t.transformPerspective=x+s,(t.zOrigin=parseFloat(u.split(" ")[2])||!r&&t.zOrigin||0)&&(o[sn]=bu(u)),t.xOffset=t.yOffset=0,t.force3D=gn.force3D,t.renderTransform=t.svg?oS:O0?F0:sS,t.uncache=0,t},bu=function(e){return(e=e.split(" "))[0]+" "+e[1]},bc=function(e,r,t){var o=Vr(r);return hr(parseFloat(r)+parseFloat(ns(e,"x",t+"px",o)))+o},sS=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,F0(e,r)},ls="0deg",ia="0px",us=") ",F0=function(e,r){var t=r||this,o=t.xPercent,l=t.yPercent,s=t.x,n=t.y,i=t.z,u=t.rotation,f=t.rotationY,m=t.rotationX,a=t.skewX,c=t.skewY,d=t.scaleX,p=t.scaleY,g=t.transformPerspective,y=t.force3D,v=t.target,_=t.zOrigin,x="",w=y==="auto"&&e&&e!==1||y===!0;if(_&&(m!==ls||f!==ls)){var E=parseFloat(f)*Eo,T=Math.sin(E),M=Math.cos(E),j;E=parseFloat(m)*Eo,j=Math.cos(E),s=bc(v,s,T*j*-_),n=bc(v,n,-Math.sin(E)*-_),i=bc(v,i,M*j*-_+_)}g!==ia&&(x+="perspective("+g+us),(o||l)&&(x+="translate("+o+"%, "+l+"%) "),(w||s!==ia||n!==ia||i!==ia)&&(x+=i!==ia||w?"translate3d("+s+", "+n+", "+i+") ":"translate("+s+", "+n+us),u!==ls&&(x+="rotate("+u+us),f!==ls&&(x+="rotateY("+f+us),m!==ls&&(x+="rotateX("+m+us),(a!==ls||c!==ls)&&(x+="skew("+a+", "+c+us),(d!==1||p!==1)&&(x+="scale("+d+", "+p+us),v.style[ar]=x||"translate(0, 0)"},oS=function(e,r){var t=r||this,o=t.xPercent,l=t.yPercent,s=t.x,n=t.y,i=t.rotation,u=t.skewX,f=t.skewY,m=t.scaleX,a=t.scaleY,c=t.target,d=t.xOrigin,p=t.yOrigin,g=t.xOffset,y=t.yOffset,v=t.forceCSS,_=parseFloat(s),x=parseFloat(n),w,E,T,M,j;i=parseFloat(i),u=parseFloat(u),f=parseFloat(f),f&&(f=parseFloat(f),u+=f,i+=f),i||u?(i*=Eo,u*=Eo,w=Math.cos(i)*m,E=Math.sin(i)*m,T=Math.sin(i-u)*-a,M=Math.cos(i-u)*a,u&&(f*=Eo,j=Math.tan(u-f),j=Math.sqrt(1+j*j),T*=j,M*=j,f&&(j=Math.tan(f),j=Math.sqrt(1+j*j),w*=j,E*=j)),w=hr(w),E=hr(E),T=hr(T),M=hr(M)):(w=m,M=a,E=T=0),(_&&!~(s+"").indexOf("px")||x&&!~(n+"").indexOf("px"))&&(_=ns(c,"x",s,"px"),x=ns(c,"y",n,"px")),(d||p||g||y)&&(_=hr(_+d-(d*w+p*T)+g),x=hr(x+p-(d*E+p*M)+y)),(o||l)&&(j=c.getBBox(),_=hr(_+o/100*j.width),x=hr(x+l/100*j.height)),j="matrix("+w+","+E+","+T+","+M+","+_+","+x+")",c.setAttribute("transform",j),v&&(c.style[ar]=j)},aS=function(e,r,t,o,l){var s=360,n=jr(l),i=parseFloat(l)*(n&&~l.indexOf("rad")?fs:1),u=i-o,f=o+u+"deg",m,a;return n&&(m=l.split("_")[1],m==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),m==="cw"&&u<0?u=(u+s*qp)%s-~~(u/s)*s:m==="ccw"&&u>0&&(u=(u-s*qp)%s-~~(u/s)*s)),e._pt=a=new nn(e._pt,r,t,o,u,Hw),a.e=f,a.u="deg",e._props.push(t),a},$p=function(e,r){for(var t in r)e[t]=r[t];return e},lS=function(e,r,t){var o=$p({},t._gsap),l="perspective,force3D,transformOrigin,svgOrigin",s=t.style,n,i,u,f,m,a,c,d;o.svg?(u=t.getAttribute("transform"),t.setAttribute("transform",""),s[ar]=r,n=Ba(t,1),Rs(t,ar),t.setAttribute("transform",u)):(u=getComputedStyle(t)[ar],s[ar]=r,n=Ba(t,1),s[ar]=u);for(i in Si)u=o[i],f=n[i],u!==f&&l.indexOf(i)<0&&(c=Vr(u),d=Vr(f),m=c!==d?ns(t,i,u,d):parseFloat(u),a=parseFloat(f),e._pt=new nn(e._pt,n,i,m,a-m,Rd),e._pt.u=d||0,e._props.push(i));$p(n,o)};rn("padding,margin,Width,Radius",function(h,e){var r="Top",t="Right",o="Bottom",l="Left",s=(e<3?[r,t,o,l]:[r+l,r+t,o+t,o+l]).map(function(n){return e<2?h+n:"border"+n+h});_u[e>1?"border"+h:h]=function(n,i,u,f,m){var a,c;if(arguments.length<4)return a=s.map(function(d){return mi(n,d,u)}),c=a.join(" "),c.split(a[0]).length===5?a[0]:c;a=(f+"").split(" "),c={},s.forEach(function(d,p){return c[d]=a[p]=a[p]||a[(p-1)/2|0]}),n.init(i,c,m)}});var B0={name:"css",register:Od,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,t,o,l){var s=this._props,n=e.style,i=t.vars.startAt,u,f,m,a,c,d,p,g,y,v,_,x,w,E,T,M;Ih||Od(),this.styles=this.styles||D0(e),M=this.styles.props,this.tween=t;for(p in r)if(p!=="autoRound"&&(f=r[p],!(dn[p]&&w0(p,r,t,o,e,l)))){if(c=typeof f,d=_u[p],c==="function"&&(f=f.call(t,o,e,l),c=typeof f),c==="string"&&~f.indexOf("random(")&&(f=ka(f)),d)d(this,e,p,f,t)&&(T=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(p)+"").trim(),f+="",$i.lastIndex=0,$i.test(u)||(g=Vr(u),y=Vr(f)),y?g!==y&&(u=ns(e,p,u,y)+y):g&&(f+=g),this.add(n,"setProperty",u,f,o,l,0,0,p),s.push(p),M.push(p,0,n[p]);else if(c!=="undefined"){if(i&&p in i?(u=typeof i[p]=="function"?i[p].call(t,o,e,l):i[p],jr(u)&&~u.indexOf("random(")&&(u=ka(u)),Vr(u+"")||u==="auto"||(u+=gn.units[p]||Vr(mi(e,p))||""),(u+"").charAt(1)==="="&&(u=mi(e,p))):u=mi(e,p),a=parseFloat(u),v=c==="string"&&f.charAt(1)==="="&&f.substr(0,2),v&&(f=f.substr(2)),m=parseFloat(f),p in Qn&&(p==="autoAlpha"&&(a===1&&mi(e,"visibility")==="hidden"&&m&&(a=0),M.push("visibility",0,n.visibility),Wi(this,n,"visibility",a?"inherit":"hidden",m?"inherit":"hidden",!m)),p!=="scale"&&p!=="transform"&&(p=Qn[p],~p.indexOf(",")&&(p=p.split(",")[0]))),_=p in Si,_){if(this.styles.save(p),x||(w=e._gsap,w.renderTransform&&!r.parseTransform||Ba(e,r.parseTransform),E=r.smoothOrigin!==!1&&w.smooth,x=this._pt=new nn(this._pt,n,ar,0,1,w.renderTransform,w,0,-1),x.dep=1),p==="scale")this._pt=new nn(this._pt,w,"scaleY",w.scaleY,(v?So(w.scaleY,v+m):m)-w.scaleY||0,Rd),this._pt.u=0,s.push("scaleY",p),p+="X";else if(p==="transformOrigin"){M.push(sn,0,n[sn]),f=nS(f),w.svg?Id(e,f,0,E,0,this):(y=parseFloat(f.split(" ")[2])||0,y!==w.zOrigin&&Wi(this,w,"zOrigin",w.zOrigin,y),Wi(this,n,p,bu(u),bu(f)));continue}else if(p==="svgOrigin"){Id(e,f,1,E,0,this);continue}else if(p in N0){aS(this,w,p,a,v?So(a,v+f):f);continue}else if(p==="smoothOrigin"){Wi(this,w,"smooth",w.smooth,f);continue}else if(p==="force3D"){w[p]=f;continue}else if(p==="transform"){lS(this,f,e);continue}}else p in n||(p=ko(p)||p);if(_||(m||m===0)&&(a||a===0)&&!Vw.test(f)&&p in n)g=(u+"").substr((a+"").length),m||(m=0),y=Vr(f)||(p in gn.units?gn.units[p]:g),g!==y&&(a=ns(e,p,u,y)),this._pt=new nn(this._pt,_?w:n,p,a,(v?So(a,v+m):m)-a,!_&&(y==="px"||p==="zIndex")&&r.autoRound!==!1?qw:Rd),this._pt.u=y||0,g!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=Ww);else if(p in n)rS.call(this,e,p,u,v?v+f:f);else if(p in e)this.add(e,p,u||e[p],v?v+f:f,o,l);else if(p!=="parseTransform"){Th(p,f);continue}_||(p in n?M.push(p,0,n[p]):M.push(p,1,u||e[p])),s.push(p)}}T&&j0(this)},render:function(e,r){if(r.tween._time||!kh())for(var t=r._pt;t;)t.r(e,t.d),t=t._next;else r.styles.revert()},get:mi,aliases:Qn,getSetter:function(e,r,t){var o=Qn[r];return o&&o.indexOf(",")<0&&(r=o),r in Si&&r!==sn&&(e._gsap.x||mi(e,"x"))?t&&Wp===t?r==="scale"?Kw:Zw:(Wp=t||{})&&(r==="scale"?Jw:$w):e.style&&!Sh(e.style[r])?Xw:~r.indexOf("-")?Yw:Dh(e,r)},core:{_removeProperty:Rs,_getMatrix:Uh}};ln.utils.checkPrefix=ko;ln.core.getStyleSaver=D0;(function(h,e,r,t){var o=rn(h+","+e+","+r,function(l){Si[l]=1});rn(e,function(l){gn.units[l]="deg",N0[l]=1}),Qn[o[13]]=h+","+e,rn(t,function(l){var s=l.split(":");Qn[s[1]]=o[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");rn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(h){gn.units[h]="px"});ln.registerPlugin(B0);var z0=ln.registerPlugin(B0)||ln;z0.core.Tween;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Fh="146",k3={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},N3={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uS=0,Qp=1,cS=2,G0=1,dS=2,pa=3,No=0,An=1,qi=2,Qi=0,To=1,kd=2,em=3,tm=4,hS=5,fo=100,fS=101,pS=102,rm=103,nm=104,mS=200,gS=201,yS=202,vS=203,V0=204,H0=205,_S=206,bS=207,xS=208,wS=209,SS=210,MS=0,ES=1,TS=2,Nd=3,AS=4,jS=5,CS=6,PS=7,Bu=0,LS=1,RS=2,_i=0,DS=1,OS=2,IS=3,kS=4,NS=5,W0=300,Uo=301,Fo=302,Ud=303,Fd=304,zu=306,Bd=1e3,Nn=1001,zd=1002,Br=1003,im=1004,sm=1005,xn=1006,US=1007,Gu=1008,Ds=1009,FS=1010,BS=1011,q0=1012,zS=1013,bs=1014,xs=1015,za=1016,GS=1017,VS=1018,Ao=1020,HS=1021,WS=1022,Un=1023,qS=1024,XS=1025,Cs=1026,Bo=1027,YS=1028,ZS=1029,KS=1030,JS=1031,$S=1033,xc=33776,wc=33777,Sc=33778,Mc=33779,om=35840,am=35841,lm=35842,um=35843,QS=36196,cm=37492,dm=37496,hm=37808,fm=37809,pm=37810,mm=37811,gm=37812,ym=37813,vm=37814,_m=37815,bm=37816,xm=37817,wm=37818,Sm=37819,Mm=37820,Em=37821,Tm=36492,Os=3e3,cr=3001,e2=3200,t2=3201,Vu=0,r2=1,pi="srgb",ws="srgb-linear",Ec=7680,n2=519,Gd=35044,U3=35048,Am="300 es",Vd=1035;class Wo{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const t=this._listeners;t[e]===void 0&&(t[e]=[]),t[e].indexOf(r)===-1&&t[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const t=this._listeners;return t[e]!==void 0&&t[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const l=o.indexOf(r);l!==-1&&o.splice(l,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const o=t.slice(0);for(let l=0,s=o.length;l<s;l++)o[l].call(this,e);e.target=null}}}const Fr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],nu=Math.PI/180,jm=180/Math.PI;function bi(){const h=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,t=Math.random()*4294967295|0;return(Fr[h&255]+Fr[h>>8&255]+Fr[h>>16&255]+Fr[h>>24&255]+"-"+Fr[e&255]+Fr[e>>8&255]+"-"+Fr[e>>16&15|64]+Fr[e>>24&255]+"-"+Fr[r&63|128]+Fr[r>>8&255]+"-"+Fr[r>>16&255]+Fr[r>>24&255]+Fr[t&255]+Fr[t>>8&255]+Fr[t>>16&255]+Fr[t>>24&255]).toLowerCase()}function Lr(h,e,r){return Math.max(e,Math.min(r,h))}function i2(h,e){return(h%e+e)%e}function Tc(h,e,r){return(1-r)*h+r*e}function Cm(h){return(h&h-1)===0&&h!==0}function Hd(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))}function Xi(h,e){switch(e.constructor){case Float32Array:return h;case Uint16Array:return h/65535;case Uint8Array:return h/255;case Int16Array:return Math.max(h/32767,-1);case Int8Array:return Math.max(h/127,-1);default:throw new Error("Invalid component type.")}}function Yt(h,e){switch(e.constructor){case Float32Array:return h;case Uint16Array:return Math.round(h*65535);case Uint8Array:return Math.round(h*255);case Int16Array:return Math.round(h*32767);case Int8Array:return Math.round(h*127);default:throw new Error("Invalid component type.")}}class nt{constructor(e=0,r=0){nt.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,t=this.y,o=e.elements;return this.x=o[0]*r+o[3]*t+o[6],this.y=o[1]*r+o[4]*t+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(r,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,t=this.y-e.y;return r*r+t*t}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,t){return this.x=e.x+(r.x-e.x)*t,this.y=e.y+(r.y-e.y)*t,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const t=Math.cos(r),o=Math.sin(r),l=this.x-e.x,s=this.y-e.y;return this.x=l*t-s*o+e.x,this.y=l*o+s*t+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tn{constructor(){Tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,r,t,o,l,s,n,i,u){const f=this.elements;return f[0]=e,f[1]=o,f[2]=n,f[3]=r,f[4]=l,f[5]=i,f[6]=t,f[7]=s,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,t=e.elements;return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],this}extractBasis(e,r,t){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),t.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const t=e.elements,o=r.elements,l=this.elements,s=t[0],n=t[3],i=t[6],u=t[1],f=t[4],m=t[7],a=t[2],c=t[5],d=t[8],p=o[0],g=o[3],y=o[6],v=o[1],_=o[4],x=o[7],w=o[2],E=o[5],T=o[8];return l[0]=s*p+n*v+i*w,l[3]=s*g+n*_+i*E,l[6]=s*y+n*x+i*T,l[1]=u*p+f*v+m*w,l[4]=u*g+f*_+m*E,l[7]=u*y+f*x+m*T,l[2]=a*p+c*v+d*w,l[5]=a*g+c*_+d*E,l[8]=a*y+c*x+d*T,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],t=e[1],o=e[2],l=e[3],s=e[4],n=e[5],i=e[6],u=e[7],f=e[8];return r*s*f-r*n*u-t*l*f+t*n*i+o*l*u-o*s*i}invert(){const e=this.elements,r=e[0],t=e[1],o=e[2],l=e[3],s=e[4],n=e[5],i=e[6],u=e[7],f=e[8],m=f*s-n*u,a=n*i-f*l,c=u*l-s*i,d=r*m+t*a+o*c;if(d===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return e[0]=m*p,e[1]=(o*u-f*t)*p,e[2]=(n*t-o*s)*p,e[3]=a*p,e[4]=(f*r-o*i)*p,e[5]=(o*l-n*r)*p,e[6]=c*p,e[7]=(t*i-u*r)*p,e[8]=(s*r-t*l)*p,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,t,o,l,s,n){const i=Math.cos(l),u=Math.sin(l);return this.set(t*i,t*u,-t*(i*s+u*n)+s+e,-o*u,o*i,-o*(-u*s+i*n)+n+r,0,0,1),this}scale(e,r){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=r,t[4]*=r,t[7]*=r,this}rotate(e){const r=Math.cos(e),t=Math.sin(e),o=this.elements,l=o[0],s=o[3],n=o[6],i=o[1],u=o[4],f=o[7];return o[0]=r*l+t*i,o[3]=r*s+t*u,o[6]=r*n+t*f,o[1]=-t*l+r*i,o[4]=-t*s+r*u,o[7]=-t*n+r*f,this}translate(e,r){const t=this.elements;return t[0]+=e*t[2],t[3]+=e*t[5],t[6]+=e*t[8],t[1]+=r*t[2],t[4]+=r*t[5],t[7]+=r*t[8],this}equals(e){const r=this.elements,t=e.elements;for(let o=0;o<9;o++)if(r[o]!==t[o])return!1;return!0}fromArray(e,r=0){for(let t=0;t<9;t++)this.elements[t]=e[t+r];return this}toArray(e=[],r=0){const t=this.elements;return e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3],e[r+4]=t[4],e[r+5]=t[5],e[r+6]=t[6],e[r+7]=t[7],e[r+8]=t[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function X0(h){for(let e=h.length-1;e>=0;--e)if(h[e]>=65535)return!0;return!1}function Ga(h){return document.createElementNS("http://www.w3.org/1999/xhtml",h)}function Ps(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)}function iu(h){return h<.0031308?h*12.92:1.055*Math.pow(h,.41666)-.055}const Ac={[pi]:{[ws]:Ps},[ws]:{[pi]:iu}},Ln={legacyMode:!0,get workingColorSpace(){return ws},set workingColorSpace(h){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(h,e,r){if(this.legacyMode||e===r||!e||!r)return h;if(Ac[e]&&Ac[e][r]!==void 0){const t=Ac[e][r];return h.r=t(h.r),h.g=t(h.g),h.b=t(h.b),h}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(h,e){return this.convert(h,this.workingColorSpace,e)},toWorkingColorSpace:function(h,e){return this.convert(h,e,this.workingColorSpace)}},Y0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},br={r:0,g:0,b:0},Rn={h:0,s:0,l:0},pl={h:0,s:0,l:0};function jc(h,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?h+(e-h)*6*r:r<1/2?e:r<2/3?h+(e-h)*6*(2/3-r):h}function ml(h,e){return e.r=h.r,e.g=h.g,e.b=h.b,e}class Lt{constructor(e,r,t){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&t===void 0?this.set(e):this.setRGB(e,r,t)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=pi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ln.toWorkingColorSpace(this,r),this}setRGB(e,r,t,o=ws){return this.r=e,this.g=r,this.b=t,Ln.toWorkingColorSpace(this,o),this}setHSL(e,r,t,o=ws){if(e=i2(e,1),r=Lr(r,0,1),t=Lr(t,0,1),r===0)this.r=this.g=this.b=t;else{const l=t<=.5?t*(1+r):t+r-t*r,s=2*t-l;this.r=jc(s,l,e+1/3),this.g=jc(s,l,e),this.b=jc(s,l,e-1/3)}return Ln.toWorkingColorSpace(this,o),this}setStyle(e,r=pi){function t(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let l;const s=o[1],n=o[2];switch(s){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,Ln.toWorkingColorSpace(this,r),t(l[4]),this;if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,Ln.toWorkingColorSpace(this,r),t(l[4]),this;break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n)){const i=parseFloat(l[1])/360,u=parseFloat(l[2])/100,f=parseFloat(l[3])/100;return t(l[4]),this.setHSL(i,u,f,r)}break}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],s=l.length;if(s===3)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,Ln.toWorkingColorSpace(this,r),this;if(s===6)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,Ln.toWorkingColorSpace(this,r),this}return e&&e.length>0?this.setColorName(e,r):this}setColorName(e,r=pi){const t=Y0[e.toLowerCase()];return t!==void 0?this.setHex(t,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ps(e.r),this.g=Ps(e.g),this.b=Ps(e.b),this}copyLinearToSRGB(e){return this.r=iu(e.r),this.g=iu(e.g),this.b=iu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=pi){return Ln.fromWorkingColorSpace(ml(this,br),e),Lr(br.r*255,0,255)<<16^Lr(br.g*255,0,255)<<8^Lr(br.b*255,0,255)<<0}getHexString(e=pi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=ws){Ln.fromWorkingColorSpace(ml(this,br),r);const t=br.r,o=br.g,l=br.b,s=Math.max(t,o,l),n=Math.min(t,o,l);let i,u;const f=(n+s)/2;if(n===s)i=0,u=0;else{const m=s-n;switch(u=f<=.5?m/(s+n):m/(2-s-n),s){case t:i=(o-l)/m+(o<l?6:0);break;case o:i=(l-t)/m+2;break;case l:i=(t-o)/m+4;break}i/=6}return e.h=i,e.s=u,e.l=f,e}getRGB(e,r=ws){return Ln.fromWorkingColorSpace(ml(this,br),r),e.r=br.r,e.g=br.g,e.b=br.b,e}getStyle(e=pi){return Ln.fromWorkingColorSpace(ml(this,br),e),e!==pi?`color(${e} ${br.r} ${br.g} ${br.b})`:`rgb(${br.r*255|0},${br.g*255|0},${br.b*255|0})`}offsetHSL(e,r,t){return this.getHSL(Rn),Rn.h+=e,Rn.s+=r,Rn.l+=t,this.setHSL(Rn.h,Rn.s,Rn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,t){return this.r=e.r+(r.r-e.r)*t,this.g=e.g+(r.g-e.g)*t,this.b=e.b+(r.b-e.b)*t,this}lerpHSL(e,r){this.getHSL(Rn),e.getHSL(pl);const t=Tc(Rn.h,pl.h,r),o=Tc(Rn.s,pl.s,r),l=Tc(Rn.l,pl.l,r);return this.setHSL(t,o,l),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Lt.NAMES=Y0;let Zs;class Z0{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Zs===void 0&&(Zs=Ga("canvas")),Zs.width=e.width,Zs.height=e.height;const t=Zs.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),r=Zs}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=Ga("canvas");r.width=e.width,r.height=e.height;const t=r.getContext("2d");t.drawImage(e,0,0,e.width,e.height);const o=t.getImageData(0,0,e.width,e.height),l=o.data;for(let s=0;s<l.length;s++)l[s]=Ps(l[s]/255)*255;return t.putImageData(o,0,0),r}else if(e.data){const r=e.data.slice(0);for(let t=0;t<r.length;t++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[t]=Math.floor(Ps(r[t]/255)*255):r[t]=Ps(r[t]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class K0{constructor(e=null){this.isSource=!0,this.uuid=bi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const t={uuid:this.uuid,url:""},o=this.data;if(o!==null){let l;if(Array.isArray(o)){l=[];for(let s=0,n=o.length;s<n;s++)o[s].isDataTexture?l.push(Cc(o[s].image)):l.push(Cc(o[s]))}else l=Cc(o);t.url=l}return r||(e.images[this.uuid]=t),t}}function Cc(h){return typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap?Z0.getDataURL(h):h.data?{data:Array.from(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let s2=0;class vn extends Wo{constructor(e=vn.DEFAULT_IMAGE,r=vn.DEFAULT_MAPPING,t=Nn,o=Nn,l=xn,s=Gu,n=Un,i=Ds,u=1,f=Os){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:s2++}),this.uuid=bi(),this.name="",this.source=new K0(e),this.mipmaps=[],this.mapping=r,this.wrapS=t,this.wrapT=o,this.magFilter=l,this.minFilter=s,this.anisotropy=u,this.format=n,this.internalFormat=null,this.type=i,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(t.userData=this.userData),r||(e.textures[this.uuid]=t),t}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Bd:e.x=e.x-Math.floor(e.x);break;case Nn:e.x=e.x<0?0:1;break;case zd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Bd:e.y=e.y-Math.floor(e.y);break;case Nn:e.y=e.y<0?0:1;break;case zd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}vn.DEFAULT_IMAGE=null;vn.DEFAULT_MAPPING=W0;class nr{constructor(e=0,r=0,t=0,o=1){nr.prototype.isVector4=!0,this.x=e,this.y=r,this.z=t,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,t,o){return this.x=e,this.y=r,this.z=t,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,t=this.y,o=this.z,l=this.w,s=e.elements;return this.x=s[0]*r+s[4]*t+s[8]*o+s[12]*l,this.y=s[1]*r+s[5]*t+s[9]*o+s[13]*l,this.z=s[2]*r+s[6]*t+s[10]*o+s[14]*l,this.w=s[3]*r+s[7]*t+s[11]*o+s[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,t,o,l;const i=e.elements,u=i[0],f=i[4],m=i[8],a=i[1],c=i[5],d=i[9],p=i[2],g=i[6],y=i[10];if(Math.abs(f-a)<.01&&Math.abs(m-p)<.01&&Math.abs(d-g)<.01){if(Math.abs(f+a)<.1&&Math.abs(m+p)<.1&&Math.abs(d+g)<.1&&Math.abs(u+c+y-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const _=(u+1)/2,x=(c+1)/2,w=(y+1)/2,E=(f+a)/4,T=(m+p)/4,M=(d+g)/4;return _>x&&_>w?_<.01?(t=0,o=.707106781,l=.707106781):(t=Math.sqrt(_),o=E/t,l=T/t):x>w?x<.01?(t=.707106781,o=0,l=.707106781):(o=Math.sqrt(x),t=E/o,l=M/o):w<.01?(t=.707106781,o=.707106781,l=0):(l=Math.sqrt(w),t=T/l,o=M/l),this.set(t,o,l,r),this}let v=Math.sqrt((g-d)*(g-d)+(m-p)*(m-p)+(a-f)*(a-f));return Math.abs(v)<.001&&(v=1),this.x=(g-d)/v,this.y=(m-p)/v,this.z=(a-f)/v,this.w=Math.acos((u+c+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(r,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,t){return this.x=e.x+(r.x-e.x)*t,this.y=e.y+(r.y-e.y)*t,this.z=e.z+(r.z-e.z)*t,this.w=e.w+(r.w-e.w)*t,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Is extends Wo{constructor(e=1,r=1,t={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new nr(0,0,e,r),this.scissorTest=!1,this.viewport=new nr(0,0,e,r);const o={width:e,height:r,depth:1};this.texture=new vn(o,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.internalFormat=t.internalFormat!==void 0?t.internalFormat:null,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:xn,this.depthBuffer=t.depthBuffer!==void 0?t.depthBuffer:!0,this.stencilBuffer=t.stencilBuffer!==void 0?t.stencilBuffer:!1,this.depthTexture=t.depthTexture!==void 0?t.depthTexture:null,this.samples=t.samples!==void 0?t.samples:0}setSize(e,r,t=1){(this.width!==e||this.height!==r||this.depth!==t)&&(this.width=e,this.height=r,this.depth=t,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=t,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new K0(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class J0 extends vn{constructor(e=null,r=1,t=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:t,depth:o},this.magFilter=Br,this.minFilter=Br,this.wrapR=Nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class o2 extends vn{constructor(e=null,r=1,t=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:t,depth:o},this.magFilter=Br,this.minFilter=Br,this.wrapR=Nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ja{constructor(e=0,r=0,t=0,o=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=t,this._w=o}static slerpFlat(e,r,t,o,l,s,n){let i=t[o+0],u=t[o+1],f=t[o+2],m=t[o+3];const a=l[s+0],c=l[s+1],d=l[s+2],p=l[s+3];if(n===0){e[r+0]=i,e[r+1]=u,e[r+2]=f,e[r+3]=m;return}if(n===1){e[r+0]=a,e[r+1]=c,e[r+2]=d,e[r+3]=p;return}if(m!==p||i!==a||u!==c||f!==d){let g=1-n;const y=i*a+u*c+f*d+m*p,v=y>=0?1:-1,_=1-y*y;if(_>Number.EPSILON){const w=Math.sqrt(_),E=Math.atan2(w,y*v);g=Math.sin(g*E)/w,n=Math.sin(n*E)/w}const x=n*v;if(i=i*g+a*x,u=u*g+c*x,f=f*g+d*x,m=m*g+p*x,g===1-n){const w=1/Math.sqrt(i*i+u*u+f*f+m*m);i*=w,u*=w,f*=w,m*=w}}e[r]=i,e[r+1]=u,e[r+2]=f,e[r+3]=m}static multiplyQuaternionsFlat(e,r,t,o,l,s){const n=t[o],i=t[o+1],u=t[o+2],f=t[o+3],m=l[s],a=l[s+1],c=l[s+2],d=l[s+3];return e[r]=n*d+f*m+i*c-u*a,e[r+1]=i*d+f*a+u*m-n*c,e[r+2]=u*d+f*c+n*a-i*m,e[r+3]=f*d-n*m-i*a-u*c,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,t,o){return this._x=e,this._y=r,this._z=t,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const t=e._x,o=e._y,l=e._z,s=e._order,n=Math.cos,i=Math.sin,u=n(t/2),f=n(o/2),m=n(l/2),a=i(t/2),c=i(o/2),d=i(l/2);switch(s){case"XYZ":this._x=a*f*m+u*c*d,this._y=u*c*m-a*f*d,this._z=u*f*d+a*c*m,this._w=u*f*m-a*c*d;break;case"YXZ":this._x=a*f*m+u*c*d,this._y=u*c*m-a*f*d,this._z=u*f*d-a*c*m,this._w=u*f*m+a*c*d;break;case"ZXY":this._x=a*f*m-u*c*d,this._y=u*c*m+a*f*d,this._z=u*f*d+a*c*m,this._w=u*f*m-a*c*d;break;case"ZYX":this._x=a*f*m-u*c*d,this._y=u*c*m+a*f*d,this._z=u*f*d-a*c*m,this._w=u*f*m+a*c*d;break;case"YZX":this._x=a*f*m+u*c*d,this._y=u*c*m+a*f*d,this._z=u*f*d-a*c*m,this._w=u*f*m-a*c*d;break;case"XZY":this._x=a*f*m-u*c*d,this._y=u*c*m-a*f*d,this._z=u*f*d+a*c*m,this._w=u*f*m+a*c*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const t=r/2,o=Math.sin(t);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,t=r[0],o=r[4],l=r[8],s=r[1],n=r[5],i=r[9],u=r[2],f=r[6],m=r[10],a=t+n+m;if(a>0){const c=.5/Math.sqrt(a+1);this._w=.25/c,this._x=(f-i)*c,this._y=(l-u)*c,this._z=(s-o)*c}else if(t>n&&t>m){const c=2*Math.sqrt(1+t-n-m);this._w=(f-i)/c,this._x=.25*c,this._y=(o+s)/c,this._z=(l+u)/c}else if(n>m){const c=2*Math.sqrt(1+n-t-m);this._w=(l-u)/c,this._x=(o+s)/c,this._y=.25*c,this._z=(i+f)/c}else{const c=2*Math.sqrt(1+m-t-n);this._w=(s-o)/c,this._x=(l+u)/c,this._y=(i+f)/c,this._z=.25*c}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let t=e.dot(r)+1;return t<Number.EPSILON?(t=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=t):(this._x=0,this._y=-e.z,this._z=e.y,this._w=t)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=t),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Lr(this.dot(e),-1,1)))}rotateTowards(e,r){const t=this.angleTo(e);if(t===0)return this;const o=Math.min(1,r/t);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const t=e._x,o=e._y,l=e._z,s=e._w,n=r._x,i=r._y,u=r._z,f=r._w;return this._x=t*f+s*n+o*u-l*i,this._y=o*f+s*i+l*n-t*u,this._z=l*f+s*u+t*i-o*n,this._w=s*f-t*n-o*i-l*u,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const t=this._x,o=this._y,l=this._z,s=this._w;let n=s*e._w+t*e._x+o*e._y+l*e._z;if(n<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,n=-n):this.copy(e),n>=1)return this._w=s,this._x=t,this._y=o,this._z=l,this;const i=1-n*n;if(i<=Number.EPSILON){const c=1-r;return this._w=c*s+r*this._w,this._x=c*t+r*this._x,this._y=c*o+r*this._y,this._z=c*l+r*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(i),f=Math.atan2(u,n),m=Math.sin((1-r)*f)/u,a=Math.sin(r*f)/u;return this._w=s*m+this._w*a,this._x=t*m+this._x*a,this._y=o*m+this._y*a,this._z=l*m+this._z*a,this._onChangeCallback(),this}slerpQuaternions(e,r,t){return this.copy(e).slerp(r,t)}random(){const e=Math.random(),r=Math.sqrt(1-e),t=Math.sqrt(e),o=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(r*Math.cos(o),t*Math.sin(l),t*Math.cos(l),r*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ae{constructor(e=0,r=0,t=0){Ae.prototype.isVector3=!0,this.x=e,this.y=r,this.z=t}set(e,r,t){return t===void 0&&(t=this.z),this.x=e,this.y=r,this.z=t,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(Pm.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(Pm.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,t=this.y,o=this.z,l=e.elements;return this.x=l[0]*r+l[3]*t+l[6]*o,this.y=l[1]*r+l[4]*t+l[7]*o,this.z=l[2]*r+l[5]*t+l[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,t=this.y,o=this.z,l=e.elements,s=1/(l[3]*r+l[7]*t+l[11]*o+l[15]);return this.x=(l[0]*r+l[4]*t+l[8]*o+l[12])*s,this.y=(l[1]*r+l[5]*t+l[9]*o+l[13])*s,this.z=(l[2]*r+l[6]*t+l[10]*o+l[14])*s,this}applyQuaternion(e){const r=this.x,t=this.y,o=this.z,l=e.x,s=e.y,n=e.z,i=e.w,u=i*r+s*o-n*t,f=i*t+n*r-l*o,m=i*o+l*t-s*r,a=-l*r-s*t-n*o;return this.x=u*i+a*-l+f*-n-m*-s,this.y=f*i+a*-s+m*-l-u*-n,this.z=m*i+a*-n+u*-s-f*-l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,t=this.y,o=this.z,l=e.elements;return this.x=l[0]*r+l[4]*t+l[8]*o,this.y=l[1]*r+l[5]*t+l[9]*o,this.z=l[2]*r+l[6]*t+l[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(r,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,t){return this.x=e.x+(r.x-e.x)*t,this.y=e.y+(r.y-e.y)*t,this.z=e.z+(r.z-e.z)*t,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const t=e.x,o=e.y,l=e.z,s=r.x,n=r.y,i=r.z;return this.x=o*i-l*n,this.y=l*s-t*i,this.z=t*n-o*s,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const t=e.dot(this)/r;return this.copy(e).multiplyScalar(t)}projectOnPlane(e){return Pc.copy(this).projectOnVector(e),this.sub(Pc)}reflect(e){return this.sub(Pc.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const t=this.dot(e)/r;return Math.acos(Lr(t,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,t=this.y-e.y,o=this.z-e.z;return r*r+t*t+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,t){const o=Math.sin(r)*e;return this.x=o*Math.sin(t),this.y=Math.cos(r)*e,this.z=o*Math.cos(t),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,t){return this.x=e*Math.sin(r),this.y=t,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),t=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=t,this.z=o,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,t=Math.sqrt(1-e**2);return this.x=t*Math.cos(r),this.y=t*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Pc=new Ae,Pm=new Ja;class qo{constructor(e=new Ae(1/0,1/0,1/0),r=new Ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){let r=1/0,t=1/0,o=1/0,l=-1/0,s=-1/0,n=-1/0;for(let i=0,u=e.length;i<u;i+=3){const f=e[i],m=e[i+1],a=e[i+2];f<r&&(r=f),m<t&&(t=m),a<o&&(o=a),f>l&&(l=f),m>s&&(s=m),a>n&&(n=a)}return this.min.set(r,t,o),this.max.set(l,s,n),this}setFromBufferAttribute(e){let r=1/0,t=1/0,o=1/0,l=-1/0,s=-1/0,n=-1/0;for(let i=0,u=e.count;i<u;i++){const f=e.getX(i),m=e.getY(i),a=e.getZ(i);f<r&&(r=f),m<t&&(t=m),a<o&&(o=a),f>l&&(l=f),m>s&&(s=m),a>n&&(n=a)}return this.min.set(r,t,o),this.max.set(l,s,n),this}setFromPoints(e){this.makeEmpty();for(let r=0,t=e.length;r<t;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const t=cs.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const t=e.geometry;if(t!==void 0)if(r&&t.attributes!=null&&t.attributes.position!==void 0){const l=t.attributes.position;for(let s=0,n=l.count;s<n;s++)cs.fromBufferAttribute(l,s).applyMatrix4(e.matrixWorld),this.expandByPoint(cs)}else t.boundingBox===null&&t.computeBoundingBox(),Lc.copy(t.boundingBox),Lc.applyMatrix4(e.matrixWorld),this.union(Lc);const o=e.children;for(let l=0,s=o.length;l<s;l++)this.expandByObject(o[l],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,cs),cs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,t;return e.normal.x>0?(r=e.normal.x*this.min.x,t=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,t=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,t+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,t+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,t+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,t+=e.normal.z*this.min.z),r<=-e.constant&&t>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sa),gl.subVectors(this.max,sa),Ks.subVectors(e.a,sa),Js.subVectors(e.b,sa),$s.subVectors(e.c,sa),Li.subVectors(Js,Ks),Ri.subVectors($s,Js),ds.subVectors(Ks,$s);let r=[0,-Li.z,Li.y,0,-Ri.z,Ri.y,0,-ds.z,ds.y,Li.z,0,-Li.x,Ri.z,0,-Ri.x,ds.z,0,-ds.x,-Li.y,Li.x,0,-Ri.y,Ri.x,0,-ds.y,ds.x,0];return!Rc(r,Ks,Js,$s,gl)||(r=[1,0,0,0,1,0,0,0,1],!Rc(r,Ks,Js,$s,gl))?!1:(yl.crossVectors(Li,Ri),r=[yl.x,yl.y,yl.z],Rc(r,Ks,Js,$s,gl))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return cs.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(cs).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ai),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ai=[new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae],cs=new Ae,Lc=new qo,Ks=new Ae,Js=new Ae,$s=new Ae,Li=new Ae,Ri=new Ae,ds=new Ae,sa=new Ae,gl=new Ae,yl=new Ae,hs=new Ae;function Rc(h,e,r,t,o){for(let l=0,s=h.length-3;l<=s;l+=3){hs.fromArray(h,l);const n=o.x*Math.abs(hs.x)+o.y*Math.abs(hs.y)+o.z*Math.abs(hs.z),i=e.dot(hs),u=r.dot(hs),f=t.dot(hs);if(Math.max(-Math.max(i,u,f),Math.min(i,u,f))>n)return!1}return!0}const a2=new qo,oa=new Ae,Dc=new Ae;class $a{constructor(e=new Ae,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const t=this.center;r!==void 0?t.copy(r):a2.setFromPoints(e).getCenter(t);let o=0;for(let l=0,s=e.length;l<s;l++)o=Math.max(o,t.distanceToSquared(e[l]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const t=this.center.distanceToSquared(e);return r.copy(e),t>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;oa.subVectors(e,this.center);const r=oa.lengthSq();if(r>this.radius*this.radius){const t=Math.sqrt(r),o=(t-this.radius)*.5;this.center.addScaledVector(oa,o/t),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Dc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(oa.copy(e.center).add(Dc)),this.expandByPoint(oa.copy(e.center).sub(Dc))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const li=new Ae,Oc=new Ae,vl=new Ae,Di=new Ae,Ic=new Ae,_l=new Ae,kc=new Ae;class Bh{constructor(e=new Ae,r=new Ae(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,li)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const t=r.dot(this.direction);return t<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(t).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=li.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(li.copy(this.direction).multiplyScalar(r).add(this.origin),li.distanceToSquared(e))}distanceSqToSegment(e,r,t,o){Oc.copy(e).add(r).multiplyScalar(.5),vl.copy(r).sub(e).normalize(),Di.copy(this.origin).sub(Oc);const l=e.distanceTo(r)*.5,s=-this.direction.dot(vl),n=Di.dot(this.direction),i=-Di.dot(vl),u=Di.lengthSq(),f=Math.abs(1-s*s);let m,a,c,d;if(f>0)if(m=s*i-n,a=s*n-i,d=l*f,m>=0)if(a>=-d)if(a<=d){const p=1/f;m*=p,a*=p,c=m*(m+s*a+2*n)+a*(s*m+a+2*i)+u}else a=l,m=Math.max(0,-(s*a+n)),c=-m*m+a*(a+2*i)+u;else a=-l,m=Math.max(0,-(s*a+n)),c=-m*m+a*(a+2*i)+u;else a<=-d?(m=Math.max(0,-(-s*l+n)),a=m>0?-l:Math.min(Math.max(-l,-i),l),c=-m*m+a*(a+2*i)+u):a<=d?(m=0,a=Math.min(Math.max(-l,-i),l),c=a*(a+2*i)+u):(m=Math.max(0,-(s*l+n)),a=m>0?l:Math.min(Math.max(-l,-i),l),c=-m*m+a*(a+2*i)+u);else a=s>0?-l:l,m=Math.max(0,-(s*a+n)),c=-m*m+a*(a+2*i)+u;return t&&t.copy(this.direction).multiplyScalar(m).add(this.origin),o&&o.copy(vl).multiplyScalar(a).add(Oc),c}intersectSphere(e,r){li.subVectors(e.center,this.origin);const t=li.dot(this.direction),o=li.dot(li)-t*t,l=e.radius*e.radius;if(o>l)return null;const s=Math.sqrt(l-o),n=t-s,i=t+s;return n<0&&i<0?null:n<0?this.at(i,r):this.at(n,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const t=-(this.origin.dot(e.normal)+e.constant)/r;return t>=0?t:null}intersectPlane(e,r){const t=this.distanceToPlane(e);return t===null?null:this.at(t,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let t,o,l,s,n,i;const u=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,a=this.origin;return u>=0?(t=(e.min.x-a.x)*u,o=(e.max.x-a.x)*u):(t=(e.max.x-a.x)*u,o=(e.min.x-a.x)*u),f>=0?(l=(e.min.y-a.y)*f,s=(e.max.y-a.y)*f):(l=(e.max.y-a.y)*f,s=(e.min.y-a.y)*f),t>s||l>o||((l>t||isNaN(t))&&(t=l),(s<o||isNaN(o))&&(o=s),m>=0?(n=(e.min.z-a.z)*m,i=(e.max.z-a.z)*m):(n=(e.max.z-a.z)*m,i=(e.min.z-a.z)*m),t>i||n>o)||((n>t||t!==t)&&(t=n),(i<o||o!==o)&&(o=i),o<0)?null:this.at(t>=0?t:o,r)}intersectsBox(e){return this.intersectBox(e,li)!==null}intersectTriangle(e,r,t,o,l){Ic.subVectors(r,e),_l.subVectors(t,e),kc.crossVectors(Ic,_l);let s=this.direction.dot(kc),n;if(s>0){if(o)return null;n=1}else if(s<0)n=-1,s=-s;else return null;Di.subVectors(this.origin,e);const i=n*this.direction.dot(_l.crossVectors(Di,_l));if(i<0)return null;const u=n*this.direction.dot(Ic.cross(Di));if(u<0||i+u>s)return null;const f=-n*Di.dot(kc);return f<0?null:this.at(f/s,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Kt{constructor(){Kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,r,t,o,l,s,n,i,u,f,m,a,c,d,p,g){const y=this.elements;return y[0]=e,y[4]=r,y[8]=t,y[12]=o,y[1]=l,y[5]=s,y[9]=n,y[13]=i,y[2]=u,y[6]=f,y[10]=m,y[14]=a,y[3]=c,y[7]=d,y[11]=p,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Kt().fromArray(this.elements)}copy(e){const r=this.elements,t=e.elements;return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],this}copyPosition(e){const r=this.elements,t=e.elements;return r[12]=t[12],r[13]=t[13],r[14]=t[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,t){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),t.setFromMatrixColumn(this,2),this}makeBasis(e,r,t){return this.set(e.x,r.x,t.x,0,e.y,r.y,t.y,0,e.z,r.z,t.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,t=e.elements,o=1/Qs.setFromMatrixColumn(e,0).length(),l=1/Qs.setFromMatrixColumn(e,1).length(),s=1/Qs.setFromMatrixColumn(e,2).length();return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=0,r[4]=t[4]*l,r[5]=t[5]*l,r[6]=t[6]*l,r[7]=0,r[8]=t[8]*s,r[9]=t[9]*s,r[10]=t[10]*s,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,t=e.x,o=e.y,l=e.z,s=Math.cos(t),n=Math.sin(t),i=Math.cos(o),u=Math.sin(o),f=Math.cos(l),m=Math.sin(l);if(e.order==="XYZ"){const a=s*f,c=s*m,d=n*f,p=n*m;r[0]=i*f,r[4]=-i*m,r[8]=u,r[1]=c+d*u,r[5]=a-p*u,r[9]=-n*i,r[2]=p-a*u,r[6]=d+c*u,r[10]=s*i}else if(e.order==="YXZ"){const a=i*f,c=i*m,d=u*f,p=u*m;r[0]=a+p*n,r[4]=d*n-c,r[8]=s*u,r[1]=s*m,r[5]=s*f,r[9]=-n,r[2]=c*n-d,r[6]=p+a*n,r[10]=s*i}else if(e.order==="ZXY"){const a=i*f,c=i*m,d=u*f,p=u*m;r[0]=a-p*n,r[4]=-s*m,r[8]=d+c*n,r[1]=c+d*n,r[5]=s*f,r[9]=p-a*n,r[2]=-s*u,r[6]=n,r[10]=s*i}else if(e.order==="ZYX"){const a=s*f,c=s*m,d=n*f,p=n*m;r[0]=i*f,r[4]=d*u-c,r[8]=a*u+p,r[1]=i*m,r[5]=p*u+a,r[9]=c*u-d,r[2]=-u,r[6]=n*i,r[10]=s*i}else if(e.order==="YZX"){const a=s*i,c=s*u,d=n*i,p=n*u;r[0]=i*f,r[4]=p-a*m,r[8]=d*m+c,r[1]=m,r[5]=s*f,r[9]=-n*f,r[2]=-u*f,r[6]=c*m+d,r[10]=a-p*m}else if(e.order==="XZY"){const a=s*i,c=s*u,d=n*i,p=n*u;r[0]=i*f,r[4]=-m,r[8]=u*f,r[1]=a*m+p,r[5]=s*f,r[9]=c*m-d,r[2]=d*m-c,r[6]=n*f,r[10]=p*m+a}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(l2,e,u2)}lookAt(e,r,t){const o=this.elements;return un.subVectors(e,r),un.lengthSq()===0&&(un.z=1),un.normalize(),Oi.crossVectors(t,un),Oi.lengthSq()===0&&(Math.abs(t.z)===1?un.x+=1e-4:un.z+=1e-4,un.normalize(),Oi.crossVectors(t,un)),Oi.normalize(),bl.crossVectors(un,Oi),o[0]=Oi.x,o[4]=bl.x,o[8]=un.x,o[1]=Oi.y,o[5]=bl.y,o[9]=un.y,o[2]=Oi.z,o[6]=bl.z,o[10]=un.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const t=e.elements,o=r.elements,l=this.elements,s=t[0],n=t[4],i=t[8],u=t[12],f=t[1],m=t[5],a=t[9],c=t[13],d=t[2],p=t[6],g=t[10],y=t[14],v=t[3],_=t[7],x=t[11],w=t[15],E=o[0],T=o[4],M=o[8],j=o[12],P=o[1],L=o[5],N=o[9],O=o[13],k=o[2],X=o[6],Y=o[10],q=o[14],H=o[3],z=o[7],W=o[11],$=o[15];return l[0]=s*E+n*P+i*k+u*H,l[4]=s*T+n*L+i*X+u*z,l[8]=s*M+n*N+i*Y+u*W,l[12]=s*j+n*O+i*q+u*$,l[1]=f*E+m*P+a*k+c*H,l[5]=f*T+m*L+a*X+c*z,l[9]=f*M+m*N+a*Y+c*W,l[13]=f*j+m*O+a*q+c*$,l[2]=d*E+p*P+g*k+y*H,l[6]=d*T+p*L+g*X+y*z,l[10]=d*M+p*N+g*Y+y*W,l[14]=d*j+p*O+g*q+y*$,l[3]=v*E+_*P+x*k+w*H,l[7]=v*T+_*L+x*X+w*z,l[11]=v*M+_*N+x*Y+w*W,l[15]=v*j+_*O+x*q+w*$,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],t=e[4],o=e[8],l=e[12],s=e[1],n=e[5],i=e[9],u=e[13],f=e[2],m=e[6],a=e[10],c=e[14],d=e[3],p=e[7],g=e[11],y=e[15];return d*(+l*i*m-o*u*m-l*n*a+t*u*a+o*n*c-t*i*c)+p*(+r*i*c-r*u*a+l*s*a-o*s*c+o*u*f-l*i*f)+g*(+r*u*m-r*n*c-l*s*m+t*s*c+l*n*f-t*u*f)+y*(-o*n*f-r*i*m+r*n*a+o*s*m-t*s*a+t*i*f)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,t){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=r,o[14]=t),this}invert(){const e=this.elements,r=e[0],t=e[1],o=e[2],l=e[3],s=e[4],n=e[5],i=e[6],u=e[7],f=e[8],m=e[9],a=e[10],c=e[11],d=e[12],p=e[13],g=e[14],y=e[15],v=m*g*u-p*a*u+p*i*c-n*g*c-m*i*y+n*a*y,_=d*a*u-f*g*u-d*i*c+s*g*c+f*i*y-s*a*y,x=f*p*u-d*m*u+d*n*c-s*p*c-f*n*y+s*m*y,w=d*m*i-f*p*i-d*n*a+s*p*a+f*n*g-s*m*g,E=r*v+t*_+o*x+l*w;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=v*T,e[1]=(p*a*l-m*g*l-p*o*c+t*g*c+m*o*y-t*a*y)*T,e[2]=(n*g*l-p*i*l+p*o*u-t*g*u-n*o*y+t*i*y)*T,e[3]=(m*i*l-n*a*l-m*o*u+t*a*u+n*o*c-t*i*c)*T,e[4]=_*T,e[5]=(f*g*l-d*a*l+d*o*c-r*g*c-f*o*y+r*a*y)*T,e[6]=(d*i*l-s*g*l-d*o*u+r*g*u+s*o*y-r*i*y)*T,e[7]=(s*a*l-f*i*l+f*o*u-r*a*u-s*o*c+r*i*c)*T,e[8]=x*T,e[9]=(d*m*l-f*p*l-d*t*c+r*p*c+f*t*y-r*m*y)*T,e[10]=(s*p*l-d*n*l+d*t*u-r*p*u-s*t*y+r*n*y)*T,e[11]=(f*n*l-s*m*l-f*t*u+r*m*u+s*t*c-r*n*c)*T,e[12]=w*T,e[13]=(f*p*o-d*m*o+d*t*a-r*p*a-f*t*g+r*m*g)*T,e[14]=(d*n*o-s*p*o-d*t*i+r*p*i+s*t*g-r*n*g)*T,e[15]=(s*m*o-f*n*o+f*t*i-r*m*i-s*t*a+r*n*a)*T,this}scale(e){const r=this.elements,t=e.x,o=e.y,l=e.z;return r[0]*=t,r[4]*=o,r[8]*=l,r[1]*=t,r[5]*=o,r[9]*=l,r[2]*=t,r[6]*=o,r[10]*=l,r[3]*=t,r[7]*=o,r[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],t=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,t,o))}makeTranslation(e,r,t){return this.set(1,0,0,e,0,1,0,r,0,0,1,t,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),t=Math.sin(e);return this.set(1,0,0,0,0,r,-t,0,0,t,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),t=Math.sin(e);return this.set(r,0,t,0,0,1,0,0,-t,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),t=Math.sin(e);return this.set(r,-t,0,0,t,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const t=Math.cos(r),o=Math.sin(r),l=1-t,s=e.x,n=e.y,i=e.z,u=l*s,f=l*n;return this.set(u*s+t,u*n-o*i,u*i+o*n,0,u*n+o*i,f*n+t,f*i-o*s,0,u*i-o*n,f*i+o*s,l*i*i+t,0,0,0,0,1),this}makeScale(e,r,t){return this.set(e,0,0,0,0,r,0,0,0,0,t,0,0,0,0,1),this}makeShear(e,r,t,o,l,s){return this.set(1,t,l,0,e,1,s,0,r,o,1,0,0,0,0,1),this}compose(e,r,t){const o=this.elements,l=r._x,s=r._y,n=r._z,i=r._w,u=l+l,f=s+s,m=n+n,a=l*u,c=l*f,d=l*m,p=s*f,g=s*m,y=n*m,v=i*u,_=i*f,x=i*m,w=t.x,E=t.y,T=t.z;return o[0]=(1-(p+y))*w,o[1]=(c+x)*w,o[2]=(d-_)*w,o[3]=0,o[4]=(c-x)*E,o[5]=(1-(a+y))*E,o[6]=(g+v)*E,o[7]=0,o[8]=(d+_)*T,o[9]=(g-v)*T,o[10]=(1-(a+p))*T,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,r,t){const o=this.elements;let l=Qs.set(o[0],o[1],o[2]).length();const s=Qs.set(o[4],o[5],o[6]).length(),n=Qs.set(o[8],o[9],o[10]).length();this.determinant()<0&&(l=-l),e.x=o[12],e.y=o[13],e.z=o[14],Dn.copy(this);const u=1/l,f=1/s,m=1/n;return Dn.elements[0]*=u,Dn.elements[1]*=u,Dn.elements[2]*=u,Dn.elements[4]*=f,Dn.elements[5]*=f,Dn.elements[6]*=f,Dn.elements[8]*=m,Dn.elements[9]*=m,Dn.elements[10]*=m,r.setFromRotationMatrix(Dn),t.x=l,t.y=s,t.z=n,this}makePerspective(e,r,t,o,l,s){const n=this.elements,i=2*l/(r-e),u=2*l/(t-o),f=(r+e)/(r-e),m=(t+o)/(t-o),a=-(s+l)/(s-l),c=-2*s*l/(s-l);return n[0]=i,n[4]=0,n[8]=f,n[12]=0,n[1]=0,n[5]=u,n[9]=m,n[13]=0,n[2]=0,n[6]=0,n[10]=a,n[14]=c,n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this}makeOrthographic(e,r,t,o,l,s){const n=this.elements,i=1/(r-e),u=1/(t-o),f=1/(s-l),m=(r+e)*i,a=(t+o)*u,c=(s+l)*f;return n[0]=2*i,n[4]=0,n[8]=0,n[12]=-m,n[1]=0,n[5]=2*u,n[9]=0,n[13]=-a,n[2]=0,n[6]=0,n[10]=-2*f,n[14]=-c,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this}equals(e){const r=this.elements,t=e.elements;for(let o=0;o<16;o++)if(r[o]!==t[o])return!1;return!0}fromArray(e,r=0){for(let t=0;t<16;t++)this.elements[t]=e[t+r];return this}toArray(e=[],r=0){const t=this.elements;return e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3],e[r+4]=t[4],e[r+5]=t[5],e[r+6]=t[6],e[r+7]=t[7],e[r+8]=t[8],e[r+9]=t[9],e[r+10]=t[10],e[r+11]=t[11],e[r+12]=t[12],e[r+13]=t[13],e[r+14]=t[14],e[r+15]=t[15],e}}const Qs=new Ae,Dn=new Kt,l2=new Ae(0,0,0),u2=new Ae(1,1,1),Oi=new Ae,bl=new Ae,un=new Ae,Lm=new Kt,Rm=new Ja;class Qa{constructor(e=0,r=0,t=0,o=Qa.DefaultOrder){this.isEuler=!0,this._x=e,this._y=r,this._z=t,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,t,o=this._order){return this._x=e,this._y=r,this._z=t,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,t=!0){const o=e.elements,l=o[0],s=o[4],n=o[8],i=o[1],u=o[5],f=o[9],m=o[2],a=o[6],c=o[10];switch(r){case"XYZ":this._y=Math.asin(Lr(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(-f,c),this._z=Math.atan2(-s,l)):(this._x=Math.atan2(a,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Lr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(n,c),this._z=Math.atan2(i,u)):(this._y=Math.atan2(-m,l),this._z=0);break;case"ZXY":this._x=Math.asin(Lr(a,-1,1)),Math.abs(a)<.9999999?(this._y=Math.atan2(-m,c),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(i,l));break;case"ZYX":this._y=Math.asin(-Lr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(a,c),this._z=Math.atan2(i,l)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Lr(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-m,l)):(this._x=0,this._y=Math.atan2(n,c));break;case"XZY":this._z=Math.asin(-Lr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(a,u),this._y=Math.atan2(n,l)):(this._x=Math.atan2(-f,c),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,t===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,t){return Lm.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Lm,r,t)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return Rm.setFromEuler(this),this.setFromQuaternion(Rm,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Qa.DefaultOrder="XYZ";Qa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let c2=0;const Dm=new Ae,eo=new Ja,ui=new Kt,xl=new Ae,aa=new Ae,d2=new Ae,h2=new Ja,Om=new Ae(1,0,0),Im=new Ae(0,1,0),km=new Ae(0,0,1),f2={type:"added"},Nm={type:"removed"};class Ar extends Wo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:c2++}),this.uuid=bi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ar.DefaultUp.clone();const e=new Ae,r=new Qa,t=new Ja,o=new Ae(1,1,1);function l(){t.setFromEuler(r,!1)}function s(){r.setFromQuaternion(t,void 0,!1)}r._onChange(l),t._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:t},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Kt},normalMatrix:{value:new Tn}}),this.matrix=new Kt,this.matrixWorld=new Kt,this.matrixAutoUpdate=Ar.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ar.DefaultMatrixWorldAutoUpdate,this.layers=new $0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return eo.setFromAxisAngle(e,r),this.quaternion.multiply(eo),this}rotateOnWorldAxis(e,r){return eo.setFromAxisAngle(e,r),this.quaternion.premultiply(eo),this}rotateX(e){return this.rotateOnAxis(Om,e)}rotateY(e){return this.rotateOnAxis(Im,e)}rotateZ(e){return this.rotateOnAxis(km,e)}translateOnAxis(e,r){return Dm.copy(e).applyQuaternion(this.quaternion),this.position.add(Dm.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(Om,e)}translateY(e){return this.translateOnAxis(Im,e)}translateZ(e){return this.translateOnAxis(km,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ui.copy(this.matrixWorld).invert())}lookAt(e,r,t){e.isVector3?xl.copy(e):xl.set(e,r,t);const o=this.parent;this.updateWorldMatrix(!0,!1),aa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ui.lookAt(aa,xl,this.up):ui.lookAt(xl,aa,this.up),this.quaternion.setFromRotationMatrix(ui),o&&(ui.extractRotation(o.matrixWorld),eo.setFromRotationMatrix(ui),this.quaternion.premultiply(eo.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(f2)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Nm)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const r=this.children[e];r.parent=null,r.dispatchEvent(Nm)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ui.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ui.multiply(e.parent.matrixWorld)),e.applyMatrix4(ui),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let t=0,o=this.children.length;t<o;t++){const s=this.children[t].getObjectByProperty(e,r);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(aa,e,d2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(aa,h2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let t=0,o=r.length;t<o;t++)r[t].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let t=0,o=r.length;t<o;t++)r[t].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let t=0,o=r.length;t<o;t++){const l=r[t];(l.matrixWorldAutoUpdate===!0||e===!0)&&l.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const t=this.parent;if(e===!0&&t!==null&&t.matrixWorldAutoUpdate===!0&&t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const o=this.children;for(let l=0,s=o.length;l<s;l++){const n=o[l];n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",t={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function l(n,i){return n[i.uuid]===void 0&&(n[i.uuid]=i.toJSON(e)),i.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=l(e.geometries,this.geometry);const n=this.geometry.parameters;if(n!==void 0&&n.shapes!==void 0){const i=n.shapes;if(Array.isArray(i))for(let u=0,f=i.length;u<f;u++){const m=i[u];l(e.shapes,m)}else l(e.shapes,i)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const n=[];for(let i=0,u=this.material.length;i<u;i++)n.push(l(e.materials,this.material[i]));o.material=n}else o.material=l(e.materials,this.material);if(this.children.length>0){o.children=[];for(let n=0;n<this.children.length;n++)o.children.push(this.children[n].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let n=0;n<this.animations.length;n++){const i=this.animations[n];o.animations.push(l(e.animations,i))}}if(r){const n=s(e.geometries),i=s(e.materials),u=s(e.textures),f=s(e.images),m=s(e.shapes),a=s(e.skeletons),c=s(e.animations),d=s(e.nodes);n.length>0&&(t.geometries=n),i.length>0&&(t.materials=i),u.length>0&&(t.textures=u),f.length>0&&(t.images=f),m.length>0&&(t.shapes=m),a.length>0&&(t.skeletons=a),c.length>0&&(t.animations=c),d.length>0&&(t.nodes=d)}return t.object=o,t;function s(n){const i=[];for(const u in n){const f=n[u];delete f.metadata,i.push(f)}return i}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let t=0;t<e.children.length;t++){const o=e.children[t];this.add(o.clone())}return this}}Ar.DefaultUp=new Ae(0,1,0);Ar.DefaultMatrixAutoUpdate=!0;Ar.DefaultMatrixWorldAutoUpdate=!0;const On=new Ae,ci=new Ae,Nc=new Ae,di=new Ae,to=new Ae,ro=new Ae,Um=new Ae,Uc=new Ae,Fc=new Ae,Bc=new Ae;class $n{constructor(e=new Ae,r=new Ae,t=new Ae){this.a=e,this.b=r,this.c=t}static getNormal(e,r,t,o){o.subVectors(t,r),On.subVectors(e,r),o.cross(On);const l=o.lengthSq();return l>0?o.multiplyScalar(1/Math.sqrt(l)):o.set(0,0,0)}static getBarycoord(e,r,t,o,l){On.subVectors(o,r),ci.subVectors(t,r),Nc.subVectors(e,r);const s=On.dot(On),n=On.dot(ci),i=On.dot(Nc),u=ci.dot(ci),f=ci.dot(Nc),m=s*u-n*n;if(m===0)return l.set(-2,-1,-1);const a=1/m,c=(u*i-n*f)*a,d=(s*f-n*i)*a;return l.set(1-c-d,d,c)}static containsPoint(e,r,t,o){return this.getBarycoord(e,r,t,o,di),di.x>=0&&di.y>=0&&di.x+di.y<=1}static getUV(e,r,t,o,l,s,n,i){return this.getBarycoord(e,r,t,o,di),i.set(0,0),i.addScaledVector(l,di.x),i.addScaledVector(s,di.y),i.addScaledVector(n,di.z),i}static isFrontFacing(e,r,t,o){return On.subVectors(t,r),ci.subVectors(e,r),On.cross(ci).dot(o)<0}set(e,r,t){return this.a.copy(e),this.b.copy(r),this.c.copy(t),this}setFromPointsAndIndices(e,r,t,o){return this.a.copy(e[r]),this.b.copy(e[t]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,r,t,o){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,t),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return On.subVectors(this.c,this.b),ci.subVectors(this.a,this.b),On.cross(ci).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $n.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return $n.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,t,o,l){return $n.getUV(e,this.a,this.b,this.c,r,t,o,l)}containsPoint(e){return $n.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $n.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const t=this.a,o=this.b,l=this.c;let s,n;to.subVectors(o,t),ro.subVectors(l,t),Uc.subVectors(e,t);const i=to.dot(Uc),u=ro.dot(Uc);if(i<=0&&u<=0)return r.copy(t);Fc.subVectors(e,o);const f=to.dot(Fc),m=ro.dot(Fc);if(f>=0&&m<=f)return r.copy(o);const a=i*m-f*u;if(a<=0&&i>=0&&f<=0)return s=i/(i-f),r.copy(t).addScaledVector(to,s);Bc.subVectors(e,l);const c=to.dot(Bc),d=ro.dot(Bc);if(d>=0&&c<=d)return r.copy(l);const p=c*u-i*d;if(p<=0&&u>=0&&d<=0)return n=u/(u-d),r.copy(t).addScaledVector(ro,n);const g=f*d-c*m;if(g<=0&&m-f>=0&&c-d>=0)return Um.subVectors(l,o),n=(m-f)/(m-f+(c-d)),r.copy(o).addScaledVector(Um,n);const y=1/(g+p+a);return s=p*y,n=a*y,r.copy(t).addScaledVector(to,s).addScaledVector(ro,n)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let p2=0;class Ei extends Wo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:p2++}),this.uuid=bi(),this.name="",this.type="Material",this.blending=To,this.side=No,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=V0,this.blendDst=H0,this.blendEquation=fo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Nd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=n2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ec,this.stencilZFail=Ec,this.stencilZPass=Ec,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const t=e[r];if(t===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}const o=this[r];if(o===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}o&&o.isColor?o.set(t):o&&o.isVector3&&t&&t.isVector3?o.copy(t):this[r]=t}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const t={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),this.roughness!==void 0&&(t.roughness=this.roughness),this.metalness!==void 0&&(t.metalness=this.metalness),this.sheen!==void 0&&(t.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(t.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(t.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(t.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(t.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(t.shininess=this.shininess),this.clearcoat!==void 0&&(t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(t.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(t.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(t.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(t.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(t.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(t.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(e).uuid,t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(e).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(e).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(e).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(e).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(t.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(t.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(t.combine=this.combine)),this.envMapIntensity!==void 0&&(t.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(t.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(t.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(t.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(t.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(t.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(t.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(t.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(t.size=this.size),this.shadowSide!==null&&(t.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==To&&(t.blending=this.blending),this.side!==No&&(t.side=this.side),this.vertexColors&&(t.vertexColors=!0),this.opacity<1&&(t.opacity=this.opacity),this.transparent===!0&&(t.transparent=this.transparent),t.depthFunc=this.depthFunc,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.colorWrite=this.colorWrite,t.stencilWrite=this.stencilWrite,t.stencilWriteMask=this.stencilWriteMask,t.stencilFunc=this.stencilFunc,t.stencilRef=this.stencilRef,t.stencilFuncMask=this.stencilFuncMask,t.stencilFail=this.stencilFail,t.stencilZFail=this.stencilZFail,t.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(t.rotation=this.rotation),this.polygonOffset===!0&&(t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(t.linewidth=this.linewidth),this.dashSize!==void 0&&(t.dashSize=this.dashSize),this.gapSize!==void 0&&(t.gapSize=this.gapSize),this.scale!==void 0&&(t.scale=this.scale),this.dithering===!0&&(t.dithering=!0),this.alphaTest>0&&(t.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(t.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(t.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(t.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(t.flatShading=this.flatShading),this.visible===!1&&(t.visible=!1),this.toneMapped===!1&&(t.toneMapped=!1),this.fog===!1&&(t.fog=!1),JSON.stringify(this.userData)!=="{}"&&(t.userData=this.userData);function o(l){const s=[];for(const n in l){const i=l[n];delete i.metadata,s.push(i)}return s}if(r){const l=o(e.textures),s=o(e.images);l.length>0&&(t.textures=l),s.length>0&&(t.images=s)}return t}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let t=null;if(r!==null){const o=r.length;t=new Array(o);for(let l=0;l!==o;++l)t[l]=r[l].clone()}return this.clippingPlanes=t,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class zh extends Ei{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yr=new Ae,wl=new nt;class Jr{constructor(e,r,t){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=t===!0,this.usage=Gd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,r,t){e*=this.itemSize,t*=r.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[e+o]=r.array[t+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,t=this.count;r<t;r++)wl.fromBufferAttribute(this,r),wl.applyMatrix3(e),this.setXY(r,wl.x,wl.y);else if(this.itemSize===3)for(let r=0,t=this.count;r<t;r++)yr.fromBufferAttribute(this,r),yr.applyMatrix3(e),this.setXYZ(r,yr.x,yr.y,yr.z);return this}applyMatrix4(e){for(let r=0,t=this.count;r<t;r++)yr.fromBufferAttribute(this,r),yr.applyMatrix4(e),this.setXYZ(r,yr.x,yr.y,yr.z);return this}applyNormalMatrix(e){for(let r=0,t=this.count;r<t;r++)yr.fromBufferAttribute(this,r),yr.applyNormalMatrix(e),this.setXYZ(r,yr.x,yr.y,yr.z);return this}transformDirection(e){for(let r=0,t=this.count;r<t;r++)yr.fromBufferAttribute(this,r),yr.transformDirection(e),this.setXYZ(r,yr.x,yr.y,yr.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=Xi(r,this.array)),r}setX(e,r){return this.normalized&&(r=Yt(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=Xi(r,this.array)),r}setY(e,r){return this.normalized&&(r=Yt(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=Xi(r,this.array)),r}setZ(e,r){return this.normalized&&(r=Yt(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=Xi(r,this.array)),r}setW(e,r){return this.normalized&&(r=Yt(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,t){return e*=this.itemSize,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array)),this.array[e+0]=r,this.array[e+1]=t,this}setXYZ(e,r,t,o){return e*=this.itemSize,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array),o=Yt(o,this.array)),this.array[e+0]=r,this.array[e+1]=t,this.array[e+2]=o,this}setXYZW(e,r,t,o,l){return e*=this.itemSize,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array),o=Yt(o,this.array),l=Yt(l,this.array)),this.array[e+0]=r,this.array[e+1]=t,this.array[e+2]=o,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Gd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Q0 extends Jr{constructor(e,r,t){super(new Uint16Array(e),r,t)}}class ev extends Jr{constructor(e,r,t){super(new Uint32Array(e),r,t)}}class bt extends Jr{constructor(e,r,t){super(new Float32Array(e),r,t)}}let m2=0;const _n=new Kt,zc=new Ar,no=new Ae,cn=new qo,la=new qo,Mr=new Ae;class tr extends Wo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:m2++}),this.uuid=bi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(X0(e)?ev:Q0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,t=0){this.groups.push({start:e,count:r,materialIndex:t})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const t=this.attributes.normal;if(t!==void 0){const l=new Tn().getNormalMatrix(e);t.applyNormalMatrix(l),t.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _n.makeRotationFromQuaternion(e),this.applyMatrix4(_n),this}rotateX(e){return _n.makeRotationX(e),this.applyMatrix4(_n),this}rotateY(e){return _n.makeRotationY(e),this.applyMatrix4(_n),this}rotateZ(e){return _n.makeRotationZ(e),this.applyMatrix4(_n),this}translate(e,r,t){return _n.makeTranslation(e,r,t),this.applyMatrix4(_n),this}scale(e,r,t){return _n.makeScale(e,r,t),this.applyMatrix4(_n),this}lookAt(e){return zc.lookAt(e),zc.updateMatrix(),this.applyMatrix4(zc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(no).negate(),this.translate(no.x,no.y,no.z),this}setFromPoints(e){const r=[];for(let t=0,o=e.length;t<o;t++){const l=e[t];r.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new bt(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qo);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ae(-1/0,-1/0,-1/0),new Ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let t=0,o=r.length;t<o;t++){const l=r[t];cn.setFromBufferAttribute(l),this.morphTargetsRelative?(Mr.addVectors(this.boundingBox.min,cn.min),this.boundingBox.expandByPoint(Mr),Mr.addVectors(this.boundingBox.max,cn.max),this.boundingBox.expandByPoint(Mr)):(this.boundingBox.expandByPoint(cn.min),this.boundingBox.expandByPoint(cn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $a);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ae,1/0);return}if(e){const t=this.boundingSphere.center;if(cn.setFromBufferAttribute(e),r)for(let l=0,s=r.length;l<s;l++){const n=r[l];la.setFromBufferAttribute(n),this.morphTargetsRelative?(Mr.addVectors(cn.min,la.min),cn.expandByPoint(Mr),Mr.addVectors(cn.max,la.max),cn.expandByPoint(Mr)):(cn.expandByPoint(la.min),cn.expandByPoint(la.max))}cn.getCenter(t);let o=0;for(let l=0,s=e.count;l<s;l++)Mr.fromBufferAttribute(e,l),o=Math.max(o,t.distanceToSquared(Mr));if(r)for(let l=0,s=r.length;l<s;l++){const n=r[l],i=this.morphTargetsRelative;for(let u=0,f=n.count;u<f;u++)Mr.fromBufferAttribute(n,u),i&&(no.fromBufferAttribute(e,u),Mr.add(no)),o=Math.max(o,t.distanceToSquared(Mr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const t=e.array,o=r.position.array,l=r.normal.array,s=r.uv.array,n=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jr(new Float32Array(4*n),4));const i=this.getAttribute("tangent").array,u=[],f=[];for(let P=0;P<n;P++)u[P]=new Ae,f[P]=new Ae;const m=new Ae,a=new Ae,c=new Ae,d=new nt,p=new nt,g=new nt,y=new Ae,v=new Ae;function _(P,L,N){m.fromArray(o,P*3),a.fromArray(o,L*3),c.fromArray(o,N*3),d.fromArray(s,P*2),p.fromArray(s,L*2),g.fromArray(s,N*2),a.sub(m),c.sub(m),p.sub(d),g.sub(d);const O=1/(p.x*g.y-g.x*p.y);isFinite(O)&&(y.copy(a).multiplyScalar(g.y).addScaledVector(c,-p.y).multiplyScalar(O),v.copy(c).multiplyScalar(p.x).addScaledVector(a,-g.x).multiplyScalar(O),u[P].add(y),u[L].add(y),u[N].add(y),f[P].add(v),f[L].add(v),f[N].add(v))}let x=this.groups;x.length===0&&(x=[{start:0,count:t.length}]);for(let P=0,L=x.length;P<L;++P){const N=x[P],O=N.start,k=N.count;for(let X=O,Y=O+k;X<Y;X+=3)_(t[X+0],t[X+1],t[X+2])}const w=new Ae,E=new Ae,T=new Ae,M=new Ae;function j(P){T.fromArray(l,P*3),M.copy(T);const L=u[P];w.copy(L),w.sub(T.multiplyScalar(T.dot(L))).normalize(),E.crossVectors(M,L);const O=E.dot(f[P])<0?-1:1;i[P*4]=w.x,i[P*4+1]=w.y,i[P*4+2]=w.z,i[P*4+3]=O}for(let P=0,L=x.length;P<L;++P){const N=x[P],O=N.start,k=N.count;for(let X=O,Y=O+k;X<Y;X+=3)j(t[X+0]),j(t[X+1]),j(t[X+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let t=this.getAttribute("normal");if(t===void 0)t=new Jr(new Float32Array(r.count*3),3),this.setAttribute("normal",t);else for(let a=0,c=t.count;a<c;a++)t.setXYZ(a,0,0,0);const o=new Ae,l=new Ae,s=new Ae,n=new Ae,i=new Ae,u=new Ae,f=new Ae,m=new Ae;if(e)for(let a=0,c=e.count;a<c;a+=3){const d=e.getX(a+0),p=e.getX(a+1),g=e.getX(a+2);o.fromBufferAttribute(r,d),l.fromBufferAttribute(r,p),s.fromBufferAttribute(r,g),f.subVectors(s,l),m.subVectors(o,l),f.cross(m),n.fromBufferAttribute(t,d),i.fromBufferAttribute(t,p),u.fromBufferAttribute(t,g),n.add(f),i.add(f),u.add(f),t.setXYZ(d,n.x,n.y,n.z),t.setXYZ(p,i.x,i.y,i.z),t.setXYZ(g,u.x,u.y,u.z)}else for(let a=0,c=r.count;a<c;a+=3)o.fromBufferAttribute(r,a+0),l.fromBufferAttribute(r,a+1),s.fromBufferAttribute(r,a+2),f.subVectors(s,l),m.subVectors(o,l),f.cross(m),t.setXYZ(a+0,f.x,f.y,f.z),t.setXYZ(a+1,f.x,f.y,f.z),t.setXYZ(a+2,f.x,f.y,f.z);this.normalizeNormals(),t.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let r=0,t=e.count;r<t;r++)Mr.fromBufferAttribute(e,r),Mr.normalize(),e.setXYZ(r,Mr.x,Mr.y,Mr.z)}toNonIndexed(){function e(n,i){const u=n.array,f=n.itemSize,m=n.normalized,a=new u.constructor(i.length*f);let c=0,d=0;for(let p=0,g=i.length;p<g;p++){n.isInterleavedBufferAttribute?c=i[p]*n.data.stride+n.offset:c=i[p]*f;for(let y=0;y<f;y++)a[d++]=u[c++]}return new Jr(a,f,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new tr,t=this.index.array,o=this.attributes;for(const n in o){const i=o[n],u=e(i,t);r.setAttribute(n,u)}const l=this.morphAttributes;for(const n in l){const i=[],u=l[n];for(let f=0,m=u.length;f<m;f++){const a=u[f],c=e(a,t);i.push(c)}r.morphAttributes[n]=i}r.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let n=0,i=s.length;n<i;n++){const u=s[n];r.addGroup(u.start,u.count,u.materialIndex)}return r}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const i=this.parameters;for(const u in i)i[u]!==void 0&&(e[u]=i[u]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const t=this.attributes;for(const i in t){const u=t[i];e.data.attributes[i]=u.toJSON(e.data)}const o={};let l=!1;for(const i in this.morphAttributes){const u=this.morphAttributes[i],f=[];for(let m=0,a=u.length;m<a;m++){const c=u[m];f.push(c.toJSON(e.data))}f.length>0&&(o[i]=f,l=!0)}l&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const n=this.boundingSphere;return n!==null&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const t=e.index;t!==null&&this.setIndex(t.clone(r));const o=e.attributes;for(const u in o){const f=o[u];this.setAttribute(u,f.clone(r))}const l=e.morphAttributes;for(const u in l){const f=[],m=l[u];for(let a=0,c=m.length;a<c;a++)f.push(m[a].clone(r));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,f=s.length;u<f;u++){const m=s[u];this.addGroup(m.start,m.count,m.materialIndex)}const n=e.boundingBox;n!==null&&(this.boundingBox=n.clone());const i=e.boundingSphere;return i!==null&&(this.boundingSphere=i.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Fm=new Kt,io=new Bh,Gc=new $a,Ii=new Ae,ki=new Ae,Ni=new Ae,Vc=new Ae,Hc=new Ae,Wc=new Ae,Sl=new Ae,Ml=new Ae,El=new Ae,Tl=new nt,Al=new nt,jl=new nt,qc=new Ae,Cl=new Ae;class Bn extends Ar{constructor(e=new tr,r=new zh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,t=Object.keys(r);if(t.length>0){const o=r[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,s=o.length;l<s;l++){const n=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=l}}}}raycast(e,r){const t=this.geometry,o=this.material,l=this.matrixWorld;if(o===void 0||(t.boundingSphere===null&&t.computeBoundingSphere(),Gc.copy(t.boundingSphere),Gc.applyMatrix4(l),e.ray.intersectsSphere(Gc)===!1)||(Fm.copy(l).invert(),io.copy(e.ray).applyMatrix4(Fm),t.boundingBox!==null&&io.intersectsBox(t.boundingBox)===!1))return;let s;const n=t.index,i=t.attributes.position,u=t.morphAttributes.position,f=t.morphTargetsRelative,m=t.attributes.uv,a=t.attributes.uv2,c=t.groups,d=t.drawRange;if(n!==null)if(Array.isArray(o))for(let p=0,g=c.length;p<g;p++){const y=c[p],v=o[y.materialIndex],_=Math.max(y.start,d.start),x=Math.min(n.count,Math.min(y.start+y.count,d.start+d.count));for(let w=_,E=x;w<E;w+=3){const T=n.getX(w),M=n.getX(w+1),j=n.getX(w+2);s=Pl(this,v,e,io,i,u,f,m,a,T,M,j),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=y.materialIndex,r.push(s))}}else{const p=Math.max(0,d.start),g=Math.min(n.count,d.start+d.count);for(let y=p,v=g;y<v;y+=3){const _=n.getX(y),x=n.getX(y+1),w=n.getX(y+2);s=Pl(this,o,e,io,i,u,f,m,a,_,x,w),s&&(s.faceIndex=Math.floor(y/3),r.push(s))}}else if(i!==void 0)if(Array.isArray(o))for(let p=0,g=c.length;p<g;p++){const y=c[p],v=o[y.materialIndex],_=Math.max(y.start,d.start),x=Math.min(i.count,Math.min(y.start+y.count,d.start+d.count));for(let w=_,E=x;w<E;w+=3){const T=w,M=w+1,j=w+2;s=Pl(this,v,e,io,i,u,f,m,a,T,M,j),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=y.materialIndex,r.push(s))}}else{const p=Math.max(0,d.start),g=Math.min(i.count,d.start+d.count);for(let y=p,v=g;y<v;y+=3){const _=y,x=y+1,w=y+2;s=Pl(this,o,e,io,i,u,f,m,a,_,x,w),s&&(s.faceIndex=Math.floor(y/3),r.push(s))}}}}function g2(h,e,r,t,o,l,s,n){let i;if(e.side===An?i=t.intersectTriangle(s,l,o,!0,n):i=t.intersectTriangle(o,l,s,e.side!==qi,n),i===null)return null;Cl.copy(n),Cl.applyMatrix4(h.matrixWorld);const u=r.ray.origin.distanceTo(Cl);return u<r.near||u>r.far?null:{distance:u,point:Cl.clone(),object:h}}function Pl(h,e,r,t,o,l,s,n,i,u,f,m){Ii.fromBufferAttribute(o,u),ki.fromBufferAttribute(o,f),Ni.fromBufferAttribute(o,m);const a=h.morphTargetInfluences;if(l&&a){Sl.set(0,0,0),Ml.set(0,0,0),El.set(0,0,0);for(let d=0,p=l.length;d<p;d++){const g=a[d],y=l[d];g!==0&&(Vc.fromBufferAttribute(y,u),Hc.fromBufferAttribute(y,f),Wc.fromBufferAttribute(y,m),s?(Sl.addScaledVector(Vc,g),Ml.addScaledVector(Hc,g),El.addScaledVector(Wc,g)):(Sl.addScaledVector(Vc.sub(Ii),g),Ml.addScaledVector(Hc.sub(ki),g),El.addScaledVector(Wc.sub(Ni),g)))}Ii.add(Sl),ki.add(Ml),Ni.add(El)}h.isSkinnedMesh&&(h.boneTransform(u,Ii),h.boneTransform(f,ki),h.boneTransform(m,Ni));const c=g2(h,e,r,t,Ii,ki,Ni,qc);if(c){n&&(Tl.fromBufferAttribute(n,u),Al.fromBufferAttribute(n,f),jl.fromBufferAttribute(n,m),c.uv=$n.getUV(qc,Ii,ki,Ni,Tl,Al,jl,new nt)),i&&(Tl.fromBufferAttribute(i,u),Al.fromBufferAttribute(i,f),jl.fromBufferAttribute(i,m),c.uv2=$n.getUV(qc,Ii,ki,Ni,Tl,Al,jl,new nt));const d={a:u,b:f,c:m,normal:new Ae,materialIndex:0};$n.getNormal(Ii,ki,Ni,d.normal),c.face=d}return c}class el extends tr{constructor(e=1,r=1,t=1,o=1,l=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:t,widthSegments:o,heightSegments:l,depthSegments:s};const n=this;o=Math.floor(o),l=Math.floor(l),s=Math.floor(s);const i=[],u=[],f=[],m=[];let a=0,c=0;d("z","y","x",-1,-1,t,r,e,s,l,0),d("z","y","x",1,-1,t,r,-e,s,l,1),d("x","z","y",1,1,e,t,r,o,s,2),d("x","z","y",1,-1,e,t,-r,o,s,3),d("x","y","z",1,-1,e,r,t,o,l,4),d("x","y","z",-1,-1,e,r,-t,o,l,5),this.setIndex(i),this.setAttribute("position",new bt(u,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(m,2));function d(p,g,y,v,_,x,w,E,T,M,j){const P=x/T,L=w/M,N=x/2,O=w/2,k=E/2,X=T+1,Y=M+1;let q=0,H=0;const z=new Ae;for(let W=0;W<Y;W++){const $=W*L-O;for(let se=0;se<X;se++){const R=se*P-N;z[p]=R*v,z[g]=$*_,z[y]=k,u.push(z.x,z.y,z.z),z[p]=0,z[g]=0,z[y]=E>0?1:-1,f.push(z.x,z.y,z.z),m.push(se/T),m.push(1-W/M),q+=1}}for(let W=0;W<M;W++)for(let $=0;$<T;$++){const se=a+$+X*W,R=a+$+X*(W+1),I=a+($+1)+X*(W+1),U=a+($+1)+X*W;i.push(se,R,U),i.push(R,I,U),H+=6}n.addGroup(c,H,j),c+=H,a+=q}}static fromJSON(e){return new el(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zo(h){const e={};for(const r in h){e[r]={};for(const t in h[r]){const o=h[r][t];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?e[r][t]=o.clone():Array.isArray(o)?e[r][t]=o.slice():e[r][t]=o}}return e}function Zr(h){const e={};for(let r=0;r<h.length;r++){const t=zo(h[r]);for(const o in t)e[o]=t[o]}return e}function y2(h){const e=[];for(let r=0;r<h.length;r++)e.push(h[r].clone());return e}const v2={clone:zo,merge:Zr};var _2=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,b2=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class is extends Ei{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_2,this.fragmentShader=b2,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zo(e.uniforms),this.uniformsGroups=y2(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const o in this.uniforms){const s=this.uniforms[o].value;s&&s.isTexture?r.uniforms[o]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?r.uniforms[o]={type:"c",value:s.getHex()}:s&&s.isVector2?r.uniforms[o]={type:"v2",value:s.toArray()}:s&&s.isVector3?r.uniforms[o]={type:"v3",value:s.toArray()}:s&&s.isVector4?r.uniforms[o]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?r.uniforms[o]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?r.uniforms[o]={type:"m4",value:s.toArray()}:r.uniforms[o]={value:s}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const t={};for(const o in this.extensions)this.extensions[o]===!0&&(t[o]=!0);return Object.keys(t).length>0&&(r.extensions=t),r}}class tv extends Ar{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Kt,this.projectionMatrix=new Kt,this.projectionMatrixInverse=new Kt}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class hn extends tv{constructor(e=50,r=1,t=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=t,this.far=o,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=jm*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(nu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return jm*2*Math.atan(Math.tan(nu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,t,o,l,s){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=t,this.view.offsetY=o,this.view.width=l,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(nu*.5*this.fov)/this.zoom,t=2*r,o=this.aspect*t,l=-.5*o;const s=this.view;if(this.view!==null&&this.view.enabled){const i=s.fullWidth,u=s.fullHeight;l+=s.offsetX*o/i,r-=s.offsetY*t/u,o*=s.width/i,t*=s.height/u}const n=this.filmOffset;n!==0&&(l+=e*n/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,r,r-t,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const so=90,oo=1;class x2 extends Ar{constructor(e,r,t){super(),this.type="CubeCamera",this.renderTarget=t;const o=new hn(so,oo,e,r);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Ae(1,0,0)),this.add(o);const l=new hn(so,oo,e,r);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ae(-1,0,0)),this.add(l);const s=new hn(so,oo,e,r);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Ae(0,1,0)),this.add(s);const n=new hn(so,oo,e,r);n.layers=this.layers,n.up.set(0,0,-1),n.lookAt(new Ae(0,-1,0)),this.add(n);const i=new hn(so,oo,e,r);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Ae(0,0,1)),this.add(i);const u=new hn(so,oo,e,r);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Ae(0,0,-1)),this.add(u)}update(e,r){this.parent===null&&this.updateMatrixWorld();const t=this.renderTarget,[o,l,s,n,i,u]=this.children,f=e.getRenderTarget(),m=e.toneMapping,a=e.xr.enabled;e.toneMapping=_i,e.xr.enabled=!1;const c=t.texture.generateMipmaps;t.texture.generateMipmaps=!1,e.setRenderTarget(t,0),e.render(r,o),e.setRenderTarget(t,1),e.render(r,l),e.setRenderTarget(t,2),e.render(r,s),e.setRenderTarget(t,3),e.render(r,n),e.setRenderTarget(t,4),e.render(r,i),t.texture.generateMipmaps=c,e.setRenderTarget(t,5),e.render(r,u),e.setRenderTarget(f),e.toneMapping=m,e.xr.enabled=a,t.texture.needsPMREMUpdate=!0}}class rv extends vn{constructor(e,r,t,o,l,s,n,i,u,f){e=e!==void 0?e:[],r=r!==void 0?r:Uo,super(e,r,t,o,l,s,n,i,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class w2 extends Is{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const t={width:e,height:e,depth:1},o=[t,t,t,t,t,t];this.texture=new rv(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:xn}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const t={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new el(5,5,5),l=new is({name:"CubemapFromEquirect",uniforms:zo(t.uniforms),vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,side:An,blending:Qi});l.uniforms.tEquirect.value=r;const s=new Bn(o,l),n=r.minFilter;return r.minFilter===Gu&&(r.minFilter=xn),new x2(1,10,this).update(e,s),r.minFilter=n,s.geometry.dispose(),s.material.dispose(),this}clear(e,r,t,o){const l=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(r,t,o);e.setRenderTarget(l)}}const Xc=new Ae,S2=new Ae,M2=new Tn;class ps{constructor(e=new Ae(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,t,o){return this.normal.set(e,r,t),this.constant=o,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,t){const o=Xc.subVectors(t,r).cross(S2.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,r){const t=e.delta(Xc),o=this.normal.dot(t);if(o===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/o;return l<0||l>1?null:r.copy(t).multiplyScalar(l).add(e.start)}intersectsLine(e){const r=this.distanceToPoint(e.start),t=this.distanceToPoint(e.end);return r<0&&t>0||t<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const t=r||M2.getNormalMatrix(e),o=this.coplanarPoint(Xc).applyMatrix4(e),l=this.normal.applyMatrix3(t).normalize();return this.constant=-o.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ao=new $a,Ll=new Ae;class Gh{constructor(e=new ps,r=new ps,t=new ps,o=new ps,l=new ps,s=new ps){this.planes=[e,r,t,o,l,s]}set(e,r,t,o,l,s){const n=this.planes;return n[0].copy(e),n[1].copy(r),n[2].copy(t),n[3].copy(o),n[4].copy(l),n[5].copy(s),this}copy(e){const r=this.planes;for(let t=0;t<6;t++)r[t].copy(e.planes[t]);return this}setFromProjectionMatrix(e){const r=this.planes,t=e.elements,o=t[0],l=t[1],s=t[2],n=t[3],i=t[4],u=t[5],f=t[6],m=t[7],a=t[8],c=t[9],d=t[10],p=t[11],g=t[12],y=t[13],v=t[14],_=t[15];return r[0].setComponents(n-o,m-i,p-a,_-g).normalize(),r[1].setComponents(n+o,m+i,p+a,_+g).normalize(),r[2].setComponents(n+l,m+u,p+c,_+y).normalize(),r[3].setComponents(n-l,m-u,p-c,_-y).normalize(),r[4].setComponents(n-s,m-f,p-d,_-v).normalize(),r[5].setComponents(n+s,m+f,p+d,_+v).normalize(),this}intersectsObject(e){const r=e.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),ao.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ao)}intersectsSprite(e){return ao.center.set(0,0,0),ao.radius=.7071067811865476,ao.applyMatrix4(e.matrixWorld),this.intersectsSphere(ao)}intersectsSphere(e){const r=this.planes,t=e.center,o=-e.radius;for(let l=0;l<6;l++)if(r[l].distanceToPoint(t)<o)return!1;return!0}intersectsBox(e){const r=this.planes;for(let t=0;t<6;t++){const o=r[t];if(Ll.x=o.normal.x>0?e.max.x:e.min.x,Ll.y=o.normal.y>0?e.max.y:e.min.y,Ll.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Ll)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let t=0;t<6;t++)if(r[t].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nv(){let h=null,e=!1,r=null,t=null;function o(l,s){r(l,s),t=h.requestAnimationFrame(o)}return{start:function(){e!==!0&&r!==null&&(t=h.requestAnimationFrame(o),e=!0)},stop:function(){h.cancelAnimationFrame(t),e=!1},setAnimationLoop:function(l){r=l},setContext:function(l){h=l}}}function E2(h,e){const r=e.isWebGL2,t=new WeakMap;function o(u,f){const m=u.array,a=u.usage,c=h.createBuffer();h.bindBuffer(f,c),h.bufferData(f,m,a),u.onUploadCallback();let d;if(m instanceof Float32Array)d=5126;else if(m instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(r)d=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else d=5123;else if(m instanceof Int16Array)d=5122;else if(m instanceof Uint32Array)d=5125;else if(m instanceof Int32Array)d=5124;else if(m instanceof Int8Array)d=5120;else if(m instanceof Uint8Array)d=5121;else if(m instanceof Uint8ClampedArray)d=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:c,type:d,bytesPerElement:m.BYTES_PER_ELEMENT,version:u.version}}function l(u,f,m){const a=f.array,c=f.updateRange;h.bindBuffer(m,u),c.count===-1?h.bufferSubData(m,0,a):(r?h.bufferSubData(m,c.offset*a.BYTES_PER_ELEMENT,a,c.offset,c.count):h.bufferSubData(m,c.offset*a.BYTES_PER_ELEMENT,a.subarray(c.offset,c.offset+c.count)),c.count=-1)}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function n(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=t.get(u);f&&(h.deleteBuffer(f.buffer),t.delete(u))}function i(u,f){if(u.isGLBufferAttribute){const a=t.get(u);(!a||a.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const m=t.get(u);m===void 0?t.set(u,o(u,f)):m.version<u.version&&(l(m.buffer,u,f),m.version=u.version)}return{get:s,remove:n,update:i}}class Vh extends tr{constructor(e=1,r=1,t=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:t,heightSegments:o};const l=e/2,s=r/2,n=Math.floor(t),i=Math.floor(o),u=n+1,f=i+1,m=e/n,a=r/i,c=[],d=[],p=[],g=[];for(let y=0;y<f;y++){const v=y*a-s;for(let _=0;_<u;_++){const x=_*m-l;d.push(x,-v,0),p.push(0,0,1),g.push(_/n),g.push(1-y/i)}}for(let y=0;y<i;y++)for(let v=0;v<n;v++){const _=v+u*y,x=v+u*(y+1),w=v+1+u*(y+1),E=v+1+u*y;c.push(_,x,E),c.push(x,w,E)}this.setIndex(c),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2))}static fromJSON(e){return new Vh(e.width,e.height,e.widthSegments,e.heightSegments)}}var T2=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,A2=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,j2=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,C2=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,P2=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,L2=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,R2="vec3 transformed = vec3( position );",D2=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,O2=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,I2=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,k2=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,N2=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,U2=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,F2=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,B2=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,z2=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,G2=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,V2=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,H2=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,W2=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,q2=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,X2=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Y2=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Z2=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,K2=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,J2=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$2="gl_FragColor = linearToOutputTexel( gl_FragColor );",Q2=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,eM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,tM=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rM=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nM=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,iM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,sM=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,oM=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aM=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lM=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uM=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cM=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,dM=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hM=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,fM=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,pM=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,mM=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,gM=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yM=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,vM=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_M=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,bM=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,xM=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wM=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,SM=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,MM=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,EM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,TM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,AM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,jM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,CM=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,PM=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,RM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DM=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OM=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,IM=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kM=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,NM=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,UM=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,FM=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,BM=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zM=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GM=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,VM=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HM=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,WM=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,qM=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,XM=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,YM=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ZM=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,KM=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,JM=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$M=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,QM=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,eE=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,tE=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rE=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nE=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,iE=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,sE=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,oE=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,aE=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lE=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,uE=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cE=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dE=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hE=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fE=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,pE=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,mE=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,gE=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,yE=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,vE=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,_E=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,bE=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,xE=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,wE=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,SE=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ME=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,EE=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,TE=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,AE=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jE=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,CE=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,PE=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,LE=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,RE=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,DE=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,OE=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,IE=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,kE=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NE=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UE=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,FE=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BE=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zE=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GE=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,VE=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HE=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,WE=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qE=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XE=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YE=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ZE=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KE=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JE=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$E=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,QE=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eT=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tT=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rT=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nT=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jt={alphamap_fragment:T2,alphamap_pars_fragment:A2,alphatest_fragment:j2,alphatest_pars_fragment:C2,aomap_fragment:P2,aomap_pars_fragment:L2,begin_vertex:R2,beginnormal_vertex:D2,bsdfs:O2,iridescence_fragment:I2,bumpmap_pars_fragment:k2,clipping_planes_fragment:N2,clipping_planes_pars_fragment:U2,clipping_planes_pars_vertex:F2,clipping_planes_vertex:B2,color_fragment:z2,color_pars_fragment:G2,color_pars_vertex:V2,color_vertex:H2,common:W2,cube_uv_reflection_fragment:q2,defaultnormal_vertex:X2,displacementmap_pars_vertex:Y2,displacementmap_vertex:Z2,emissivemap_fragment:K2,emissivemap_pars_fragment:J2,encodings_fragment:$2,encodings_pars_fragment:Q2,envmap_fragment:eM,envmap_common_pars_fragment:tM,envmap_pars_fragment:rM,envmap_pars_vertex:nM,envmap_physical_pars_fragment:mM,envmap_vertex:iM,fog_vertex:sM,fog_pars_vertex:oM,fog_fragment:aM,fog_pars_fragment:lM,gradientmap_pars_fragment:uM,lightmap_fragment:cM,lightmap_pars_fragment:dM,lights_lambert_fragment:hM,lights_lambert_pars_fragment:fM,lights_pars_begin:pM,lights_toon_fragment:gM,lights_toon_pars_fragment:yM,lights_phong_fragment:vM,lights_phong_pars_fragment:_M,lights_physical_fragment:bM,lights_physical_pars_fragment:xM,lights_fragment_begin:wM,lights_fragment_maps:SM,lights_fragment_end:MM,logdepthbuf_fragment:EM,logdepthbuf_pars_fragment:TM,logdepthbuf_pars_vertex:AM,logdepthbuf_vertex:jM,map_fragment:CM,map_pars_fragment:PM,map_particle_fragment:LM,map_particle_pars_fragment:RM,metalnessmap_fragment:DM,metalnessmap_pars_fragment:OM,morphcolor_vertex:IM,morphnormal_vertex:kM,morphtarget_pars_vertex:NM,morphtarget_vertex:UM,normal_fragment_begin:FM,normal_fragment_maps:BM,normal_pars_fragment:zM,normal_pars_vertex:GM,normal_vertex:VM,normalmap_pars_fragment:HM,clearcoat_normal_fragment_begin:WM,clearcoat_normal_fragment_maps:qM,clearcoat_pars_fragment:XM,iridescence_pars_fragment:YM,output_fragment:ZM,packing:KM,premultiplied_alpha_fragment:JM,project_vertex:$M,dithering_fragment:QM,dithering_pars_fragment:eE,roughnessmap_fragment:tE,roughnessmap_pars_fragment:rE,shadowmap_pars_fragment:nE,shadowmap_pars_vertex:iE,shadowmap_vertex:sE,shadowmask_pars_fragment:oE,skinbase_vertex:aE,skinning_pars_vertex:lE,skinning_vertex:uE,skinnormal_vertex:cE,specularmap_fragment:dE,specularmap_pars_fragment:hE,tonemapping_fragment:fE,tonemapping_pars_fragment:pE,transmission_fragment:mE,transmission_pars_fragment:gE,uv_pars_fragment:yE,uv_pars_vertex:vE,uv_vertex:_E,uv2_pars_fragment:bE,uv2_pars_vertex:xE,uv2_vertex:wE,worldpos_vertex:SE,background_vert:ME,background_frag:EE,backgroundCube_vert:TE,backgroundCube_frag:AE,cube_vert:jE,cube_frag:CE,depth_vert:PE,depth_frag:LE,distanceRGBA_vert:RE,distanceRGBA_frag:DE,equirect_vert:OE,equirect_frag:IE,linedashed_vert:kE,linedashed_frag:NE,meshbasic_vert:UE,meshbasic_frag:FE,meshlambert_vert:BE,meshlambert_frag:zE,meshmatcap_vert:GE,meshmatcap_frag:VE,meshnormal_vert:HE,meshnormal_frag:WE,meshphong_vert:qE,meshphong_frag:XE,meshphysical_vert:YE,meshphysical_frag:ZE,meshtoon_vert:KE,meshtoon_frag:JE,points_vert:$E,points_frag:QE,shadow_vert:eT,shadow_frag:tT,sprite_vert:rT,sprite_frag:nT},ot={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Tn},uv2Transform:{value:new Tn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tn}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tn}}},Zn={basic:{uniforms:Zr([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:jt.meshbasic_vert,fragmentShader:jt.meshbasic_frag},lambert:{uniforms:Zr([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new Lt(0)}}]),vertexShader:jt.meshlambert_vert,fragmentShader:jt.meshlambert_frag},phong:{uniforms:Zr([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:jt.meshphong_vert,fragmentShader:jt.meshphong_frag},standard:{uniforms:Zr([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag},toon:{uniforms:Zr([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new Lt(0)}}]),vertexShader:jt.meshtoon_vert,fragmentShader:jt.meshtoon_frag},matcap:{uniforms:Zr([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:jt.meshmatcap_vert,fragmentShader:jt.meshmatcap_frag},points:{uniforms:Zr([ot.points,ot.fog]),vertexShader:jt.points_vert,fragmentShader:jt.points_frag},dashed:{uniforms:Zr([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jt.linedashed_vert,fragmentShader:jt.linedashed_frag},depth:{uniforms:Zr([ot.common,ot.displacementmap]),vertexShader:jt.depth_vert,fragmentShader:jt.depth_frag},normal:{uniforms:Zr([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:jt.meshnormal_vert,fragmentShader:jt.meshnormal_frag},sprite:{uniforms:Zr([ot.sprite,ot.fog]),vertexShader:jt.sprite_vert,fragmentShader:jt.sprite_frag},background:{uniforms:{uvTransform:{value:new Tn},t2D:{value:null}},vertexShader:jt.background_vert,fragmentShader:jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:jt.backgroundCube_vert,fragmentShader:jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jt.cube_vert,fragmentShader:jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jt.equirect_vert,fragmentShader:jt.equirect_frag},distanceRGBA:{uniforms:Zr([ot.common,ot.displacementmap,{referencePosition:{value:new Ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jt.distanceRGBA_vert,fragmentShader:jt.distanceRGBA_frag},shadow:{uniforms:Zr([ot.lights,ot.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:jt.shadow_vert,fragmentShader:jt.shadow_frag}};Zn.physical={uniforms:Zr([Zn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new nt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag};function iT(h,e,r,t,o,l,s){const n=new Lt(0);let i=l===!0?0:1,u,f,m=null,a=0,c=null;function d(g,y){let v=!1,_=y.isScene===!0?y.background:null;_&&_.isTexture&&(_=(y.backgroundBlurriness>0?r:e).get(_));const x=h.xr,w=x.getSession&&x.getSession();w&&w.environmentBlendMode==="additive"&&(_=null),_===null?p(n,i):_&&_.isColor&&(p(_,1),v=!0),(h.autoClear||v)&&h.clear(h.autoClearColor,h.autoClearDepth,h.autoClearStencil),_&&(_.isCubeTexture||_.mapping===zu)?(f===void 0&&(f=new Bn(new el(1,1,1),new is({name:"BackgroundCubeMaterial",uniforms:zo(Zn.backgroundCube.uniforms),vertexShader:Zn.backgroundCube.vertexShader,fragmentShader:Zn.backgroundCube.fragmentShader,side:An,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(E,T,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(f)),f.material.uniforms.envMap.value=_,f.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,(m!==_||a!==_.version||c!==h.toneMapping)&&(f.material.needsUpdate=!0,m=_,a=_.version,c=h.toneMapping),f.layers.enableAll(),g.unshift(f,f.geometry,f.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new Bn(new Vh(2,2),new is({name:"BackgroundMaterial",uniforms:zo(Zn.background.uniforms),vertexShader:Zn.background.vertexShader,fragmentShader:Zn.background.fragmentShader,side:No,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(u)),u.material.uniforms.t2D.value=_,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(m!==_||a!==_.version||c!==h.toneMapping)&&(u.material.needsUpdate=!0,m=_,a=_.version,c=h.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null))}function p(g,y){t.buffers.color.setClear(g.r,g.g,g.b,y,s)}return{getClearColor:function(){return n},setClearColor:function(g,y=1){n.set(g),i=y,p(n,i)},getClearAlpha:function(){return i},setClearAlpha:function(g){i=g,p(n,i)},render:d}}function sT(h,e,r,t){const o=h.getParameter(34921),l=t.isWebGL2?null:e.get("OES_vertex_array_object"),s=t.isWebGL2||l!==null,n={},i=g(null);let u=i,f=!1;function m(k,X,Y,q,H){let z=!1;if(s){const W=p(q,Y,X);u!==W&&(u=W,c(u.object)),z=y(k,q,Y,H),z&&v(k,q,Y,H)}else{const W=X.wireframe===!0;(u.geometry!==q.id||u.program!==Y.id||u.wireframe!==W)&&(u.geometry=q.id,u.program=Y.id,u.wireframe=W,z=!0)}H!==null&&r.update(H,34963),(z||f)&&(f=!1,M(k,X,Y,q),H!==null&&h.bindBuffer(34963,r.get(H).buffer))}function a(){return t.isWebGL2?h.createVertexArray():l.createVertexArrayOES()}function c(k){return t.isWebGL2?h.bindVertexArray(k):l.bindVertexArrayOES(k)}function d(k){return t.isWebGL2?h.deleteVertexArray(k):l.deleteVertexArrayOES(k)}function p(k,X,Y){const q=Y.wireframe===!0;let H=n[k.id];H===void 0&&(H={},n[k.id]=H);let z=H[X.id];z===void 0&&(z={},H[X.id]=z);let W=z[q];return W===void 0&&(W=g(a()),z[q]=W),W}function g(k){const X=[],Y=[],q=[];for(let H=0;H<o;H++)X[H]=0,Y[H]=0,q[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:Y,attributeDivisors:q,object:k,attributes:{},index:null}}function y(k,X,Y,q){const H=u.attributes,z=X.attributes;let W=0;const $=Y.getAttributes();for(const se in $)if($[se].location>=0){const I=H[se];let U=z[se];if(U===void 0&&(se==="instanceMatrix"&&k.instanceMatrix&&(U=k.instanceMatrix),se==="instanceColor"&&k.instanceColor&&(U=k.instanceColor)),I===void 0||I.attribute!==U||U&&I.data!==U.data)return!0;W++}return u.attributesNum!==W||u.index!==q}function v(k,X,Y,q){const H={},z=X.attributes;let W=0;const $=Y.getAttributes();for(const se in $)if($[se].location>=0){let I=z[se];I===void 0&&(se==="instanceMatrix"&&k.instanceMatrix&&(I=k.instanceMatrix),se==="instanceColor"&&k.instanceColor&&(I=k.instanceColor));const U={};U.attribute=I,I&&I.data&&(U.data=I.data),H[se]=U,W++}u.attributes=H,u.attributesNum=W,u.index=q}function _(){const k=u.newAttributes;for(let X=0,Y=k.length;X<Y;X++)k[X]=0}function x(k){w(k,0)}function w(k,X){const Y=u.newAttributes,q=u.enabledAttributes,H=u.attributeDivisors;Y[k]=1,q[k]===0&&(h.enableVertexAttribArray(k),q[k]=1),H[k]!==X&&((t.isWebGL2?h:e.get("ANGLE_instanced_arrays"))[t.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,X),H[k]=X)}function E(){const k=u.newAttributes,X=u.enabledAttributes;for(let Y=0,q=X.length;Y<q;Y++)X[Y]!==k[Y]&&(h.disableVertexAttribArray(Y),X[Y]=0)}function T(k,X,Y,q,H,z){t.isWebGL2===!0&&(Y===5124||Y===5125)?h.vertexAttribIPointer(k,X,Y,H,z):h.vertexAttribPointer(k,X,Y,q,H,z)}function M(k,X,Y,q){if(t.isWebGL2===!1&&(k.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const H=q.attributes,z=Y.getAttributes(),W=X.defaultAttributeValues;for(const $ in z){const se=z[$];if(se.location>=0){let R=H[$];if(R===void 0&&($==="instanceMatrix"&&k.instanceMatrix&&(R=k.instanceMatrix),$==="instanceColor"&&k.instanceColor&&(R=k.instanceColor)),R!==void 0){const I=R.normalized,U=R.itemSize,G=r.get(R);if(G===void 0)continue;const ee=G.buffer,ue=G.type,fe=G.bytesPerElement;if(R.isInterleavedBufferAttribute){const pe=R.data,ce=pe.stride,ie=R.offset;if(pe.isInstancedInterleavedBuffer){for(let V=0;V<se.locationSize;V++)w(se.location+V,pe.meshPerAttribute);k.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let V=0;V<se.locationSize;V++)x(se.location+V);h.bindBuffer(34962,ee);for(let V=0;V<se.locationSize;V++)T(se.location+V,U/se.locationSize,ue,I,ce*fe,(ie+U/se.locationSize*V)*fe)}else{if(R.isInstancedBufferAttribute){for(let pe=0;pe<se.locationSize;pe++)w(se.location+pe,R.meshPerAttribute);k.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=R.meshPerAttribute*R.count)}else for(let pe=0;pe<se.locationSize;pe++)x(se.location+pe);h.bindBuffer(34962,ee);for(let pe=0;pe<se.locationSize;pe++)T(se.location+pe,U/se.locationSize,ue,I,U*fe,U/se.locationSize*pe*fe)}}else if(W!==void 0){const I=W[$];if(I!==void 0)switch(I.length){case 2:h.vertexAttrib2fv(se.location,I);break;case 3:h.vertexAttrib3fv(se.location,I);break;case 4:h.vertexAttrib4fv(se.location,I);break;default:h.vertexAttrib1fv(se.location,I)}}}}E()}function j(){N();for(const k in n){const X=n[k];for(const Y in X){const q=X[Y];for(const H in q)d(q[H].object),delete q[H];delete X[Y]}delete n[k]}}function P(k){if(n[k.id]===void 0)return;const X=n[k.id];for(const Y in X){const q=X[Y];for(const H in q)d(q[H].object),delete q[H];delete X[Y]}delete n[k.id]}function L(k){for(const X in n){const Y=n[X];if(Y[k.id]===void 0)continue;const q=Y[k.id];for(const H in q)d(q[H].object),delete q[H];delete Y[k.id]}}function N(){O(),f=!0,u!==i&&(u=i,c(u.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:m,reset:N,resetDefaultState:O,dispose:j,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:_,enableAttribute:x,disableUnusedAttributes:E}}function oT(h,e,r,t){const o=t.isWebGL2;let l;function s(u){l=u}function n(u,f){h.drawArrays(l,u,f),r.update(f,l,1)}function i(u,f,m){if(m===0)return;let a,c;if(o)a=h,c="drawArraysInstanced";else if(a=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",a===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}a[c](l,u,f,m),r.update(f,l,m)}this.setMode=s,this.render=n,this.renderInstances=i}function aT(h,e,r){let t;function o(){if(t!==void 0)return t;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");t=h.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else t=0;return t}function l(T){if(T==="highp"){if(h.getShaderPrecisionFormat(35633,36338).precision>0&&h.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&h.getShaderPrecisionFormat(35633,36337).precision>0&&h.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&h instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&h instanceof WebGL2ComputeRenderingContext;let n=r.precision!==void 0?r.precision:"highp";const i=l(n);i!==n&&(console.warn("THREE.WebGLRenderer:",n,"not supported, using",i,"instead."),n=i);const u=s||e.has("WEBGL_draw_buffers"),f=r.logarithmicDepthBuffer===!0,m=h.getParameter(34930),a=h.getParameter(35660),c=h.getParameter(3379),d=h.getParameter(34076),p=h.getParameter(34921),g=h.getParameter(36347),y=h.getParameter(36348),v=h.getParameter(36349),_=a>0,x=s||e.has("OES_texture_float"),w=_&&x,E=s?h.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:o,getMaxPrecision:l,precision:n,logarithmicDepthBuffer:f,maxTextures:m,maxVertexTextures:a,maxTextureSize:c,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:v,vertexTextures:_,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:E}}function lT(h){const e=this;let r=null,t=0,o=!1,l=!1;const s=new ps,n=new Tn,i={value:null,needsUpdate:!1};this.uniform=i,this.numPlanes=0,this.numIntersection=0,this.init=function(m,a,c){const d=m.length!==0||a||t!==0||o;return o=a,r=f(m,c,0),t=m.length,d},this.beginShadows=function(){l=!0,f(null)},this.endShadows=function(){l=!1,u()},this.setState=function(m,a,c){const d=m.clippingPlanes,p=m.clipIntersection,g=m.clipShadows,y=h.get(m);if(!o||d===null||d.length===0||l&&!g)l?f(null):u();else{const v=l?0:t,_=v*4;let x=y.clippingState||null;i.value=x,x=f(d,a,_,c);for(let w=0;w!==_;++w)x[w]=r[w];y.clippingState=x,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=v}};function u(){i.value!==r&&(i.value=r,i.needsUpdate=t>0),e.numPlanes=t,e.numIntersection=0}function f(m,a,c,d){const p=m!==null?m.length:0;let g=null;if(p!==0){if(g=i.value,d!==!0||g===null){const y=c+p*4,v=a.matrixWorldInverse;n.getNormalMatrix(v),(g===null||g.length<y)&&(g=new Float32Array(y));for(let _=0,x=c;_!==p;++_,x+=4)s.copy(m[_]).applyMatrix4(v,n),s.normal.toArray(g,x),g[x+3]=s.constant}i.value=g,i.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function uT(h){let e=new WeakMap;function r(s,n){return n===Ud?s.mapping=Uo:n===Fd&&(s.mapping=Fo),s}function t(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const n=s.mapping;if(n===Ud||n===Fd)if(e.has(s)){const i=e.get(s).texture;return r(i,s.mapping)}else{const i=s.image;if(i&&i.height>0){const u=new w2(i.height/2);return u.fromEquirectangularTexture(h,s),e.set(s,u),s.addEventListener("dispose",o),r(u.texture,s.mapping)}else return null}}return s}function o(s){const n=s.target;n.removeEventListener("dispose",o);const i=e.get(n);i!==void 0&&(e.delete(n),i.dispose())}function l(){e=new WeakMap}return{get:t,dispose:l}}class iv extends tv{constructor(e=-1,r=1,t=1,o=-1,l=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=t,this.bottom=o,this.near=l,this.far=s,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,t,o,l,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=t,this.view.offsetY=o,this.view.width=l,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),t=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=t-e,s=t+e,n=o+r,i=o-r;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=u*this.view.offsetX,s=l+u*this.view.width,n-=f*this.view.offsetY,i=n-f*this.view.height}this.projectionMatrix.makeOrthographic(l,s,n,i,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const yo=4,Bm=[.125,.215,.35,.446,.526,.582],ys=20,Yc=new iv,zm=new Lt;let Zc=null;const ms=(1+Math.sqrt(5))/2,lo=1/ms,Gm=[new Ae(1,1,1),new Ae(-1,1,1),new Ae(1,1,-1),new Ae(-1,1,-1),new Ae(0,ms,lo),new Ae(0,ms,-lo),new Ae(lo,0,ms),new Ae(-lo,0,ms),new Ae(ms,lo,0),new Ae(-ms,lo,0)];class Vm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,t=.1,o=100){Zc=this._renderer.getRenderTarget(),this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,t,o,l),r>0&&this._blur(l,0,0,r),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qm(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Wm(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Zc),e.scissorTest=!1,Rl(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===Uo||e.mapping===Fo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Zc=this._renderer.getRenderTarget();const t=r||this._allocateTargets();return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,t={magFilter:xn,minFilter:xn,generateMipmaps:!1,type:za,format:Un,encoding:Os,depthBuffer:!1},o=Hm(e,r,t);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Hm(e,r,t);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cT(l)),this._blurMaterial=dT(l,e,r)}return o}_compileMaterial(e){const r=new Bn(this._lodPlanes[0],e);this._renderer.compile(r,Yc)}_sceneToCubeUV(e,r,t,o){const n=new hn(90,1,r,t),i=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,m=f.autoClear,a=f.toneMapping;f.getClearColor(zm),f.toneMapping=_i,f.autoClear=!1;const c=new zh({name:"PMREM.Background",side:An,depthWrite:!1,depthTest:!1}),d=new Bn(new el,c);let p=!1;const g=e.background;g?g.isColor&&(c.color.copy(g),e.background=null,p=!0):(c.color.copy(zm),p=!0);for(let y=0;y<6;y++){const v=y%3;v===0?(n.up.set(0,i[y],0),n.lookAt(u[y],0,0)):v===1?(n.up.set(0,0,i[y]),n.lookAt(0,u[y],0)):(n.up.set(0,i[y],0),n.lookAt(0,0,u[y]));const _=this._cubeSize;Rl(o,v*_,y>2?_:0,_,_),f.setRenderTarget(o),p&&f.render(d,n),f.render(e,n)}d.geometry.dispose(),d.material.dispose(),f.toneMapping=a,f.autoClear=m,e.background=g}_textureToCubeUV(e,r){const t=this._renderer,o=e.mapping===Uo||e.mapping===Fo;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=qm()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Wm());const l=o?this._cubemapMaterial:this._equirectMaterial,s=new Bn(this._lodPlanes[0],l),n=l.uniforms;n.envMap.value=e;const i=this._cubeSize;Rl(r,0,0,3*i,2*i),t.setRenderTarget(r),t.render(s,Yc)}_applyPMREM(e){const r=this._renderer,t=r.autoClear;r.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=Gm[(o-1)%Gm.length];this._blur(e,o-1,o,l,s)}r.autoClear=t}_blur(e,r,t,o,l){const s=this._pingPongRenderTarget;this._halfBlur(e,s,r,t,o,"latitudinal",l),this._halfBlur(s,e,t,t,o,"longitudinal",l)}_halfBlur(e,r,t,o,l,s,n){const i=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,m=new Bn(this._lodPlanes[o],u),a=u.uniforms,c=this._sizeLods[t]-1,d=isFinite(l)?Math.PI/(2*c):2*Math.PI/(2*ys-1),p=l/d,g=isFinite(l)?1+Math.floor(f*p):ys;g>ys&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${ys}`);const y=[];let v=0;for(let T=0;T<ys;++T){const M=T/p,j=Math.exp(-M*M/2);y.push(j),T===0?v+=j:T<g&&(v+=2*j)}for(let T=0;T<y.length;T++)y[T]=y[T]/v;a.envMap.value=e.texture,a.samples.value=g,a.weights.value=y,a.latitudinal.value=s==="latitudinal",n&&(a.poleAxis.value=n);const{_lodMax:_}=this;a.dTheta.value=d,a.mipInt.value=_-t;const x=this._sizeLods[o],w=3*x*(o>_-yo?o-_+yo:0),E=4*(this._cubeSize-x);Rl(r,w,E,3*x,2*x),i.setRenderTarget(r),i.render(m,Yc)}}function cT(h){const e=[],r=[],t=[];let o=h;const l=h-yo+1+Bm.length;for(let s=0;s<l;s++){const n=Math.pow(2,o);r.push(n);let i=1/n;s>h-yo?i=Bm[s-h+yo-1]:s===0&&(i=0),t.push(i);const u=1/(n-2),f=-u,m=1+u,a=[f,f,m,f,m,m,f,f,m,m,f,m],c=6,d=6,p=3,g=2,y=1,v=new Float32Array(p*d*c),_=new Float32Array(g*d*c),x=new Float32Array(y*d*c);for(let E=0;E<c;E++){const T=E%3*2/3-1,M=E>2?0:-1,j=[T,M,0,T+2/3,M,0,T+2/3,M+1,0,T,M,0,T+2/3,M+1,0,T,M+1,0];v.set(j,p*d*E),_.set(a,g*d*E);const P=[E,E,E,E,E,E];x.set(P,y*d*E)}const w=new tr;w.setAttribute("position",new Jr(v,p)),w.setAttribute("uv",new Jr(_,g)),w.setAttribute("faceIndex",new Jr(x,y)),e.push(w),o>yo&&o--}return{lodPlanes:e,sizeLods:r,sigmas:t}}function Hm(h,e,r){const t=new Is(h,e,r);return t.texture.mapping=zu,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Rl(h,e,r,t,o){h.viewport.set(e,r,t,o),h.scissor.set(e,r,t,o)}function dT(h,e,r){const t=new Float32Array(ys),o=new Ae(0,1,0);return new is({name:"SphericalGaussianBlur",defines:{n:ys,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${h}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:Hh(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function Wm(){return new is({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Hh(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function qm(){return new is({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Hh(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function Hh(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hT(h){let e=new WeakMap,r=null;function t(n){if(n&&n.isTexture){const i=n.mapping,u=i===Ud||i===Fd,f=i===Uo||i===Fo;if(u||f)if(n.isRenderTargetTexture&&n.needsPMREMUpdate===!0){n.needsPMREMUpdate=!1;let m=e.get(n);return r===null&&(r=new Vm(h)),m=u?r.fromEquirectangular(n,m):r.fromCubemap(n,m),e.set(n,m),m.texture}else{if(e.has(n))return e.get(n).texture;{const m=n.image;if(u&&m&&m.height>0||f&&m&&o(m)){r===null&&(r=new Vm(h));const a=u?r.fromEquirectangular(n):r.fromCubemap(n);return e.set(n,a),n.addEventListener("dispose",l),a.texture}else return null}}}return n}function o(n){let i=0;const u=6;for(let f=0;f<u;f++)n[f]!==void 0&&i++;return i===u}function l(n){const i=n.target;i.removeEventListener("dispose",l);const u=e.get(i);u!==void 0&&(e.delete(i),u.dispose())}function s(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:t,dispose:s}}function fT(h){const e={};function r(t){if(e[t]!==void 0)return e[t];let o;switch(t){case"WEBGL_depth_texture":o=h.getExtension("WEBGL_depth_texture")||h.getExtension("MOZ_WEBGL_depth_texture")||h.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=h.getExtension("WEBGL_compressed_texture_s3tc")||h.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=h.getExtension("WEBGL_compressed_texture_pvrtc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=h.getExtension(t)}return e[t]=o,o}return{has:function(t){return r(t)!==null},init:function(t){t.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(t){const o=r(t);return o===null&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),o}}}function pT(h,e,r,t){const o={},l=new WeakMap;function s(m){const a=m.target;a.index!==null&&e.remove(a.index);for(const d in a.attributes)e.remove(a.attributes[d]);a.removeEventListener("dispose",s),delete o[a.id];const c=l.get(a);c&&(e.remove(c),l.delete(a)),t.releaseStatesOfGeometry(a),a.isInstancedBufferGeometry===!0&&delete a._maxInstanceCount,r.memory.geometries--}function n(m,a){return o[a.id]===!0||(a.addEventListener("dispose",s),o[a.id]=!0,r.memory.geometries++),a}function i(m){const a=m.attributes;for(const d in a)e.update(a[d],34962);const c=m.morphAttributes;for(const d in c){const p=c[d];for(let g=0,y=p.length;g<y;g++)e.update(p[g],34962)}}function u(m){const a=[],c=m.index,d=m.attributes.position;let p=0;if(c!==null){const v=c.array;p=c.version;for(let _=0,x=v.length;_<x;_+=3){const w=v[_+0],E=v[_+1],T=v[_+2];a.push(w,E,E,T,T,w)}}else{const v=d.array;p=d.version;for(let _=0,x=v.length/3-1;_<x;_+=3){const w=_+0,E=_+1,T=_+2;a.push(w,E,E,T,T,w)}}const g=new(X0(a)?ev:Q0)(a,1);g.version=p;const y=l.get(m);y&&e.remove(y),l.set(m,g)}function f(m){const a=l.get(m);if(a){const c=m.index;c!==null&&a.version<c.version&&u(m)}else u(m);return l.get(m)}return{get:n,update:i,getWireframeAttribute:f}}function mT(h,e,r,t){const o=t.isWebGL2;let l;function s(a){l=a}let n,i;function u(a){n=a.type,i=a.bytesPerElement}function f(a,c){h.drawElements(l,c,n,a*i),r.update(c,l,1)}function m(a,c,d){if(d===0)return;let p,g;if(o)p=h,g="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](l,c,n,a*i,d),r.update(c,l,d)}this.setMode=s,this.setIndex=u,this.render=f,this.renderInstances=m}function gT(h){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function t(l,s,n){switch(r.calls++,s){case 4:r.triangles+=n*(l/3);break;case 1:r.lines+=n*(l/2);break;case 3:r.lines+=n*(l-1);break;case 2:r.lines+=n*l;break;case 0:r.points+=n*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function o(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:o,update:t}}function yT(h,e){return h[0]-e[0]}function vT(h,e){return Math.abs(e[1])-Math.abs(h[1])}function _T(h,e,r){const t={},o=new Float32Array(8),l=new WeakMap,s=new nr,n=[];for(let u=0;u<8;u++)n[u]=[u,0];function i(u,f,m,a){const c=u.morphTargetInfluences;if(e.isWebGL2===!0){const d=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,p=d!==void 0?d.length:0;let g=l.get(f);if(g===void 0||g.count!==p){let X=function(){O.dispose(),l.delete(f),f.removeEventListener("dispose",X)};g!==void 0&&g.texture.dispose();const _=f.morphAttributes.position!==void 0,x=f.morphAttributes.normal!==void 0,w=f.morphAttributes.color!==void 0,E=f.morphAttributes.position||[],T=f.morphAttributes.normal||[],M=f.morphAttributes.color||[];let j=0;_===!0&&(j=1),x===!0&&(j=2),w===!0&&(j=3);let P=f.attributes.position.count*j,L=1;P>e.maxTextureSize&&(L=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const N=new Float32Array(P*L*4*p),O=new J0(N,P,L,p);O.type=xs,O.needsUpdate=!0;const k=j*4;for(let Y=0;Y<p;Y++){const q=E[Y],H=T[Y],z=M[Y],W=P*L*4*Y;for(let $=0;$<q.count;$++){const se=$*k;_===!0&&(s.fromBufferAttribute(q,$),N[W+se+0]=s.x,N[W+se+1]=s.y,N[W+se+2]=s.z,N[W+se+3]=0),x===!0&&(s.fromBufferAttribute(H,$),N[W+se+4]=s.x,N[W+se+5]=s.y,N[W+se+6]=s.z,N[W+se+7]=0),w===!0&&(s.fromBufferAttribute(z,$),N[W+se+8]=s.x,N[W+se+9]=s.y,N[W+se+10]=s.z,N[W+se+11]=z.itemSize===4?s.w:1)}}g={count:p,texture:O,size:new nt(P,L)},l.set(f,g),f.addEventListener("dispose",X)}let y=0;for(let _=0;_<c.length;_++)y+=c[_];const v=f.morphTargetsRelative?1:1-y;a.getUniforms().setValue(h,"morphTargetBaseInfluence",v),a.getUniforms().setValue(h,"morphTargetInfluences",c),a.getUniforms().setValue(h,"morphTargetsTexture",g.texture,r),a.getUniforms().setValue(h,"morphTargetsTextureSize",g.size)}else{const d=c===void 0?0:c.length;let p=t[f.id];if(p===void 0||p.length!==d){p=[];for(let x=0;x<d;x++)p[x]=[x,0];t[f.id]=p}for(let x=0;x<d;x++){const w=p[x];w[0]=x,w[1]=c[x]}p.sort(vT);for(let x=0;x<8;x++)x<d&&p[x][1]?(n[x][0]=p[x][0],n[x][1]=p[x][1]):(n[x][0]=Number.MAX_SAFE_INTEGER,n[x][1]=0);n.sort(yT);const g=f.morphAttributes.position,y=f.morphAttributes.normal;let v=0;for(let x=0;x<8;x++){const w=n[x],E=w[0],T=w[1];E!==Number.MAX_SAFE_INTEGER&&T?(g&&f.getAttribute("morphTarget"+x)!==g[E]&&f.setAttribute("morphTarget"+x,g[E]),y&&f.getAttribute("morphNormal"+x)!==y[E]&&f.setAttribute("morphNormal"+x,y[E]),o[x]=T,v+=T):(g&&f.hasAttribute("morphTarget"+x)===!0&&f.deleteAttribute("morphTarget"+x),y&&f.hasAttribute("morphNormal"+x)===!0&&f.deleteAttribute("morphNormal"+x),o[x]=0)}const _=f.morphTargetsRelative?1:1-v;a.getUniforms().setValue(h,"morphTargetBaseInfluence",_),a.getUniforms().setValue(h,"morphTargetInfluences",o)}}return{update:i}}function bT(h,e,r,t){let o=new WeakMap;function l(i){const u=t.render.frame,f=i.geometry,m=e.get(i,f);return o.get(m)!==u&&(e.update(m),o.set(m,u)),i.isInstancedMesh&&(i.hasEventListener("dispose",n)===!1&&i.addEventListener("dispose",n),r.update(i.instanceMatrix,34962),i.instanceColor!==null&&r.update(i.instanceColor,34962)),m}function s(){o=new WeakMap}function n(i){const u=i.target;u.removeEventListener("dispose",n),r.remove(u.instanceMatrix),u.instanceColor!==null&&r.remove(u.instanceColor)}return{update:l,dispose:s}}const sv=new vn,ov=new J0,av=new o2,lv=new rv,Xm=[],Ym=[],Zm=new Float32Array(16),Km=new Float32Array(9),Jm=new Float32Array(4);function Xo(h,e,r){const t=h[0];if(t<=0||t>0)return h;const o=e*r;let l=Xm[o];if(l===void 0&&(l=new Float32Array(o),Xm[o]=l),e!==0){t.toArray(l,0);for(let s=1,n=0;s!==e;++s)n+=r,h[s].toArray(l,n)}return l}function xr(h,e){if(h.length!==e.length)return!1;for(let r=0,t=h.length;r<t;r++)if(h[r]!==e[r])return!1;return!0}function wr(h,e){for(let r=0,t=e.length;r<t;r++)h[r]=e[r]}function Hu(h,e){let r=Ym[e];r===void 0&&(r=new Int32Array(e),Ym[e]=r);for(let t=0;t!==e;++t)r[t]=h.allocateTextureUnit();return r}function xT(h,e){const r=this.cache;r[0]!==e&&(h.uniform1f(this.addr,e),r[0]=e)}function wT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(h.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(xr(r,e))return;h.uniform2fv(this.addr,e),wr(r,e)}}function ST(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(h.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(h.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(xr(r,e))return;h.uniform3fv(this.addr,e),wr(r,e)}}function MT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(h.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(xr(r,e))return;h.uniform4fv(this.addr,e),wr(r,e)}}function ET(h,e){const r=this.cache,t=e.elements;if(t===void 0){if(xr(r,e))return;h.uniformMatrix2fv(this.addr,!1,e),wr(r,e)}else{if(xr(r,t))return;Jm.set(t),h.uniformMatrix2fv(this.addr,!1,Jm),wr(r,t)}}function TT(h,e){const r=this.cache,t=e.elements;if(t===void 0){if(xr(r,e))return;h.uniformMatrix3fv(this.addr,!1,e),wr(r,e)}else{if(xr(r,t))return;Km.set(t),h.uniformMatrix3fv(this.addr,!1,Km),wr(r,t)}}function AT(h,e){const r=this.cache,t=e.elements;if(t===void 0){if(xr(r,e))return;h.uniformMatrix4fv(this.addr,!1,e),wr(r,e)}else{if(xr(r,t))return;Zm.set(t),h.uniformMatrix4fv(this.addr,!1,Zm),wr(r,t)}}function jT(h,e){const r=this.cache;r[0]!==e&&(h.uniform1i(this.addr,e),r[0]=e)}function CT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(h.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(xr(r,e))return;h.uniform2iv(this.addr,e),wr(r,e)}}function PT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(h.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(xr(r,e))return;h.uniform3iv(this.addr,e),wr(r,e)}}function LT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(h.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(xr(r,e))return;h.uniform4iv(this.addr,e),wr(r,e)}}function RT(h,e){const r=this.cache;r[0]!==e&&(h.uniform1ui(this.addr,e),r[0]=e)}function DT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(h.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(xr(r,e))return;h.uniform2uiv(this.addr,e),wr(r,e)}}function OT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(h.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(xr(r,e))return;h.uniform3uiv(this.addr,e),wr(r,e)}}function IT(h,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(h.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(xr(r,e))return;h.uniform4uiv(this.addr,e),wr(r,e)}}function kT(h,e,r){const t=this.cache,o=r.allocateTextureUnit();t[0]!==o&&(h.uniform1i(this.addr,o),t[0]=o),r.setTexture2D(e||sv,o)}function NT(h,e,r){const t=this.cache,o=r.allocateTextureUnit();t[0]!==o&&(h.uniform1i(this.addr,o),t[0]=o),r.setTexture3D(e||av,o)}function UT(h,e,r){const t=this.cache,o=r.allocateTextureUnit();t[0]!==o&&(h.uniform1i(this.addr,o),t[0]=o),r.setTextureCube(e||lv,o)}function FT(h,e,r){const t=this.cache,o=r.allocateTextureUnit();t[0]!==o&&(h.uniform1i(this.addr,o),t[0]=o),r.setTexture2DArray(e||ov,o)}function BT(h){switch(h){case 5126:return xT;case 35664:return wT;case 35665:return ST;case 35666:return MT;case 35674:return ET;case 35675:return TT;case 35676:return AT;case 5124:case 35670:return jT;case 35667:case 35671:return CT;case 35668:case 35672:return PT;case 35669:case 35673:return LT;case 5125:return RT;case 36294:return DT;case 36295:return OT;case 36296:return IT;case 35678:case 36198:case 36298:case 36306:case 35682:return kT;case 35679:case 36299:case 36307:return NT;case 35680:case 36300:case 36308:case 36293:return UT;case 36289:case 36303:case 36311:case 36292:return FT}}function zT(h,e){h.uniform1fv(this.addr,e)}function GT(h,e){const r=Xo(e,this.size,2);h.uniform2fv(this.addr,r)}function VT(h,e){const r=Xo(e,this.size,3);h.uniform3fv(this.addr,r)}function HT(h,e){const r=Xo(e,this.size,4);h.uniform4fv(this.addr,r)}function WT(h,e){const r=Xo(e,this.size,4);h.uniformMatrix2fv(this.addr,!1,r)}function qT(h,e){const r=Xo(e,this.size,9);h.uniformMatrix3fv(this.addr,!1,r)}function XT(h,e){const r=Xo(e,this.size,16);h.uniformMatrix4fv(this.addr,!1,r)}function YT(h,e){h.uniform1iv(this.addr,e)}function ZT(h,e){h.uniform2iv(this.addr,e)}function KT(h,e){h.uniform3iv(this.addr,e)}function JT(h,e){h.uniform4iv(this.addr,e)}function $T(h,e){h.uniform1uiv(this.addr,e)}function QT(h,e){h.uniform2uiv(this.addr,e)}function eA(h,e){h.uniform3uiv(this.addr,e)}function tA(h,e){h.uniform4uiv(this.addr,e)}function rA(h,e,r){const t=this.cache,o=e.length,l=Hu(r,o);xr(t,l)||(h.uniform1iv(this.addr,l),wr(t,l));for(let s=0;s!==o;++s)r.setTexture2D(e[s]||sv,l[s])}function nA(h,e,r){const t=this.cache,o=e.length,l=Hu(r,o);xr(t,l)||(h.uniform1iv(this.addr,l),wr(t,l));for(let s=0;s!==o;++s)r.setTexture3D(e[s]||av,l[s])}function iA(h,e,r){const t=this.cache,o=e.length,l=Hu(r,o);xr(t,l)||(h.uniform1iv(this.addr,l),wr(t,l));for(let s=0;s!==o;++s)r.setTextureCube(e[s]||lv,l[s])}function sA(h,e,r){const t=this.cache,o=e.length,l=Hu(r,o);xr(t,l)||(h.uniform1iv(this.addr,l),wr(t,l));for(let s=0;s!==o;++s)r.setTexture2DArray(e[s]||ov,l[s])}function oA(h){switch(h){case 5126:return zT;case 35664:return GT;case 35665:return VT;case 35666:return HT;case 35674:return WT;case 35675:return qT;case 35676:return XT;case 5124:case 35670:return YT;case 35667:case 35671:return ZT;case 35668:case 35672:return KT;case 35669:case 35673:return JT;case 5125:return $T;case 36294:return QT;case 36295:return eA;case 36296:return tA;case 35678:case 36198:case 36298:case 36306:case 35682:return rA;case 35679:case 36299:case 36307:return nA;case 35680:case 36300:case 36308:case 36293:return iA;case 36289:case 36303:case 36311:case 36292:return sA}}class aA{constructor(e,r,t){this.id=e,this.addr=t,this.cache=[],this.setValue=BT(r.type)}}class lA{constructor(e,r,t){this.id=e,this.addr=t,this.cache=[],this.size=r.size,this.setValue=oA(r.type)}}class uA{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,t){const o=this.seq;for(let l=0,s=o.length;l!==s;++l){const n=o[l];n.setValue(e,r[n.id],t)}}}const Kc=/(\w+)(\])?(\[|\.)?/g;function $m(h,e){h.seq.push(e),h.map[e.id]=e}function cA(h,e,r){const t=h.name,o=t.length;for(Kc.lastIndex=0;;){const l=Kc.exec(t),s=Kc.lastIndex;let n=l[1];const i=l[2]==="]",u=l[3];if(i&&(n=n|0),u===void 0||u==="["&&s+2===o){$m(r,u===void 0?new aA(n,h,e):new lA(n,h,e));break}else{let m=r.map[n];m===void 0&&(m=new uA(n),$m(r,m)),r=m}}}class su{constructor(e,r){this.seq=[],this.map={};const t=e.getProgramParameter(r,35718);for(let o=0;o<t;++o){const l=e.getActiveUniform(r,o),s=e.getUniformLocation(r,l.name);cA(l,s,this)}}setValue(e,r,t,o){const l=this.map[r];l!==void 0&&l.setValue(e,t,o)}setOptional(e,r,t){const o=r[t];o!==void 0&&this.setValue(e,t,o)}static upload(e,r,t,o){for(let l=0,s=r.length;l!==s;++l){const n=r[l],i=t[n.id];i.needsUpdate!==!1&&n.setValue(e,i.value,o)}}static seqWithValue(e,r){const t=[];for(let o=0,l=e.length;o!==l;++o){const s=e[o];s.id in r&&t.push(s)}return t}}function Qm(h,e,r){const t=h.createShader(e);return h.shaderSource(t,r),h.compileShader(t),t}let dA=0;function hA(h,e){const r=h.split(`
`),t=[],o=Math.max(e-6,0),l=Math.min(e+6,r.length);for(let s=o;s<l;s++){const n=s+1;t.push(`${n===e?">":" "} ${n}: ${r[s]}`)}return t.join(`
`)}function fA(h){switch(h){case Os:return["Linear","( value )"];case cr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",h),["Linear","( value )"]}}function eg(h,e,r){const t=h.getShaderParameter(e,35713),o=h.getShaderInfoLog(e).trim();if(t&&o==="")return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const s=parseInt(l[1]);return r.toUpperCase()+`

`+o+`

`+hA(h.getShaderSource(e),s)}else return o}function pA(h,e){const r=fA(e);return"vec4 "+h+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function mA(h,e){let r;switch(e){case DS:r="Linear";break;case OS:r="Reinhard";break;case IS:r="OptimizedCineon";break;case kS:r="ACESFilmic";break;case NS:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+h+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function gA(h){return[h.extensionDerivatives||h.envMapCubeUVHeight||h.bumpMap||h.tangentSpaceNormalMap||h.clearcoatNormalMap||h.flatShading||h.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(h.extensionFragDepth||h.logarithmicDepthBuffer)&&h.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",h.extensionDrawBuffers&&h.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(h.extensionShaderTextureLOD||h.envMap||h.transmission)&&h.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ma).join(`
`)}function yA(h){const e=[];for(const r in h){const t=h[r];t!==!1&&e.push("#define "+r+" "+t)}return e.join(`
`)}function vA(h,e){const r={},t=h.getProgramParameter(e,35721);for(let o=0;o<t;o++){const l=h.getActiveAttrib(e,o),s=l.name;let n=1;l.type===35674&&(n=2),l.type===35675&&(n=3),l.type===35676&&(n=4),r[s]={type:l.type,location:h.getAttribLocation(e,s),locationSize:n}}return r}function ma(h){return h!==""}function tg(h,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return h.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rg(h,e){return h.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _A=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wd(h){return h.replace(_A,bA)}function bA(h,e){const r=jt[e];if(r===void 0)throw new Error("Can not resolve #include <"+e+">");return Wd(r)}const xA=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ng(h){return h.replace(xA,wA)}function wA(h,e,r,t){let o="";for(let l=parseInt(e);l<parseInt(r);l++)o+=t.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return o}function ig(h){let e="precision "+h.precision+` float;
precision `+h.precision+" int;";return h.precision==="highp"?e+=`
#define HIGH_PRECISION`:h.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:h.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SA(h){let e="SHADOWMAP_TYPE_BASIC";return h.shadowMapType===G0?e="SHADOWMAP_TYPE_PCF":h.shadowMapType===dS?e="SHADOWMAP_TYPE_PCF_SOFT":h.shadowMapType===pa&&(e="SHADOWMAP_TYPE_VSM"),e}function MA(h){let e="ENVMAP_TYPE_CUBE";if(h.envMap)switch(h.envMapMode){case Uo:case Fo:e="ENVMAP_TYPE_CUBE";break;case zu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function EA(h){let e="ENVMAP_MODE_REFLECTION";if(h.envMap)switch(h.envMapMode){case Fo:e="ENVMAP_MODE_REFRACTION";break}return e}function TA(h){let e="ENVMAP_BLENDING_NONE";if(h.envMap)switch(h.combine){case Bu:e="ENVMAP_BLENDING_MULTIPLY";break;case LS:e="ENVMAP_BLENDING_MIX";break;case RS:e="ENVMAP_BLENDING_ADD";break}return e}function AA(h){const e=h.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,t=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:t,maxMip:r}}function jA(h,e,r,t){const o=h.getContext(),l=r.defines;let s=r.vertexShader,n=r.fragmentShader;const i=SA(r),u=MA(r),f=EA(r),m=TA(r),a=AA(r),c=r.isWebGL2?"":gA(r),d=yA(l),p=o.createProgram();let g,y,v=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(g=[d].filter(ma).join(`
`),g.length>0&&(g+=`
`),y=[c,d].filter(ma).join(`
`),y.length>0&&(y+=`
`)):(g=[ig(r),"#define SHADER_NAME "+r.shaderName,d,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+i:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ma).join(`
`),y=[c,ig(r),"#define SHADER_NAME "+r.shaderName,d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.envMap?"#define "+f:"",r.envMap?"#define "+m:"",a?"#define CUBEUV_TEXEL_WIDTH "+a.texelWidth:"",a?"#define CUBEUV_TEXEL_HEIGHT "+a.texelHeight:"",a?"#define CUBEUV_MAX_MIP "+a.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+i:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==_i?"#define TONE_MAPPING":"",r.toneMapping!==_i?jt.tonemapping_pars_fragment:"",r.toneMapping!==_i?mA("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",jt.encodings_pars_fragment,pA("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(ma).join(`
`)),s=Wd(s),s=tg(s,r),s=rg(s,r),n=Wd(n),n=tg(n,r),n=rg(n,r),s=ng(s),n=ng(n),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",r.glslVersion===Am?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===Am?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const _=v+g+s,x=v+y+n,w=Qm(o,35633,_),E=Qm(o,35632,x);if(o.attachShader(p,w),o.attachShader(p,E),r.index0AttributeName!==void 0?o.bindAttribLocation(p,0,r.index0AttributeName):r.morphTargets===!0&&o.bindAttribLocation(p,0,"position"),o.linkProgram(p),h.debug.checkShaderErrors){const j=o.getProgramInfoLog(p).trim(),P=o.getShaderInfoLog(w).trim(),L=o.getShaderInfoLog(E).trim();let N=!0,O=!0;if(o.getProgramParameter(p,35714)===!1){N=!1;const k=eg(o,w,"vertex"),X=eg(o,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(p,35715)+`

Program Info Log: `+j+`
`+k+`
`+X)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(P===""||L==="")&&(O=!1);O&&(this.diagnostics={runnable:N,programLog:j,vertexShader:{log:P,prefix:g},fragmentShader:{log:L,prefix:y}})}o.deleteShader(w),o.deleteShader(E);let T;this.getUniforms=function(){return T===void 0&&(T=new su(o,p)),T};let M;return this.getAttributes=function(){return M===void 0&&(M=vA(o,p)),M},this.destroy=function(){t.releaseStatesOfProgram(this),o.deleteProgram(p),this.program=void 0},this.name=r.shaderName,this.id=dA++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=w,this.fragmentShader=E,this}let CA=0;class PA{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,t=e.fragmentShader,o=this._getShaderStage(r),l=this._getShaderStage(t),s=this._getShaderCacheForMaterial(e);return s.has(o)===!1&&(s.add(o),o.usedTimes++),s.has(l)===!1&&(s.add(l),l.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const t of r)t.usedTimes--,t.usedTimes===0&&this.shaderCache.delete(t.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let t=r.get(e);return t===void 0&&(t=new Set,r.set(e,t)),t}_getShaderStage(e){const r=this.shaderCache;let t=r.get(e);return t===void 0&&(t=new LA(e),r.set(e,t)),t}}class LA{constructor(e){this.id=CA++,this.code=e,this.usedTimes=0}}function RA(h,e,r,t,o,l,s){const n=new $0,i=new PA,u=[],f=o.isWebGL2,m=o.logarithmicDepthBuffer,a=o.vertexTextures;let c=o.precision;const d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(M,j,P,L,N){const O=L.fog,k=N.geometry,X=M.isMeshStandardMaterial?L.environment:null,Y=(M.isMeshStandardMaterial?r:e).get(M.envMap||X),q=Y&&Y.mapping===zu?Y.image.height:null,H=d[M.type];M.precision!==null&&(c=o.getMaxPrecision(M.precision),c!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",c,"instead."));const z=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,W=z!==void 0?z.length:0;let $=0;k.morphAttributes.position!==void 0&&($=1),k.morphAttributes.normal!==void 0&&($=2),k.morphAttributes.color!==void 0&&($=3);let se,R,I,U;if(H){const ce=Zn[H];se=ce.vertexShader,R=ce.fragmentShader}else se=M.vertexShader,R=M.fragmentShader,i.update(M),I=i.getVertexShaderID(M),U=i.getFragmentShaderID(M);const G=h.getRenderTarget(),ee=M.alphaTest>0,ue=M.clearcoat>0,fe=M.iridescence>0;return{isWebGL2:f,shaderID:H,shaderName:M.type,vertexShader:se,fragmentShader:R,defines:M.defines,customVertexShaderID:I,customFragmentShaderID:U,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:c,instancing:N.isInstancedMesh===!0,instancingColor:N.isInstancedMesh===!0&&N.instanceColor!==null,supportsVertexTextures:a,outputEncoding:G===null?h.outputEncoding:G.isXRRenderTarget===!0?G.texture.encoding:Os,map:!!M.map,matcap:!!M.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUVHeight:q,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===r2,tangentSpaceNormalMap:M.normalMapType===Vu,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===cr,clearcoat:ue,clearcoatMap:ue&&!!M.clearcoatMap,clearcoatRoughnessMap:ue&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:ue&&!!M.clearcoatNormalMap,iridescence:fe,iridescenceMap:fe&&!!M.iridescenceMap,iridescenceThicknessMap:fe&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===To,alphaMap:!!M.alphaMap,alphaTest:ee,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!k.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!O,useFog:M.fog===!0,fogExp2:O&&O.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:m,skinning:N.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:$,numDirLights:j.directional.length,numPointLights:j.point.length,numSpotLights:j.spot.length,numSpotLightMaps:j.spotLightMap.length,numRectAreaLights:j.rectArea.length,numHemiLights:j.hemi.length,numDirLightShadows:j.directionalShadowMap.length,numPointLightShadows:j.pointShadowMap.length,numSpotLightShadows:j.spotShadowMap.length,numSpotLightShadowsWithMaps:j.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:M.dithering,shadowMapEnabled:h.shadowMap.enabled&&P.length>0,shadowMapType:h.shadowMap.type,toneMapping:M.toneMapped?h.toneMapping:_i,physicallyCorrectLights:h.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===qi,flipSided:M.side===An,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||t.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function g(M){const j=[];if(M.shaderID?j.push(M.shaderID):(j.push(M.customVertexShaderID),j.push(M.customFragmentShaderID)),M.defines!==void 0)for(const P in M.defines)j.push(P),j.push(M.defines[P]);return M.isRawShaderMaterial===!1&&(y(j,M),v(j,M),j.push(h.outputEncoding)),j.push(M.customProgramCacheKey),j.join()}function y(M,j){M.push(j.precision),M.push(j.outputEncoding),M.push(j.envMapMode),M.push(j.envMapCubeUVHeight),M.push(j.combine),M.push(j.vertexUvs),M.push(j.fogExp2),M.push(j.sizeAttenuation),M.push(j.morphTargetsCount),M.push(j.morphAttributeCount),M.push(j.numDirLights),M.push(j.numPointLights),M.push(j.numSpotLights),M.push(j.numSpotLightMaps),M.push(j.numHemiLights),M.push(j.numRectAreaLights),M.push(j.numDirLightShadows),M.push(j.numPointLightShadows),M.push(j.numSpotLightShadows),M.push(j.numSpotLightShadowsWithMaps),M.push(j.shadowMapType),M.push(j.toneMapping),M.push(j.numClippingPlanes),M.push(j.numClipIntersection),M.push(j.depthPacking)}function v(M,j){n.disableAll(),j.isWebGL2&&n.enable(0),j.supportsVertexTextures&&n.enable(1),j.instancing&&n.enable(2),j.instancingColor&&n.enable(3),j.map&&n.enable(4),j.matcap&&n.enable(5),j.envMap&&n.enable(6),j.lightMap&&n.enable(7),j.aoMap&&n.enable(8),j.emissiveMap&&n.enable(9),j.bumpMap&&n.enable(10),j.normalMap&&n.enable(11),j.objectSpaceNormalMap&&n.enable(12),j.tangentSpaceNormalMap&&n.enable(13),j.clearcoat&&n.enable(14),j.clearcoatMap&&n.enable(15),j.clearcoatRoughnessMap&&n.enable(16),j.clearcoatNormalMap&&n.enable(17),j.iridescence&&n.enable(18),j.iridescenceMap&&n.enable(19),j.iridescenceThicknessMap&&n.enable(20),j.displacementMap&&n.enable(21),j.specularMap&&n.enable(22),j.roughnessMap&&n.enable(23),j.metalnessMap&&n.enable(24),j.gradientMap&&n.enable(25),j.alphaMap&&n.enable(26),j.alphaTest&&n.enable(27),j.vertexColors&&n.enable(28),j.vertexAlphas&&n.enable(29),j.vertexUvs&&n.enable(30),j.vertexTangents&&n.enable(31),j.uvsVertexOnly&&n.enable(32),M.push(n.mask),n.disableAll(),j.fog&&n.enable(0),j.useFog&&n.enable(1),j.flatShading&&n.enable(2),j.logarithmicDepthBuffer&&n.enable(3),j.skinning&&n.enable(4),j.morphTargets&&n.enable(5),j.morphNormals&&n.enable(6),j.morphColors&&n.enable(7),j.premultipliedAlpha&&n.enable(8),j.shadowMapEnabled&&n.enable(9),j.physicallyCorrectLights&&n.enable(10),j.doubleSided&&n.enable(11),j.flipSided&&n.enable(12),j.useDepthPacking&&n.enable(13),j.dithering&&n.enable(14),j.specularIntensityMap&&n.enable(15),j.specularColorMap&&n.enable(16),j.transmission&&n.enable(17),j.transmissionMap&&n.enable(18),j.thicknessMap&&n.enable(19),j.sheen&&n.enable(20),j.sheenColorMap&&n.enable(21),j.sheenRoughnessMap&&n.enable(22),j.decodeVideoTexture&&n.enable(23),j.opaque&&n.enable(24),M.push(n.mask)}function _(M){const j=d[M.type];let P;if(j){const L=Zn[j];P=v2.clone(L.uniforms)}else P=M.uniforms;return P}function x(M,j){let P;for(let L=0,N=u.length;L<N;L++){const O=u[L];if(O.cacheKey===j){P=O,++P.usedTimes;break}}return P===void 0&&(P=new jA(h,j,M,l),u.push(P)),P}function w(M){if(--M.usedTimes===0){const j=u.indexOf(M);u[j]=u[u.length-1],u.pop(),M.destroy()}}function E(M){i.remove(M)}function T(){i.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:_,acquireProgram:x,releaseProgram:w,releaseShaderCache:E,programs:u,dispose:T}}function DA(){let h=new WeakMap;function e(l){let s=h.get(l);return s===void 0&&(s={},h.set(l,s)),s}function r(l){h.delete(l)}function t(l,s,n){h.get(l)[s]=n}function o(){h=new WeakMap}return{get:e,remove:r,update:t,dispose:o}}function OA(h,e){return h.groupOrder!==e.groupOrder?h.groupOrder-e.groupOrder:h.renderOrder!==e.renderOrder?h.renderOrder-e.renderOrder:h.material.id!==e.material.id?h.material.id-e.material.id:h.z!==e.z?h.z-e.z:h.id-e.id}function sg(h,e){return h.groupOrder!==e.groupOrder?h.groupOrder-e.groupOrder:h.renderOrder!==e.renderOrder?h.renderOrder-e.renderOrder:h.z!==e.z?e.z-h.z:h.id-e.id}function og(){const h=[];let e=0;const r=[],t=[],o=[];function l(){e=0,r.length=0,t.length=0,o.length=0}function s(m,a,c,d,p,g){let y=h[e];return y===void 0?(y={id:m.id,object:m,geometry:a,material:c,groupOrder:d,renderOrder:m.renderOrder,z:p,group:g},h[e]=y):(y.id=m.id,y.object=m,y.geometry=a,y.material=c,y.groupOrder=d,y.renderOrder=m.renderOrder,y.z=p,y.group=g),e++,y}function n(m,a,c,d,p,g){const y=s(m,a,c,d,p,g);c.transmission>0?t.push(y):c.transparent===!0?o.push(y):r.push(y)}function i(m,a,c,d,p,g){const y=s(m,a,c,d,p,g);c.transmission>0?t.unshift(y):c.transparent===!0?o.unshift(y):r.unshift(y)}function u(m,a){r.length>1&&r.sort(m||OA),t.length>1&&t.sort(a||sg),o.length>1&&o.sort(a||sg)}function f(){for(let m=e,a=h.length;m<a;m++){const c=h[m];if(c.id===null)break;c.id=null,c.object=null,c.geometry=null,c.material=null,c.group=null}}return{opaque:r,transmissive:t,transparent:o,init:l,push:n,unshift:i,finish:f,sort:u}}function IA(){let h=new WeakMap;function e(t,o){const l=h.get(t);let s;return l===void 0?(s=new og,h.set(t,[s])):o>=l.length?(s=new og,l.push(s)):s=l[o],s}function r(){h=new WeakMap}return{get:e,dispose:r}}function kA(){const h={};return{get:function(e){if(h[e.id]!==void 0)return h[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Ae,color:new Lt};break;case"SpotLight":r={position:new Ae,direction:new Ae,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Ae,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Ae,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":r={color:new Lt,position:new Ae,halfWidth:new Ae,halfHeight:new Ae};break}return h[e.id]=r,r}}}function NA(){const h={};return{get:function(e){if(h[e.id]!==void 0)return h[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return h[e.id]=r,r}}}let UA=0;function FA(h,e){return(e.castShadow?2:0)-(h.castShadow?2:0)+(e.map?1:0)-(h.map?1:0)}function BA(h,e){const r=new kA,t=NA(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)o.probe.push(new Ae);const l=new Ae,s=new Kt,n=new Kt;function i(f,m){let a=0,c=0,d=0;for(let L=0;L<9;L++)o.probe[L].set(0,0,0);let p=0,g=0,y=0,v=0,_=0,x=0,w=0,E=0,T=0,M=0;f.sort(FA);const j=m!==!0?Math.PI:1;for(let L=0,N=f.length;L<N;L++){const O=f[L],k=O.color,X=O.intensity,Y=O.distance,q=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)a+=k.r*X*j,c+=k.g*X*j,d+=k.b*X*j;else if(O.isLightProbe)for(let H=0;H<9;H++)o.probe[H].addScaledVector(O.sh.coefficients[H],X);else if(O.isDirectionalLight){const H=r.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*j),O.castShadow){const z=O.shadow,W=t.get(O);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,o.directionalShadow[p]=W,o.directionalShadowMap[p]=q,o.directionalShadowMatrix[p]=O.shadow.matrix,x++}o.directional[p]=H,p++}else if(O.isSpotLight){const H=r.get(O);H.position.setFromMatrixPosition(O.matrixWorld),H.color.copy(k).multiplyScalar(X*j),H.distance=Y,H.coneCos=Math.cos(O.angle),H.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),H.decay=O.decay,o.spot[y]=H;const z=O.shadow;if(O.map&&(o.spotLightMap[T]=O.map,T++,z.updateMatrices(O),O.castShadow&&M++),o.spotLightMatrix[y]=z.matrix,O.castShadow){const W=t.get(O);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,o.spotShadow[y]=W,o.spotShadowMap[y]=q,E++}y++}else if(O.isRectAreaLight){const H=r.get(O);H.color.copy(k).multiplyScalar(X),H.halfWidth.set(O.width*.5,0,0),H.halfHeight.set(0,O.height*.5,0),o.rectArea[v]=H,v++}else if(O.isPointLight){const H=r.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*j),H.distance=O.distance,H.decay=O.decay,O.castShadow){const z=O.shadow,W=t.get(O);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,W.shadowCameraNear=z.camera.near,W.shadowCameraFar=z.camera.far,o.pointShadow[g]=W,o.pointShadowMap[g]=q,o.pointShadowMatrix[g]=O.shadow.matrix,w++}o.point[g]=H,g++}else if(O.isHemisphereLight){const H=r.get(O);H.skyColor.copy(O.color).multiplyScalar(X*j),H.groundColor.copy(O.groundColor).multiplyScalar(X*j),o.hemi[_]=H,_++}}v>0&&(e.isWebGL2||h.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=ot.LTC_FLOAT_1,o.rectAreaLTC2=ot.LTC_FLOAT_2):h.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=ot.LTC_HALF_1,o.rectAreaLTC2=ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=a,o.ambient[1]=c,o.ambient[2]=d;const P=o.hash;(P.directionalLength!==p||P.pointLength!==g||P.spotLength!==y||P.rectAreaLength!==v||P.hemiLength!==_||P.numDirectionalShadows!==x||P.numPointShadows!==w||P.numSpotShadows!==E||P.numSpotMaps!==T)&&(o.directional.length=p,o.spot.length=y,o.rectArea.length=v,o.point.length=g,o.hemi.length=_,o.directionalShadow.length=x,o.directionalShadowMap.length=x,o.pointShadow.length=w,o.pointShadowMap.length=w,o.spotShadow.length=E,o.spotShadowMap.length=E,o.directionalShadowMatrix.length=x,o.pointShadowMatrix.length=w,o.spotLightMatrix.length=E+T-M,o.spotLightMap.length=T,o.numSpotLightShadowsWithMaps=M,P.directionalLength=p,P.pointLength=g,P.spotLength=y,P.rectAreaLength=v,P.hemiLength=_,P.numDirectionalShadows=x,P.numPointShadows=w,P.numSpotShadows=E,P.numSpotMaps=T,o.version=UA++)}function u(f,m){let a=0,c=0,d=0,p=0,g=0;const y=m.matrixWorldInverse;for(let v=0,_=f.length;v<_;v++){const x=f[v];if(x.isDirectionalLight){const w=o.directional[a];w.direction.setFromMatrixPosition(x.matrixWorld),l.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(l),w.direction.transformDirection(y),a++}else if(x.isSpotLight){const w=o.spot[d];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(x.matrixWorld),l.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(l),w.direction.transformDirection(y),d++}else if(x.isRectAreaLight){const w=o.rectArea[p];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),n.identity(),s.copy(x.matrixWorld),s.premultiply(y),n.extractRotation(s),w.halfWidth.set(x.width*.5,0,0),w.halfHeight.set(0,x.height*.5,0),w.halfWidth.applyMatrix4(n),w.halfHeight.applyMatrix4(n),p++}else if(x.isPointLight){const w=o.point[c];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),c++}else if(x.isHemisphereLight){const w=o.hemi[g];w.direction.setFromMatrixPosition(x.matrixWorld),w.direction.transformDirection(y),g++}}}return{setup:i,setupView:u,state:o}}function ag(h,e){const r=new BA(h,e),t=[],o=[];function l(){t.length=0,o.length=0}function s(m){t.push(m)}function n(m){o.push(m)}function i(m){r.setup(t,m)}function u(m){r.setupView(t,m)}return{init:l,state:{lightsArray:t,shadowsArray:o,lights:r},setupLights:i,setupLightsView:u,pushLight:s,pushShadow:n}}function zA(h,e){let r=new WeakMap;function t(l,s=0){const n=r.get(l);let i;return n===void 0?(i=new ag(h,e),r.set(l,[i])):s>=n.length?(i=new ag(h,e),n.push(i)):i=n[s],i}function o(){r=new WeakMap}return{get:t,dispose:o}}class GA extends Ei{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=e2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class VA extends Ei{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Ae,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HA=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,WA=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function qA(h,e,r){let t=new Gh;const o=new nt,l=new nt,s=new nr,n=new GA({depthPacking:t2}),i=new VA,u={},f=r.maxTextureSize,m={0:An,1:No,2:qi},a=new is({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:HA,fragmentShader:WA}),c=a.clone();c.defines.HORIZONTAL_PASS=1;const d=new tr;d.setAttribute("position",new Jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Bn(d,a),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=G0,this.render=function(x,w,E){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||x.length===0)return;const T=h.getRenderTarget(),M=h.getActiveCubeFace(),j=h.getActiveMipmapLevel(),P=h.state;P.setBlending(Qi),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let L=0,N=x.length;L<N;L++){const O=x[L],k=O.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;o.copy(k.mapSize);const X=k.getFrameExtents();if(o.multiply(X),l.copy(k.mapSize),(o.x>f||o.y>f)&&(o.x>f&&(l.x=Math.floor(f/X.x),o.x=l.x*X.x,k.mapSize.x=l.x),o.y>f&&(l.y=Math.floor(f/X.y),o.y=l.y*X.y,k.mapSize.y=l.y)),k.map===null){const q=this.type!==pa?{minFilter:Br,magFilter:Br}:{};k.map=new Is(o.x,o.y,q),k.map.texture.name=O.name+".shadowMap",k.camera.updateProjectionMatrix()}h.setRenderTarget(k.map),h.clear();const Y=k.getViewportCount();for(let q=0;q<Y;q++){const H=k.getViewport(q);s.set(l.x*H.x,l.y*H.y,l.x*H.z,l.y*H.w),P.viewport(s),k.updateMatrices(O,q),t=k.getFrustum(),_(w,E,k.camera,O,this.type)}k.isPointLightShadow!==!0&&this.type===pa&&y(k,E),k.needsUpdate=!1}g.needsUpdate=!1,h.setRenderTarget(T,M,j)};function y(x,w){const E=e.update(p);a.defines.VSM_SAMPLES!==x.blurSamples&&(a.defines.VSM_SAMPLES=x.blurSamples,c.defines.VSM_SAMPLES=x.blurSamples,a.needsUpdate=!0,c.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new Is(o.x,o.y)),a.uniforms.shadow_pass.value=x.map.texture,a.uniforms.resolution.value=x.mapSize,a.uniforms.radius.value=x.radius,h.setRenderTarget(x.mapPass),h.clear(),h.renderBufferDirect(w,null,E,a,p,null),c.uniforms.shadow_pass.value=x.mapPass.texture,c.uniforms.resolution.value=x.mapSize,c.uniforms.radius.value=x.radius,h.setRenderTarget(x.map),h.clear(),h.renderBufferDirect(w,null,E,c,p,null)}function v(x,w,E,T,M,j){let P=null;const L=E.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(L!==void 0?P=L:P=E.isPointLight===!0?i:n,h.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){const N=P.uuid,O=w.uuid;let k=u[N];k===void 0&&(k={},u[N]=k);let X=k[O];X===void 0&&(X=P.clone(),k[O]=X),P=X}return P.visible=w.visible,P.wireframe=w.wireframe,j===pa?P.side=w.shadowSide!==null?w.shadowSide:w.side:P.side=w.shadowSide!==null?w.shadowSide:m[w.side],P.alphaMap=w.alphaMap,P.alphaTest=w.alphaTest,P.clipShadows=w.clipShadows,P.clippingPlanes=w.clippingPlanes,P.clipIntersection=w.clipIntersection,P.displacementMap=w.displacementMap,P.displacementScale=w.displacementScale,P.displacementBias=w.displacementBias,P.wireframeLinewidth=w.wireframeLinewidth,P.linewidth=w.linewidth,E.isPointLight===!0&&P.isMeshDistanceMaterial===!0&&(P.referencePosition.setFromMatrixPosition(E.matrixWorld),P.nearDistance=T,P.farDistance=M),P}function _(x,w,E,T,M){if(x.visible===!1)return;if(x.layers.test(w.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&M===pa)&&(!x.frustumCulled||t.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,x.matrixWorld);const L=e.update(x),N=x.material;if(Array.isArray(N)){const O=L.groups;for(let k=0,X=O.length;k<X;k++){const Y=O[k],q=N[Y.materialIndex];if(q&&q.visible){const H=v(x,q,T,E.near,E.far,M);h.renderBufferDirect(E,null,L,H,x,Y)}}}else if(N.visible){const O=v(x,N,T,E.near,E.far,M);h.renderBufferDirect(E,null,L,O,x,null)}}const P=x.children;for(let L=0,N=P.length;L<N;L++)_(P[L],w,E,T,M)}}function XA(h,e,r){const t=r.isWebGL2;function o(){let be=!1;const De=new nr;let ze=null;const et=new nr(0,0,0,0);return{setMask:function(rt){ze!==rt&&!be&&(h.colorMask(rt,rt,rt,rt),ze=rt)},setLocked:function(rt){be=rt},setClear:function(rt,it,ut,at,Dt){Dt===!0&&(rt*=at,it*=at,ut*=at),De.set(rt,it,ut,at),et.equals(De)===!1&&(h.clearColor(rt,it,ut,at),et.copy(De))},reset:function(){be=!1,ze=null,et.set(-1,0,0,0)}}}function l(){let be=!1,De=null,ze=null,et=null;return{setTest:function(rt){rt?ee(2929):ue(2929)},setMask:function(rt){De!==rt&&!be&&(h.depthMask(rt),De=rt)},setFunc:function(rt){if(ze!==rt){switch(rt){case MS:h.depthFunc(512);break;case ES:h.depthFunc(519);break;case TS:h.depthFunc(513);break;case Nd:h.depthFunc(515);break;case AS:h.depthFunc(514);break;case jS:h.depthFunc(518);break;case CS:h.depthFunc(516);break;case PS:h.depthFunc(517);break;default:h.depthFunc(515)}ze=rt}},setLocked:function(rt){be=rt},setClear:function(rt){et!==rt&&(h.clearDepth(rt),et=rt)},reset:function(){be=!1,De=null,ze=null,et=null}}}function s(){let be=!1,De=null,ze=null,et=null,rt=null,it=null,ut=null,at=null,Dt=null;return{setTest:function(Mt){be||(Mt?ee(2960):ue(2960))},setMask:function(Mt){De!==Mt&&!be&&(h.stencilMask(Mt),De=Mt)},setFunc:function(Mt,kt,wt){(ze!==Mt||et!==kt||rt!==wt)&&(h.stencilFunc(Mt,kt,wt),ze=Mt,et=kt,rt=wt)},setOp:function(Mt,kt,wt){(it!==Mt||ut!==kt||at!==wt)&&(h.stencilOp(Mt,kt,wt),it=Mt,ut=kt,at=wt)},setLocked:function(Mt){be=Mt},setClear:function(Mt){Dt!==Mt&&(h.clearStencil(Mt),Dt=Mt)},reset:function(){be=!1,De=null,ze=null,et=null,rt=null,it=null,ut=null,at=null,Dt=null}}}const n=new o,i=new l,u=new s,f=new WeakMap,m=new WeakMap;let a={},c={},d=new WeakMap,p=[],g=null,y=!1,v=null,_=null,x=null,w=null,E=null,T=null,M=null,j=!1,P=null,L=null,N=null,O=null,k=null;const X=h.getParameter(35661);let Y=!1,q=0;const H=h.getParameter(7938);H.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(H)[1]),Y=q>=1):H.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),Y=q>=2);let z=null,W={};const $=h.getParameter(3088),se=h.getParameter(2978),R=new nr().fromArray($),I=new nr().fromArray(se);function U(be,De,ze){const et=new Uint8Array(4),rt=h.createTexture();h.bindTexture(be,rt),h.texParameteri(be,10241,9728),h.texParameteri(be,10240,9728);for(let it=0;it<ze;it++)h.texImage2D(De+it,0,6408,1,1,0,6408,5121,et);return rt}const G={};G[3553]=U(3553,3553,1),G[34067]=U(34067,34069,6),n.setClear(0,0,0,1),i.setClear(1),u.setClear(0),ee(2929),i.setFunc(Nd),ae(!1),he(Qp),ee(2884),F(Qi);function ee(be){a[be]!==!0&&(h.enable(be),a[be]=!0)}function ue(be){a[be]!==!1&&(h.disable(be),a[be]=!1)}function fe(be,De){return c[be]!==De?(h.bindFramebuffer(be,De),c[be]=De,t&&(be===36009&&(c[36160]=De),be===36160&&(c[36009]=De)),!0):!1}function pe(be,De){let ze=p,et=!1;if(be)if(ze=d.get(De),ze===void 0&&(ze=[],d.set(De,ze)),be.isWebGLMultipleRenderTargets){const rt=be.texture;if(ze.length!==rt.length||ze[0]!==36064){for(let it=0,ut=rt.length;it<ut;it++)ze[it]=36064+it;ze.length=rt.length,et=!0}}else ze[0]!==36064&&(ze[0]=36064,et=!0);else ze[0]!==1029&&(ze[0]=1029,et=!0);et&&(r.isWebGL2?h.drawBuffers(ze):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ze))}function ce(be){return g!==be?(h.useProgram(be),g=be,!0):!1}const ie={[fo]:32774,[fS]:32778,[pS]:32779};if(t)ie[rm]=32775,ie[nm]=32776;else{const be=e.get("EXT_blend_minmax");be!==null&&(ie[rm]=be.MIN_EXT,ie[nm]=be.MAX_EXT)}const V={[mS]:0,[gS]:1,[yS]:768,[V0]:770,[SS]:776,[xS]:774,[_S]:772,[vS]:769,[H0]:771,[wS]:775,[bS]:773};function F(be,De,ze,et,rt,it,ut,at){if(be===Qi){y===!0&&(ue(3042),y=!1);return}if(y===!1&&(ee(3042),y=!0),be!==hS){if(be!==v||at!==j){if((_!==fo||E!==fo)&&(h.blendEquation(32774),_=fo,E=fo),at)switch(be){case To:h.blendFuncSeparate(1,771,1,771);break;case kd:h.blendFunc(1,1);break;case em:h.blendFuncSeparate(0,769,0,1);break;case tm:h.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case To:h.blendFuncSeparate(770,771,1,771);break;case kd:h.blendFunc(770,1);break;case em:h.blendFuncSeparate(0,769,0,1);break;case tm:h.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}x=null,w=null,T=null,M=null,v=be,j=at}return}rt=rt||De,it=it||ze,ut=ut||et,(De!==_||rt!==E)&&(h.blendEquationSeparate(ie[De],ie[rt]),_=De,E=rt),(ze!==x||et!==w||it!==T||ut!==M)&&(h.blendFuncSeparate(V[ze],V[et],V[it],V[ut]),x=ze,w=et,T=it,M=ut),v=be,j=null}function re(be,De){be.side===qi?ue(2884):ee(2884);let ze=be.side===An;De&&(ze=!ze),ae(ze),be.blending===To&&be.transparent===!1?F(Qi):F(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),i.setFunc(be.depthFunc),i.setTest(be.depthTest),i.setMask(be.depthWrite),n.setMask(be.colorWrite);const et=be.stencilWrite;u.setTest(et),et&&(u.setMask(be.stencilWriteMask),u.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),u.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),Me(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?ee(32926):ue(32926)}function ae(be){P!==be&&(be?h.frontFace(2304):h.frontFace(2305),P=be)}function he(be){be!==uS?(ee(2884),be!==L&&(be===Qp?h.cullFace(1029):be===cS?h.cullFace(1028):h.cullFace(1032))):ue(2884),L=be}function de(be){be!==N&&(Y&&h.lineWidth(be),N=be)}function Me(be,De,ze){be?(ee(32823),(O!==De||k!==ze)&&(h.polygonOffset(De,ze),O=De,k=ze)):ue(32823)}function Se(be){be?ee(3089):ue(3089)}function je(be){be===void 0&&(be=33984+X-1),z!==be&&(h.activeTexture(be),z=be)}function J(be,De,ze){ze===void 0&&(z===null?ze=33984+X-1:ze=z);let et=W[ze];et===void 0&&(et={type:void 0,texture:void 0},W[ze]=et),(et.type!==be||et.texture!==De)&&(z!==ze&&(h.activeTexture(ze),z=ze),h.bindTexture(be,De||G[be]),et.type=be,et.texture=De)}function te(){const be=W[z];be!==void 0&&be.type!==void 0&&(h.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function Te(){try{h.compressedTexImage2D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Pe(){try{h.compressedTexImage3D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Oe(){try{h.texSubImage2D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ke(){try{h.texSubImage3D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function we(){try{h.compressedTexSubImage2D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Le(){try{h.compressedTexSubImage3D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function me(){try{h.texStorage2D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Q(){try{h.texStorage3D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ne(){try{h.texImage2D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function K(){try{h.texImage3D.apply(h,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function oe(be){R.equals(be)===!1&&(h.scissor(be.x,be.y,be.z,be.w),R.copy(be))}function xe(be){I.equals(be)===!1&&(h.viewport(be.x,be.y,be.z,be.w),I.copy(be))}function Ce(be,De){let ze=m.get(De);ze===void 0&&(ze=new WeakMap,m.set(De,ze));let et=ze.get(be);et===void 0&&(et=h.getUniformBlockIndex(De,be.name),ze.set(be,et))}function Ne(be,De){const et=m.get(De).get(be);f.get(be)!==et&&(h.uniformBlockBinding(De,et,be.__bindingPointIndex),f.set(be,et))}function Ze(){h.disable(3042),h.disable(2884),h.disable(2929),h.disable(32823),h.disable(3089),h.disable(2960),h.disable(32926),h.blendEquation(32774),h.blendFunc(1,0),h.blendFuncSeparate(1,0,1,0),h.colorMask(!0,!0,!0,!0),h.clearColor(0,0,0,0),h.depthMask(!0),h.depthFunc(513),h.clearDepth(1),h.stencilMask(4294967295),h.stencilFunc(519,0,4294967295),h.stencilOp(7680,7680,7680),h.clearStencil(0),h.cullFace(1029),h.frontFace(2305),h.polygonOffset(0,0),h.activeTexture(33984),h.bindFramebuffer(36160,null),t===!0&&(h.bindFramebuffer(36009,null),h.bindFramebuffer(36008,null)),h.useProgram(null),h.lineWidth(1),h.scissor(0,0,h.canvas.width,h.canvas.height),h.viewport(0,0,h.canvas.width,h.canvas.height),a={},z=null,W={},c={},d=new WeakMap,p=[],g=null,y=!1,v=null,_=null,x=null,w=null,E=null,T=null,M=null,j=!1,P=null,L=null,N=null,O=null,k=null,R.set(0,0,h.canvas.width,h.canvas.height),I.set(0,0,h.canvas.width,h.canvas.height),n.reset(),i.reset(),u.reset()}return{buffers:{color:n,depth:i,stencil:u},enable:ee,disable:ue,bindFramebuffer:fe,drawBuffers:pe,useProgram:ce,setBlending:F,setMaterial:re,setFlipSided:ae,setCullFace:he,setLineWidth:de,setPolygonOffset:Me,setScissorTest:Se,activeTexture:je,bindTexture:J,unbindTexture:te,compressedTexImage2D:Te,compressedTexImage3D:Pe,texImage2D:ne,texImage3D:K,updateUBOMapping:Ce,uniformBlockBinding:Ne,texStorage2D:me,texStorage3D:Q,texSubImage2D:Oe,texSubImage3D:ke,compressedTexSubImage2D:we,compressedTexSubImage3D:Le,scissor:oe,viewport:xe,reset:Ze}}function YA(h,e,r,t,o,l,s){const n=o.isWebGL2,i=o.maxTextures,u=o.maxCubemapSize,f=o.maxTextureSize,m=o.maxSamples,a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),d=new WeakMap;let p;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(J,te){return y?new OffscreenCanvas(J,te):Ga("canvas")}function _(J,te,Te,Pe){let Oe=1;if((J.width>Pe||J.height>Pe)&&(Oe=Pe/Math.max(J.width,J.height)),Oe<1||te===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const ke=te?Hd:Math.floor,we=ke(Oe*J.width),Le=ke(Oe*J.height);p===void 0&&(p=v(we,Le));const me=Te?v(we,Le):p;return me.width=we,me.height=Le,me.getContext("2d").drawImage(J,0,0,we,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+we+"x"+Le+")."),me}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function x(J){return Cm(J.width)&&Cm(J.height)}function w(J){return n?!1:J.wrapS!==Nn||J.wrapT!==Nn||J.minFilter!==Br&&J.minFilter!==xn}function E(J,te){return J.generateMipmaps&&te&&J.minFilter!==Br&&J.minFilter!==xn}function T(J){h.generateMipmap(J)}function M(J,te,Te,Pe,Oe=!1){if(n===!1)return te;if(J!==null){if(h[J]!==void 0)return h[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let ke=te;return te===6403&&(Te===5126&&(ke=33326),Te===5131&&(ke=33325),Te===5121&&(ke=33321)),te===33319&&(Te===5126&&(ke=33328),Te===5131&&(ke=33327),Te===5121&&(ke=33323)),te===6408&&(Te===5126&&(ke=34836),Te===5131&&(ke=34842),Te===5121&&(ke=Pe===cr&&Oe===!1?35907:32856),Te===32819&&(ke=32854),Te===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function j(J,te,Te){return E(J,Te)===!0||J.isFramebufferTexture&&J.minFilter!==Br&&J.minFilter!==xn?Math.log2(Math.max(te.width,te.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?te.mipmaps.length:1}function P(J){return J===Br||J===im||J===sm?9728:9729}function L(J){const te=J.target;te.removeEventListener("dispose",L),O(te),te.isVideoTexture&&d.delete(te)}function N(J){const te=J.target;te.removeEventListener("dispose",N),X(te)}function O(J){const te=t.get(J);if(te.__webglInit===void 0)return;const Te=J.source,Pe=g.get(Te);if(Pe){const Oe=Pe[te.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&k(J),Object.keys(Pe).length===0&&g.delete(Te)}t.remove(J)}function k(J){const te=t.get(J);h.deleteTexture(te.__webglTexture);const Te=J.source,Pe=g.get(Te);delete Pe[te.__cacheKey],s.memory.textures--}function X(J){const te=J.texture,Te=t.get(J),Pe=t.get(te);if(Pe.__webglTexture!==void 0&&(h.deleteTexture(Pe.__webglTexture),s.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++)h.deleteFramebuffer(Te.__webglFramebuffer[Oe]),Te.__webglDepthbuffer&&h.deleteRenderbuffer(Te.__webglDepthbuffer[Oe]);else{if(h.deleteFramebuffer(Te.__webglFramebuffer),Te.__webglDepthbuffer&&h.deleteRenderbuffer(Te.__webglDepthbuffer),Te.__webglMultisampledFramebuffer&&h.deleteFramebuffer(Te.__webglMultisampledFramebuffer),Te.__webglColorRenderbuffer)for(let Oe=0;Oe<Te.__webglColorRenderbuffer.length;Oe++)Te.__webglColorRenderbuffer[Oe]&&h.deleteRenderbuffer(Te.__webglColorRenderbuffer[Oe]);Te.__webglDepthRenderbuffer&&h.deleteRenderbuffer(Te.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Oe=0,ke=te.length;Oe<ke;Oe++){const we=t.get(te[Oe]);we.__webglTexture&&(h.deleteTexture(we.__webglTexture),s.memory.textures--),t.remove(te[Oe])}t.remove(te),t.remove(J)}let Y=0;function q(){Y=0}function H(){const J=Y;return J>=i&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+i),Y+=1,J}function z(J){const te=[];return te.push(J.wrapS),te.push(J.wrapT),te.push(J.wrapR||0),te.push(J.magFilter),te.push(J.minFilter),te.push(J.anisotropy),te.push(J.internalFormat),te.push(J.format),te.push(J.type),te.push(J.generateMipmaps),te.push(J.premultiplyAlpha),te.push(J.flipY),te.push(J.unpackAlignment),te.push(J.encoding),te.join()}function W(J,te){const Te=t.get(J);if(J.isVideoTexture&&Se(J),J.isRenderTargetTexture===!1&&J.version>0&&Te.__version!==J.version){const Pe=J.image;if(Pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Te,J,te);return}}r.bindTexture(3553,Te.__webglTexture,33984+te)}function $(J,te){const Te=t.get(J);if(J.version>0&&Te.__version!==J.version){ue(Te,J,te);return}r.bindTexture(35866,Te.__webglTexture,33984+te)}function se(J,te){const Te=t.get(J);if(J.version>0&&Te.__version!==J.version){ue(Te,J,te);return}r.bindTexture(32879,Te.__webglTexture,33984+te)}function R(J,te){const Te=t.get(J);if(J.version>0&&Te.__version!==J.version){fe(Te,J,te);return}r.bindTexture(34067,Te.__webglTexture,33984+te)}const I={[Bd]:10497,[Nn]:33071,[zd]:33648},U={[Br]:9728,[im]:9984,[sm]:9986,[xn]:9729,[US]:9985,[Gu]:9987};function G(J,te,Te){if(Te?(h.texParameteri(J,10242,I[te.wrapS]),h.texParameteri(J,10243,I[te.wrapT]),(J===32879||J===35866)&&h.texParameteri(J,32882,I[te.wrapR]),h.texParameteri(J,10240,U[te.magFilter]),h.texParameteri(J,10241,U[te.minFilter])):(h.texParameteri(J,10242,33071),h.texParameteri(J,10243,33071),(J===32879||J===35866)&&h.texParameteri(J,32882,33071),(te.wrapS!==Nn||te.wrapT!==Nn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),h.texParameteri(J,10240,P(te.magFilter)),h.texParameteri(J,10241,P(te.minFilter)),te.minFilter!==Br&&te.minFilter!==xn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Pe=e.get("EXT_texture_filter_anisotropic");if(te.type===xs&&e.has("OES_texture_float_linear")===!1||n===!1&&te.type===za&&e.has("OES_texture_half_float_linear")===!1)return;(te.anisotropy>1||t.get(te).__currentAnisotropy)&&(h.texParameterf(J,Pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,o.getMaxAnisotropy())),t.get(te).__currentAnisotropy=te.anisotropy)}}function ee(J,te){let Te=!1;J.__webglInit===void 0&&(J.__webglInit=!0,te.addEventListener("dispose",L));const Pe=te.source;let Oe=g.get(Pe);Oe===void 0&&(Oe={},g.set(Pe,Oe));const ke=z(te);if(ke!==J.__cacheKey){Oe[ke]===void 0&&(Oe[ke]={texture:h.createTexture(),usedTimes:0},s.memory.textures++,Te=!0),Oe[ke].usedTimes++;const we=Oe[J.__cacheKey];we!==void 0&&(Oe[J.__cacheKey].usedTimes--,we.usedTimes===0&&k(te)),J.__cacheKey=ke,J.__webglTexture=Oe[ke].texture}return Te}function ue(J,te,Te){let Pe=3553;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Pe=35866),te.isData3DTexture&&(Pe=32879);const Oe=ee(J,te),ke=te.source;r.bindTexture(Pe,J.__webglTexture,33984+Te);const we=t.get(ke);if(ke.version!==we.__version||Oe===!0){r.activeTexture(33984+Te),h.pixelStorei(37440,te.flipY),h.pixelStorei(37441,te.premultiplyAlpha),h.pixelStorei(3317,te.unpackAlignment),h.pixelStorei(37443,0);const Le=w(te)&&x(te.image)===!1;let me=_(te.image,Le,!1,f);me=je(te,me);const Q=x(me)||n,ne=l.convert(te.format,te.encoding);let K=l.convert(te.type),oe=M(te.internalFormat,ne,K,te.encoding,te.isVideoTexture);G(Pe,te,Q);let xe;const Ce=te.mipmaps,Ne=n&&te.isVideoTexture!==!0,Ze=we.__version===void 0||Oe===!0,be=j(te,me,Q);if(te.isDepthTexture)oe=6402,n?te.type===xs?oe=36012:te.type===bs?oe=33190:te.type===Ao?oe=35056:oe=33189:te.type===xs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),te.format===Cs&&oe===6402&&te.type!==q0&&te.type!==bs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),te.type=bs,K=l.convert(te.type)),te.format===Bo&&oe===6402&&(oe=34041,te.type!==Ao&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),te.type=Ao,K=l.convert(te.type))),Ze&&(Ne?r.texStorage2D(3553,1,oe,me.width,me.height):r.texImage2D(3553,0,oe,me.width,me.height,0,ne,K,null));else if(te.isDataTexture)if(Ce.length>0&&Q){Ne&&Ze&&r.texStorage2D(3553,be,oe,Ce[0].width,Ce[0].height);for(let De=0,ze=Ce.length;De<ze;De++)xe=Ce[De],Ne?r.texSubImage2D(3553,De,0,0,xe.width,xe.height,ne,K,xe.data):r.texImage2D(3553,De,oe,xe.width,xe.height,0,ne,K,xe.data);te.generateMipmaps=!1}else Ne?(Ze&&r.texStorage2D(3553,be,oe,me.width,me.height),r.texSubImage2D(3553,0,0,0,me.width,me.height,ne,K,me.data)):r.texImage2D(3553,0,oe,me.width,me.height,0,ne,K,me.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){Ne&&Ze&&r.texStorage3D(35866,be,oe,Ce[0].width,Ce[0].height,me.depth);for(let De=0,ze=Ce.length;De<ze;De++)xe=Ce[De],te.format!==Un?ne!==null?Ne?r.compressedTexSubImage3D(35866,De,0,0,0,xe.width,xe.height,me.depth,ne,xe.data,0,0):r.compressedTexImage3D(35866,De,oe,xe.width,xe.height,me.depth,0,xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?r.texSubImage3D(35866,De,0,0,0,xe.width,xe.height,me.depth,ne,K,xe.data):r.texImage3D(35866,De,oe,xe.width,xe.height,me.depth,0,ne,K,xe.data)}else{Ne&&Ze&&r.texStorage2D(3553,be,oe,Ce[0].width,Ce[0].height);for(let De=0,ze=Ce.length;De<ze;De++)xe=Ce[De],te.format!==Un?ne!==null?Ne?r.compressedTexSubImage2D(3553,De,0,0,xe.width,xe.height,ne,xe.data):r.compressedTexImage2D(3553,De,oe,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?r.texSubImage2D(3553,De,0,0,xe.width,xe.height,ne,K,xe.data):r.texImage2D(3553,De,oe,xe.width,xe.height,0,ne,K,xe.data)}else if(te.isDataArrayTexture)Ne?(Ze&&r.texStorage3D(35866,be,oe,me.width,me.height,me.depth),r.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,ne,K,me.data)):r.texImage3D(35866,0,oe,me.width,me.height,me.depth,0,ne,K,me.data);else if(te.isData3DTexture)Ne?(Ze&&r.texStorage3D(32879,be,oe,me.width,me.height,me.depth),r.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,ne,K,me.data)):r.texImage3D(32879,0,oe,me.width,me.height,me.depth,0,ne,K,me.data);else if(te.isFramebufferTexture){if(Ze)if(Ne)r.texStorage2D(3553,be,oe,me.width,me.height);else{let De=me.width,ze=me.height;for(let et=0;et<be;et++)r.texImage2D(3553,et,oe,De,ze,0,ne,K,null),De>>=1,ze>>=1}}else if(Ce.length>0&&Q){Ne&&Ze&&r.texStorage2D(3553,be,oe,Ce[0].width,Ce[0].height);for(let De=0,ze=Ce.length;De<ze;De++)xe=Ce[De],Ne?r.texSubImage2D(3553,De,0,0,ne,K,xe):r.texImage2D(3553,De,oe,ne,K,xe);te.generateMipmaps=!1}else Ne?(Ze&&r.texStorage2D(3553,be,oe,me.width,me.height),r.texSubImage2D(3553,0,0,0,ne,K,me)):r.texImage2D(3553,0,oe,ne,K,me);E(te,Q)&&T(Pe),we.__version=ke.version,te.onUpdate&&te.onUpdate(te)}J.__version=te.version}function fe(J,te,Te){if(te.image.length!==6)return;const Pe=ee(J,te),Oe=te.source;r.bindTexture(34067,J.__webglTexture,33984+Te);const ke=t.get(Oe);if(Oe.version!==ke.__version||Pe===!0){r.activeTexture(33984+Te),h.pixelStorei(37440,te.flipY),h.pixelStorei(37441,te.premultiplyAlpha),h.pixelStorei(3317,te.unpackAlignment),h.pixelStorei(37443,0);const we=te.isCompressedTexture||te.image[0].isCompressedTexture,Le=te.image[0]&&te.image[0].isDataTexture,me=[];for(let De=0;De<6;De++)!we&&!Le?me[De]=_(te.image[De],!1,!0,u):me[De]=Le?te.image[De].image:te.image[De],me[De]=je(te,me[De]);const Q=me[0],ne=x(Q)||n,K=l.convert(te.format,te.encoding),oe=l.convert(te.type),xe=M(te.internalFormat,K,oe,te.encoding),Ce=n&&te.isVideoTexture!==!0,Ne=ke.__version===void 0||Pe===!0;let Ze=j(te,Q,ne);G(34067,te,ne);let be;if(we){Ce&&Ne&&r.texStorage2D(34067,Ze,xe,Q.width,Q.height);for(let De=0;De<6;De++){be=me[De].mipmaps;for(let ze=0;ze<be.length;ze++){const et=be[ze];te.format!==Un?K!==null?Ce?r.compressedTexSubImage2D(34069+De,ze,0,0,et.width,et.height,K,et.data):r.compressedTexImage2D(34069+De,ze,xe,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?r.texSubImage2D(34069+De,ze,0,0,et.width,et.height,K,oe,et.data):r.texImage2D(34069+De,ze,xe,et.width,et.height,0,K,oe,et.data)}}}else{be=te.mipmaps,Ce&&Ne&&(be.length>0&&Ze++,r.texStorage2D(34067,Ze,xe,me[0].width,me[0].height));for(let De=0;De<6;De++)if(Le){Ce?r.texSubImage2D(34069+De,0,0,0,me[De].width,me[De].height,K,oe,me[De].data):r.texImage2D(34069+De,0,xe,me[De].width,me[De].height,0,K,oe,me[De].data);for(let ze=0;ze<be.length;ze++){const rt=be[ze].image[De].image;Ce?r.texSubImage2D(34069+De,ze+1,0,0,rt.width,rt.height,K,oe,rt.data):r.texImage2D(34069+De,ze+1,xe,rt.width,rt.height,0,K,oe,rt.data)}}else{Ce?r.texSubImage2D(34069+De,0,0,0,K,oe,me[De]):r.texImage2D(34069+De,0,xe,K,oe,me[De]);for(let ze=0;ze<be.length;ze++){const et=be[ze];Ce?r.texSubImage2D(34069+De,ze+1,0,0,K,oe,et.image[De]):r.texImage2D(34069+De,ze+1,xe,K,oe,et.image[De])}}}E(te,ne)&&T(34067),ke.__version=Oe.version,te.onUpdate&&te.onUpdate(te)}J.__version=te.version}function pe(J,te,Te,Pe,Oe){const ke=l.convert(Te.format,Te.encoding),we=l.convert(Te.type),Le=M(Te.internalFormat,ke,we,Te.encoding);t.get(te).__hasExternalTextures||(Oe===32879||Oe===35866?r.texImage3D(Oe,0,Le,te.width,te.height,te.depth,0,ke,we,null):r.texImage2D(Oe,0,Le,te.width,te.height,0,ke,we,null)),r.bindFramebuffer(36160,J),Me(te)?a.framebufferTexture2DMultisampleEXT(36160,Pe,Oe,t.get(Te).__webglTexture,0,de(te)):(Oe===3553||Oe>=34069&&Oe<=34074)&&h.framebufferTexture2D(36160,Pe,Oe,t.get(Te).__webglTexture,0),r.bindFramebuffer(36160,null)}function ce(J,te,Te){if(h.bindRenderbuffer(36161,J),te.depthBuffer&&!te.stencilBuffer){let Pe=33189;if(Te||Me(te)){const Oe=te.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===xs?Pe=36012:Oe.type===bs&&(Pe=33190));const ke=de(te);Me(te)?a.renderbufferStorageMultisampleEXT(36161,ke,Pe,te.width,te.height):h.renderbufferStorageMultisample(36161,ke,Pe,te.width,te.height)}else h.renderbufferStorage(36161,Pe,te.width,te.height);h.framebufferRenderbuffer(36160,36096,36161,J)}else if(te.depthBuffer&&te.stencilBuffer){const Pe=de(te);Te&&Me(te)===!1?h.renderbufferStorageMultisample(36161,Pe,35056,te.width,te.height):Me(te)?a.renderbufferStorageMultisampleEXT(36161,Pe,35056,te.width,te.height):h.renderbufferStorage(36161,34041,te.width,te.height),h.framebufferRenderbuffer(36160,33306,36161,J)}else{const Pe=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Oe=0;Oe<Pe.length;Oe++){const ke=Pe[Oe],we=l.convert(ke.format,ke.encoding),Le=l.convert(ke.type),me=M(ke.internalFormat,we,Le,ke.encoding),Q=de(te);Te&&Me(te)===!1?h.renderbufferStorageMultisample(36161,Q,me,te.width,te.height):Me(te)?a.renderbufferStorageMultisampleEXT(36161,Q,me,te.width,te.height):h.renderbufferStorage(36161,me,te.width,te.height)}}h.bindRenderbuffer(36161,null)}function ie(J,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,J),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!t.get(te.depthTexture).__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),W(te.depthTexture,0);const Pe=t.get(te.depthTexture).__webglTexture,Oe=de(te);if(te.depthTexture.format===Cs)Me(te)?a.framebufferTexture2DMultisampleEXT(36160,36096,3553,Pe,0,Oe):h.framebufferTexture2D(36160,36096,3553,Pe,0);else if(te.depthTexture.format===Bo)Me(te)?a.framebufferTexture2DMultisampleEXT(36160,33306,3553,Pe,0,Oe):h.framebufferTexture2D(36160,33306,3553,Pe,0);else throw new Error("Unknown depthTexture format")}function V(J){const te=t.get(J),Te=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!te.__autoAllocateDepthBuffer){if(Te)throw new Error("target.depthTexture not supported in Cube render targets");ie(te.__webglFramebuffer,J)}else if(Te){te.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)r.bindFramebuffer(36160,te.__webglFramebuffer[Pe]),te.__webglDepthbuffer[Pe]=h.createRenderbuffer(),ce(te.__webglDepthbuffer[Pe],J,!1)}else r.bindFramebuffer(36160,te.__webglFramebuffer),te.__webglDepthbuffer=h.createRenderbuffer(),ce(te.__webglDepthbuffer,J,!1);r.bindFramebuffer(36160,null)}function F(J,te,Te){const Pe=t.get(J);te!==void 0&&pe(Pe.__webglFramebuffer,J,J.texture,36064,3553),Te!==void 0&&V(J)}function re(J){const te=J.texture,Te=t.get(J),Pe=t.get(te);J.addEventListener("dispose",N),J.isWebGLMultipleRenderTargets!==!0&&(Pe.__webglTexture===void 0&&(Pe.__webglTexture=h.createTexture()),Pe.__version=te.version,s.memory.textures++);const Oe=J.isWebGLCubeRenderTarget===!0,ke=J.isWebGLMultipleRenderTargets===!0,we=x(J)||n;if(Oe){Te.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)Te.__webglFramebuffer[Le]=h.createFramebuffer()}else{if(Te.__webglFramebuffer=h.createFramebuffer(),ke)if(o.drawBuffers){const Le=J.texture;for(let me=0,Q=Le.length;me<Q;me++){const ne=t.get(Le[me]);ne.__webglTexture===void 0&&(ne.__webglTexture=h.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(n&&J.samples>0&&Me(J)===!1){const Le=ke?te:[te];Te.__webglMultisampledFramebuffer=h.createFramebuffer(),Te.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer);for(let me=0;me<Le.length;me++){const Q=Le[me];Te.__webglColorRenderbuffer[me]=h.createRenderbuffer(),h.bindRenderbuffer(36161,Te.__webglColorRenderbuffer[me]);const ne=l.convert(Q.format,Q.encoding),K=l.convert(Q.type),oe=M(Q.internalFormat,ne,K,Q.encoding,J.isXRRenderTarget===!0),xe=de(J);h.renderbufferStorageMultisample(36161,xe,oe,J.width,J.height),h.framebufferRenderbuffer(36160,36064+me,36161,Te.__webglColorRenderbuffer[me])}h.bindRenderbuffer(36161,null),J.depthBuffer&&(Te.__webglDepthRenderbuffer=h.createRenderbuffer(),ce(Te.__webglDepthRenderbuffer,J,!0)),r.bindFramebuffer(36160,null)}}if(Oe){r.bindTexture(34067,Pe.__webglTexture),G(34067,te,we);for(let Le=0;Le<6;Le++)pe(Te.__webglFramebuffer[Le],J,te,36064,34069+Le);E(te,we)&&T(34067),r.unbindTexture()}else if(ke){const Le=J.texture;for(let me=0,Q=Le.length;me<Q;me++){const ne=Le[me],K=t.get(ne);r.bindTexture(3553,K.__webglTexture),G(3553,ne,we),pe(Te.__webglFramebuffer,J,ne,36064+me,3553),E(ne,we)&&T(3553)}r.unbindTexture()}else{let Le=3553;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(n?Le=J.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Le,Pe.__webglTexture),G(Le,te,we),pe(Te.__webglFramebuffer,J,te,36064,Le),E(te,we)&&T(Le),r.unbindTexture()}J.depthBuffer&&V(J)}function ae(J){const te=x(J)||n,Te=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Pe=0,Oe=Te.length;Pe<Oe;Pe++){const ke=Te[Pe];if(E(ke,te)){const we=J.isWebGLCubeRenderTarget?34067:3553,Le=t.get(ke).__webglTexture;r.bindTexture(we,Le),T(we),r.unbindTexture()}}}function he(J){if(n&&J.samples>0&&Me(J)===!1){const te=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],Te=J.width,Pe=J.height;let Oe=16384;const ke=[],we=J.stencilBuffer?33306:36096,Le=t.get(J),me=J.isWebGLMultipleRenderTargets===!0;if(me)for(let Q=0;Q<te.length;Q++)r.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),h.framebufferRenderbuffer(36160,36064+Q,36161,null),r.bindFramebuffer(36160,Le.__webglFramebuffer),h.framebufferTexture2D(36009,36064+Q,3553,null,0);r.bindFramebuffer(36008,Le.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,Le.__webglFramebuffer);for(let Q=0;Q<te.length;Q++){ke.push(36064+Q),J.depthBuffer&&ke.push(we);const ne=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(ne===!1&&(J.depthBuffer&&(Oe|=256),J.stencilBuffer&&(Oe|=1024)),me&&h.framebufferRenderbuffer(36008,36064,36161,Le.__webglColorRenderbuffer[Q]),ne===!0&&(h.invalidateFramebuffer(36008,[we]),h.invalidateFramebuffer(36009,[we])),me){const K=t.get(te[Q]).__webglTexture;h.framebufferTexture2D(36009,36064,3553,K,0)}h.blitFramebuffer(0,0,Te,Pe,0,0,Te,Pe,Oe,9728),c&&h.invalidateFramebuffer(36008,ke)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),me)for(let Q=0;Q<te.length;Q++){r.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),h.framebufferRenderbuffer(36160,36064+Q,36161,Le.__webglColorRenderbuffer[Q]);const ne=t.get(te[Q]).__webglTexture;r.bindFramebuffer(36160,Le.__webglFramebuffer),h.framebufferTexture2D(36009,36064+Q,3553,ne,0)}r.bindFramebuffer(36009,Le.__webglMultisampledFramebuffer)}}function de(J){return Math.min(m,J.samples)}function Me(J){const te=t.get(J);return n&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function Se(J){const te=s.render.frame;d.get(J)!==te&&(d.set(J,te),J.update())}function je(J,te){const Te=J.encoding,Pe=J.format,Oe=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Vd||Te!==Os&&(Te===cr?n===!1?e.has("EXT_sRGB")===!0&&Pe===Un?(J.format=Vd,J.minFilter=xn,J.generateMipmaps=!1):te=Z0.sRGBToLinear(te):(Pe!==Un||Oe!==Ds)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Te)),te}this.allocateTextureUnit=H,this.resetTextureUnits=q,this.setTexture2D=W,this.setTexture2DArray=$,this.setTexture3D=se,this.setTextureCube=R,this.rebindTextures=F,this.setupRenderTarget=re,this.updateRenderTargetMipmap=ae,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=Me}function ZA(h,e,r){const t=r.isWebGL2;function o(l,s=null){let n;if(l===Ds)return 5121;if(l===GS)return 32819;if(l===VS)return 32820;if(l===FS)return 5120;if(l===BS)return 5122;if(l===q0)return 5123;if(l===zS)return 5124;if(l===bs)return 5125;if(l===xs)return 5126;if(l===za)return t?5131:(n=e.get("OES_texture_half_float"),n!==null?n.HALF_FLOAT_OES:null);if(l===HS)return 6406;if(l===Un)return 6408;if(l===qS)return 6409;if(l===XS)return 6410;if(l===Cs)return 6402;if(l===Bo)return 34041;if(l===YS)return 6403;if(l===WS)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(l===Vd)return n=e.get("EXT_sRGB"),n!==null?n.SRGB_ALPHA_EXT:null;if(l===ZS)return 36244;if(l===KS)return 33319;if(l===JS)return 33320;if(l===$S)return 36249;if(l===xc||l===wc||l===Sc||l===Mc)if(s===cr)if(n=e.get("WEBGL_compressed_texture_s3tc_srgb"),n!==null){if(l===xc)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(l===wc)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(l===Sc)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(l===Mc)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(n=e.get("WEBGL_compressed_texture_s3tc"),n!==null){if(l===xc)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===wc)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===Sc)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===Mc)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(l===om||l===am||l===lm||l===um)if(n=e.get("WEBGL_compressed_texture_pvrtc"),n!==null){if(l===om)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===am)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===lm)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===um)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(l===QS)return n=e.get("WEBGL_compressed_texture_etc1"),n!==null?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(l===cm||l===dm)if(n=e.get("WEBGL_compressed_texture_etc"),n!==null){if(l===cm)return s===cr?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(l===dm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(l===hm||l===fm||l===pm||l===mm||l===gm||l===ym||l===vm||l===_m||l===bm||l===xm||l===wm||l===Sm||l===Mm||l===Em)if(n=e.get("WEBGL_compressed_texture_astc"),n!==null){if(l===hm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(l===fm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(l===pm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(l===mm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(l===gm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(l===ym)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(l===vm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(l===_m)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(l===bm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(l===xm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(l===wm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(l===Sm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(l===Mm)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(l===Em)return s===cr?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(l===Tm)if(n=e.get("EXT_texture_compression_bptc"),n!==null){if(l===Tm)return s===cr?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return l===Ao?t?34042:(n=e.get("WEBGL_depth_texture"),n!==null?n.UNSIGNED_INT_24_8_WEBGL:null):h[l]!==void 0?h[l]:null}return{convert:o}}class KA extends hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Dl extends Ar{constructor(){super(),this.isGroup=!0,this.type="Group"}}const JA={type:"move"};class Jc{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,t){let o=null,l=null,s=null;const n=this._targetRay,i=this._grip,u=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const p of e.hand.values()){const g=r.getJointPose(p,t);if(u.joints[p.jointName]===void 0){const v=new Dl;v.matrixAutoUpdate=!1,v.visible=!1,u.joints[p.jointName]=v,u.add(v)}const y=u.joints[p.jointName];g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=g.radius),y.visible=g!==null}const f=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],a=f.position.distanceTo(m.position),c=.02,d=.005;u.inputState.pinching&&a>c+d?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&a<=c-d&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else i!==null&&e.gripSpace&&(l=r.getPose(e.gripSpace,t),l!==null&&(i.matrix.fromArray(l.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),l.linearVelocity?(i.hasLinearVelocity=!0,i.linearVelocity.copy(l.linearVelocity)):i.hasLinearVelocity=!1,l.angularVelocity?(i.hasAngularVelocity=!0,i.angularVelocity.copy(l.angularVelocity)):i.hasAngularVelocity=!1));n!==null&&(o=r.getPose(e.targetRaySpace,t),o===null&&l!==null&&(o=l),o!==null&&(n.matrix.fromArray(o.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),o.linearVelocity?(n.hasLinearVelocity=!0,n.linearVelocity.copy(o.linearVelocity)):n.hasLinearVelocity=!1,o.angularVelocity?(n.hasAngularVelocity=!0,n.angularVelocity.copy(o.angularVelocity)):n.hasAngularVelocity=!1,this.dispatchEvent(JA)))}return n!==null&&(n.visible=o!==null),i!==null&&(i.visible=l!==null),u!==null&&(u.visible=s!==null),this}}class $A extends vn{constructor(e,r,t,o,l,s,n,i,u,f){if(f=f!==void 0?f:Cs,f!==Cs&&f!==Bo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");t===void 0&&f===Cs&&(t=bs),t===void 0&&f===Bo&&(t=Ao),super(null,o,l,s,n,i,f,t,u),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=n!==void 0?n:Br,this.minFilter=i!==void 0?i:Br,this.flipY=!1,this.generateMipmaps=!1}}class QA extends Wo{constructor(e,r){super();const t=this;let o=null,l=1,s=null,n="local-floor",i=null,u=null,f=null,m=null,a=null,c=null;const d=r.getContextAttributes();let p=null,g=null;const y=[],v=[],_=new hn;_.layers.enable(1),_.viewport=new nr;const x=new hn;x.layers.enable(2),x.viewport=new nr;const w=[_,x],E=new KA;E.layers.enable(1),E.layers.enable(2);let T=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let W=y[z];return W===void 0&&(W=new Jc,y[z]=W),W.getTargetRaySpace()},this.getControllerGrip=function(z){let W=y[z];return W===void 0&&(W=new Jc,y[z]=W),W.getGripSpace()},this.getHand=function(z){let W=y[z];return W===void 0&&(W=new Jc,y[z]=W),W.getHandSpace()};function j(z){const W=v.indexOf(z.inputSource);if(W===-1)return;const $=y[W];$!==void 0&&$.dispatchEvent({type:z.type,data:z.inputSource})}function P(){o.removeEventListener("select",j),o.removeEventListener("selectstart",j),o.removeEventListener("selectend",j),o.removeEventListener("squeeze",j),o.removeEventListener("squeezestart",j),o.removeEventListener("squeezeend",j),o.removeEventListener("end",P),o.removeEventListener("inputsourceschange",L);for(let z=0;z<y.length;z++){const W=v[z];W!==null&&(v[z]=null,y[z].disconnect(W))}T=null,M=null,e.setRenderTarget(p),a=null,m=null,f=null,o=null,g=null,H.stop(),t.isPresenting=!1,t.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){l=z,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){n=z,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return i||s},this.setReferenceSpace=function(z){i=z},this.getBaseLayer=function(){return m!==null?m:a},this.getBinding=function(){return f},this.getFrame=function(){return c},this.getSession=function(){return o},this.setSession=async function(z){if(o=z,o!==null){if(p=e.getRenderTarget(),o.addEventListener("select",j),o.addEventListener("selectstart",j),o.addEventListener("selectend",j),o.addEventListener("squeeze",j),o.addEventListener("squeezestart",j),o.addEventListener("squeezeend",j),o.addEventListener("end",P),o.addEventListener("inputsourceschange",L),d.xrCompatible!==!0&&await r.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:o.renderState.layers===void 0?d.antialias:!0,alpha:d.alpha,depth:d.depth,stencil:d.stencil,framebufferScaleFactor:l};a=new XRWebGLLayer(o,r,W),o.updateRenderState({baseLayer:a}),g=new Is(a.framebufferWidth,a.framebufferHeight,{format:Un,type:Ds,encoding:e.outputEncoding,stencilBuffer:d.stencil})}else{let W=null,$=null,se=null;d.depth&&(se=d.stencil?35056:33190,W=d.stencil?Bo:Cs,$=d.stencil?Ao:bs);const R={colorFormat:32856,depthFormat:se,scaleFactor:l};f=new XRWebGLBinding(o,r),m=f.createProjectionLayer(R),o.updateRenderState({layers:[m]}),g=new Is(m.textureWidth,m.textureHeight,{format:Un,type:Ds,depthTexture:new $A(m.textureWidth,m.textureHeight,$,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:d.stencil,encoding:e.outputEncoding,samples:d.antialias?4:0});const I=e.properties.get(g);I.__ignoreDepthValues=m.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),i=null,s=await o.requestReferenceSpace(n),H.setContext(o),H.start(),t.isPresenting=!0,t.dispatchEvent({type:"sessionstart"})}};function L(z){for(let W=0;W<z.removed.length;W++){const $=z.removed[W],se=v.indexOf($);se>=0&&(v[se]=null,y[se].dispatchEvent({type:"disconnected",data:$}))}for(let W=0;W<z.added.length;W++){const $=z.added[W];let se=v.indexOf($);if(se===-1){for(let I=0;I<y.length;I++)if(I>=v.length){v.push($),se=I;break}else if(v[I]===null){v[I]=$,se=I;break}if(se===-1)break}const R=y[se];R&&R.dispatchEvent({type:"connected",data:$})}}const N=new Ae,O=new Ae;function k(z,W,$){N.setFromMatrixPosition(W.matrixWorld),O.setFromMatrixPosition($.matrixWorld);const se=N.distanceTo(O),R=W.projectionMatrix.elements,I=$.projectionMatrix.elements,U=R[14]/(R[10]-1),G=R[14]/(R[10]+1),ee=(R[9]+1)/R[5],ue=(R[9]-1)/R[5],fe=(R[8]-1)/R[0],pe=(I[8]+1)/I[0],ce=U*fe,ie=U*pe,V=se/(-fe+pe),F=V*-fe;W.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(F),z.translateZ(V),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const re=U+V,ae=G+V,he=ce-F,de=ie+(se-F),Me=ee*G/ae*re,Se=ue*G/ae*re;z.projectionMatrix.makePerspective(he,de,Me,Se,re,ae)}function X(z,W){W===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(W.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(o===null)return;E.near=x.near=_.near=z.near,E.far=x.far=_.far=z.far,(T!==E.near||M!==E.far)&&(o.updateRenderState({depthNear:E.near,depthFar:E.far}),T=E.near,M=E.far);const W=z.parent,$=E.cameras;X(E,W);for(let R=0;R<$.length;R++)X($[R],W);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),z.matrix.copy(E.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const se=z.children;for(let R=0,I=se.length;R<I;R++)se[R].updateMatrixWorld(!0);$.length===2?k(E,_,x):E.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(a!==null)return a.fixedFoveation},this.setFoveation=function(z){m!==null&&(m.fixedFoveation=z),a!==null&&a.fixedFoveation!==void 0&&(a.fixedFoveation=z)};let Y=null;function q(z,W){if(u=W.getViewerPose(i||s),c=W,u!==null){const $=u.views;a!==null&&(e.setRenderTargetFramebuffer(g,a.framebuffer),e.setRenderTarget(g));let se=!1;$.length!==E.cameras.length&&(E.cameras.length=0,se=!0);for(let R=0;R<$.length;R++){const I=$[R];let U=null;if(a!==null)U=a.getViewport(I);else{const ee=f.getViewSubImage(m,I);U=ee.viewport,R===0&&(e.setRenderTargetTextures(g,ee.colorTexture,m.ignoreDepthValues?void 0:ee.depthStencilTexture),e.setRenderTarget(g))}let G=w[R];G===void 0&&(G=new hn,G.layers.enable(R),G.viewport=new nr,w[R]=G),G.matrix.fromArray(I.transform.matrix),G.projectionMatrix.fromArray(I.projectionMatrix),G.viewport.set(U.x,U.y,U.width,U.height),R===0&&E.matrix.copy(G.matrix),se===!0&&E.cameras.push(G)}}for(let $=0;$<y.length;$++){const se=v[$],R=y[$];se!==null&&R!==void 0&&R.update(se,W,i||s)}Y&&Y(z,W),c=null}const H=new nv;H.setAnimationLoop(q),this.setAnimationLoop=function(z){Y=z},this.dispose=function(){}}}function ej(h,e){function r(p,g){p.fogColor.value.copy(g.color),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function t(p,g,y,v,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(p,g):g.isMeshToonMaterial?(o(p,g),f(p,g)):g.isMeshPhongMaterial?(o(p,g),u(p,g)):g.isMeshStandardMaterial?(o(p,g),m(p,g),g.isMeshPhysicalMaterial&&a(p,g,_)):g.isMeshMatcapMaterial?(o(p,g),c(p,g)):g.isMeshDepthMaterial?o(p,g):g.isMeshDistanceMaterial?(o(p,g),d(p,g)):g.isMeshNormalMaterial?o(p,g):g.isLineBasicMaterial?(l(p,g),g.isLineDashedMaterial&&s(p,g)):g.isPointsMaterial?n(p,g,y,v):g.isSpriteMaterial?i(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===An&&(p.bumpScale.value*=-1)),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===An&&p.normalScale.value.negate()),g.specularMap&&(p.specularMap.value=g.specularMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const y=e.get(g).envMap;if(y&&(p.envMap.value=y,p.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap){p.lightMap.value=g.lightMap;const x=h.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=g.lightMapIntensity*x}g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity);let v;g.map?v=g.map:g.specularMap?v=g.specularMap:g.displacementMap?v=g.displacementMap:g.normalMap?v=g.normalMap:g.bumpMap?v=g.bumpMap:g.roughnessMap?v=g.roughnessMap:g.metalnessMap?v=g.metalnessMap:g.alphaMap?v=g.alphaMap:g.emissiveMap?v=g.emissiveMap:g.clearcoatMap?v=g.clearcoatMap:g.clearcoatNormalMap?v=g.clearcoatNormalMap:g.clearcoatRoughnessMap?v=g.clearcoatRoughnessMap:g.iridescenceMap?v=g.iridescenceMap:g.iridescenceThicknessMap?v=g.iridescenceThicknessMap:g.specularIntensityMap?v=g.specularIntensityMap:g.specularColorMap?v=g.specularColorMap:g.transmissionMap?v=g.transmissionMap:g.thicknessMap?v=g.thicknessMap:g.sheenColorMap?v=g.sheenColorMap:g.sheenRoughnessMap&&(v=g.sheenRoughnessMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix));let _;g.aoMap?_=g.aoMap:g.lightMap&&(_=g.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uv2Transform.value.copy(_.matrix))}function l(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}function s(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function n(p,g,y,v){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*y,p.scale.value=v*.5,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let _;g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function i(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uvTransform.value.copy(y.matrix))}function u(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function f(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function m(p,g){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function a(p,g,y){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===An&&p.clearcoatNormalScale.value.negate())),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap)}function c(p,g){g.matcap&&(p.matcap.value=g.matcap)}function d(p,g){p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:t}}function tj(h,e,r,t){let o={},l={},s=[];const n=r.isWebGL2?h.getParameter(35375):0;function i(v,_){const x=_.program;t.uniformBlockBinding(v,x)}function u(v,_){let x=o[v.id];x===void 0&&(d(v),x=f(v),o[v.id]=x,v.addEventListener("dispose",g));const w=_.program;t.updateUBOMapping(v,w);const E=e.render.frame;l[v.id]!==E&&(a(v),l[v.id]=E)}function f(v){const _=m();v.__bindingPointIndex=_;const x=h.createBuffer(),w=v.__size,E=v.usage;return h.bindBuffer(35345,x),h.bufferData(35345,w,E),h.bindBuffer(35345,null),h.bindBufferBase(35345,_,x),x}function m(){for(let v=0;v<n;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function a(v){const _=o[v.id],x=v.uniforms,w=v.__cache;h.bindBuffer(35345,_);for(let E=0,T=x.length;E<T;E++){const M=x[E];if(c(M,E,w)===!0){const j=M.value,P=M.__offset;typeof j=="number"?(M.__data[0]=j,h.bufferSubData(35345,P,M.__data)):(M.value.isMatrix3?(M.__data[0]=M.value.elements[0],M.__data[1]=M.value.elements[1],M.__data[2]=M.value.elements[2],M.__data[3]=M.value.elements[0],M.__data[4]=M.value.elements[3],M.__data[5]=M.value.elements[4],M.__data[6]=M.value.elements[5],M.__data[7]=M.value.elements[0],M.__data[8]=M.value.elements[6],M.__data[9]=M.value.elements[7],M.__data[10]=M.value.elements[8],M.__data[11]=M.value.elements[0]):j.toArray(M.__data),h.bufferSubData(35345,P,M.__data))}}h.bindBuffer(35345,null)}function c(v,_,x){const w=v.value;if(x[_]===void 0)return typeof w=="number"?x[_]=w:x[_]=w.clone(),!0;if(typeof w=="number"){if(x[_]!==w)return x[_]=w,!0}else{const E=x[_];if(E.equals(w)===!1)return E.copy(w),!0}return!1}function d(v){const _=v.uniforms;let x=0;const w=16;let E=0;for(let T=0,M=_.length;T<M;T++){const j=_[T],P=p(j);if(j.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=x,T>0){E=x%w;const L=w-E;E!==0&&L-P.boundary<0&&(x+=w-E,j.__offset=x)}x+=P.storage}return E=x%w,E>0&&(x+=w-E),v.__size=x,v.__cache={},this}function p(v){const _=v.value,x={boundary:0,storage:0};return typeof _=="number"?(x.boundary=4,x.storage=4):_.isVector2?(x.boundary=8,x.storage=8):_.isVector3||_.isColor?(x.boundary=16,x.storage=12):_.isVector4?(x.boundary=16,x.storage=16):_.isMatrix3?(x.boundary=48,x.storage=48):_.isMatrix4?(x.boundary=64,x.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),x}function g(v){const _=v.target;_.removeEventListener("dispose",g);const x=s.indexOf(_.__bindingPointIndex);s.splice(x,1),h.deleteBuffer(o[_.id]),delete o[_.id],delete l[_.id]}function y(){for(const v in o)h.deleteBuffer(o[v]);s=[],o={},l={}}return{bind:i,update:u,dispose:y}}function rj(){const h=Ga("canvas");return h.style.display="block",h}function uv(h={}){this.isWebGLRenderer=!0;const e=h.canvas!==void 0?h.canvas:rj(),r=h.context!==void 0?h.context:null,t=h.depth!==void 0?h.depth:!0,o=h.stencil!==void 0?h.stencil:!0,l=h.antialias!==void 0?h.antialias:!1,s=h.premultipliedAlpha!==void 0?h.premultipliedAlpha:!0,n=h.preserveDrawingBuffer!==void 0?h.preserveDrawingBuffer:!1,i=h.powerPreference!==void 0?h.powerPreference:"default",u=h.failIfMajorPerformanceCaveat!==void 0?h.failIfMajorPerformanceCaveat:!1;let f;r!==null?f=r.getContextAttributes().alpha:f=h.alpha!==void 0?h.alpha:!1;let m=null,a=null;const c=[],d=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Os,this.physicallyCorrectLights=!1,this.toneMapping=_i,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const p=this;let g=!1,y=0,v=0,_=null,x=-1,w=null;const E=new nr,T=new nr;let M=null,j=e.width,P=e.height,L=1,N=null,O=null;const k=new nr(0,0,j,P),X=new nr(0,0,j,P);let Y=!1;const q=new Gh;let H=!1,z=!1,W=null;const $=new Kt,se=new nt,R=new Ae,I={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return _===null?L:1}let G=r;function ee(ve,Ge){for(let Ye=0;Ye<ve.length;Ye++){const Ve=ve[Ye],Je=e.getContext(Ve,Ge);if(Je!==null)return Je}return null}try{const ve={alpha:!0,depth:t,stencil:o,antialias:l,premultipliedAlpha:s,preserveDrawingBuffer:n,powerPreference:i,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Fh}`),e.addEventListener("webglcontextlost",oe,!1),e.addEventListener("webglcontextrestored",xe,!1),e.addEventListener("webglcontextcreationerror",Ce,!1),G===null){const Ge=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&Ge.shift(),G=ee(Ge,ve),G===null)throw ee(Ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ve){throw console.error("THREE.WebGLRenderer: "+ve.message),ve}let ue,fe,pe,ce,ie,V,F,re,ae,he,de,Me,Se,je,J,te,Te,Pe,Oe,ke,we,Le,me,Q;function ne(){ue=new fT(G),fe=new aT(G,ue,h),ue.init(fe),Le=new ZA(G,ue,fe),pe=new XA(G,ue,fe),ce=new gT,ie=new DA,V=new YA(G,ue,pe,ie,fe,Le,ce),F=new uT(p),re=new hT(p),ae=new E2(G,fe),me=new sT(G,ue,ae,fe),he=new pT(G,ae,ce,me),de=new bT(G,he,ae,ce),Oe=new _T(G,fe,V),te=new lT(ie),Me=new RA(p,F,re,ue,fe,me,te),Se=new ej(p,ie),je=new IA,J=new zA(ue,fe),Pe=new iT(p,F,re,pe,de,f,s),Te=new qA(p,de,fe),Q=new tj(G,ce,fe,pe),ke=new oT(G,ue,ce,fe),we=new mT(G,ue,ce,fe),ce.programs=Me.programs,p.capabilities=fe,p.extensions=ue,p.properties=ie,p.renderLists=je,p.shadowMap=Te,p.state=pe,p.info=ce}ne();const K=new QA(p,G);this.xr=K,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const ve=ue.get("WEBGL_lose_context");ve&&ve.loseContext()},this.forceContextRestore=function(){const ve=ue.get("WEBGL_lose_context");ve&&ve.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(ve){ve!==void 0&&(L=ve,this.setSize(j,P,!1))},this.getSize=function(ve){return ve.set(j,P)},this.setSize=function(ve,Ge,Ye){if(K.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=ve,P=Ge,e.width=Math.floor(ve*L),e.height=Math.floor(Ge*L),Ye!==!1&&(e.style.width=ve+"px",e.style.height=Ge+"px"),this.setViewport(0,0,ve,Ge)},this.getDrawingBufferSize=function(ve){return ve.set(j*L,P*L).floor()},this.setDrawingBufferSize=function(ve,Ge,Ye){j=ve,P=Ge,L=Ye,e.width=Math.floor(ve*Ye),e.height=Math.floor(Ge*Ye),this.setViewport(0,0,ve,Ge)},this.getCurrentViewport=function(ve){return ve.copy(E)},this.getViewport=function(ve){return ve.copy(k)},this.setViewport=function(ve,Ge,Ye,Ve){ve.isVector4?k.set(ve.x,ve.y,ve.z,ve.w):k.set(ve,Ge,Ye,Ve),pe.viewport(E.copy(k).multiplyScalar(L).floor())},this.getScissor=function(ve){return ve.copy(X)},this.setScissor=function(ve,Ge,Ye,Ve){ve.isVector4?X.set(ve.x,ve.y,ve.z,ve.w):X.set(ve,Ge,Ye,Ve),pe.scissor(T.copy(X).multiplyScalar(L).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(ve){pe.setScissorTest(Y=ve)},this.setOpaqueSort=function(ve){N=ve},this.setTransparentSort=function(ve){O=ve},this.getClearColor=function(ve){return ve.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor.apply(Pe,arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha.apply(Pe,arguments)},this.clear=function(ve=!0,Ge=!0,Ye=!0){let Ve=0;ve&&(Ve|=16384),Ge&&(Ve|=256),Ye&&(Ve|=1024),G.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",oe,!1),e.removeEventListener("webglcontextrestored",xe,!1),e.removeEventListener("webglcontextcreationerror",Ce,!1),je.dispose(),J.dispose(),ie.dispose(),F.dispose(),re.dispose(),de.dispose(),me.dispose(),Q.dispose(),Me.dispose(),K.dispose(),K.removeEventListener("sessionstart",et),K.removeEventListener("sessionend",rt),W&&(W.dispose(),W=null),it.stop()};function oe(ve){ve.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const ve=ce.autoReset,Ge=Te.enabled,Ye=Te.autoUpdate,Ve=Te.needsUpdate,Je=Te.type;ne(),ce.autoReset=ve,Te.enabled=Ge,Te.autoUpdate=Ye,Te.needsUpdate=Ve,Te.type=Je}function Ce(ve){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ve.statusMessage)}function Ne(ve){const Ge=ve.target;Ge.removeEventListener("dispose",Ne),Ze(Ge)}function Ze(ve){be(ve),ie.remove(ve)}function be(ve){const Ge=ie.get(ve).programs;Ge!==void 0&&(Ge.forEach(function(Ye){Me.releaseProgram(Ye)}),ve.isShaderMaterial&&Me.releaseShaderCache(ve))}this.renderBufferDirect=function(ve,Ge,Ye,Ve,Je,mt){Ge===null&&(Ge=I);const gt=Je.isMesh&&Je.matrixWorld.determinant()<0,xt=Ct(ve,Ge,Ye,Ve,Je);pe.setMaterial(Ve,gt);let _e=Ye.index;const Xe=Ye.attributes.position;if(_e===null){if(Xe===void 0||Xe.count===0)return}else if(_e.count===0)return;let Qe=1;Ve.wireframe===!0&&(_e=he.getWireframeAttribute(Ye),Qe=2),me.setup(Je,Ve,xt,Ye,_e);let We,ht=ke;_e!==null&&(We=ae.get(_e),ht=we,ht.setIndex(We));const Ke=_e!==null?_e.count:Xe.count,Et=Ye.drawRange.start*Qe,st=Ye.drawRange.count*Qe,yt=mt!==null?mt.start*Qe:0,tt=mt!==null?mt.count*Qe:1/0,Bt=Math.max(Et,yt),Tt=Math.min(Ke,Et+st,yt+tt)-1,Pt=Math.max(0,Tt-Bt+1);if(Pt!==0){if(Je.isMesh)Ve.wireframe===!0?(pe.setLineWidth(Ve.wireframeLinewidth*U()),ht.setMode(1)):ht.setMode(4);else if(Je.isLine){let zt=Ve.linewidth;zt===void 0&&(zt=1),pe.setLineWidth(zt*U()),Je.isLineSegments?ht.setMode(1):Je.isLineLoop?ht.setMode(2):ht.setMode(3)}else Je.isPoints?ht.setMode(0):Je.isSprite&&ht.setMode(4);if(Je.isInstancedMesh)ht.renderInstances(Bt,Pt,Je.count);else if(Ye.isInstancedBufferGeometry){const zt=Math.min(Ye.instanceCount,Ye._maxInstanceCount);ht.renderInstances(Bt,Pt,zt)}else ht.render(Bt,Pt)}},this.compile=function(ve,Ge){function Ye(Ve,Je,mt){Ve.transparent===!0&&Ve.side===qi?(Ve.side=An,Ve.needsUpdate=!0,wt(Ve,Je,mt),Ve.side=No,Ve.needsUpdate=!0,wt(Ve,Je,mt),Ve.side=qi):wt(Ve,Je,mt)}a=J.get(ve),a.init(),d.push(a),ve.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Ge.layers)&&(a.pushLight(Ve),Ve.castShadow&&a.pushShadow(Ve))}),a.setupLights(p.physicallyCorrectLights),ve.traverse(function(Ve){const Je=Ve.material;if(Je)if(Array.isArray(Je))for(let mt=0;mt<Je.length;mt++){const gt=Je[mt];Ye(gt,ve,Ve)}else Ye(Je,ve,Ve)}),d.pop(),a=null};let De=null;function ze(ve){De&&De(ve)}function et(){it.stop()}function rt(){it.start()}const it=new nv;it.setAnimationLoop(ze),typeof self<"u"&&it.setContext(self),this.setAnimationLoop=function(ve){De=ve,K.setAnimationLoop(ve),ve===null?it.stop():it.start()},K.addEventListener("sessionstart",et),K.addEventListener("sessionend",rt),this.render=function(ve,Ge){if(Ge!==void 0&&Ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),Ge.parent===null&&Ge.matrixWorldAutoUpdate===!0&&Ge.updateMatrixWorld(),K.enabled===!0&&K.isPresenting===!0&&(K.cameraAutoUpdate===!0&&K.updateCamera(Ge),Ge=K.getCamera()),ve.isScene===!0&&ve.onBeforeRender(p,ve,Ge,_),a=J.get(ve,d.length),a.init(),d.push(a),$.multiplyMatrices(Ge.projectionMatrix,Ge.matrixWorldInverse),q.setFromProjectionMatrix($),z=this.localClippingEnabled,H=te.init(this.clippingPlanes,z,Ge),m=je.get(ve,c.length),m.init(),c.push(m),ut(ve,Ge,0,p.sortObjects),m.finish(),p.sortObjects===!0&&m.sort(N,O),H===!0&&te.beginShadows();const Ye=a.state.shadowsArray;if(Te.render(Ye,ve,Ge),H===!0&&te.endShadows(),this.info.autoReset===!0&&this.info.reset(),Pe.render(m,ve),a.setupLights(p.physicallyCorrectLights),Ge.isArrayCamera){const Ve=Ge.cameras;for(let Je=0,mt=Ve.length;Je<mt;Je++){const gt=Ve[Je];at(m,ve,gt,gt.viewport)}}else at(m,ve,Ge);_!==null&&(V.updateMultisampleRenderTarget(_),V.updateRenderTargetMipmap(_)),ve.isScene===!0&&ve.onAfterRender(p,ve,Ge),me.resetDefaultState(),x=-1,w=null,d.pop(),d.length>0?a=d[d.length-1]:a=null,c.pop(),c.length>0?m=c[c.length-1]:m=null};function ut(ve,Ge,Ye,Ve){if(ve.visible===!1)return;if(ve.layers.test(Ge.layers)){if(ve.isGroup)Ye=ve.renderOrder;else if(ve.isLOD)ve.autoUpdate===!0&&ve.update(Ge);else if(ve.isLight)a.pushLight(ve),ve.castShadow&&a.pushShadow(ve);else if(ve.isSprite){if(!ve.frustumCulled||q.intersectsSprite(ve)){Ve&&R.setFromMatrixPosition(ve.matrixWorld).applyMatrix4($);const gt=de.update(ve),xt=ve.material;xt.visible&&m.push(ve,gt,xt,Ye,R.z,null)}}else if((ve.isMesh||ve.isLine||ve.isPoints)&&(ve.isSkinnedMesh&&ve.skeleton.frame!==ce.render.frame&&(ve.skeleton.update(),ve.skeleton.frame=ce.render.frame),!ve.frustumCulled||q.intersectsObject(ve))){Ve&&R.setFromMatrixPosition(ve.matrixWorld).applyMatrix4($);const gt=de.update(ve),xt=ve.material;if(Array.isArray(xt)){const _e=gt.groups;for(let Xe=0,Qe=_e.length;Xe<Qe;Xe++){const We=_e[Xe],ht=xt[We.materialIndex];ht&&ht.visible&&m.push(ve,gt,ht,Ye,R.z,We)}}else xt.visible&&m.push(ve,gt,xt,Ye,R.z,null)}}const mt=ve.children;for(let gt=0,xt=mt.length;gt<xt;gt++)ut(mt[gt],Ge,Ye,Ve)}function at(ve,Ge,Ye,Ve){const Je=ve.opaque,mt=ve.transmissive,gt=ve.transparent;a.setupLightsView(Ye),mt.length>0&&Dt(Je,Ge,Ye),Ve&&pe.viewport(E.copy(Ve)),Je.length>0&&Mt(Je,Ge,Ye),mt.length>0&&Mt(mt,Ge,Ye),gt.length>0&&Mt(gt,Ge,Ye),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Dt(ve,Ge,Ye){const Ve=fe.isWebGL2;W===null&&(W=new Is(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?za:Ds,minFilter:Gu,samples:Ve&&l===!0?4:0})),p.getDrawingBufferSize(se),Ve?W.setSize(se.x,se.y):W.setSize(Hd(se.x),Hd(se.y));const Je=p.getRenderTarget();p.setRenderTarget(W),p.clear();const mt=p.toneMapping;p.toneMapping=_i,Mt(ve,Ge,Ye),p.toneMapping=mt,V.updateMultisampleRenderTarget(W),V.updateRenderTargetMipmap(W),p.setRenderTarget(Je)}function Mt(ve,Ge,Ye){const Ve=Ge.isScene===!0?Ge.overrideMaterial:null;for(let Je=0,mt=ve.length;Je<mt;Je++){const gt=ve[Je],xt=gt.object,_e=gt.geometry,Xe=Ve===null?gt.material:Ve,Qe=gt.group;xt.layers.test(Ye.layers)&&kt(xt,Ge,Ye,_e,Xe,Qe)}}function kt(ve,Ge,Ye,Ve,Je,mt){ve.onBeforeRender(p,Ge,Ye,Ve,Je,mt),ve.modelViewMatrix.multiplyMatrices(Ye.matrixWorldInverse,ve.matrixWorld),ve.normalMatrix.getNormalMatrix(ve.modelViewMatrix),Je.onBeforeRender(p,Ge,Ye,Ve,ve,mt),Je.transparent===!0&&Je.side===qi?(Je.side=An,Je.needsUpdate=!0,p.renderBufferDirect(Ye,Ge,Ve,Je,ve,mt),Je.side=No,Je.needsUpdate=!0,p.renderBufferDirect(Ye,Ge,Ve,Je,ve,mt),Je.side=qi):p.renderBufferDirect(Ye,Ge,Ve,Je,ve,mt),ve.onAfterRender(p,Ge,Ye,Ve,Je,mt)}function wt(ve,Ge,Ye){Ge.isScene!==!0&&(Ge=I);const Ve=ie.get(ve),Je=a.state.lights,mt=a.state.shadowsArray,gt=Je.state.version,xt=Me.getParameters(ve,Je.state,mt,Ge,Ye),_e=Me.getProgramCacheKey(xt);let Xe=Ve.programs;Ve.environment=ve.isMeshStandardMaterial?Ge.environment:null,Ve.fog=Ge.fog,Ve.envMap=(ve.isMeshStandardMaterial?re:F).get(ve.envMap||Ve.environment),Xe===void 0&&(ve.addEventListener("dispose",Ne),Xe=new Map,Ve.programs=Xe);let Qe=Xe.get(_e);if(Qe!==void 0){if(Ve.currentProgram===Qe&&Ve.lightsStateVersion===gt)return Ft(ve,xt),Qe}else xt.uniforms=Me.getUniforms(ve),ve.onBuild(Ye,xt,p),ve.onBeforeCompile(xt,p),Qe=Me.acquireProgram(xt,_e),Xe.set(_e,Qe),Ve.uniforms=xt.uniforms;const We=Ve.uniforms;(!ve.isShaderMaterial&&!ve.isRawShaderMaterial||ve.clipping===!0)&&(We.clippingPlanes=te.uniform),Ft(ve,xt),Ve.needsLights=pr(ve),Ve.lightsStateVersion=gt,Ve.needsLights&&(We.ambientLightColor.value=Je.state.ambient,We.lightProbe.value=Je.state.probe,We.directionalLights.value=Je.state.directional,We.directionalLightShadows.value=Je.state.directionalShadow,We.spotLights.value=Je.state.spot,We.spotLightShadows.value=Je.state.spotShadow,We.rectAreaLights.value=Je.state.rectArea,We.ltc_1.value=Je.state.rectAreaLTC1,We.ltc_2.value=Je.state.rectAreaLTC2,We.pointLights.value=Je.state.point,We.pointLightShadows.value=Je.state.pointShadow,We.hemisphereLights.value=Je.state.hemi,We.directionalShadowMap.value=Je.state.directionalShadowMap,We.directionalShadowMatrix.value=Je.state.directionalShadowMatrix,We.spotShadowMap.value=Je.state.spotShadowMap,We.spotLightMatrix.value=Je.state.spotLightMatrix,We.spotLightMap.value=Je.state.spotLightMap,We.pointShadowMap.value=Je.state.pointShadowMap,We.pointShadowMatrix.value=Je.state.pointShadowMatrix);const ht=Qe.getUniforms(),Ke=su.seqWithValue(ht.seq,We);return Ve.currentProgram=Qe,Ve.uniformsList=Ke,Qe}function Ft(ve,Ge){const Ye=ie.get(ve);Ye.outputEncoding=Ge.outputEncoding,Ye.instancing=Ge.instancing,Ye.skinning=Ge.skinning,Ye.morphTargets=Ge.morphTargets,Ye.morphNormals=Ge.morphNormals,Ye.morphColors=Ge.morphColors,Ye.morphTargetsCount=Ge.morphTargetsCount,Ye.numClippingPlanes=Ge.numClippingPlanes,Ye.numIntersection=Ge.numClipIntersection,Ye.vertexAlphas=Ge.vertexAlphas,Ye.vertexTangents=Ge.vertexTangents,Ye.toneMapping=Ge.toneMapping}function Ct(ve,Ge,Ye,Ve,Je){Ge.isScene!==!0&&(Ge=I),V.resetTextureUnits();const mt=Ge.fog,gt=Ve.isMeshStandardMaterial?Ge.environment:null,xt=_===null?p.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:Os,_e=(Ve.isMeshStandardMaterial?re:F).get(Ve.envMap||gt),Xe=Ve.vertexColors===!0&&!!Ye.attributes.color&&Ye.attributes.color.itemSize===4,Qe=!!Ve.normalMap&&!!Ye.attributes.tangent,We=!!Ye.morphAttributes.position,ht=!!Ye.morphAttributes.normal,Ke=!!Ye.morphAttributes.color,Et=Ve.toneMapped?p.toneMapping:_i,st=Ye.morphAttributes.position||Ye.morphAttributes.normal||Ye.morphAttributes.color,yt=st!==void 0?st.length:0,tt=ie.get(Ve),Bt=a.state.lights;if(H===!0&&(z===!0||ve!==w)){const Jt=ve===w&&Ve.id===x;te.setState(Ve,ve,Jt)}let Tt=!1;Ve.version===tt.__version?(tt.needsLights&&tt.lightsStateVersion!==Bt.state.version||tt.outputEncoding!==xt||Je.isInstancedMesh&&tt.instancing===!1||!Je.isInstancedMesh&&tt.instancing===!0||Je.isSkinnedMesh&&tt.skinning===!1||!Je.isSkinnedMesh&&tt.skinning===!0||tt.envMap!==_e||Ve.fog===!0&&tt.fog!==mt||tt.numClippingPlanes!==void 0&&(tt.numClippingPlanes!==te.numPlanes||tt.numIntersection!==te.numIntersection)||tt.vertexAlphas!==Xe||tt.vertexTangents!==Qe||tt.morphTargets!==We||tt.morphNormals!==ht||tt.morphColors!==Ke||tt.toneMapping!==Et||fe.isWebGL2===!0&&tt.morphTargetsCount!==yt)&&(Tt=!0):(Tt=!0,tt.__version=Ve.version);let Pt=tt.currentProgram;Tt===!0&&(Pt=wt(Ve,Ge,Je));let zt=!1,Or=!1,Cr=!1;const Wt=Pt.getUniforms(),qt=tt.uniforms;if(pe.useProgram(Pt.program)&&(zt=!0,Or=!0,Cr=!0),Ve.id!==x&&(x=Ve.id,Or=!0),zt||w!==ve){if(Wt.setValue(G,"projectionMatrix",ve.projectionMatrix),fe.logarithmicDepthBuffer&&Wt.setValue(G,"logDepthBufFC",2/(Math.log(ve.far+1)/Math.LN2)),w!==ve&&(w=ve,Or=!0,Cr=!0),Ve.isShaderMaterial||Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshStandardMaterial||Ve.envMap){const Jt=Wt.map.cameraPosition;Jt!==void 0&&Jt.setValue(G,R.setFromMatrixPosition(ve.matrixWorld))}(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&Wt.setValue(G,"isOrthographic",ve.isOrthographicCamera===!0),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial||Ve.isShadowMaterial||Je.isSkinnedMesh)&&Wt.setValue(G,"viewMatrix",ve.matrixWorldInverse)}if(Je.isSkinnedMesh){Wt.setOptional(G,Je,"bindMatrix"),Wt.setOptional(G,Je,"bindMatrixInverse");const Jt=Je.skeleton;Jt&&(fe.floatVertexTextures?(Jt.boneTexture===null&&Jt.computeBoneTexture(),Wt.setValue(G,"boneTexture",Jt.boneTexture,V),Wt.setValue(G,"boneTextureSize",Jt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zs=Ye.morphAttributes;if((zs.position!==void 0||zs.normal!==void 0||zs.color!==void 0&&fe.isWebGL2===!0)&&Oe.update(Je,Ye,Ve,Pt),(Or||tt.receiveShadow!==Je.receiveShadow)&&(tt.receiveShadow=Je.receiveShadow,Wt.setValue(G,"receiveShadow",Je.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(qt.envMap.value=_e,qt.flipEnvMap.value=_e.isCubeTexture&&_e.isRenderTargetTexture===!1?-1:1),Or&&(Wt.setValue(G,"toneMappingExposure",p.toneMappingExposure),tt.needsLights&&_r(qt,Cr),mt&&Ve.fog===!0&&Se.refreshFogUniforms(qt,mt),Se.refreshMaterialUniforms(qt,Ve,L,P,W),su.upload(G,tt.uniformsList,qt,V)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(su.upload(G,tt.uniformsList,qt,V),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&Wt.setValue(G,"center",Je.center),Wt.setValue(G,"modelViewMatrix",Je.modelViewMatrix),Wt.setValue(G,"normalMatrix",Je.normalMatrix),Wt.setValue(G,"modelMatrix",Je.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const Jt=Ve.uniformsGroups;for(let Vn=0,Gs=Jt.length;Vn<Gs;Vn++)if(fe.isWebGL2){const Zo=Jt[Vn];Q.update(Zo,Pt),Q.bind(Zo,Pt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Pt}function _r(ve,Ge){ve.ambientLightColor.needsUpdate=Ge,ve.lightProbe.needsUpdate=Ge,ve.directionalLights.needsUpdate=Ge,ve.directionalLightShadows.needsUpdate=Ge,ve.pointLights.needsUpdate=Ge,ve.pointLightShadows.needsUpdate=Ge,ve.spotLights.needsUpdate=Ge,ve.spotLightShadows.needsUpdate=Ge,ve.rectAreaLights.needsUpdate=Ge,ve.hemisphereLights.needsUpdate=Ge}function pr(ve){return ve.isMeshLambertMaterial||ve.isMeshToonMaterial||ve.isMeshPhongMaterial||ve.isMeshStandardMaterial||ve.isShadowMaterial||ve.isShaderMaterial&&ve.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(ve,Ge,Ye){ie.get(ve.texture).__webglTexture=Ge,ie.get(ve.depthTexture).__webglTexture=Ye;const Ve=ie.get(ve);Ve.__hasExternalTextures=!0,Ve.__hasExternalTextures&&(Ve.__autoAllocateDepthBuffer=Ye===void 0,Ve.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ve,Ge){const Ye=ie.get(ve);Ye.__webglFramebuffer=Ge,Ye.__useDefaultFramebuffer=Ge===void 0},this.setRenderTarget=function(ve,Ge=0,Ye=0){_=ve,y=Ge,v=Ye;let Ve=!0,Je=null,mt=!1,gt=!1;if(ve){const _e=ie.get(ve);_e.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(36160,null),Ve=!1):_e.__webglFramebuffer===void 0?V.setupRenderTarget(ve):_e.__hasExternalTextures&&V.rebindTextures(ve,ie.get(ve.texture).__webglTexture,ie.get(ve.depthTexture).__webglTexture);const Xe=ve.texture;(Xe.isData3DTexture||Xe.isDataArrayTexture||Xe.isCompressedArrayTexture)&&(gt=!0);const Qe=ie.get(ve).__webglFramebuffer;ve.isWebGLCubeRenderTarget?(Je=Qe[Ge],mt=!0):fe.isWebGL2&&ve.samples>0&&V.useMultisampledRTT(ve)===!1?Je=ie.get(ve).__webglMultisampledFramebuffer:Je=Qe,E.copy(ve.viewport),T.copy(ve.scissor),M=ve.scissorTest}else E.copy(k).multiplyScalar(L).floor(),T.copy(X).multiplyScalar(L).floor(),M=Y;if(pe.bindFramebuffer(36160,Je)&&fe.drawBuffers&&Ve&&pe.drawBuffers(ve,Je),pe.viewport(E),pe.scissor(T),pe.setScissorTest(M),mt){const _e=ie.get(ve.texture);G.framebufferTexture2D(36160,36064,34069+Ge,_e.__webglTexture,Ye)}else if(gt){const _e=ie.get(ve.texture),Xe=Ge||0;G.framebufferTextureLayer(36160,36064,_e.__webglTexture,Ye||0,Xe)}x=-1},this.readRenderTargetPixels=function(ve,Ge,Ye,Ve,Je,mt,gt){if(!(ve&&ve.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=ie.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&gt!==void 0&&(xt=xt[gt]),xt){pe.bindFramebuffer(36160,xt);try{const _e=ve.texture,Xe=_e.format,Qe=_e.type;if(Xe!==Un&&Le.convert(Xe)!==G.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const We=Qe===za&&(ue.has("EXT_color_buffer_half_float")||fe.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Qe!==Ds&&Le.convert(Qe)!==G.getParameter(35738)&&!(Qe===xs&&(fe.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!We){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ge>=0&&Ge<=ve.width-Ve&&Ye>=0&&Ye<=ve.height-Je&&G.readPixels(Ge,Ye,Ve,Je,Le.convert(Xe),Le.convert(Qe),mt)}finally{const _e=_!==null?ie.get(_).__webglFramebuffer:null;pe.bindFramebuffer(36160,_e)}}},this.copyFramebufferToTexture=function(ve,Ge,Ye=0){const Ve=Math.pow(2,-Ye),Je=Math.floor(Ge.image.width*Ve),mt=Math.floor(Ge.image.height*Ve);V.setTexture2D(Ge,0),G.copyTexSubImage2D(3553,Ye,0,0,ve.x,ve.y,Je,mt),pe.unbindTexture()},this.copyTextureToTexture=function(ve,Ge,Ye,Ve=0){const Je=Ge.image.width,mt=Ge.image.height,gt=Le.convert(Ye.format),xt=Le.convert(Ye.type);V.setTexture2D(Ye,0),G.pixelStorei(37440,Ye.flipY),G.pixelStorei(37441,Ye.premultiplyAlpha),G.pixelStorei(3317,Ye.unpackAlignment),Ge.isDataTexture?G.texSubImage2D(3553,Ve,ve.x,ve.y,Je,mt,gt,xt,Ge.image.data):Ge.isCompressedTexture?G.compressedTexSubImage2D(3553,Ve,ve.x,ve.y,Ge.mipmaps[0].width,Ge.mipmaps[0].height,gt,Ge.mipmaps[0].data):G.texSubImage2D(3553,Ve,ve.x,ve.y,gt,xt,Ge.image),Ve===0&&Ye.generateMipmaps&&G.generateMipmap(3553),pe.unbindTexture()},this.copyTextureToTexture3D=function(ve,Ge,Ye,Ve,Je=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const mt=ve.max.x-ve.min.x+1,gt=ve.max.y-ve.min.y+1,xt=ve.max.z-ve.min.z+1,_e=Le.convert(Ve.format),Xe=Le.convert(Ve.type);let Qe;if(Ve.isData3DTexture)V.setTexture3D(Ve,0),Qe=32879;else if(Ve.isDataArrayTexture)V.setTexture2DArray(Ve,0),Qe=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(37440,Ve.flipY),G.pixelStorei(37441,Ve.premultiplyAlpha),G.pixelStorei(3317,Ve.unpackAlignment);const We=G.getParameter(3314),ht=G.getParameter(32878),Ke=G.getParameter(3316),Et=G.getParameter(3315),st=G.getParameter(32877),yt=Ye.isCompressedTexture?Ye.mipmaps[0]:Ye.image;G.pixelStorei(3314,yt.width),G.pixelStorei(32878,yt.height),G.pixelStorei(3316,ve.min.x),G.pixelStorei(3315,ve.min.y),G.pixelStorei(32877,ve.min.z),Ye.isDataTexture||Ye.isData3DTexture?G.texSubImage3D(Qe,Je,Ge.x,Ge.y,Ge.z,mt,gt,xt,_e,Xe,yt.data):Ye.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(Qe,Je,Ge.x,Ge.y,Ge.z,mt,gt,xt,_e,yt.data)):G.texSubImage3D(Qe,Je,Ge.x,Ge.y,Ge.z,mt,gt,xt,_e,Xe,yt),G.pixelStorei(3314,We),G.pixelStorei(32878,ht),G.pixelStorei(3316,Ke),G.pixelStorei(3315,Et),G.pixelStorei(32877,st),Je===0&&Ve.generateMipmaps&&G.generateMipmap(Qe),pe.unbindTexture()},this.initTexture=function(ve){ve.isCubeTexture?V.setTextureCube(ve,0):ve.isData3DTexture?V.setTexture3D(ve,0):ve.isDataArrayTexture||ve.isCompressedArrayTexture?V.setTexture2DArray(ve,0):V.setTexture2D(ve,0),pe.unbindTexture()},this.resetState=function(){y=0,v=0,_=null,pe.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class nj extends uv{}nj.prototype.isWebGL1Renderer=!0;class cv{constructor(e,r=1,t=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=r,this.far=t}clone(){return new cv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class ij extends Ar{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.backgroundBlurriness=this.backgroundBlurriness),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class F3{constructor(e,r){this.isInterleavedBuffer=!0,this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=Gd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=bi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,r,t){e*=this.stride,t*=r.stride;for(let o=0,l=this.stride;o<l;o++)this.array[e+o]=r.array[t+o];return this}set(e,r=0){return this.array.set(e,r),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),t=new this.constructor(r,this.stride);return t.setUsage(this.usage),t}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xr=new Ae;class dv{constructor(e,r,t,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=r,this.offset=t,this.normalized=o===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let r=0,t=this.data.count;r<t;r++)Xr.fromBufferAttribute(this,r),Xr.applyMatrix4(e),this.setXYZ(r,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let r=0,t=this.count;r<t;r++)Xr.fromBufferAttribute(this,r),Xr.applyNormalMatrix(e),this.setXYZ(r,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let r=0,t=this.count;r<t;r++)Xr.fromBufferAttribute(this,r),Xr.transformDirection(e),this.setXYZ(r,Xr.x,Xr.y,Xr.z);return this}setX(e,r){return this.normalized&&(r=Yt(r,this.array)),this.data.array[e*this.data.stride+this.offset]=r,this}setY(e,r){return this.normalized&&(r=Yt(r,this.array)),this.data.array[e*this.data.stride+this.offset+1]=r,this}setZ(e,r){return this.normalized&&(r=Yt(r,this.array)),this.data.array[e*this.data.stride+this.offset+2]=r,this}setW(e,r){return this.normalized&&(r=Yt(r,this.array)),this.data.array[e*this.data.stride+this.offset+3]=r,this}getX(e){let r=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(r=Xi(r,this.array)),r}getY(e){let r=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(r=Xi(r,this.array)),r}getZ(e){let r=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(r=Xi(r,this.array)),r}getW(e){let r=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(r=Xi(r,this.array)),r}setXY(e,r,t){return e=e*this.data.stride+this.offset,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=t,this}setXYZ(e,r,t,o){return e=e*this.data.stride+this.offset,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array),o=Yt(o,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=t,this.data.array[e+2]=o,this}setXYZW(e,r,t,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(r=Yt(r,this.array),t=Yt(t,this.array),o=Yt(o,this.array),l=Yt(l,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=t,this.data.array[e+2]=o,this.data.array[e+3]=l,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let t=0;t<this.count;t++){const o=t*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)r.push(this.data.array[o+l])}return new Jr(new this.array.constructor(r),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new dv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let t=0;t<this.count;t++){const o=t*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)r.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class lg extends Jr{constructor(e,r,t,o=1){super(e,r,t),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ug=new Kt,cg=new Kt,Ol=[],sj=new Kt,ua=new Bn;class B3 extends Bn{constructor(e,r,t){super(e,r),this.isInstancedMesh=!0,this.instanceMatrix=new lg(new Float32Array(t*16),16),this.instanceColor=null,this.count=t,this.frustumCulled=!1;for(let o=0;o<t;o++)this.setMatrixAt(o,sj)}copy(e,r){return super.copy(e,r),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,r){r.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,r){r.fromArray(this.instanceMatrix.array,e*16)}raycast(e,r){const t=this.matrixWorld,o=this.count;if(ua.geometry=this.geometry,ua.material=this.material,ua.material!==void 0)for(let l=0;l<o;l++){this.getMatrixAt(l,ug),cg.multiplyMatrices(t,ug),ua.matrixWorld=cg,ua.raycast(e,Ol);for(let s=0,n=Ol.length;s<n;s++){const i=Ol[s];i.instanceId=l,i.object=this,r.push(i)}Ol.length=0}}setColorAt(e,r){this.instanceColor===null&&(this.instanceColor=new lg(new Float32Array(this.instanceMatrix.count*3),3)),r.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,r){r.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Wh extends Ei{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dg=new Ae,hg=new Ae,fg=new Kt,$c=new Bh,Il=new $a;class oj extends Ar{constructor(e=new tr,r=new Wh){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,t=[0];for(let o=1,l=r.count;o<l;o++)dg.fromBufferAttribute(r,o-1),hg.fromBufferAttribute(r,o),t[o]=t[o-1],t[o]+=dg.distanceTo(hg);e.setAttribute("lineDistance",new bt(t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,r){const t=this.geometry,o=this.matrixWorld,l=e.params.Line.threshold,s=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),Il.copy(t.boundingSphere),Il.applyMatrix4(o),Il.radius+=l,e.ray.intersectsSphere(Il)===!1)return;fg.copy(o).invert(),$c.copy(e.ray).applyMatrix4(fg);const n=l/((this.scale.x+this.scale.y+this.scale.z)/3),i=n*n,u=new Ae,f=new Ae,m=new Ae,a=new Ae,c=this.isLineSegments?2:1,d=t.index,g=t.attributes.position;if(d!==null){const y=Math.max(0,s.start),v=Math.min(d.count,s.start+s.count);for(let _=y,x=v-1;_<x;_+=c){const w=d.getX(_),E=d.getX(_+1);if(u.fromBufferAttribute(g,w),f.fromBufferAttribute(g,E),$c.distanceSqToSegment(u,f,a,m)>i)continue;a.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(a);M<e.near||M>e.far||r.push({distance:M,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,s.start),v=Math.min(g.count,s.start+s.count);for(let _=y,x=v-1;_<x;_+=c){if(u.fromBufferAttribute(g,_),f.fromBufferAttribute(g,_+1),$c.distanceSqToSegment(u,f,a,m)>i)continue;a.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(a);E<e.near||E>e.far||r.push({distance:E,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,t=Object.keys(r);if(t.length>0){const o=r[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,s=o.length;l<s;l++){const n=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=l}}}}}const pg=new Ae,mg=new Ae;class hv extends oj{constructor(e,r){super(e,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,t=[];for(let o=0,l=r.count;o<l;o+=2)pg.fromBufferAttribute(r,o),mg.fromBufferAttribute(r,o+1),t[o]=o===0?0:t[o-1],t[o+1]=t[o]+pg.distanceTo(mg);e.setAttribute("lineDistance",new bt(t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class fv extends Ei{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const gg=new Kt,qd=new Bh,kl=new $a,Nl=new Ae;class yg extends Ar{constructor(e=new tr,r=new fv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}raycast(e,r){const t=this.geometry,o=this.matrixWorld,l=e.params.Points.threshold,s=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),kl.copy(t.boundingSphere),kl.applyMatrix4(o),kl.radius+=l,e.ray.intersectsSphere(kl)===!1)return;gg.copy(o).invert(),qd.copy(e.ray).applyMatrix4(gg);const n=l/((this.scale.x+this.scale.y+this.scale.z)/3),i=n*n,u=t.index,m=t.attributes.position;if(u!==null){const a=Math.max(0,s.start),c=Math.min(u.count,s.start+s.count);for(let d=a,p=c;d<p;d++){const g=u.getX(d);Nl.fromBufferAttribute(m,g),vg(Nl,g,i,o,e,r,this)}}else{const a=Math.max(0,s.start),c=Math.min(m.count,s.start+s.count);for(let d=a,p=c;d<p;d++)Nl.fromBufferAttribute(m,d),vg(Nl,d,i,o,e,r,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,t=Object.keys(r);if(t.length>0){const o=r[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,s=o.length;l<s;l++){const n=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=l}}}}}function vg(h,e,r,t,o,l,s){const n=qd.distanceSqToPoint(h);if(n<r){const i=new Ae;qd.closestPointToPoint(h,i),i.applyMatrix4(t);const u=o.ray.origin.distanceTo(i);if(u<o.near||u>o.far)return;l.push({distance:u,distanceToRay:Math.sqrt(n),point:i,index:e,face:null,object:s})}}class z3 extends vn{constructor(e,r,t){super({width:e,height:r}),this.isFramebufferTexture=!0,this.format=t,this.magFilter=Br,this.minFilter=Br,this.generateMipmaps=!1,this.needsUpdate=!0}}class ni{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,r){const t=this.getUtoTmapping(e);return this.getPoint(t,r)}getPoints(e=5){const r=[];for(let t=0;t<=e;t++)r.push(this.getPoint(t/e));return r}getSpacedPoints(e=5){const r=[];for(let t=0;t<=e;t++)r.push(this.getPointAt(t/e));return r}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let t,o=this.getPoint(0),l=0;r.push(0);for(let s=1;s<=e;s++)t=this.getPoint(s/e),l+=t.distanceTo(o),r.push(l),o=t;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,r){const t=this.getLengths();let o=0;const l=t.length;let s;r?s=r:s=e*t[l-1];let n=0,i=l-1,u;for(;n<=i;)if(o=Math.floor(n+(i-n)/2),u=t[o]-s,u<0)n=o+1;else if(u>0)i=o-1;else{i=o;break}if(o=i,t[o]===s)return o/(l-1);const f=t[o],a=t[o+1]-f,c=(s-f)/a;return(o+c)/(l-1)}getTangent(e,r){let o=e-1e-4,l=e+1e-4;o<0&&(o=0),l>1&&(l=1);const s=this.getPoint(o),n=this.getPoint(l),i=r||(s.isVector2?new nt:new Ae);return i.copy(n).sub(s).normalize(),i}getTangentAt(e,r){const t=this.getUtoTmapping(e);return this.getTangent(t,r)}computeFrenetFrames(e,r){const t=new Ae,o=[],l=[],s=[],n=new Ae,i=new Kt;for(let c=0;c<=e;c++){const d=c/e;o[c]=this.getTangentAt(d,new Ae)}l[0]=new Ae,s[0]=new Ae;let u=Number.MAX_VALUE;const f=Math.abs(o[0].x),m=Math.abs(o[0].y),a=Math.abs(o[0].z);f<=u&&(u=f,t.set(1,0,0)),m<=u&&(u=m,t.set(0,1,0)),a<=u&&t.set(0,0,1),n.crossVectors(o[0],t).normalize(),l[0].crossVectors(o[0],n),s[0].crossVectors(o[0],l[0]);for(let c=1;c<=e;c++){if(l[c]=l[c-1].clone(),s[c]=s[c-1].clone(),n.crossVectors(o[c-1],o[c]),n.length()>Number.EPSILON){n.normalize();const d=Math.acos(Lr(o[c-1].dot(o[c]),-1,1));l[c].applyMatrix4(i.makeRotationAxis(n,d))}s[c].crossVectors(o[c],l[c])}if(r===!0){let c=Math.acos(Lr(l[0].dot(l[e]),-1,1));c/=e,o[0].dot(n.crossVectors(l[0],l[e]))>0&&(c=-c);for(let d=1;d<=e;d++)l[d].applyMatrix4(i.makeRotationAxis(o[d],c*d)),s[d].crossVectors(o[d],l[d])}return{tangents:o,normals:l,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class qh extends ni{constructor(e=0,r=0,t=1,o=1,l=0,s=Math.PI*2,n=!1,i=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=r,this.xRadius=t,this.yRadius=o,this.aStartAngle=l,this.aEndAngle=s,this.aClockwise=n,this.aRotation=i}getPoint(e,r){const t=r||new nt,o=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const s=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=o;for(;l>o;)l-=o;l<Number.EPSILON&&(s?l=0:l=o),this.aClockwise===!0&&!s&&(l===o?l=-o:l=l-o);const n=this.aStartAngle+e*l;let i=this.aX+this.xRadius*Math.cos(n),u=this.aY+this.yRadius*Math.sin(n);if(this.aRotation!==0){const f=Math.cos(this.aRotation),m=Math.sin(this.aRotation),a=i-this.aX,c=u-this.aY;i=a*f-c*m+this.aX,u=a*m+c*f+this.aY}return t.set(i,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class aj extends qh{constructor(e,r,t,o,l,s){super(e,r,t,t,o,l,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Xh(){let h=0,e=0,r=0,t=0;function o(l,s,n,i){h=l,e=n,r=-3*l+3*s-2*n-i,t=2*l-2*s+n+i}return{initCatmullRom:function(l,s,n,i,u){o(s,n,u*(n-l),u*(i-s))},initNonuniformCatmullRom:function(l,s,n,i,u,f,m){let a=(s-l)/u-(n-l)/(u+f)+(n-s)/f,c=(n-s)/f-(i-s)/(f+m)+(i-n)/m;a*=f,c*=f,o(s,n,a,c)},calc:function(l){const s=l*l,n=s*l;return h+e*l+r*s+t*n}}}const Ul=new Ae,Qc=new Xh,ed=new Xh,td=new Xh;class lj extends ni{constructor(e=[],r=!1,t="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=r,this.curveType=t,this.tension=o}getPoint(e,r=new Ae){const t=r,o=this.points,l=o.length,s=(l-(this.closed?0:1))*e;let n=Math.floor(s),i=s-n;this.closed?n+=n>0?0:(Math.floor(Math.abs(n)/l)+1)*l:i===0&&n===l-1&&(n=l-2,i=1);let u,f;this.closed||n>0?u=o[(n-1)%l]:(Ul.subVectors(o[0],o[1]).add(o[0]),u=Ul);const m=o[n%l],a=o[(n+1)%l];if(this.closed||n+2<l?f=o[(n+2)%l]:(Ul.subVectors(o[l-1],o[l-2]).add(o[l-1]),f=Ul),this.curveType==="centripetal"||this.curveType==="chordal"){const c=this.curveType==="chordal"?.5:.25;let d=Math.pow(u.distanceToSquared(m),c),p=Math.pow(m.distanceToSquared(a),c),g=Math.pow(a.distanceToSquared(f),c);p<1e-4&&(p=1),d<1e-4&&(d=p),g<1e-4&&(g=p),Qc.initNonuniformCatmullRom(u.x,m.x,a.x,f.x,d,p,g),ed.initNonuniformCatmullRom(u.y,m.y,a.y,f.y,d,p,g),td.initNonuniformCatmullRom(u.z,m.z,a.z,f.z,d,p,g)}else this.curveType==="catmullrom"&&(Qc.initCatmullRom(u.x,m.x,a.x,f.x,this.tension),ed.initCatmullRom(u.y,m.y,a.y,f.y,this.tension),td.initCatmullRom(u.z,m.z,a.z,f.z,this.tension));return t.set(Qc.calc(i),ed.calc(i),td.calc(i)),t}copy(e){super.copy(e),this.points=[];for(let r=0,t=e.points.length;r<t;r++){const o=e.points[r];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,t=this.points.length;r<t;r++){const o=this.points[r];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,t=e.points.length;r<t;r++){const o=e.points[r];this.points.push(new Ae().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _g(h,e,r,t,o){const l=(t-e)*.5,s=(o-r)*.5,n=h*h,i=h*n;return(2*r-2*t+l+s)*i+(-3*r+3*t-2*l-s)*n+l*h+r}function uj(h,e){const r=1-h;return r*r*e}function cj(h,e){return 2*(1-h)*h*e}function dj(h,e){return h*h*e}function Ta(h,e,r,t){return uj(h,e)+cj(h,r)+dj(h,t)}function hj(h,e){const r=1-h;return r*r*r*e}function fj(h,e){const r=1-h;return 3*r*r*h*e}function pj(h,e){return 3*(1-h)*h*h*e}function mj(h,e){return h*h*h*e}function Aa(h,e,r,t,o){return hj(h,e)+fj(h,r)+pj(h,t)+mj(h,o)}class pv extends ni{constructor(e=new nt,r=new nt,t=new nt,o=new nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=r,this.v2=t,this.v3=o}getPoint(e,r=new nt){const t=r,o=this.v0,l=this.v1,s=this.v2,n=this.v3;return t.set(Aa(e,o.x,l.x,s.x,n.x),Aa(e,o.y,l.y,s.y,n.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gj extends ni{constructor(e=new Ae,r=new Ae,t=new Ae,o=new Ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=r,this.v2=t,this.v3=o}getPoint(e,r=new Ae){const t=r,o=this.v0,l=this.v1,s=this.v2,n=this.v3;return t.set(Aa(e,o.x,l.x,s.x,n.x),Aa(e,o.y,l.y,s.y,n.y),Aa(e,o.z,l.z,s.z,n.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yh extends ni{constructor(e=new nt,r=new nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=r}getPoint(e,r=new nt){const t=r;return e===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,r){return this.getPoint(e,r)}getTangent(e,r){const t=r||new nt;return t.copy(this.v2).sub(this.v1).normalize(),t}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yj extends ni{constructor(e=new Ae,r=new Ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=r}getPoint(e,r=new Ae){const t=r;return e===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,r){return this.getPoint(e,r)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mv extends ni{constructor(e=new nt,r=new nt,t=new nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=r,this.v2=t}getPoint(e,r=new nt){const t=r,o=this.v0,l=this.v1,s=this.v2;return t.set(Ta(e,o.x,l.x,s.x),Ta(e,o.y,l.y,s.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gv extends ni{constructor(e=new Ae,r=new Ae,t=new Ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=r,this.v2=t}getPoint(e,r=new Ae){const t=r,o=this.v0,l=this.v1,s=this.v2;return t.set(Ta(e,o.x,l.x,s.x),Ta(e,o.y,l.y,s.y),Ta(e,o.z,l.z,s.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yv extends ni{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,r=new nt){const t=r,o=this.points,l=(o.length-1)*e,s=Math.floor(l),n=l-s,i=o[s===0?s:s-1],u=o[s],f=o[s>o.length-2?o.length-1:s+1],m=o[s>o.length-3?o.length-1:s+2];return t.set(_g(n,i.x,u.x,f.x,m.x),_g(n,i.y,u.y,f.y,m.y)),t}copy(e){super.copy(e),this.points=[];for(let r=0,t=e.points.length;r<t;r++){const o=e.points[r];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let r=0,t=this.points.length;r<t;r++){const o=this.points[r];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let r=0,t=e.points.length;r<t;r++){const o=e.points[r];this.points.push(new nt().fromArray(o))}return this}}var Zh=Object.freeze({__proto__:null,ArcCurve:aj,CatmullRomCurve3:lj,CubicBezierCurve:pv,CubicBezierCurve3:gj,EllipseCurve:qh,LineCurve:Yh,LineCurve3:yj,QuadraticBezierCurve:mv,QuadraticBezierCurve3:gv,SplineCurve:yv});class vj extends ni{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new Yh(r,e))}getPoint(e,r){const t=e*this.getLength(),o=this.getCurveLengths();let l=0;for(;l<o.length;){if(o[l]>=t){const s=o[l]-t,n=this.curves[l],i=n.getLength(),u=i===0?0:1-s/i;return n.getPointAt(u,r)}l++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let r=0;for(let t=0,o=this.curves.length;t<o;t++)r+=this.curves[t].getLength(),e.push(r);return this.cacheLengths=e,e}getSpacedPoints(e=40){const r=[];for(let t=0;t<=e;t++)r.push(this.getPoint(t/e));return this.autoClose&&r.push(r[0]),r}getPoints(e=12){const r=[];let t;for(let o=0,l=this.curves;o<l.length;o++){const s=l[o],n=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,i=s.getPoints(n);for(let u=0;u<i.length;u++){const f=i[u];t&&t.equals(f)||(r.push(f),t=f)}}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}copy(e){super.copy(e),this.curves=[];for(let r=0,t=e.curves.length;r<t;r++){const o=e.curves[r];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let r=0,t=this.curves.length;r<t;r++){const o=this.curves[r];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let r=0,t=e.curves.length;r<t;r++){const o=e.curves[r];this.curves.push(new Zh[o.type]().fromJSON(o))}return this}}class Xd extends vj{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let r=1,t=e.length;r<t;r++)this.lineTo(e[r].x,e[r].y);return this}moveTo(e,r){return this.currentPoint.set(e,r),this}lineTo(e,r){const t=new Yh(this.currentPoint.clone(),new nt(e,r));return this.curves.push(t),this.currentPoint.set(e,r),this}quadraticCurveTo(e,r,t,o){const l=new mv(this.currentPoint.clone(),new nt(e,r),new nt(t,o));return this.curves.push(l),this.currentPoint.set(t,o),this}bezierCurveTo(e,r,t,o,l,s){const n=new pv(this.currentPoint.clone(),new nt(e,r),new nt(t,o),new nt(l,s));return this.curves.push(n),this.currentPoint.set(l,s),this}splineThru(e){const r=[this.currentPoint.clone()].concat(e),t=new yv(r);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,r,t,o,l,s){const n=this.currentPoint.x,i=this.currentPoint.y;return this.absarc(e+n,r+i,t,o,l,s),this}absarc(e,r,t,o,l,s){return this.absellipse(e,r,t,t,o,l,s),this}ellipse(e,r,t,o,l,s,n,i){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,r+f,t,o,l,s,n,i),this}absellipse(e,r,t,o,l,s,n,i){const u=new qh(e,r,t,o,l,s,n,i);if(this.curves.length>0){const m=u.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vv extends tr{constructor(e=[new nt(0,-.5),new nt(.5,0),new nt(0,.5)],r=12,t=0,o=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:r,phiStart:t,phiLength:o},r=Math.floor(r),o=Lr(o,0,Math.PI*2);const l=[],s=[],n=[],i=[],u=[],f=1/r,m=new Ae,a=new nt,c=new Ae,d=new Ae,p=new Ae;let g=0,y=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:g=e[v+1].x-e[v].x,y=e[v+1].y-e[v].y,c.x=y*1,c.y=-g,c.z=y*0,p.copy(c),c.normalize(),i.push(c.x,c.y,c.z);break;case e.length-1:i.push(p.x,p.y,p.z);break;default:g=e[v+1].x-e[v].x,y=e[v+1].y-e[v].y,c.x=y*1,c.y=-g,c.z=y*0,d.copy(c),c.x+=p.x,c.y+=p.y,c.z+=p.z,c.normalize(),i.push(c.x,c.y,c.z),p.copy(d)}for(let v=0;v<=r;v++){const _=t+v*f*o,x=Math.sin(_),w=Math.cos(_);for(let E=0;E<=e.length-1;E++){m.x=e[E].x*x,m.y=e[E].y,m.z=e[E].x*w,s.push(m.x,m.y,m.z),a.x=v/r,a.y=E/(e.length-1),n.push(a.x,a.y);const T=i[3*E+0]*x,M=i[3*E+1],j=i[3*E+0]*w;u.push(T,M,j)}}for(let v=0;v<r;v++)for(let _=0;_<e.length-1;_++){const x=_+v*e.length,w=x,E=x+e.length,T=x+e.length+1,M=x+1;l.push(w,E,M),l.push(T,M,E)}this.setIndex(l),this.setAttribute("position",new bt(s,3)),this.setAttribute("uv",new bt(n,2)),this.setAttribute("normal",new bt(u,3))}static fromJSON(e){return new vv(e.points,e.segments,e.phiStart,e.phiLength)}}class _v extends tr{constructor(e=1,r=8,t=0,o=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:r,thetaStart:t,thetaLength:o},r=Math.max(3,r);const l=[],s=[],n=[],i=[],u=new Ae,f=new nt;s.push(0,0,0),n.push(0,0,1),i.push(.5,.5);for(let m=0,a=3;m<=r;m++,a+=3){const c=t+m/r*o;u.x=e*Math.cos(c),u.y=e*Math.sin(c),s.push(u.x,u.y,u.z),n.push(0,0,1),f.x=(s[a]/e+1)/2,f.y=(s[a+1]/e+1)/2,i.push(f.x,f.y)}for(let m=1;m<=r;m++)l.push(m,m+1,0);this.setIndex(l),this.setAttribute("position",new bt(s,3)),this.setAttribute("normal",new bt(n,3)),this.setAttribute("uv",new bt(i,2))}static fromJSON(e){return new _v(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Kh extends tr{constructor(e=1,r=1,t=1,o=8,l=1,s=!1,n=0,i=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:t,radialSegments:o,heightSegments:l,openEnded:s,thetaStart:n,thetaLength:i};const u=this;o=Math.floor(o),l=Math.floor(l);const f=[],m=[],a=[],c=[];let d=0;const p=[],g=t/2;let y=0;v(),s===!1&&(e>0&&_(!0),r>0&&_(!1)),this.setIndex(f),this.setAttribute("position",new bt(m,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(c,2));function v(){const x=new Ae,w=new Ae;let E=0;const T=(r-e)/t;for(let M=0;M<=l;M++){const j=[],P=M/l,L=P*(r-e)+e;for(let N=0;N<=o;N++){const O=N/o,k=O*i+n,X=Math.sin(k),Y=Math.cos(k);w.x=L*X,w.y=-P*t+g,w.z=L*Y,m.push(w.x,w.y,w.z),x.set(X,T,Y).normalize(),a.push(x.x,x.y,x.z),c.push(O,1-P),j.push(d++)}p.push(j)}for(let M=0;M<o;M++)for(let j=0;j<l;j++){const P=p[j][M],L=p[j+1][M],N=p[j+1][M+1],O=p[j][M+1];f.push(P,L,O),f.push(L,N,O),E+=6}u.addGroup(y,E,0),y+=E}function _(x){const w=d,E=new nt,T=new Ae;let M=0;const j=x===!0?e:r,P=x===!0?1:-1;for(let N=1;N<=o;N++)m.push(0,g*P,0),a.push(0,P,0),c.push(.5,.5),d++;const L=d;for(let N=0;N<=o;N++){const k=N/o*i+n,X=Math.cos(k),Y=Math.sin(k);T.x=j*Y,T.y=g*P,T.z=j*X,m.push(T.x,T.y,T.z),a.push(0,P,0),E.x=X*.5+.5,E.y=Y*.5*P+.5,c.push(E.x,E.y),d++}for(let N=0;N<o;N++){const O=w+N,k=L+N;x===!0?f.push(k,k+1,O):f.push(k+1,k,O),M+=3}u.addGroup(y,M,x===!0?1:2),y+=M}}static fromJSON(e){return new Kh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bv extends Kh{constructor(e=1,r=1,t=8,o=1,l=!1,s=0,n=Math.PI*2){super(0,e,r,t,o,l,s,n),this.type="ConeGeometry",this.parameters={radius:e,height:r,radialSegments:t,heightSegments:o,openEnded:l,thetaStart:s,thetaLength:n}}static fromJSON(e){return new bv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yo extends tr{constructor(e=[],r=[],t=1,o=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:r,radius:t,detail:o};const l=[],s=[];n(o),u(t),f(),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(l.slice(),3)),this.setAttribute("uv",new bt(s,2)),o===0?this.computeVertexNormals():this.normalizeNormals();function n(v){const _=new Ae,x=new Ae,w=new Ae;for(let E=0;E<r.length;E+=3)c(r[E+0],_),c(r[E+1],x),c(r[E+2],w),i(_,x,w,v)}function i(v,_,x,w){const E=w+1,T=[];for(let M=0;M<=E;M++){T[M]=[];const j=v.clone().lerp(x,M/E),P=_.clone().lerp(x,M/E),L=E-M;for(let N=0;N<=L;N++)N===0&&M===E?T[M][N]=j:T[M][N]=j.clone().lerp(P,N/L)}for(let M=0;M<E;M++)for(let j=0;j<2*(E-M)-1;j++){const P=Math.floor(j/2);j%2===0?(a(T[M][P+1]),a(T[M+1][P]),a(T[M][P])):(a(T[M][P+1]),a(T[M+1][P+1]),a(T[M+1][P]))}}function u(v){const _=new Ae;for(let x=0;x<l.length;x+=3)_.x=l[x+0],_.y=l[x+1],_.z=l[x+2],_.normalize().multiplyScalar(v),l[x+0]=_.x,l[x+1]=_.y,l[x+2]=_.z}function f(){const v=new Ae;for(let _=0;_<l.length;_+=3){v.x=l[_+0],v.y=l[_+1],v.z=l[_+2];const x=g(v)/2/Math.PI+.5,w=y(v)/Math.PI+.5;s.push(x,1-w)}d(),m()}function m(){for(let v=0;v<s.length;v+=6){const _=s[v+0],x=s[v+2],w=s[v+4],E=Math.max(_,x,w),T=Math.min(_,x,w);E>.9&&T<.1&&(_<.2&&(s[v+0]+=1),x<.2&&(s[v+2]+=1),w<.2&&(s[v+4]+=1))}}function a(v){l.push(v.x,v.y,v.z)}function c(v,_){const x=v*3;_.x=e[x+0],_.y=e[x+1],_.z=e[x+2]}function d(){const v=new Ae,_=new Ae,x=new Ae,w=new Ae,E=new nt,T=new nt,M=new nt;for(let j=0,P=0;j<l.length;j+=9,P+=6){v.set(l[j+0],l[j+1],l[j+2]),_.set(l[j+3],l[j+4],l[j+5]),x.set(l[j+6],l[j+7],l[j+8]),E.set(s[P+0],s[P+1]),T.set(s[P+2],s[P+3]),M.set(s[P+4],s[P+5]),w.copy(v).add(_).add(x).divideScalar(3);const L=g(w);p(E,P+0,v,L),p(T,P+2,_,L),p(M,P+4,x,L)}}function p(v,_,x,w){w<0&&v.x===1&&(s[_]=v.x-1),x.x===0&&x.z===0&&(s[_]=w/2/Math.PI+.5)}function g(v){return Math.atan2(v.z,-v.x)}function y(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new Yo(e.vertices,e.indices,e.radius,e.details)}}class xv extends Yo{constructor(e=1,r=0){const t=(1+Math.sqrt(5))/2,o=1/t,l=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-t,0,-o,t,0,o,-t,0,o,t,-o,-t,0,-o,t,0,o,-t,0,o,t,0,-t,0,-o,t,0,-o,-t,0,o,t,0,o],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(l,s,e,r),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:r}}static fromJSON(e){return new xv(e.radius,e.detail)}}const Fl=new Ae,Bl=new Ae,rd=new Ae,zl=new $n;class G3 extends tr{constructor(e=null,r=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:r},e!==null){const o=Math.pow(10,4),l=Math.cos(nu*r),s=e.getIndex(),n=e.getAttribute("position"),i=s?s.count:n.count,u=[0,0,0],f=["a","b","c"],m=new Array(3),a={},c=[];for(let d=0;d<i;d+=3){s?(u[0]=s.getX(d),u[1]=s.getX(d+1),u[2]=s.getX(d+2)):(u[0]=d,u[1]=d+1,u[2]=d+2);const{a:p,b:g,c:y}=zl;if(p.fromBufferAttribute(n,u[0]),g.fromBufferAttribute(n,u[1]),y.fromBufferAttribute(n,u[2]),zl.getNormal(rd),m[0]=`${Math.round(p.x*o)},${Math.round(p.y*o)},${Math.round(p.z*o)}`,m[1]=`${Math.round(g.x*o)},${Math.round(g.y*o)},${Math.round(g.z*o)}`,m[2]=`${Math.round(y.x*o)},${Math.round(y.y*o)},${Math.round(y.z*o)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let v=0;v<3;v++){const _=(v+1)%3,x=m[v],w=m[_],E=zl[f[v]],T=zl[f[_]],M=`${x}_${w}`,j=`${w}_${x}`;j in a&&a[j]?(rd.dot(a[j].normal)<=l&&(c.push(E.x,E.y,E.z),c.push(T.x,T.y,T.z)),a[j]=null):M in a||(a[M]={index0:u[v],index1:u[_],normal:rd.clone()})}}for(const d in a)if(a[d]){const{index0:p,index1:g}=a[d];Fl.fromBufferAttribute(n,p),Bl.fromBufferAttribute(n,g),c.push(Fl.x,Fl.y,Fl.z),c.push(Bl.x,Bl.y,Bl.z)}this.setAttribute("position",new bt(c,3))}}}class ja extends Xd{constructor(e){super(e),this.uuid=bi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const r=[];for(let t=0,o=this.holes.length;t<o;t++)r[t]=this.holes[t].getPoints(e);return r}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let r=0,t=e.holes.length;r<t;r++){const o=e.holes[r];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let r=0,t=this.holes.length;r<t;r++){const o=this.holes[r];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let r=0,t=e.holes.length;r<t;r++){const o=e.holes[r];this.holes.push(new Xd().fromJSON(o))}return this}}const _j={triangulate:function(h,e,r=2){const t=e&&e.length,o=t?e[0]*r:h.length;let l=wv(h,0,o,r,!0);const s=[];if(!l||l.next===l.prev)return s;let n,i,u,f,m,a,c;if(t&&(l=Mj(h,e,l,r)),h.length>80*r){n=u=h[0],i=f=h[1];for(let d=r;d<o;d+=r)m=h[d],a=h[d+1],m<n&&(n=m),a<i&&(i=a),m>u&&(u=m),a>f&&(f=a);c=Math.max(u-n,f-i),c=c!==0?32767/c:0}return Va(l,s,r,n,i,c,0),s}};function wv(h,e,r,t,o){let l,s;if(o===Ij(h,e,r,t)>0)for(l=e;l<r;l+=t)s=bg(l,h[l],h[l+1],s);else for(l=r-t;l>=e;l-=t)s=bg(l,h[l],h[l+1],s);return s&&Wu(s,s.next)&&(Wa(s),s=s.next),s}function ks(h,e){if(!h)return h;e||(e=h);let r=h,t;do if(t=!1,!r.steiner&&(Wu(r,r.next)||lr(r.prev,r,r.next)===0)){if(Wa(r),r=e=r.prev,r===r.next)break;t=!0}else r=r.next;while(t||r!==e);return e}function Va(h,e,r,t,o,l,s){if(!h)return;!s&&l&&Cj(h,t,o,l);let n=h,i,u;for(;h.prev!==h.next;){if(i=h.prev,u=h.next,l?xj(h,t,o,l):bj(h)){e.push(i.i/r|0),e.push(h.i/r|0),e.push(u.i/r|0),Wa(h),h=u.next,n=u.next;continue}if(h=u,h===n){s?s===1?(h=wj(ks(h),e,r),Va(h,e,r,t,o,l,2)):s===2&&Sj(h,e,r,t,o,l):Va(ks(h),e,r,t,o,l,1);break}}}function bj(h){const e=h.prev,r=h,t=h.next;if(lr(e,r,t)>=0)return!1;const o=e.x,l=r.x,s=t.x,n=e.y,i=r.y,u=t.y,f=o<l?o<s?o:s:l<s?l:s,m=n<i?n<u?n:u:i<u?i:u,a=o>l?o>s?o:s:l>s?l:s,c=n>i?n>u?n:u:i>u?i:u;let d=t.next;for(;d!==e;){if(d.x>=f&&d.x<=a&&d.y>=m&&d.y<=c&&vo(o,n,l,i,s,u,d.x,d.y)&&lr(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function xj(h,e,r,t){const o=h.prev,l=h,s=h.next;if(lr(o,l,s)>=0)return!1;const n=o.x,i=l.x,u=s.x,f=o.y,m=l.y,a=s.y,c=n<i?n<u?n:u:i<u?i:u,d=f<m?f<a?f:a:m<a?m:a,p=n>i?n>u?n:u:i>u?i:u,g=f>m?f>a?f:a:m>a?m:a,y=Yd(c,d,e,r,t),v=Yd(p,g,e,r,t);let _=h.prevZ,x=h.nextZ;for(;_&&_.z>=y&&x&&x.z<=v;){if(_.x>=c&&_.x<=p&&_.y>=d&&_.y<=g&&_!==o&&_!==s&&vo(n,f,i,m,u,a,_.x,_.y)&&lr(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=c&&x.x<=p&&x.y>=d&&x.y<=g&&x!==o&&x!==s&&vo(n,f,i,m,u,a,x.x,x.y)&&lr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=y;){if(_.x>=c&&_.x<=p&&_.y>=d&&_.y<=g&&_!==o&&_!==s&&vo(n,f,i,m,u,a,_.x,_.y)&&lr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=v;){if(x.x>=c&&x.x<=p&&x.y>=d&&x.y<=g&&x!==o&&x!==s&&vo(n,f,i,m,u,a,x.x,x.y)&&lr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function wj(h,e,r){let t=h;do{const o=t.prev,l=t.next.next;!Wu(o,l)&&Sv(o,t,t.next,l)&&Ha(o,l)&&Ha(l,o)&&(e.push(o.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Wa(t),Wa(t.next),t=h=l),t=t.next}while(t!==h);return ks(t)}function Sj(h,e,r,t,o,l){let s=h;do{let n=s.next.next;for(;n!==s.prev;){if(s.i!==n.i&&Rj(s,n)){let i=Mv(s,n);s=ks(s,s.next),i=ks(i,i.next),Va(s,e,r,t,o,l,0),Va(i,e,r,t,o,l,0);return}n=n.next}s=s.next}while(s!==h)}function Mj(h,e,r,t){const o=[];let l,s,n,i,u;for(l=0,s=e.length;l<s;l++)n=e[l]*t,i=l<s-1?e[l+1]*t:h.length,u=wv(h,n,i,t,!1),u===u.next&&(u.steiner=!0),o.push(Lj(u));for(o.sort(Ej),l=0;l<o.length;l++)r=Tj(o[l],r);return r}function Ej(h,e){return h.x-e.x}function Tj(h,e){const r=Aj(h,e);if(!r)return e;const t=Mv(r,h);return ks(t,t.next),ks(r,r.next)}function Aj(h,e){let r=e,t=-1/0,o;const l=h.x,s=h.y;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){const a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=l&&a>t&&(t=a,o=r.x<r.next.x?r:r.next,a===l))return o}r=r.next}while(r!==e);if(!o)return null;const n=o,i=o.x,u=o.y;let f=1/0,m;r=o;do l>=r.x&&r.x>=i&&l!==r.x&&vo(s<u?l:t,s,i,u,s<u?t:l,s,r.x,r.y)&&(m=Math.abs(s-r.y)/(l-r.x),Ha(r,h)&&(m<f||m===f&&(r.x>o.x||r.x===o.x&&jj(o,r)))&&(o=r,f=m)),r=r.next;while(r!==n);return o}function jj(h,e){return lr(h.prev,h,e.prev)<0&&lr(e.next,h,h.next)<0}function Cj(h,e,r,t){let o=h;do o.z===0&&(o.z=Yd(o.x,o.y,e,r,t)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==h);o.prevZ.nextZ=null,o.prevZ=null,Pj(o)}function Pj(h){let e,r,t,o,l,s,n,i,u=1;do{for(r=h,h=null,l=null,s=0;r;){for(s++,t=r,n=0,e=0;e<u&&(n++,t=t.nextZ,!!t);e++);for(i=u;n>0||i>0&&t;)n!==0&&(i===0||!t||r.z<=t.z)?(o=r,r=r.nextZ,n--):(o=t,t=t.nextZ,i--),l?l.nextZ=o:h=o,o.prevZ=l,l=o;r=t}l.nextZ=null,u*=2}while(s>1);return h}function Yd(h,e,r,t,o){return h=(h-r)*o|0,e=(e-t)*o|0,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,h|e<<1}function Lj(h){let e=h,r=h;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==h);return r}function vo(h,e,r,t,o,l,s,n){return(o-s)*(e-n)>=(h-s)*(l-n)&&(h-s)*(t-n)>=(r-s)*(e-n)&&(r-s)*(l-n)>=(o-s)*(t-n)}function Rj(h,e){return h.next.i!==e.i&&h.prev.i!==e.i&&!Dj(h,e)&&(Ha(h,e)&&Ha(e,h)&&Oj(h,e)&&(lr(h.prev,h,e.prev)||lr(h,e.prev,e))||Wu(h,e)&&lr(h.prev,h,h.next)>0&&lr(e.prev,e,e.next)>0)}function lr(h,e,r){return(e.y-h.y)*(r.x-e.x)-(e.x-h.x)*(r.y-e.y)}function Wu(h,e){return h.x===e.x&&h.y===e.y}function Sv(h,e,r,t){const o=Vl(lr(h,e,r)),l=Vl(lr(h,e,t)),s=Vl(lr(r,t,h)),n=Vl(lr(r,t,e));return!!(o!==l&&s!==n||o===0&&Gl(h,r,e)||l===0&&Gl(h,t,e)||s===0&&Gl(r,h,t)||n===0&&Gl(r,e,t))}function Gl(h,e,r){return e.x<=Math.max(h.x,r.x)&&e.x>=Math.min(h.x,r.x)&&e.y<=Math.max(h.y,r.y)&&e.y>=Math.min(h.y,r.y)}function Vl(h){return h>0?1:h<0?-1:0}function Dj(h,e){let r=h;do{if(r.i!==h.i&&r.next.i!==h.i&&r.i!==e.i&&r.next.i!==e.i&&Sv(r,r.next,h,e))return!0;r=r.next}while(r!==h);return!1}function Ha(h,e){return lr(h.prev,h,h.next)<0?lr(h,e,h.next)>=0&&lr(h,h.prev,e)>=0:lr(h,e,h.prev)<0||lr(h,h.next,e)<0}function Oj(h,e){let r=h,t=!1;const o=(h.x+e.x)/2,l=(h.y+e.y)/2;do r.y>l!=r.next.y>l&&r.next.y!==r.y&&o<(r.next.x-r.x)*(l-r.y)/(r.next.y-r.y)+r.x&&(t=!t),r=r.next;while(r!==h);return t}function Mv(h,e){const r=new Zd(h.i,h.x,h.y),t=new Zd(e.i,e.x,e.y),o=h.next,l=e.prev;return h.next=e,e.prev=h,r.next=o,o.prev=r,t.next=r,r.prev=t,l.next=t,t.prev=l,t}function bg(h,e,r,t){const o=new Zd(h,e,r);return t?(o.next=t.next,o.prev=t,t.next.prev=o,t.next=o):(o.prev=o,o.next=o),o}function Wa(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function Zd(h,e,r){this.i=h,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ij(h,e,r,t){let o=0;for(let l=e,s=r-t;l<r;l+=t)o+=(h[s]-h[l])*(h[l+1]+h[s+1]),s=l;return o}class xi{static area(e){const r=e.length;let t=0;for(let o=r-1,l=0;l<r;o=l++)t+=e[o].x*e[l].y-e[l].x*e[o].y;return t*.5}static isClockWise(e){return xi.area(e)<0}static triangulateShape(e,r){const t=[],o=[],l=[];xg(e),wg(t,e);let s=e.length;r.forEach(xg);for(let i=0;i<r.length;i++)o.push(s),s+=r[i].length,wg(t,r[i]);const n=_j.triangulate(t,o);for(let i=0;i<n.length;i+=3)l.push(n.slice(i,i+3));return l}}function xg(h){const e=h.length;e>2&&h[e-1].equals(h[0])&&h.pop()}function wg(h,e){for(let r=0;r<e.length;r++)h.push(e[r].x),h.push(e[r].y)}class Ev extends tr{constructor(e=new ja([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),r={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];const t=this,o=[],l=[];for(let n=0,i=e.length;n<i;n++){const u=e[n];s(u)}this.setAttribute("position",new bt(o,3)),this.setAttribute("uv",new bt(l,2)),this.computeVertexNormals();function s(n){const i=[],u=r.curveSegments!==void 0?r.curveSegments:12,f=r.steps!==void 0?r.steps:1,m=r.depth!==void 0?r.depth:1;let a=r.bevelEnabled!==void 0?r.bevelEnabled:!0,c=r.bevelThickness!==void 0?r.bevelThickness:.2,d=r.bevelSize!==void 0?r.bevelSize:c-.1,p=r.bevelOffset!==void 0?r.bevelOffset:0,g=r.bevelSegments!==void 0?r.bevelSegments:3;const y=r.extrudePath,v=r.UVGenerator!==void 0?r.UVGenerator:kj;let _,x=!1,w,E,T,M;y&&(_=y.getSpacedPoints(f),x=!0,a=!1,w=y.computeFrenetFrames(f,!1),E=new Ae,T=new Ae,M=new Ae),a||(g=0,c=0,d=0,p=0);const j=n.extractPoints(u);let P=j.shape;const L=j.holes;if(!xi.isClockWise(P)){P=P.reverse();for(let ie=0,V=L.length;ie<V;ie++){const F=L[ie];xi.isClockWise(F)&&(L[ie]=F.reverse())}}const O=xi.triangulateShape(P,L),k=P;for(let ie=0,V=L.length;ie<V;ie++){const F=L[ie];P=P.concat(F)}function X(ie,V,F){return V||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().multiplyScalar(F).add(ie)}const Y=P.length,q=O.length;function H(ie,V,F){let re,ae,he;const de=ie.x-V.x,Me=ie.y-V.y,Se=F.x-ie.x,je=F.y-ie.y,J=de*de+Me*Me,te=de*je-Me*Se;if(Math.abs(te)>Number.EPSILON){const Te=Math.sqrt(J),Pe=Math.sqrt(Se*Se+je*je),Oe=V.x-Me/Te,ke=V.y+de/Te,we=F.x-je/Pe,Le=F.y+Se/Pe,me=((we-Oe)*je-(Le-ke)*Se)/(de*je-Me*Se);re=Oe+de*me-ie.x,ae=ke+Me*me-ie.y;const Q=re*re+ae*ae;if(Q<=2)return new nt(re,ae);he=Math.sqrt(Q/2)}else{let Te=!1;de>Number.EPSILON?Se>Number.EPSILON&&(Te=!0):de<-Number.EPSILON?Se<-Number.EPSILON&&(Te=!0):Math.sign(Me)===Math.sign(je)&&(Te=!0),Te?(re=-Me,ae=de,he=Math.sqrt(J)):(re=de,ae=Me,he=Math.sqrt(J/2))}return new nt(re/he,ae/he)}const z=[];for(let ie=0,V=k.length,F=V-1,re=ie+1;ie<V;ie++,F++,re++)F===V&&(F=0),re===V&&(re=0),z[ie]=H(k[ie],k[F],k[re]);const W=[];let $,se=z.concat();for(let ie=0,V=L.length;ie<V;ie++){const F=L[ie];$=[];for(let re=0,ae=F.length,he=ae-1,de=re+1;re<ae;re++,he++,de++)he===ae&&(he=0),de===ae&&(de=0),$[re]=H(F[re],F[he],F[de]);W.push($),se=se.concat($)}for(let ie=0;ie<g;ie++){const V=ie/g,F=c*Math.cos(V*Math.PI/2),re=d*Math.sin(V*Math.PI/2)+p;for(let ae=0,he=k.length;ae<he;ae++){const de=X(k[ae],z[ae],re);ee(de.x,de.y,-F)}for(let ae=0,he=L.length;ae<he;ae++){const de=L[ae];$=W[ae];for(let Me=0,Se=de.length;Me<Se;Me++){const je=X(de[Me],$[Me],re);ee(je.x,je.y,-F)}}}const R=d+p;for(let ie=0;ie<Y;ie++){const V=a?X(P[ie],se[ie],R):P[ie];x?(T.copy(w.normals[0]).multiplyScalar(V.x),E.copy(w.binormals[0]).multiplyScalar(V.y),M.copy(_[0]).add(T).add(E),ee(M.x,M.y,M.z)):ee(V.x,V.y,0)}for(let ie=1;ie<=f;ie++)for(let V=0;V<Y;V++){const F=a?X(P[V],se[V],R):P[V];x?(T.copy(w.normals[ie]).multiplyScalar(F.x),E.copy(w.binormals[ie]).multiplyScalar(F.y),M.copy(_[ie]).add(T).add(E),ee(M.x,M.y,M.z)):ee(F.x,F.y,m/f*ie)}for(let ie=g-1;ie>=0;ie--){const V=ie/g,F=c*Math.cos(V*Math.PI/2),re=d*Math.sin(V*Math.PI/2)+p;for(let ae=0,he=k.length;ae<he;ae++){const de=X(k[ae],z[ae],re);ee(de.x,de.y,m+F)}for(let ae=0,he=L.length;ae<he;ae++){const de=L[ae];$=W[ae];for(let Me=0,Se=de.length;Me<Se;Me++){const je=X(de[Me],$[Me],re);x?ee(je.x,je.y+_[f-1].y,_[f-1].x+F):ee(je.x,je.y,m+F)}}}I(),U();function I(){const ie=o.length/3;if(a){let V=0,F=Y*V;for(let re=0;re<q;re++){const ae=O[re];ue(ae[2]+F,ae[1]+F,ae[0]+F)}V=f+g*2,F=Y*V;for(let re=0;re<q;re++){const ae=O[re];ue(ae[0]+F,ae[1]+F,ae[2]+F)}}else{for(let V=0;V<q;V++){const F=O[V];ue(F[2],F[1],F[0])}for(let V=0;V<q;V++){const F=O[V];ue(F[0]+Y*f,F[1]+Y*f,F[2]+Y*f)}}t.addGroup(ie,o.length/3-ie,0)}function U(){const ie=o.length/3;let V=0;G(k,V),V+=k.length;for(let F=0,re=L.length;F<re;F++){const ae=L[F];G(ae,V),V+=ae.length}t.addGroup(ie,o.length/3-ie,1)}function G(ie,V){let F=ie.length;for(;--F>=0;){const re=F;let ae=F-1;ae<0&&(ae=ie.length-1);for(let he=0,de=f+g*2;he<de;he++){const Me=Y*he,Se=Y*(he+1),je=V+re+Me,J=V+ae+Me,te=V+ae+Se,Te=V+re+Se;fe(je,J,te,Te)}}}function ee(ie,V,F){i.push(ie),i.push(V),i.push(F)}function ue(ie,V,F){pe(ie),pe(V),pe(F);const re=o.length/3,ae=v.generateTopUV(t,o,re-3,re-2,re-1);ce(ae[0]),ce(ae[1]),ce(ae[2])}function fe(ie,V,F,re){pe(ie),pe(V),pe(re),pe(V),pe(F),pe(re);const ae=o.length/3,he=v.generateSideWallUV(t,o,ae-6,ae-3,ae-2,ae-1);ce(he[0]),ce(he[1]),ce(he[3]),ce(he[1]),ce(he[2]),ce(he[3])}function pe(ie){o.push(i[ie*3+0]),o.push(i[ie*3+1]),o.push(i[ie*3+2])}function ce(ie){l.push(ie.x),l.push(ie.y)}}}toJSON(){const e=super.toJSON(),r=this.parameters.shapes,t=this.parameters.options;return Nj(r,t,e)}static fromJSON(e,r){const t=[];for(let l=0,s=e.shapes.length;l<s;l++){const n=r[e.shapes[l]];t.push(n)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new Zh[o.type]().fromJSON(o)),new Ev(t,e.options)}}const kj={generateTopUV:function(h,e,r,t,o){const l=e[r*3],s=e[r*3+1],n=e[t*3],i=e[t*3+1],u=e[o*3],f=e[o*3+1];return[new nt(l,s),new nt(n,i),new nt(u,f)]},generateSideWallUV:function(h,e,r,t,o,l){const s=e[r*3],n=e[r*3+1],i=e[r*3+2],u=e[t*3],f=e[t*3+1],m=e[t*3+2],a=e[o*3],c=e[o*3+1],d=e[o*3+2],p=e[l*3],g=e[l*3+1],y=e[l*3+2];return Math.abs(n-f)<Math.abs(s-u)?[new nt(s,1-i),new nt(u,1-m),new nt(a,1-d),new nt(p,1-y)]:[new nt(n,1-i),new nt(f,1-m),new nt(c,1-d),new nt(g,1-y)]}};function Nj(h,e,r){if(r.shapes=[],Array.isArray(h))for(let t=0,o=h.length;t<o;t++){const l=h[t];r.shapes.push(l.uuid)}else r.shapes.push(h.uuid);return r.options=Object.assign({},e),e.extrudePath!==void 0&&(r.options.extrudePath=e.extrudePath.toJSON()),r}class Tv extends Yo{constructor(e=1,r=0){const t=(1+Math.sqrt(5))/2,o=[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1],l=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(o,l,e,r),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:r}}static fromJSON(e){return new Tv(e.radius,e.detail)}}class Av extends Yo{constructor(e=1,r=0){const t=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(t,o,e,r),this.type="OctahedronGeometry",this.parameters={radius:e,detail:r}}static fromJSON(e){return new Av(e.radius,e.detail)}}class jv extends tr{constructor(e=.5,r=1,t=8,o=1,l=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:r,thetaSegments:t,phiSegments:o,thetaStart:l,thetaLength:s},t=Math.max(3,t),o=Math.max(1,o);const n=[],i=[],u=[],f=[];let m=e;const a=(r-e)/o,c=new Ae,d=new nt;for(let p=0;p<=o;p++){for(let g=0;g<=t;g++){const y=l+g/t*s;c.x=m*Math.cos(y),c.y=m*Math.sin(y),i.push(c.x,c.y,c.z),u.push(0,0,1),d.x=(c.x/r+1)/2,d.y=(c.y/r+1)/2,f.push(d.x,d.y)}m+=a}for(let p=0;p<o;p++){const g=p*(t+1);for(let y=0;y<t;y++){const v=y+g,_=v,x=v+t+1,w=v+t+2,E=v+1;n.push(_,x,E),n.push(x,w,E)}}this.setIndex(n),this.setAttribute("position",new bt(i,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(f,2))}static fromJSON(e){return new jv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Cv extends tr{constructor(e=new ja([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),r=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:r};const t=[],o=[],l=[],s=[];let n=0,i=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(n,i,f),n+=i,i=0;this.setIndex(t),this.setAttribute("position",new bt(o,3)),this.setAttribute("normal",new bt(l,3)),this.setAttribute("uv",new bt(s,2));function u(f){const m=o.length/3,a=f.extractPoints(r);let c=a.shape;const d=a.holes;xi.isClockWise(c)===!1&&(c=c.reverse());for(let g=0,y=d.length;g<y;g++){const v=d[g];xi.isClockWise(v)===!0&&(d[g]=v.reverse())}const p=xi.triangulateShape(c,d);for(let g=0,y=d.length;g<y;g++){const v=d[g];c=c.concat(v)}for(let g=0,y=c.length;g<y;g++){const v=c[g];o.push(v.x,v.y,0),l.push(0,0,1),s.push(v.x,v.y)}for(let g=0,y=p.length;g<y;g++){const v=p[g],_=v[0]+m,x=v[1]+m,w=v[2]+m;t.push(_,x,w),i+=3}}}toJSON(){const e=super.toJSON(),r=this.parameters.shapes;return Uj(r,e)}static fromJSON(e,r){const t=[];for(let o=0,l=e.shapes.length;o<l;o++){const s=r[e.shapes[o]];t.push(s)}return new Cv(t,e.curveSegments)}}function Uj(h,e){if(e.shapes=[],Array.isArray(h))for(let r=0,t=h.length;r<t;r++){const o=h[r];e.shapes.push(o.uuid)}else e.shapes.push(h.uuid);return e}class Jh extends tr{constructor(e=1,r=32,t=16,o=0,l=Math.PI*2,s=0,n=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:t,phiStart:o,phiLength:l,thetaStart:s,thetaLength:n},r=Math.max(3,Math.floor(r)),t=Math.max(2,Math.floor(t));const i=Math.min(s+n,Math.PI);let u=0;const f=[],m=new Ae,a=new Ae,c=[],d=[],p=[],g=[];for(let y=0;y<=t;y++){const v=[],_=y/t;let x=0;y==0&&s==0?x=.5/r:y==t&&i==Math.PI&&(x=-.5/r);for(let w=0;w<=r;w++){const E=w/r;m.x=-e*Math.cos(o+E*l)*Math.sin(s+_*n),m.y=e*Math.cos(s+_*n),m.z=e*Math.sin(o+E*l)*Math.sin(s+_*n),d.push(m.x,m.y,m.z),a.copy(m).normalize(),p.push(a.x,a.y,a.z),g.push(E+x,1-_),v.push(u++)}f.push(v)}for(let y=0;y<t;y++)for(let v=0;v<r;v++){const _=f[y][v+1],x=f[y][v],w=f[y+1][v],E=f[y+1][v+1];(y!==0||s>0)&&c.push(_,x,E),(y!==t-1||i<Math.PI)&&c.push(x,w,E)}this.setIndex(c),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2))}static fromJSON(e){return new Jh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pv extends Yo{constructor(e=1,r=0){const t=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];super(t,o,e,r),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:r}}static fromJSON(e){return new Pv(e.radius,e.detail)}}class Lv extends tr{constructor(e=1,r=.4,t=8,o=6,l=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:r,radialSegments:t,tubularSegments:o,arc:l},t=Math.floor(t),o=Math.floor(o);const s=[],n=[],i=[],u=[],f=new Ae,m=new Ae,a=new Ae;for(let c=0;c<=t;c++)for(let d=0;d<=o;d++){const p=d/o*l,g=c/t*Math.PI*2;m.x=(e+r*Math.cos(g))*Math.cos(p),m.y=(e+r*Math.cos(g))*Math.sin(p),m.z=r*Math.sin(g),n.push(m.x,m.y,m.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),a.subVectors(m,f).normalize(),i.push(a.x,a.y,a.z),u.push(d/o),u.push(c/t)}for(let c=1;c<=t;c++)for(let d=1;d<=o;d++){const p=(o+1)*c+d-1,g=(o+1)*(c-1)+d-1,y=(o+1)*(c-1)+d,v=(o+1)*c+d;s.push(p,g,v),s.push(g,y,v)}this.setIndex(s),this.setAttribute("position",new bt(n,3)),this.setAttribute("normal",new bt(i,3)),this.setAttribute("uv",new bt(u,2))}static fromJSON(e){return new Lv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Rv extends tr{constructor(e=1,r=.4,t=64,o=8,l=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:r,tubularSegments:t,radialSegments:o,p:l,q:s},t=Math.floor(t),o=Math.floor(o);const n=[],i=[],u=[],f=[],m=new Ae,a=new Ae,c=new Ae,d=new Ae,p=new Ae,g=new Ae,y=new Ae;for(let _=0;_<=t;++_){const x=_/t*l*Math.PI*2;v(x,l,s,e,c),v(x+.01,l,s,e,d),g.subVectors(d,c),y.addVectors(d,c),p.crossVectors(g,y),y.crossVectors(p,g),p.normalize(),y.normalize();for(let w=0;w<=o;++w){const E=w/o*Math.PI*2,T=-r*Math.cos(E),M=r*Math.sin(E);m.x=c.x+(T*y.x+M*p.x),m.y=c.y+(T*y.y+M*p.y),m.z=c.z+(T*y.z+M*p.z),i.push(m.x,m.y,m.z),a.subVectors(m,c).normalize(),u.push(a.x,a.y,a.z),f.push(_/t),f.push(w/o)}}for(let _=1;_<=t;_++)for(let x=1;x<=o;x++){const w=(o+1)*(_-1)+(x-1),E=(o+1)*_+(x-1),T=(o+1)*_+x,M=(o+1)*(_-1)+x;n.push(w,E,M),n.push(E,T,M)}this.setIndex(n),this.setAttribute("position",new bt(i,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(f,2));function v(_,x,w,E,T){const M=Math.cos(_),j=Math.sin(_),P=w/x*_,L=Math.cos(P);T.x=E*(2+L)*.5*M,T.y=E*(2+L)*j*.5,T.z=E*Math.sin(P)*.5}}static fromJSON(e){return new Rv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Dv extends tr{constructor(e=new gv(new Ae(-1,-1,0),new Ae(-1,1,0),new Ae(1,1,0)),r=64,t=1,o=8,l=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:r,radius:t,radialSegments:o,closed:l};const s=e.computeFrenetFrames(r,l);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const n=new Ae,i=new Ae,u=new nt;let f=new Ae;const m=[],a=[],c=[],d=[];p(),this.setIndex(d),this.setAttribute("position",new bt(m,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(c,2));function p(){for(let _=0;_<r;_++)g(_);g(l===!1?r:0),v(),y()}function g(_){f=e.getPointAt(_/r,f);const x=s.normals[_],w=s.binormals[_];for(let E=0;E<=o;E++){const T=E/o*Math.PI*2,M=Math.sin(T),j=-Math.cos(T);i.x=j*x.x+M*w.x,i.y=j*x.y+M*w.y,i.z=j*x.z+M*w.z,i.normalize(),a.push(i.x,i.y,i.z),n.x=f.x+t*i.x,n.y=f.y+t*i.y,n.z=f.z+t*i.z,m.push(n.x,n.y,n.z)}}function y(){for(let _=1;_<=r;_++)for(let x=1;x<=o;x++){const w=(o+1)*(_-1)+(x-1),E=(o+1)*_+(x-1),T=(o+1)*_+x,M=(o+1)*(_-1)+x;d.push(w,E,M),d.push(E,T,M)}}function v(){for(let _=0;_<=r;_++)for(let x=0;x<=o;x++)u.x=_/r,u.y=x/o,c.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Dv(new Zh[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class V3 extends tr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const r=[],t=new Set,o=new Ae,l=new Ae;if(e.index!==null){const s=e.attributes.position,n=e.index;let i=e.groups;i.length===0&&(i=[{start:0,count:n.count,materialIndex:0}]);for(let u=0,f=i.length;u<f;++u){const m=i[u],a=m.start,c=m.count;for(let d=a,p=a+c;d<p;d+=3)for(let g=0;g<3;g++){const y=n.getX(d+g),v=n.getX(d+(g+1)%3);o.fromBufferAttribute(s,y),l.fromBufferAttribute(s,v),Sg(o,l,t)===!0&&(r.push(o.x,o.y,o.z),r.push(l.x,l.y,l.z))}}}else{const s=e.attributes.position;for(let n=0,i=s.count/3;n<i;n++)for(let u=0;u<3;u++){const f=3*n+u,m=3*n+(u+1)%3;o.fromBufferAttribute(s,f),l.fromBufferAttribute(s,m),Sg(o,l,t)===!0&&(r.push(o.x,o.y,o.z),r.push(l.x,l.y,l.z))}}this.setAttribute("position",new bt(r,3))}}}function Sg(h,e,r){const t=`${h.x},${h.y},${h.z}-${e.x},${e.y},${e.z}`,o=`${e.x},${e.y},${e.z}-${h.x},${h.y},${h.z}`;return r.has(t)===!0||r.has(o)===!0?!1:(r.add(t),r.add(o),!0)}class H3 extends is{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class W3 extends Ei{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q3 extends Ei{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class X3 extends Ei{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vu,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const xu={enabled:!1,files:{},add:function(h,e){this.enabled!==!1&&(this.files[h]=e)},get:function(h){if(this.enabled!==!1)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};class Fj{constructor(e,r,t){const o=this;let l=!1,s=0,n=0,i;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=t,this.itemStart=function(f){n++,l===!1&&o.onStart!==void 0&&o.onStart(f,s,n),l=!0},this.itemEnd=function(f){s++,o.onProgress!==void 0&&o.onProgress(f,s,n),s===n&&(l=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(f){o.onError!==void 0&&o.onError(f)},this.resolveURL=function(f){return i?i(f):f},this.setURLModifier=function(f){return i=f,this},this.addHandler=function(f,m){return u.push(f,m),this},this.removeHandler=function(f){const m=u.indexOf(f);return m!==-1&&u.splice(m,2),this},this.getHandler=function(f){for(let m=0,a=u.length;m<a;m+=2){const c=u[m],d=u[m+1];if(c.global&&(c.lastIndex=0),c.test(f))return d}return null}}}const Bj=new Fj;class $h{constructor(e){this.manager=e!==void 0?e:Bj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const t=this;return new Promise(function(o,l){t.load(e,o,r,l)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const hi={};class zj extends Error{constructor(e,r){super(e),this.response=r}}class Y3 extends $h{constructor(e){super(e)}load(e,r,t,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=xu.get(e);if(l!==void 0)return this.manager.itemStart(e),setTimeout(()=>{r&&r(l),this.manager.itemEnd(e)},0),l;if(hi[e]!==void 0){hi[e].push({onLoad:r,onProgress:t,onError:o});return}hi[e]=[],hi[e].push({onLoad:r,onProgress:t,onError:o});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),n=this.mimeType,i=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=hi[e],m=u.body.getReader(),a=u.headers.get("Content-Length"),c=a?parseInt(a):0,d=c!==0;let p=0;const g=new ReadableStream({start(y){v();function v(){m.read().then(({done:_,value:x})=>{if(_)y.close();else{p+=x.byteLength;const w=new ProgressEvent("progress",{lengthComputable:d,loaded:p,total:c});for(let E=0,T=f.length;E<T;E++){const M=f[E];M.onProgress&&M.onProgress(w)}y.enqueue(x),v()}})}}});return new Response(g)}else throw new zj(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(i){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,n));case"json":return u.json();default:if(n===void 0)return u.text();{const m=/charset="?([^;"\s]*)"?/i.exec(n),a=m&&m[1]?m[1].toLowerCase():void 0,c=new TextDecoder(a);return u.arrayBuffer().then(d=>c.decode(d))}}}).then(u=>{xu.add(e,u);const f=hi[e];delete hi[e];for(let m=0,a=f.length;m<a;m++){const c=f[m];c.onLoad&&c.onLoad(u)}}).catch(u=>{const f=hi[e];if(f===void 0)throw this.manager.itemError(e),u;delete hi[e];for(let m=0,a=f.length;m<a;m++){const c=f[m];c.onError&&c.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Gj extends $h{constructor(e){super(e)}load(e,r,t,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,s=xu.get(e);if(s!==void 0)return l.manager.itemStart(e),setTimeout(function(){r&&r(s),l.manager.itemEnd(e)},0),s;const n=Ga("img");function i(){f(),xu.add(e,this),r&&r(this),l.manager.itemEnd(e)}function u(m){f(),o&&o(m),l.manager.itemError(e),l.manager.itemEnd(e)}function f(){n.removeEventListener("load",i,!1),n.removeEventListener("error",u,!1)}return n.addEventListener("load",i,!1),n.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(n.crossOrigin=this.crossOrigin),l.manager.itemStart(e),n.src=e,n}}class Vj extends $h{constructor(e){super(e)}load(e,r,t,o){const l=new vn,s=new Gj(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(n){l.image=n,l.needsUpdate=!0,r!==void 0&&r(l)},t,o),l}}class Qh extends Ar{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}const nd=new Kt,Mg=new Ae,Eg=new Ae;class Ov{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gh,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new nr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,t=this.matrix;Mg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Mg),Eg.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(Eg),r.updateMatrixWorld(),nd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nd),t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),t.multiply(nd)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Tg=new Kt,ca=new Ae,id=new Ae;class Hj extends Ov{constructor(){super(new hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new nr(2,1,1,1),new nr(0,1,1,1),new nr(3,1,1,1),new nr(1,1,1,1),new nr(3,0,1,1),new nr(1,0,1,1)],this._cubeDirections=[new Ae(1,0,0),new Ae(-1,0,0),new Ae(0,0,1),new Ae(0,0,-1),new Ae(0,1,0),new Ae(0,-1,0)],this._cubeUps=[new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,0,1),new Ae(0,0,-1)]}updateMatrices(e,r=0){const t=this.camera,o=this.matrix,l=e.distance||t.far;l!==t.far&&(t.far=l,t.updateProjectionMatrix()),ca.setFromMatrixPosition(e.matrixWorld),t.position.copy(ca),id.copy(t.position),id.add(this._cubeDirections[r]),t.up.copy(this._cubeUps[r]),t.lookAt(id),t.updateMatrixWorld(),o.makeTranslation(-ca.x,-ca.y,-ca.z),Tg.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tg)}}class Z3 extends Qh{constructor(e,r,t=0,o=1){super(e,r),this.isPointLight=!0,this.type="PointLight",this.distance=t,this.decay=o,this.shadow=new Hj}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wj extends Ov{constructor(){super(new iv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class K3 extends Qh{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ar.DefaultUp),this.updateMatrix(),this.target=new Ar,this.shadow=new Wj}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qj extends Qh{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class J3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ag(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=Ag();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}}function Ag(){return(typeof performance>"u"?Date:performance).now()}class $3{constructor(e=1,r=0,t=0){return this.radius=e,this.phi=r,this.theta=t,this}set(e,r,t){return this.radius=e,this.phi=r,this.theta=t,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,r,t){return this.radius=Math.sqrt(e*e+r*r+t*t),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,t),this.phi=Math.acos(Lr(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const jg=new nt;class Q3{constructor(e=new nt(1/0,1/0),r=new nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromPoints(e){this.makeEmpty();for(let r=0,t=e.length;r<t;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const t=jg.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return jg.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}class eC extends Bn{constructor(e,r,t){const o=new Jh(r,4,2),l=new zh({wireframe:!0,fog:!1,toneMapped:!1});super(o,l),this.light=e,this.light.updateMatrixWorld(),this.color=t,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Hl=new qo;class tC extends hv{constructor(e,r=16776960){const t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(8*3),l=new tr;l.setIndex(new Jr(t,1)),l.setAttribute("position",new Jr(o,3)),super(l,new Wh({color:r,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Hl.setFromObject(this.object),Hl.isEmpty())return;const r=Hl.min,t=Hl.max,o=this.geometry.attributes.position,l=o.array;l[0]=t.x,l[1]=t.y,l[2]=t.z,l[3]=r.x,l[4]=t.y,l[5]=t.z,l[6]=r.x,l[7]=r.y,l[8]=t.z,l[9]=t.x,l[10]=r.y,l[11]=t.z,l[12]=t.x,l[13]=t.y,l[14]=r.z,l[15]=r.x,l[16]=t.y,l[17]=r.z,l[18]=r.x,l[19]=r.y,l[20]=r.z,l[21]=t.x,l[22]=r.y,l[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,r){return super.copy(e,r),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rC extends hv{constructor(e=1){const r=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],t=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new tr;o.setAttribute("position",new bt(r,3)),o.setAttribute("color",new bt(t,3));const l=new Wh({vertexColors:!0,toneMapped:!1});super(o,l),this.type="AxesHelper"}setColors(e,r,t){const o=new Lt,l=this.geometry.attributes.color.array;return o.set(e),o.toArray(l,0),o.toArray(l,3),o.set(r),o.toArray(l,6),o.toArray(l,9),o.set(t),o.toArray(l,12),o.toArray(l,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nC{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,r){return this.currentPath=new Xd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r),this}lineTo(e,r){return this.currentPath.lineTo(e,r),this}quadraticCurveTo(e,r,t,o){return this.currentPath.quadraticCurveTo(e,r,t,o),this}bezierCurveTo(e,r,t,o,l,s){return this.currentPath.bezierCurveTo(e,r,t,o,l,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function r(y){const v=[];for(let _=0,x=y.length;_<x;_++){const w=y[_],E=new ja;E.curves=w.curves,v.push(E)}return v}function t(y,v){const _=v.length;let x=!1;for(let w=_-1,E=0;E<_;w=E++){let T=v[w],M=v[E],j=M.x-T.x,P=M.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=v[E],j=-j,M=v[w],P=-P),y.y<T.y||y.y>M.y)continue;if(y.y===T.y){if(y.x===T.x)return!0}else{const L=P*(y.x-T.x)-j*(y.y-T.y);if(L===0)return!0;if(L<0)continue;x=!x}}else{if(y.y!==T.y)continue;if(M.x<=y.x&&y.x<=T.x||T.x<=y.x&&y.x<=M.x)return!0}}return x}const o=xi.isClockWise,l=this.subPaths;if(l.length===0)return[];let s,n,i;const u=[];if(l.length===1)return n=l[0],i=new ja,i.curves=n.curves,u.push(i),u;let f=!o(l[0].getPoints());f=e?!f:f;const m=[],a=[];let c=[],d=0,p;a[d]=void 0,c[d]=[];for(let y=0,v=l.length;y<v;y++)n=l[y],p=n.getPoints(),s=o(p),s=e?!s:s,s?(!f&&a[d]&&d++,a[d]={s:new ja,p},a[d].s.curves=n.curves,f&&d++,c[d]=[]):c[d].push({h:n,p:p[0]});if(!a[0])return r(l);if(a.length>1){let y=!1,v=0;for(let _=0,x=a.length;_<x;_++)m[_]=[];for(let _=0,x=a.length;_<x;_++){const w=c[_];for(let E=0;E<w.length;E++){const T=w[E];let M=!0;for(let j=0;j<a.length;j++)t(T.p,a[j].p)&&(_!==j&&v++,M?(M=!1,m[j].push(T)):y=!0);M&&m[_].push(T)}}v>0&&y===!1&&(c=m)}let g;for(let y=0,v=a.length;y<v;y++){i=a[y].s,u.push(i),g=c[y];for(let _=0,x=g.length;_<x;_++)i.holes.push(g[_].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fh);var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xj(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function iC(h){if(h.__esModule)return h;var e=h.default;if(typeof e=="function"){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(h).forEach(function(t){var o=Object.getOwnPropertyDescriptor(h,t);Object.defineProperty(r,t,o.get?o:{enumerable:!0,get:function(){return h[t]}})}),r}function ql(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Iv={exports:{}};/*! p5.js v1.5.0 October 18, 2022 */(function(h,e){(function(r){h.exports=r()})(function(){var r;return function t(o,l,s){function n(f,m){if(!l[f]){if(!o[f]){var a=typeof ql=="function"&&ql;if(!m&&a)return a(f,!0);if(i)return i(f,!0);throw(m=new Error("Cannot find module '"+f+"'")).code="MODULE_NOT_FOUND",m}a=l[f]={exports:{}},o[f][0].call(a.exports,function(c){return n(o[f][1][c]||c)},a,a.exports,t,o,l,s)}return l[f].exports}for(var i=typeof ql=="function"&&ql,u=0;u<s.length;u++)n(s[u]);return n}({1:[function(t,o,l){l.byteLength=function(p){var p=a(p),d=p[0],p=p[1];return 3*(d+p)/4-p},l.toByteArray=function(c){var d,p,y=a(c),g=y[0],y=y[1],v=new i(function(w,E){return 3*(w+E)/4-E}(g,y)),_=0,x=0<y?g-4:g;for(p=0;p<x;p+=4)d=n[c.charCodeAt(p)]<<18|n[c.charCodeAt(p+1)]<<12|n[c.charCodeAt(p+2)]<<6|n[c.charCodeAt(p+3)],v[_++]=d>>16&255,v[_++]=d>>8&255,v[_++]=255&d;return y===2&&(d=n[c.charCodeAt(p)]<<2|n[c.charCodeAt(p+1)]>>4,v[_++]=255&d),y===1&&(d=n[c.charCodeAt(p)]<<10|n[c.charCodeAt(p+1)]<<4|n[c.charCodeAt(p+2)]>>2,v[_++]=d>>8&255,v[_++]=255&d),v},l.fromByteArray=function(c){for(var d,p=c.length,g=p%3,y=[],v=0,_=p-g;v<_;v+=16383)y.push(function(x,w,E){for(var T,M=[],j=w;j<E;j+=3)T=(x[j]<<16&16711680)+(x[j+1]<<8&65280)+(255&x[j+2]),M.push(function(P){return s[P>>18&63]+s[P>>12&63]+s[P>>6&63]+s[63&P]}(T));return M.join("")}(c,v,_<v+16383?_:v+16383));return g==1?(d=c[p-1],y.push(s[d>>2]+s[d<<4&63]+"==")):g==2&&(d=(c[p-2]<<8)+c[p-1],y.push(s[d>>10]+s[d>>4&63]+s[d<<2&63]+"=")),y.join("")};for(var s=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=u.length;f<m;++f)s[f]=u[f],n[u.charCodeAt(f)]=f;function a(c){var d=c.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return c=c.indexOf("="),d=(c=c===-1?d:c)===d?0:4-c%4,[c,d]}n[45]=62,n[95]=63},{}],2:[function(t,o,l){},{}],3:[function(t,o,l){arguments[4][2][0].apply(l,arguments)},{dup:2}],4:[function(t,o,l){(function(a){var n=t("base64-js"),i=t("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,f=(l.Buffer=a,l.SlowBuffer=function(R){return+R!=R&&(R=0),a.alloc(+R)},l.INSPECT_MAX_BYTES=50,2147483647);function m(R){if(f<R)throw new RangeError('The value "'+R+'" is invalid for option "size"');return R=new Uint8Array(R),Object.setPrototypeOf(R,a.prototype),R}function a(R,I,U){if(typeof R!="number")return c(R,I,U);if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(R)}function c(R,I,U){if(typeof R=="string"){var G=R,ee=I;if(a.isEncoding(ee=typeof ee=="string"&&ee!==""?ee:"utf8"))return ue=0|v(G,ee),fe=m(ue),fe=(G=fe.write(G,ee))!==ue?fe.slice(0,G):fe;throw new TypeError("Unknown encoding: "+ee)}if(ArrayBuffer.isView(R))return g(R);if(R!=null){if(W(R,ArrayBuffer)||R&&W(R.buffer,ArrayBuffer)){var ue=R,G=I,fe=U;if(G<0||ue.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<G+(fe||0))throw new RangeError('"length" is outside of buffer bounds');return ue=G===void 0&&fe===void 0?new Uint8Array(ue):fe===void 0?new Uint8Array(ue,G):new Uint8Array(ue,G,fe),Object.setPrototypeOf(ue,a.prototype),ue}if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ee=R.valueOf&&R.valueOf(),ee!=null&&ee!==R)return a.from(ee,I,U);var pe=function(ce){{var ie,V;if(a.isBuffer(ce))return ie=0|y(ce.length),(V=m(ie)).length!==0&&ce.copy(V,0,0,ie),V}if(ce.length!==void 0)return typeof ce.length!="number"||$(ce.length)?m(0):g(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return g(ce.data)}(R);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),I,U)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}function d(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function p(R){return d(R),m(R<0?0:0|y(R))}function g(R){for(var I=R.length<0?0:0|y(R.length),U=m(I),G=0;G<I;G+=1)U[G]=255&R[G];return U}function y(R){if(f<=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|R}function v(R,I){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||W(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var U=R.length,G=2<arguments.length&&arguments[2]===!0;if(!G&&U===0)return 0;for(var ee=!1;;)switch(I){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return q(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return H(R).length;default:if(ee)return G?-1:q(R).length;I=(""+I).toLowerCase(),ee=!0}}function _(R,I,U){var G,ee=!1;if((I=I===void 0||I<0?0:I)>this.length||(U=U===void 0||U>this.length?this.length:U)<=0||(U>>>=0)<=(I>>>=0))return"";for(R=R||"utf8";;)switch(R){case"hex":var ue=this,de=I,fe=U,V=ue.length;(!fe||fe<0||V<fe)&&(fe=V);for(var pe="",ce=de=!de||de<0?0:de;ce<fe;++ce)pe+=se[ue[ce]];return pe;case"utf8":case"utf-8":return j(this,I,U);case"ascii":var ie=this,V=I,F=U,re="";F=Math.min(ie.length,F);for(var ae=V;ae<F;++ae)re+=String.fromCharCode(127&ie[ae]);return re;case"latin1":case"binary":var he=this,de=I,Me=U,Se="";Me=Math.min(he.length,Me);for(var je=de;je<Me;++je)Se+=String.fromCharCode(he[je]);return Se;case"base64":return J=this,G=U,(te=I)===0&&G===J.length?n.fromByteArray(J):n.fromByteArray(J.slice(te,G));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var J=I,te=U,Te=this.slice(J,te),Pe="",Oe=0;Oe<Te.length;Oe+=2)Pe+=String.fromCharCode(Te[Oe]+256*Te[Oe+1]);return Pe;default:if(ee)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),ee=!0}}function x(R,I,U){var G=R[I];R[I]=R[U],R[U]=G}function w(R,I,U,G,ee){if(R.length===0)return-1;if(typeof U=="string"?(G=U,U=0):2147483647<U?U=2147483647:U<-2147483648&&(U=-2147483648),(U=(U=$(U=+U)?ee?0:R.length-1:U)<0?R.length+U:U)>=R.length){if(ee)return-1;U=R.length-1}else if(U<0){if(!ee)return-1;U=0}if(typeof I=="string"&&(I=a.from(I,G)),a.isBuffer(I))return I.length===0?-1:E(R,I,U,G,ee);if(typeof I=="number")return I&=255,typeof Uint8Array.prototype.indexOf=="function"?(ee?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(R,I,U):E(R,[I],U,G,ee);throw new TypeError("val must be string, number or Buffer")}function E(R,I,U,G,ee){var ue=1,fe=R.length,pe=I.length;if(G!==void 0&&((G=String(G).toLowerCase())==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(R.length<2||I.length<2)return-1;fe/=ue=2,pe/=2,U/=2}function ce(ae,he){return ue===1?ae[he]:ae.readUInt16BE(he*ue)}if(ee)for(var ie=-1,V=U;V<fe;V++)if(ce(R,V)===ce(I,ie===-1?0:V-ie)){if(V-(ie=ie===-1?V:ie)+1===pe)return ie*ue}else ie!==-1&&(V-=V-ie),ie=-1;else for(V=U=fe<U+pe?fe-pe:U;0<=V;V--){for(var F=!0,re=0;re<pe;re++)if(ce(R,V+re)!==ce(I,re)){F=!1;break}if(F)return V}return-1}function T(R,I,U,G){return z(function(ee){for(var ue=[],fe=0;fe<ee.length;++fe)ue.push(255&ee.charCodeAt(fe));return ue}(I),R,U,G)}function M(R,I,U,G){return z(function(ee,ue){for(var fe,pe,ce=[],ie=0;ie<ee.length&&!((ue-=2)<0);++ie)pe=ee.charCodeAt(ie),fe=pe>>8,pe=pe%256,ce.push(pe),ce.push(fe);return ce}(I,R.length-U),R,U,G)}function j(R,I,U){U=Math.min(R.length,U);for(var G=[],ee=I;ee<U;){var ue,fe,pe,ce,ie=R[ee],V=null,F=239<ie?4:223<ie?3:191<ie?2:1;if(ee+F<=U)switch(F){case 1:ie<128&&(V=ie);break;case 2:(192&(ue=R[ee+1]))==128&&127<(ce=(31&ie)<<6|63&ue)&&(V=ce);break;case 3:ue=R[ee+1],fe=R[ee+2],(192&ue)==128&&(192&fe)==128&&2047<(ce=(15&ie)<<12|(63&ue)<<6|63&fe)&&(ce<55296||57343<ce)&&(V=ce);break;case 4:ue=R[ee+1],fe=R[ee+2],pe=R[ee+3],(192&ue)==128&&(192&fe)==128&&(192&pe)==128&&65535<(ce=(15&ie)<<18|(63&ue)<<12|(63&fe)<<6|63&pe)&&ce<1114112&&(V=ce)}V===null?(V=65533,F=1):65535<V&&(V-=65536,G.push(V>>>10&1023|55296),V=56320|1023&V),G.push(V),ee+=F}var re=G,ae=re.length;if(ae<=P)return String.fromCharCode.apply(String,re);for(var he="",de=0;de<ae;)he+=String.fromCharCode.apply(String,re.slice(de,de+=P));return he}l.kMaxLength=f,(a.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(R,I),R.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=c,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(R,I,U){return I=I,U=U,d(R=R),!(R<=0)&&I!==void 0?typeof U=="string"?m(R).fill(I,U):m(R).fill(I):m(R)},a.allocUnsafe=p,a.allocUnsafeSlow=p,a.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==a.prototype},a.compare=function(R,I){if(W(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),W(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(R)||!a.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===I)return 0;for(var U=R.length,G=I.length,ee=0,ue=Math.min(U,G);ee<ue;++ee)if(R[ee]!==I[ee]){U=R[ee],G=I[ee];break}return U<G?-1:G<U?1:0},a.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(R,I){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return a.alloc(0);if(I===void 0)for(ee=I=0;ee<R.length;++ee)I+=R[ee].length;for(var U=a.allocUnsafe(I),G=0,ee=0;ee<R.length;++ee){var ue=R[ee];if(W(ue,Uint8Array)&&(ue=a.from(ue)),!a.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(U,G),G+=ue.length}return U},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<R;I+=2)x(this,I,I+1);return this},a.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<R;I+=4)x(this,I,I+3),x(this,I+1,I+2);return this},a.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<R;I+=8)x(this,I,I+7),x(this,I+1,I+6),x(this,I+2,I+5),x(this,I+3,I+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?j(this,0,R):_.apply(this,arguments)},a.prototype.equals=function(R){if(a.isBuffer(R))return this===R||a.compare(this,R)===0;throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var I="",R=l.INSPECT_MAX_BYTES,I=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim();return this.length>R&&(I+=" ... "),"<Buffer "+I+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(R,I,U,G,ee){if(W(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(U===void 0&&(U=R?R.length:0),G===void 0&&(G=0),ee===void 0&&(ee=this.length),(I=I===void 0?0:I)<0||U>R.length||G<0||ee>this.length)throw new RangeError("out of range index");if(ee<=G&&U<=I)return 0;if(ee<=G)return-1;if(U<=I)return 1;if(this===R)return 0;for(var ue=(ee>>>=0)-(G>>>=0),fe=(U>>>=0)-(I>>>=0),pe=Math.min(ue,fe),ce=this.slice(G,ee),ie=R.slice(I,U),V=0;V<pe;++V)if(ce[V]!==ie[V]){ue=ce[V],fe=ie[V];break}return ue<fe?-1:fe<ue?1:0},a.prototype.includes=function(R,I,U){return this.indexOf(R,I,U)!==-1},a.prototype.indexOf=function(R,I,U){return w(this,R,I,U,!0)},a.prototype.lastIndexOf=function(R,I,U){return w(this,R,I,U,!1)},a.prototype.write=function(R,I,U,G){if(I===void 0)G="utf8",U=this.length,I=0;else if(U===void 0&&typeof I=="string")G=I,U=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I>>>=0,isFinite(U)?(U>>>=0,G===void 0&&(G="utf8")):(G=U,U=void 0)}var ee=this.length-I;if((U===void 0||ee<U)&&(U=ee),0<R.length&&(U<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");G=G||"utf8";for(var ue,fe,pe,ce=!1;;)switch(G){case"hex":var ie=this,V=R,F=I,re=U,ae=(F=Number(F)||0,ie.length-F);(!re||ae<(re=Number(re)))&&(re=ae),(ae=V.length)/2<re&&(re=ae/2);for(var he=0;he<re;++he){var de=parseInt(V.substr(2*he,2),16);if($(de))return he;ie[F+he]=de}return he;case"utf8":case"utf-8":return ae=I,pe=U,z(q(R,(fe=this).length-ae),fe,ae,pe);case"ascii":return T(this,R,I,U);case"latin1":case"binary":return T(this,R,I,U);case"base64":return fe=this,pe=I,ue=U,z(H(R),fe,pe,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,R,I,U);default:if(ce)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function L(R,I,U){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(U<R+I)throw new RangeError("Trying to access beyond buffer length")}function N(R,I,U,G,ee,ue){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee<I||I<ue)throw new RangeError('"value" argument is out of bounds');if(U+G>R.length)throw new RangeError("Index out of range")}function O(R,I,U,G){if(U+G>R.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function k(R,I,U,G,ee){return I=+I,U>>>=0,ee||O(R,0,U,4),i.write(R,I,U,G,23,4),U+4}function X(R,I,U,G,ee){return I=+I,U>>>=0,ee||O(R,0,U,8),i.write(R,I,U,G,52,8),U+8}a.prototype.slice=function(R,I){var U=this.length,U=((R=~~R)<0?(R+=U)<0&&(R=0):U<R&&(R=U),(I=I===void 0?U:~~I)<0?(I+=U)<0&&(I=0):U<I&&(I=U),I<R&&(I=R),this.subarray(R,I));return Object.setPrototypeOf(U,a.prototype),U},a.prototype.readUIntLE=function(R,I,U){R>>>=0,I>>>=0,U||L(R,I,this.length);for(var G=this[R],ee=1,ue=0;++ue<I&&(ee*=256);)G+=this[R+ue]*ee;return G},a.prototype.readUIntBE=function(R,I,U){R>>>=0,I>>>=0,U||L(R,I,this.length);for(var G=this[R+--I],ee=1;0<I&&(ee*=256);)G+=this[R+--I]*ee;return G},a.prototype.readUInt8=function(R,I){return R>>>=0,I||L(R,1,this.length),this[R]},a.prototype.readUInt16LE=function(R,I){return R>>>=0,I||L(R,2,this.length),this[R]|this[R+1]<<8},a.prototype.readUInt16BE=function(R,I){return R>>>=0,I||L(R,2,this.length),this[R]<<8|this[R+1]},a.prototype.readUInt32LE=function(R,I){return R>>>=0,I||L(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},a.prototype.readUInt32BE=function(R,I){return R>>>=0,I||L(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},a.prototype.readIntLE=function(R,I,U){R>>>=0,I>>>=0,U||L(R,I,this.length);for(var G=this[R],ee=1,ue=0;++ue<I&&(ee*=256);)G+=this[R+ue]*ee;return(ee*=128)<=G&&(G-=Math.pow(2,8*I)),G},a.prototype.readIntBE=function(R,I,U){R>>>=0,I>>>=0,U||L(R,I,this.length);for(var G=I,ee=1,ue=this[R+--G];0<G&&(ee*=256);)ue+=this[R+--G]*ee;return(ee*=128)<=ue&&(ue-=Math.pow(2,8*I)),ue},a.prototype.readInt8=function(R,I){return R>>>=0,I||L(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},a.prototype.readInt16LE=function(R,I){return R>>>=0,I||L(R,2,this.length),I=this[R]|this[R+1]<<8,32768&I?4294901760|I:I},a.prototype.readInt16BE=function(R,I){return R>>>=0,I||L(R,2,this.length),I=this[R+1]|this[R]<<8,32768&I?4294901760|I:I},a.prototype.readInt32LE=function(R,I){return R>>>=0,I||L(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},a.prototype.readInt32BE=function(R,I){return R>>>=0,I||L(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},a.prototype.readFloatLE=function(R,I){return R>>>=0,I||L(R,4,this.length),i.read(this,R,!0,23,4)},a.prototype.readFloatBE=function(R,I){return R>>>=0,I||L(R,4,this.length),i.read(this,R,!1,23,4)},a.prototype.readDoubleLE=function(R,I){return R>>>=0,I||L(R,8,this.length),i.read(this,R,!0,52,8)},a.prototype.readDoubleBE=function(R,I){return R>>>=0,I||L(R,8,this.length),i.read(this,R,!1,52,8)},a.prototype.writeUIntLE=function(R,I,U,G){R=+R,I>>>=0,U>>>=0,G||N(this,R,I,U,Math.pow(2,8*U)-1,0);var ee=1,ue=0;for(this[I]=255&R;++ue<U&&(ee*=256);)this[I+ue]=R/ee&255;return I+U},a.prototype.writeUIntBE=function(R,I,U,G){R=+R,I>>>=0,U>>>=0,G||N(this,R,I,U,Math.pow(2,8*U)-1,0);var ee=U-1,ue=1;for(this[I+ee]=255&R;0<=--ee&&(ue*=256);)this[I+ee]=R/ue&255;return I+U},a.prototype.writeUInt8=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,1,255,0),this[I]=255&R,I+1},a.prototype.writeUInt16LE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,2,65535,0),this[I]=255&R,this[I+1]=R>>>8,I+2},a.prototype.writeUInt16BE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,2,65535,0),this[I]=R>>>8,this[I+1]=255&R,I+2},a.prototype.writeUInt32LE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,4,4294967295,0),this[I+3]=R>>>24,this[I+2]=R>>>16,this[I+1]=R>>>8,this[I]=255&R,I+4},a.prototype.writeUInt32BE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,4,4294967295,0),this[I]=R>>>24,this[I+1]=R>>>16,this[I+2]=R>>>8,this[I+3]=255&R,I+4},a.prototype.writeIntLE=function(R,I,U,G){R=+R,I>>>=0,G||N(this,R,I,U,(G=Math.pow(2,8*U-1))-1,-G);var ee=0,ue=1,fe=0;for(this[I]=255&R;++ee<U&&(ue*=256);)R<0&&fe===0&&this[I+ee-1]!==0&&(fe=1),this[I+ee]=(R/ue>>0)-fe&255;return I+U},a.prototype.writeIntBE=function(R,I,U,G){R=+R,I>>>=0,G||N(this,R,I,U,(G=Math.pow(2,8*U-1))-1,-G);var ee=U-1,ue=1,fe=0;for(this[I+ee]=255&R;0<=--ee&&(ue*=256);)R<0&&fe===0&&this[I+ee+1]!==0&&(fe=1),this[I+ee]=(R/ue>>0)-fe&255;return I+U},a.prototype.writeInt8=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,1,127,-128),this[I]=255&(R=R<0?255+R+1:R),I+1},a.prototype.writeInt16LE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,2,32767,-32768),this[I]=255&R,this[I+1]=R>>>8,I+2},a.prototype.writeInt16BE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,2,32767,-32768),this[I]=R>>>8,this[I+1]=255&R,I+2},a.prototype.writeInt32LE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,4,2147483647,-2147483648),this[I]=255&R,this[I+1]=R>>>8,this[I+2]=R>>>16,this[I+3]=R>>>24,I+4},a.prototype.writeInt32BE=function(R,I,U){return R=+R,I>>>=0,U||N(this,R,I,4,2147483647,-2147483648),this[I]=(R=R<0?4294967295+R+1:R)>>>24,this[I+1]=R>>>16,this[I+2]=R>>>8,this[I+3]=255&R,I+4},a.prototype.writeFloatLE=function(R,I,U){return k(this,R,I,!0,U)},a.prototype.writeFloatBE=function(R,I,U){return k(this,R,I,!1,U)},a.prototype.writeDoubleLE=function(R,I,U){return X(this,R,I,!0,U)},a.prototype.writeDoubleBE=function(R,I,U){return X(this,R,I,!1,U)},a.prototype.copy=function(R,I,U,G){if(!a.isBuffer(R))throw new TypeError("argument should be a Buffer");if(U=U||0,G||G===0||(G=this.length),I>=R.length&&(I=R.length),(G=0<G&&G<U?U:G)===U||R.length===0||this.length===0)return 0;if((I=I||0)<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length);var ee=(G=R.length-I<G-U?R.length-I+U:G)-U;if(this===R&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(I,U,G);else if(this===R&&U<I&&I<G)for(var ue=ee-1;0<=ue;--ue)R[ue+I]=this[ue+U];else Uint8Array.prototype.set.call(R,this.subarray(U,G),I);return ee},a.prototype.fill=function(R,I,U,G){if(typeof R=="string"){if(typeof I=="string"?(G=I,I=0,U=this.length):typeof U=="string"&&(G=U,U=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!a.isEncoding(G))throw new TypeError("Unknown encoding: "+G);var ee;R.length===1&&(ee=R.charCodeAt(0),(G==="utf8"&&ee<128||G==="latin1")&&(R=ee))}else typeof R=="number"?R&=255:typeof R=="boolean"&&(R=Number(R));if(I<0||this.length<I||this.length<U)throw new RangeError("Out of range index");var ue;if(!(U<=I))if(I>>>=0,U=U===void 0?this.length:U>>>0,typeof(R=R||0)=="number")for(ue=I;ue<U;++ue)this[ue]=R;else{var fe=a.isBuffer(R)?R:a.from(R,G),pe=fe.length;if(pe===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ue=0;ue<U-I;++ue)this[ue+I]=fe[ue%pe]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function q(R,I){I=I||1/0;for(var U,G=R.length,ee=null,ue=[],fe=0;fe<G;++fe){if(55295<(U=R.charCodeAt(fe))&&U<57344){if(!ee){if(56319<U){-1<(I-=3)&&ue.push(239,191,189);continue}if(fe+1===G){-1<(I-=3)&&ue.push(239,191,189);continue}ee=U;continue}if(U<56320){-1<(I-=3)&&ue.push(239,191,189),ee=U;continue}U=65536+(ee-55296<<10|U-56320)}else ee&&-1<(I-=3)&&ue.push(239,191,189);if(ee=null,U<128){if(--I<0)break;ue.push(U)}else if(U<2048){if((I-=2)<0)break;ue.push(U>>6|192,63&U|128)}else if(U<65536){if((I-=3)<0)break;ue.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;ue.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return ue}function H(R){return n.toByteArray(function(I){if((I=(I=I.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(R))}function z(R,I,U,G){for(var ee=0;ee<G&&!(ee+U>=I.length||ee>=R.length);++ee)I[ee+U]=R[ee];return ee}function W(R,I){return R instanceof I||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===I.name}function $(R){return R!=R}var se=function(){for(var R="0123456789abcdef",I=new Array(256),U=0;U<16;++U)for(var G=16*U,ee=0;ee<16;++ee)I[G+ee]=R[U]+R[ee];return I}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(t,o,l){o.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},{}],6:[function(t,o,l){var s=t("../internals/is-object");o.exports=function(n){if(s(n)||n===null)return n;throw TypeError("Can't set "+String(n)+" as a prototype")}},{"../internals/is-object":74}],7:[function(i,o,l){var s=i("../internals/well-known-symbol"),n=i("../internals/object-create"),i=i("../internals/object-define-property"),u=s("unscopables"),f=Array.prototype;f[u]==null&&i.f(f,u,{configurable:!0,value:n(null)}),o.exports=function(m){f[u][m]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(t,o,l){var s=t("../internals/string-multibyte").charAt;o.exports=function(n,i,u){return i+(u?s(n,i).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,o,l){o.exports=function(s,n,i){if(s instanceof n)return s;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},{}],10:[function(t,o,l){var s=t("../internals/is-object");o.exports=function(n){if(s(n))return n;throw TypeError(String(n)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,o,l){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,o,l){function s(X){return m(X)&&a(k,c(X))}var n,i=O("../internals/array-buffer-native"),u=O("../internals/descriptors"),f=O("../internals/global"),m=O("../internals/is-object"),a=O("../internals/has"),c=O("../internals/classof"),d=O("../internals/create-non-enumerable-property"),p=O("../internals/redefine"),g=O("../internals/object-define-property").f,y=O("../internals/object-get-prototype-of"),v=O("../internals/object-set-prototype-of"),P=O("../internals/well-known-symbol"),O=O("../internals/uid"),_=f.Int8Array,x=_&&_.prototype,w=f.Uint8ClampedArray,w=w&&w.prototype,E=_&&y(_),T=x&&y(x),M=Object.prototype,j=M.isPrototypeOf,P=P("toStringTag"),L=O("TYPED_ARRAY_TAG"),N=i&&!!v&&c(f.opera)!=="Opera",O=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(n in k)f[n]||(N=!1);if((!N||typeof E!="function"||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},N))for(n in k)f[n]&&v(f[n],E);if((!N||!T||T===M)&&(T=E.prototype,N))for(n in k)f[n]&&v(f[n].prototype,T);if(N&&y(w)!==T&&v(w,T),u&&!a(T,P))for(n in O=!0,g(T,P,{get:function(){return m(this)?this[L]:void 0}}),k)f[n]&&d(f[n],L,n);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:O&&L,aTypedArray:function(X){if(s(X))return X;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(X){if(v){if(j.call(E,X))return X}else for(var Y in k)if(a(k,n)&&(Y=f[Y],Y&&(X===Y||j.call(Y,X))))return X;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(X,Y,q){if(u){if(q)for(var H in k)H=f[H],H&&a(H.prototype,X)&&delete H.prototype[X];T[X]&&!q||p(T,X,!q&&N&&x[X]||Y)}},exportTypedArrayStaticMethod:function(X,Y,q){var H,z;if(u){if(v){if(q)for(H in k)(z=f[H])&&a(z,X)&&delete z[X];if(E[X]&&!q)return;try{return p(E,X,!q&&N&&_[X]||Y)}catch{}}for(H in k)!(z=f[H])||z[X]&&!q||p(z,X,Y)}},isView:function(X){return X=c(X),X==="DataView"||a(k,X)},isTypedArray:s,TypedArray:E,TypedArrayPrototype:T}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(U,o,l){function s(F){return[255&F]}function n(F){return[255&F,F>>8&255]}function i(F){return[255&F,F>>8&255,F>>16&255,F>>24&255]}function u(F){return F[3]<<24|F[2]<<16|F[1]<<8|F[0]}function f(F){return ue(F,23,4)}function m(F){return ue(F,52,8)}function a(F,re){O(F[W],re,{get:function(){return Y(this)[re]}})}function c(Se,re,Me,he){if(Me=M(Me),Se=Y(Se),Me+re>Se.byteLength)throw ee($);var de=Y(Se.buffer).bytes,Me=Me+Se.byteOffset,Se=de.slice(Me,Me+re);return he?Se:Se.reverse()}function d(F,re,ae,he,de,Me){if(ae=M(ae),F=Y(F),ae+re>F.byteLength)throw ee($);for(var Se=Y(F.buffer).bytes,je=ae+F.byteOffset,J=he(+de),te=0;te<re;te++)Se[je+te]=J[Me?te:re-te-1]}var p=U("../internals/global"),g=U("../internals/descriptors"),y=U("../internals/array-buffer-native"),v=U("../internals/create-non-enumerable-property"),_=U("../internals/redefine-all"),x=U("../internals/fails"),w=U("../internals/an-instance"),E=U("../internals/to-integer"),T=U("../internals/to-length"),M=U("../internals/to-index"),j=U("../internals/ieee754"),P=U("../internals/object-get-prototype-of"),L=U("../internals/object-set-prototype-of"),N=U("../internals/object-get-own-property-names").f,O=U("../internals/object-define-property").f,k=U("../internals/array-fill"),X=U("../internals/set-to-string-tag"),U=U("../internals/internal-state"),Y=U.get,q=U.set,H="ArrayBuffer",z="DataView",W="prototype",$="Wrong index",se=p[H],R=se,I=p[z],U=I&&I[W],G=Object.prototype,ee=p.RangeError,ue=j.pack,fe=j.unpack;if(y){if(!x(function(){se(1)})||!x(function(){new se(-1)})||x(function(){return new se,new se(1.5),new se(NaN),se.name!=H})){for(var pe,p=(R=function(ae){return w(this,R),new se(M(ae))})[W]=se[W],ce=N(se),ie=0;ce.length>ie;)(pe=ce[ie++])in R||v(R,pe,se[pe]);p.constructor=R}L&&P(U)!==G&&L(U,G);var j=new I(new R(2)),V=U.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||_(U,{setInt8:function(re,ae){V.call(this,re,ae<<24>>24)},setUint8:function(re,ae){V.call(this,re,ae<<24>>24)}},{unsafe:!0})}else R=function(F){w(this,R,H),F=M(F),q(this,{bytes:k.call(new Array(F),0),byteLength:F}),g||(this.byteLength=F)},I=function(F,de,ae){w(this,I,z),w(F,R,z);var he=Y(F).byteLength,de=E(de);if(de<0||he<de)throw ee("Wrong offset");if(he<de+(ae=ae===void 0?he-de:T(ae)))throw ee("Wrong length");q(this,{buffer:F,byteLength:ae,byteOffset:de}),g||(this.buffer=F,this.byteLength=ae,this.byteOffset=de)},g&&(a(R,"byteLength"),a(I,"buffer"),a(I,"byteLength"),a(I,"byteOffset")),_(I[W],{getInt8:function(F){return c(this,1,F)[0]<<24>>24},getUint8:function(F){return c(this,1,F)[0]},getInt16:function(F){return F=c(this,2,F,1<arguments.length?arguments[1]:void 0),(F[1]<<8|F[0])<<16>>16},getUint16:function(F){return F=c(this,2,F,1<arguments.length?arguments[1]:void 0),F[1]<<8|F[0]},getInt32:function(F){return u(c(this,4,F,1<arguments.length?arguments[1]:void 0))},getUint32:function(F){return u(c(this,4,F,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(F){return fe(c(this,4,F,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(F){return fe(c(this,8,F,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(F,re){d(this,1,F,s,re)},setUint8:function(F,re){d(this,1,F,s,re)},setInt16:function(F,re){d(this,2,F,n,re,2<arguments.length?arguments[2]:void 0)},setUint16:function(F,re){d(this,2,F,n,re,2<arguments.length?arguments[2]:void 0)},setInt32:function(F,re){d(this,4,F,i,re,2<arguments.length?arguments[2]:void 0)},setUint32:function(F,re){d(this,4,F,i,re,2<arguments.length?arguments[2]:void 0)},setFloat32:function(F,re){d(this,4,F,f,re,2<arguments.length?arguments[2]:void 0)},setFloat64:function(F,re){d(this,8,F,m,re,2<arguments.length?arguments[2]:void 0)}});X(R,H),X(I,z),o.exports={ArrayBuffer:R,DataView:I}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(t,o,l){var s=t("../internals/to-object"),n=t("../internals/to-absolute-index"),i=t("../internals/to-length"),u=Math.min;o.exports=[].copyWithin||function(g,m){var a=s(this),c=i(a.length),d=n(g,c),p=n(m,c),g=2<arguments.length?arguments[2]:void 0,y=u((g===void 0?c:n(g,c))-p,c-d),v=1;for(p<d&&d<p+y&&(v=-1,p+=y-1,d+=y-1);0<y--;)p in a?a[d]=a[p]:delete a[d],d+=v,p+=v;return a}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(t,o,l){var s=t("../internals/to-object"),n=t("../internals/to-absolute-index"),i=t("../internals/to-length");o.exports=function(u){for(var f=s(this),m=i(f.length),c=arguments.length,a=n(1<c?arguments[1]:void 0,m),c=2<c?arguments[2]:void 0,d=c===void 0?m:n(c,m);a<d;)f[a++]=u;return f}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(i,o,l){var s=i("../internals/array-iteration").forEach,n=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),n=n("forEach"),i=i("forEach");o.exports=n&&i?[].forEach:function(u){return s(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,o,l){var s=t("../internals/function-bind-context"),n=t("../internals/to-object"),i=t("../internals/call-with-safe-iteration-closing"),u=t("../internals/is-array-iterator-method"),f=t("../internals/to-length"),m=t("../internals/create-property"),a=t("../internals/get-iterator-method");o.exports=function(w){var d,p,g,y,v,_,x=n(w),w=typeof this=="function"?this:Array,E=arguments.length,T=1<E?arguments[1]:void 0,M=T!==void 0,j=a(x),P=0;if(M&&(T=s(T,2<E?arguments[2]:void 0,2)),j==null||w==Array&&u(j))for(p=new w(d=f(x.length));P<d;P++)_=M?T(x[P],P):x[P],m(p,P,_);else for(v=(y=j.call(x)).next,p=new w;!(g=v.call(y)).done;P++)_=M?i(y,T,[g.value,P],!0):g.value,m(p,P,_);return p.length=P,p}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(t,o,l){function s(f){return function(m,a,c){var d,p=n(m),g=i(p.length),y=u(c,g);if(f&&a!=a){for(;y<g;)if((d=p[y++])!=d)return!0}else for(;y<g;y++)if((f||y in p)&&p[y]===a)return f||y||0;return!f&&-1}}var n=t("../internals/to-indexed-object"),i=t("../internals/to-length"),u=t("../internals/to-absolute-index");o.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(t,o,l){function s(c){var d=c==1,p=c==2,g=c==3,y=c==4,v=c==6,_=c==5||v;return function(x,w,E,T){for(var M,j,P=u(x),L=i(P),N=n(w,E,3),O=f(L.length),k=0,w=T||m,X=d?w(x,O):p?w(x,0):void 0;k<O;k++)if((_||k in L)&&(j=N(M=L[k],k,P),c)){if(d)X[k]=j;else if(j)switch(c){case 3:return!0;case 5:return M;case 6:return k;case 2:a.call(X,M)}else if(y)return!1}return v?-1:g||y?y:X}}var n=t("../internals/function-bind-context"),i=t("../internals/indexed-object"),u=t("../internals/to-object"),f=t("../internals/to-length"),m=t("../internals/array-species-create"),a=[].push;o.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(c,o,l){var s=c("../internals/to-indexed-object"),n=c("../internals/to-integer"),i=c("../internals/to-length"),a=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),u=Math.min,f=[].lastIndexOf,m=!!f&&1/[1].lastIndexOf(1,-0)<0,a=a("lastIndexOf"),c=c("indexOf",{ACCESSORS:!0,1:0});o.exports=m||!a||!c?function(d){if(m)return f.apply(this,arguments)||0;var p=s(this),g=i(p.length),y=g-1;for((y=1<arguments.length?u(y,n(arguments[1])):y)<0&&(y=g+y);0<=y;y--)if(y in p&&p[y]===d)return y||0;return-1}:f},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(t,o,l){var s=t("../internals/fails"),n=t("../internals/well-known-symbol"),i=t("../internals/engine-v8-version"),u=n("species");o.exports=function(f){return 51<=i||!s(function(){var m=[];return(m.constructor={})[u]=function(){return{foo:1}},m[f](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(t,o,l){var s=t("../internals/fails");o.exports=function(n,i){var u=[][n];return!!u&&s(function(){u.call(null,i||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,o,l){function s(a){throw a}var n=t("../internals/descriptors"),i=t("../internals/fails"),u=t("../internals/has"),f=Object.defineProperty,m={};o.exports=function(a,c){var d,p,g,y;return u(m,a)?m[a]:(d=[][a],p=!!u(c=c||{},"ACCESSORS")&&c.ACCESSORS,g=u(c,0)?c[0]:s,y=u(c,1)?c[1]:void 0,m[a]=!!d&&!i(function(){if(p&&!n)return!0;var v={length:-1};p?f(v,1,{enumerable:!0,get:s}):v[1]=1,d.call(v,g,y)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,o,l){function s(m){return function(a,c,d,p){n(c);var g=i(a),y=u(g),v=f(g.length),_=m?v-1:0,x=m?-1:1;if(d<2)for(;;){if(_ in y){p=y[_],_+=x;break}if(_+=x,m?_<0:v<=_)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=_:_<v;_+=x)_ in y&&(p=c(p,y[_],_,g));return p}}var n=t("../internals/a-function"),i=t("../internals/to-object"),u=t("../internals/indexed-object"),f=t("../internals/to-length");o.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(t,o,l){var s=t("../internals/is-object"),n=t("../internals/is-array"),i=t("../internals/well-known-symbol")("species");o.exports=function(u,f){var m;return new((m=n(u)&&(typeof(m=u.constructor)=="function"&&(m===Array||n(m.prototype))||s(m)&&(m=m[i])===null)?void 0:m)===void 0?Array:m)(f===0?0:f)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(t,o,l){var s=t("../internals/an-object");o.exports=function(n,i,u,f){try{return f?i(s(u)[0],u[1]):i(u)}catch(m){throw f=n.return,f!==void 0&&s(f.call(n)),m}}},{"../internals/an-object":10}],27:[function(t,o,l){var s=t("../internals/well-known-symbol")("iterator"),n=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){n=!0}};u[s]=function(){return this},Array.from(u,function(){throw 2})}catch{}o.exports=function(f,m){if(!m&&!n)return!1;var a=!1;try{var c={};c[s]=function(){return{next:function(){return{done:a=!0}}}},f(c)}catch{}return a}},{"../internals/well-known-symbol":146}],28:[function(t,o,l){var s={}.toString;o.exports=function(n){return s.call(n).slice(8,-1)}},{}],29:[function(t,o,l){var s=t("../internals/to-string-tag-support"),n=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),u=n(function(){return arguments}())=="Arguments";o.exports=s?n:function(f){var m;return f===void 0?"Undefined":f===null?"Null":typeof(m=function(a,c){try{return a[c]}catch{}}(f=Object(f),i))=="string"?m:u?n(f):(m=n(f))=="Object"&&typeof f.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(g,o,l){var s=g("../internals/object-define-property").f,n=g("../internals/object-create"),i=g("../internals/redefine-all"),u=g("../internals/function-bind-context"),f=g("../internals/an-instance"),m=g("../internals/iterate"),a=g("../internals/define-iterator"),c=g("../internals/set-species"),d=g("../internals/descriptors"),p=g("../internals/internal-metadata").fastKey,g=g("../internals/internal-state"),y=g.set,v=g.getterFor;o.exports={getConstructor:function(_,x,w,E){function T(L,N,O){var k,X=P(L),Y=M(L,N);return Y?Y.value=O:(X.last=Y={index:k=p(N,!0),key:N,value:O,previous:N=X.last,next:void 0,removed:!1},X.first||(X.first=Y),N&&(N.next=Y),d?X.size++:L.size++,k!=="F"&&(X.index[k]=Y)),L}function M(k,N){var O,k=P(k),X=p(N);if(X!=="F")return k.index[X];for(O=k.first;O;O=O.next)if(O.key==N)return O}var j=_(function(L,N){f(L,j,x),y(L,{type:x,index:n(null),first:void 0,last:void 0,size:0}),d||(L.size=0),N!=null&&m(N,L[E],L,w)}),P=v(x);return i(j.prototype,{clear:function(){for(var L=P(this),N=L.index,O=L.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete N[O.index],O=O.next;L.first=L.last=void 0,d?L.size=0:this.size=0},delete:function(X){var N,O,k=P(this),X=M(this,X);return X&&(N=X.next,O=X.previous,delete k.index[X.index],X.removed=!0,O&&(O.next=N),N&&(N.previous=O),k.first==X&&(k.first=N),k.last==X&&(k.last=O),d?k.size--:this.size--),!!X},forEach:function(L){for(var N,O=P(this),k=u(L,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:O.first;)for(k(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(L){return!!M(this,L)}}),i(j.prototype,w?{get:function(L){return L=M(this,L),L&&L.value},set:function(L,N){return T(this,L===0?0:L,N)}}:{add:function(L){return T(this,L=L===0?0:L,L)}}),d&&s(j.prototype,"size",{get:function(){return P(this).size}}),j},setStrong:function(_,x,w){var E=x+" Iterator",T=v(x),M=v(E);a(_,x,function(j,P){y(this,{type:E,target:j,state:T(j),kind:P,last:void 0})},function(){for(var j=M(this),P=j.kind,L=j.last;L&&L.removed;)L=L.previous;return j.target&&(j.last=L=L?L.next:j.state.first)?P=="keys"?{value:L.key,done:!1}:P=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:j.target=void 0,done:!0}},w?"entries":"values",!w,!0),c(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(y,o,l){function s(T){return T.frozen||(T.frozen=new n)}function n(){this.entries=[]}function i(T,M){return x(T.entries,function(j){return j[0]===M})}var u=y("../internals/redefine-all"),f=y("../internals/internal-metadata").getWeakData,m=y("../internals/an-object"),a=y("../internals/is-object"),c=y("../internals/an-instance"),d=y("../internals/iterate"),p=y("../internals/array-iteration"),g=y("../internals/has"),y=y("../internals/internal-state"),v=y.set,_=y.getterFor,x=p.find,w=p.findIndex,E=0;n.prototype={get:function(T){if(T=i(this,T),T)return T[1]},has:function(T){return!!i(this,T)},set:function(T,M){var j=i(this,T);j?j[1]=M:this.entries.push([T,M])},delete:function(T){var M=w(this.entries,function(j){return j[0]===T});return~M&&this.entries.splice(M,1),!!~M}},o.exports={getConstructor:function(T,M,j,P){function L(k,X,Y){var q=O(k),H=f(m(X),!0);return H===!0?s(q).set(X,Y):H[q.id]=Y,k}var N=T(function(k,X){c(k,N,M),v(k,{type:M,id:E++,frozen:void 0}),X!=null&&d(X,k[P],k,j)}),O=_(M);return u(N.prototype,{delete:function(k){var X,Y=O(this);return!!a(k)&&((X=f(k))===!0?s(Y).delete(k):X&&g(X,Y.id)&&delete X[Y.id])},has:function(k){var X,Y=O(this);return!!a(k)&&((X=f(k))===!0?s(Y).has(k):X&&g(X,Y.id))}}),u(N.prototype,j?{get:function(k){var X,Y=O(this);if(a(k))return(X=f(k))===!0?s(Y).get(k):X?X[Y.id]:void 0},set:function(k,X){return L(this,k,X)}}:{add:function(k){return L(this,k,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/global"),i=t("../internals/is-forced"),u=t("../internals/redefine"),f=t("../internals/internal-metadata"),m=t("../internals/iterate"),a=t("../internals/an-instance"),c=t("../internals/is-object"),d=t("../internals/fails"),p=t("../internals/check-correctness-of-iteration"),g=t("../internals/set-to-string-tag"),y=t("../internals/inherit-if-required");o.exports=function(v,_,x){function w(H){var z=X[H];u(X,H,H=="add"?function(W){return z.call(this,W===0?0:W),this}:H=="delete"?function(W){return!(N&&!c(W))&&z.call(this,W===0?0:W)}:H=="get"?function(W){return N&&!c(W)?void 0:z.call(this,W===0?0:W)}:H=="has"?function(W){return!(N&&!c(W))&&z.call(this,W===0?0:W)}:function(W,$){return z.call(this,W===0?0:W,$),this})}var E,T,M,j,P,L=v.indexOf("Map")!==-1,N=v.indexOf("Weak")!==-1,O=L?"set":"add",k=n[v],X=k&&k.prototype,Y=k,q={};return i(v,typeof k!="function"||!(N||X.forEach&&!d(function(){new k().entries().next()})))?(Y=x.getConstructor(_,v,L,O),f.REQUIRED=!0):i(v,!0)&&(T=(E=new Y)[O](N?{}:-0,1)!=E,M=d(function(){E.has(1)}),j=p(function(H){new k(H)}),P=!N&&d(function(){for(var H=new k,z=5;z--;)H[O](z,z);return!H.has(-0)}),j||(((Y=_(function(H,z){return a(H,Y,v),H=y(new k,H,Y),z!=null&&m(z,H[O],H,L),H})).prototype=X).constructor=Y),(M||P)&&(w("delete"),w("has"),L&&w("get")),(P||T)&&w(O),N&&X.clear&&delete X.clear),q[v]=Y,s({global:!0,forced:Y!=k},q),g(Y,v),N||x.setStrong(Y,v,L),Y}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,o,l){var s=t("../internals/has"),n=t("../internals/own-keys"),i=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");o.exports=function(f,m){for(var a=n(m),c=u.f,d=i.f,p=0;p<a.length;p++){var g=a[p];s(f,g)||c(f,g,d(m,g))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,o,l){var s=t("../internals/well-known-symbol")("match");o.exports=function(n){var i=/./;try{"/./"[n](i)}catch{try{return i[s]=!1,"/./"[n](i)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(t,o,l){t=t("../internals/fails"),o.exports=!t(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":51}],36:[function(t,o,l){var s=t("../internals/require-object-coercible"),n=/"/g;o.exports=function(a,u,f,m){var a=String(s(a)),c="<"+u;return f!==""&&(c+=" "+f+'="'+String(m).replace(n,"&quot;")+'"'),c+">"+a+"</"+u+">"}},{"../internals/require-object-coercible":113}],37:[function(t,o,l){function s(){return this}var n=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),f=t("../internals/set-to-string-tag"),m=t("../internals/iterators");o.exports=function(a,c,d){return c+=" Iterator",a.prototype=i(n,{next:u(1,d)}),f(a,c,!1,!0),m[c]=s,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");o.exports=s?function(u,f,m){return n.f(u,f,i(1,m))}:function(u,f,m){return u[f]=m,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,o,l){o.exports=function(s,n){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:n}}},{}],40:[function(t,o,l){var s=t("../internals/to-primitive"),n=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");o.exports=function(u,f,m){f=s(f),f in u?n.f(u,f,i(0,m)):u[f]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(y,o,l){function s(){return this}var n=y("../internals/export"),i=y("../internals/create-iterator-constructor"),u=y("../internals/object-get-prototype-of"),f=y("../internals/object-set-prototype-of"),m=y("../internals/set-to-string-tag"),a=y("../internals/create-non-enumerable-property"),c=y("../internals/redefine"),d=y("../internals/well-known-symbol"),p=y("../internals/is-pure"),g=y("../internals/iterators"),y=y("../internals/iterators-core"),v=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,x=d("iterator"),w="values",E="entries";o.exports=function(T,M,j,q,L,N,O){i(j,M,q);function k(R){if(R===L&&$)return $;if(!_&&R in z)return z[R];switch(R){case"keys":case w:case E:return function(){return new j(this,R)}}return function(){return new j(this)}}var X,Y,q=M+" Iterator",H=!1,z=T.prototype,W=z[x]||z["@@iterator"]||L&&z[L],$=!_&&W||k(L),se=M=="Array"&&z.entries||W;if(se&&(se=u(se.call(new T)),v!==Object.prototype&&se.next&&(p||u(se)===v||(f?f(se,v):typeof se[x]!="function"&&a(se,x,s)),m(se,q,!0,!0),p&&(g[q]=s))),L==w&&W&&W.name!==w&&(H=!0,$=function(){return W.call(this)}),p&&!O||z[x]===$||a(z,x,$),g[M]=$,L)if(X={values:k(w),keys:N?$:k("keys"),entries:k(E)},O)for(Y in X)!_&&!H&&Y in z||c(z,Y,X[Y]);else n({target:M,proto:!0,forced:_||H},X);return X}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(t,o,l){var s=t("../internals/path"),n=t("../internals/has"),i=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;o.exports=function(f){var m=s.Symbol||(s.Symbol={});n(m,f)||u(m,f,{value:i.f(f)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(t,o,l){t=t("../internals/fails"),o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(n,o,l){var s=n("../internals/global"),n=n("../internals/is-object"),i=s.document,u=n(i)&&n(i.createElement);o.exports=function(f){return u?i.createElement(f):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,o,l){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,o,l){t=t("../internals/engine-user-agent"),o.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,o,l){t=t("../internals/get-built-in"),o.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(i,o,l){var s,n,u=i("../internals/global"),i=i("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?n=(s=u.split("."))[0]+s[1]:i&&(!(s=i.match(/Edge\/(\d+)/))||74<=s[1])&&(s=i.match(/Chrome\/(\d+)/))&&(n=s[1]),o.exports=n&&+n},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,o,l){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,o,l){var s=t("../internals/global"),n=t("../internals/object-get-own-property-descriptor").f,i=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),f=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),a=t("../internals/is-forced");o.exports=function(c,d){var p,g,y,v=c.target,_=c.global,x=c.stat,w=_?s:x?s[v]||f(v,{}):(s[v]||{}).prototype;if(w)for(p in d){if(g=d[p],y=c.noTargetGet?(y=n(w,p))&&y.value:w[p],!a(_?p:v+(x?".":"#")+p,c.forced)&&y!==void 0){if(typeof g==typeof y)continue;m(g,y)}(c.sham||y&&y.sham)&&i(g,"sham",!0),u(w,p,g,c)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,o,l){o.exports=function(s){try{return!!s()}catch{return!0}}},{}],52:[function(d,o,l){d("../modules/es.regexp.exec");var s=d("../internals/redefine"),n=d("../internals/fails"),i=d("../internals/well-known-symbol"),u=d("../internals/regexp-exec"),f=d("../internals/create-non-enumerable-property"),m=i("species"),a=!n(function(){var y=/./;return y.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(y,"$<a>")!=="7"}),c="a".replace(/./,"$0")==="$0",d=i("replace"),p=!!/./[d]&&/./[d]("a","$0")==="",g=!n(function(){var v=/(?:)/,y=v.exec,v=(v.exec=function(){return y.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});o.exports=function(y,v,_,x){var w,E,T=i(y),M=!n(function(){var P={};return P[T]=function(){return 7},""[y](P)!=7}),j=M&&!n(function(){var P=!1,L=/a/;return y==="split"&&((L={constructor:{}}).constructor[m]=function(){return L},L.flags="",L[T]=/./[T]),L.exec=function(){return P=!0,null},L[T](""),!P});M&&j&&(y!=="replace"||a&&c&&!p)&&(y!=="split"||g)||(w=/./[T],_=(j=_(T,""[y],function(P,L,N,O,k){return L.exec===u?M&&!k?{done:!0,value:w.call(L,N,O)}:{done:!0,value:P.call(N,L,O)}:{done:!1}},{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}))[0],E=j[1],s(String.prototype,y,_),s(RegExp.prototype,T,v==2?function(P,L){return E.call(P,this,L)}:function(P){return E.call(P,this)})),x&&f(RegExp.prototype[T],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(t,o,l){t=t("../internals/fails"),o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,o,l){var s=t("../internals/a-function");o.exports=function(n,i,u){if(s(n),i===void 0)return n;switch(u){case 0:return function(){return n.call(i)};case 1:return function(f){return n.call(i,f)};case 2:return function(f,m){return n.call(i,f,m)};case 3:return function(f,m,a){return n.call(i,f,m,a)}}return function(){return n.apply(i,arguments)}}},{"../internals/a-function":5}],55:[function(t,o,l){var s=t("../internals/a-function"),n=t("../internals/is-object"),i=[].slice,u={};o.exports=Function.bind||function(f){var m=s(this),a=i.call(arguments,1),c=function(){var d=a.concat(i.call(arguments));if(this instanceof c){var p=m,g=d.length,y=d;if(!(g in u)){for(var v=[],_=0;_<g;_++)v[_]="a["+_+"]";u[g]=Function("C,a","return new C("+v.join(",")+")")}return u[g](p,y)}return m.apply(f,d)};return n(m.prototype)&&(c.prototype=m.prototype),c}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,o,l){function s(u){return typeof u=="function"?u:void 0}var n=t("../internals/path"),i=t("../internals/global");o.exports=function(u,f){return arguments.length<2?s(n[u])||s(i[u]):n[u]&&n[u][f]||i[u]&&i[u][f]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,o,l){var s=t("../internals/classof"),n=t("../internals/iterators"),i=t("../internals/well-known-symbol")("iterator");o.exports=function(u){if(u!=null)return u[i]||u["@@iterator"]||n[s(u)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(t,o,l){var s=t("../internals/an-object"),n=t("../internals/get-iterator-method");o.exports=function(i){var u=n(i);if(typeof u!="function")throw TypeError(String(i)+" is not iterable");return s(u.call(i))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,o,l){(function(s){function n(i){return i&&i.Math==Math&&i}o.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof s=="object"&&s)||Function("return this")()}).call(this,typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,o,l){var s={}.hasOwnProperty;o.exports=function(n,i){return s.call(n,i)}},{}],61:[function(t,o,l){o.exports={}},{}],62:[function(t,o,l){var s=t("../internals/global");o.exports=function(n,i){var u=s.console;u&&u.error&&(arguments.length===1?u.error(n):u.error(n,i))}},{"../internals/global":59}],63:[function(t,o,l){t=t("../internals/get-built-in"),o.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/fails"),i=t("../internals/document-create-element");o.exports=!s&&!n(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,o,l){var s=Math.abs,n=Math.pow,i=Math.floor,u=Math.log,f=Math.LN2;o.exports={pack:function(m,a,_){var d,p,g,y=new Array(_),v=8*_-a-1,_=(1<<v)-1,x=_>>1,w=a===23?n(2,-24)-n(2,-77):0,E=m<0||m===0&&1/m<0?1:0,T=0;for((m=s(m))!=m||m===1/0?(p=m!=m?1:0,d=_):(d=i(u(m)/f),m*(g=n(2,-d))<1&&(d--,g*=2),2<=(m+=1<=d+x?w/g:w*n(2,1-x))*g&&(d++,g/=2),_<=d+x?(p=0,d=_):1<=d+x?(p=(m*g-1)*n(2,a),d+=x):(p=m*n(2,x-1)*n(2,a),d=0));8<=a;y[T++]=255&p,p/=256,a-=8);for(d=d<<a|p,v+=a;0<v;y[T++]=255&d,d/=256,v-=8);return y[--T]|=128*E,y},unpack:function(m,a){var c,d=m.length,_=8*d-a-1,p=(1<<_)-1,g=p>>1,y=_-7,v=d-1,_=m[v--],x=127&_;for(_>>=7;0<y;x=256*x+m[v],v--,y-=8);for(c=x&(1<<-y)-1,x>>=-y,y+=a;0<y;c=256*c+m[v],v--,y-=8);if(x===0)x=1-g;else{if(x===p)return c?NaN:_?-1/0:1/0;c+=n(2,a),x-=g}return(_?-1:1)*c*n(2,x-a)}}},{}],66:[function(t,o,l){var s=t("../internals/fails"),n=t("../internals/classof-raw"),i="".split;o.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return n(u)=="String"?i.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,o,l){var s=t("../internals/is-object"),n=t("../internals/object-set-prototype-of");o.exports=function(i,u,f){return n&&typeof(u=u.constructor)=="function"&&u!==f&&s(u=u.prototype)&&u!==f.prototype&&n(i,u),i}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(s,o,l){var s=s("../internals/shared-store"),n=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(i){return n.call(i)}),o.exports=s.inspectSource},{"../internals/shared-store":119}],69:[function(t,o,l){function s(y){f(y,c,{value:{objectID:"O"+ ++d,weakData:{}}})}var n=t("../internals/hidden-keys"),i=t("../internals/is-object"),u=t("../internals/has"),f=t("../internals/object-define-property").f,m=t("../internals/uid"),a=t("../internals/freezing"),c=m("meta"),d=0,p=Object.isExtensible||function(){return!0},g=o.exports={REQUIRED:!1,fastKey:function(y,v){if(!i(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!u(y,c)){if(!p(y))return"F";if(!v)return"E";s(y)}return y[c].objectID},getWeakData:function(y,v){if(!u(y,c)){if(!p(y))return!0;if(!v)return!1;s(y)}return y[c].weakData},onFreeze:function(y){return a&&g.REQUIRED&&p(y)&&!u(y,c)&&s(y),y}};n[c]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(_,o,l){var s,n,i,u,f,m,a,c,d=_("../internals/native-weak-map"),x=_("../internals/global"),p=_("../internals/is-object"),g=_("../internals/create-non-enumerable-property"),y=_("../internals/has"),v=_("../internals/shared-key"),_=_("../internals/hidden-keys"),x=x.WeakMap;a=d?(s=new x,n=s.get,i=s.has,u=s.set,f=function(w,E){return u.call(s,w,E),E},m=function(w){return n.call(s,w)||{}},function(w){return i.call(s,w)}):(_[c=v("state")]=!0,f=function(w,E){return g(w,c,E),E},m=function(w){return y(w,c)?w[c]:{}},function(w){return y(w,c)}),o.exports={set:f,get:m,has:a,enforce:function(w){return a(w)?m(w):f(w,{})},getterFor:function(w){return function(E){if(p(E)&&(E=m(E)).type===w)return E;throw TypeError("Incompatible receiver, "+w+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,o,l){var s=t("../internals/well-known-symbol"),n=t("../internals/iterators"),i=s("iterator"),u=Array.prototype;o.exports=function(f){return f!==void 0&&(n.Array===f||u[i]===f)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(t,o,l){var s=t("../internals/classof-raw");o.exports=Array.isArray||function(n){return s(n)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,o,l){function s(c,d){return(c=f[u(c)])==a||c!=m&&(typeof d=="function"?n(d):!!d)}var n=t("../internals/fails"),i=/#|\.prototype\./,u=s.normalize=function(c){return String(c).replace(i,".").toLowerCase()},f=s.data={},m=s.NATIVE="N",a=s.POLYFILL="P";o.exports=s},{"../internals/fails":51}],74:[function(t,o,l){o.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},{}],75:[function(t,o,l){o.exports=!1},{}],76:[function(t,o,l){var s=t("../internals/is-object"),n=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("match");o.exports=function(u){var f;return s(u)&&((f=u[i])!==void 0?!!f:n(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(t,o,l){function s(c,d){this.stopped=c,this.result=d}var n=t("../internals/an-object"),i=t("../internals/is-array-iterator-method"),u=t("../internals/to-length"),f=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),a=t("../internals/call-with-safe-iteration-closing");(o.exports=function(c,d,p,g,y){var v,_,x,w,E,T,M=f(d,p,g?2:1);if(y)v=c;else{if(typeof(d=m(c))!="function")throw TypeError("Target is not iterable");if(i(d)){for(_=0,x=u(c.length);_<x;_++)if((w=g?M(n(T=c[_])[0],T[1]):M(c[_]))&&w instanceof s)return w;return new s(!1)}v=d.call(c)}for(E=v.next;!(T=E.call(v)).done;)if(typeof(w=a(v,M,T.value,g))=="object"&&w&&w instanceof s)return w;return new s(!1)}).stop=function(c){return new s(!0,c)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(m,o,l){var s,n,i=m("../internals/object-get-prototype-of"),u=m("../internals/create-non-enumerable-property"),f=m("../internals/has"),a=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),a=a("iterator"),c=!1;[].keys&&("next"in(n=[].keys())?(i=i(i(n)))!==Object.prototype&&(s=i):c=!0),s==null&&(s={}),m||f(s,a)||u(s,a,function(){return this}),o.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:c}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(t,o,l){o.exports={}},{}],80:[function(t,o,l){o.exports=Math.sign||function(s){return(s=+s)==0||s!=s?s:s<0?-1:1}},{}],81:[function(g,o,l){var s,n,i,u,f,m,a,c,d=g("../internals/global"),E=g("../internals/object-get-own-property-descriptor").f,w=g("../internals/classof-raw"),p=g("../internals/task").set,g=g("../internals/engine-is-ios"),y=d.MutationObserver||d.WebKitMutationObserver,v=d.process,_=d.Promise,x=w(v)=="process",w=E(d,"queueMicrotask"),E=w&&w.value;E||(s=function(){var T,M;for(x&&(T=v.domain)&&T.exit();n;){M=n.fn,n=n.next;try{M()}catch(j){throw n?u():i=void 0,j}}i=void 0,T&&T.enter()},u=x?function(){v.nextTick(s)}:y&&!g?(f=!0,m=document.createTextNode(""),new y(s).observe(m,{characterData:!0}),function(){m.data=f=!f}):_&&_.resolve?(a=_.resolve(void 0),c=a.then,function(){c.call(a,s)}):function(){p.call(d,s)}),o.exports=E||function(T){T={fn:T,next:void 0},i&&(i.next=T),n||(n=T,u()),i=T}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(t,o,l){t=t("../internals/global"),o.exports=t.Promise},{"../internals/global":59}],83:[function(t,o,l){t=t("../internals/fails"),o.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,o,l){var s=t("../internals/fails"),n=t("../internals/well-known-symbol"),i=t("../internals/is-pure"),u=n("iterator");o.exports=!s(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),m=f.searchParams,a="";return f.pathname="c%20d",m.forEach(function(c,d){m.delete("b"),a+=d+c}),i&&!f.toJSON||!m.sort||f.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||a!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(s,o,l){var n=s("../internals/global"),s=s("../internals/inspect-source"),n=n.WeakMap;o.exports=typeof n=="function"&&/native code/.test(s(n))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,o,l){function s(i){var u,f;this.promise=new i(function(m,a){if(u!==void 0||f!==void 0)throw TypeError("Bad Promise constructor");u=m,f=a}),this.resolve=n(u),this.reject=n(f)}var n=t("../internals/a-function");o.exports.f=function(i){return new s(i)}},{"../internals/a-function":5}],87:[function(t,o,l){var s=t("../internals/is-regexp");o.exports=function(n){if(s(n))throw TypeError("The method doesn't accept regular expressions");return n}},{"../internals/is-regexp":76}],88:[function(t,o,l){var s=t("../internals/global").isFinite;o.exports=Number.isFinite||function(n){return typeof n=="number"&&s(n)}},{"../internals/global":59}],89:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/fails"),i=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),a=t("../internals/indexed-object"),c=Object.assign,d=Object.defineProperty;o.exports=!c||n(function(){var p,g,y,v;return!(!s||c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(g={},v="abcdefghijklmnopqrst",(p={})[y=Symbol()]=7,v.split("").forEach(function(_){g[_]=_}),c({},p)[y]!=7||i(c({},g)).join("")!=v)})?function(p,g){for(var y=m(p),v=arguments.length,_=1,x=u.f,w=f.f;_<v;)for(var E,T=a(arguments[_++]),M=x?i(T).concat(x(T)):i(T),j=M.length,P=0;P<j;)E=M[P++],s&&!w.call(T,E)||(y[E]=T[E]);return y}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(d,o,l){function s(){}var n,i=d("../internals/an-object"),u=d("../internals/object-define-properties"),f=d("../internals/enum-bug-keys"),m=d("../internals/hidden-keys"),a=d("../internals/html"),c=d("../internals/document-create-element"),d=d("../internals/shared-key"),p="prototype",g="script",y=d("IE_PROTO"),v=function(x){return"<"+g+">"+x+"</"+g+">"},_=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch{}_=n?((x=n).write(v("")),x.close(),w=x.parentWindow.Object,x=null,w):(x=c("iframe"),w="java"+g+":",x.style.display="none",a.appendChild(x),x.src=String(w),(w=x.contentWindow.document).open(),w.write(v("document.F=Object")),w.close(),w.F);for(var x,w,E=f.length;E--;)delete _[p][f[E]];return _()};m[y]=!0,o.exports=Object.create||function(x,w){var E;return x!==null?(s[p]=i(x),E=new s,s[p]=null,E[y]=x):E=_(),w===void 0?E:u(E,w)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/object-define-property"),i=t("../internals/an-object"),u=t("../internals/object-keys");o.exports=s?Object.defineProperties:function(f,m){i(f);for(var a,c=u(m),d=c.length,p=0;p<d;)n.f(f,a=c[p++],m[a]);return f}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/ie8-dom-define"),i=t("../internals/an-object"),u=t("../internals/to-primitive"),f=Object.defineProperty;l.f=s?f:function(m,a,c){if(i(m),a=u(a,!0),i(c),n)try{return f(m,a,c)}catch{}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(m[a]=c.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),u=t("../internals/to-indexed-object"),f=t("../internals/to-primitive"),m=t("../internals/has"),a=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;l.f=s?c:function(d,p){if(d=u(d),p=f(p,!0),a)try{return c(d,p)}catch{}if(m(d,p))return i(!n.f.call(d,p),d[p])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(t,o,l){var s=t("../internals/to-indexed-object"),n=t("../internals/object-get-own-property-names").f,i={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(f){if(!u||i.call(f)!="[object Window]")return n(s(f));try{return n(f)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(t,o,l){var s=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(i){return s(i,n)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,o,l){l.f=Object.getOwnPropertySymbols},{}],97:[function(u,o,l){var s=u("../internals/has"),n=u("../internals/to-object"),i=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),f=i("IE_PROTO"),m=Object.prototype;o.exports=u?Object.getPrototypeOf:function(a){return a=n(a),s(a,f)?a[f]:typeof a.constructor=="function"&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(t,o,l){var s=t("../internals/has"),n=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");o.exports=function(f,m){var a,c=n(f),d=0,p=[];for(a in c)!s(u,a)&&s(c,a)&&p.push(a);for(;m.length>d;)!s(c,a=m[d++])||~i(p,a)||p.push(a);return p}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(t,o,l){var s=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys");o.exports=Object.keys||function(i){return s(i,n)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,o,l){var s={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!s.call({1:2},1);l.f=i?function(u){return u=n(this,u),!!u&&u.enumerable}:s},{}],101:[function(t,o,l){var s=t("../internals/an-object"),n=t("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,u=!1,f={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(f,[]),u=f instanceof Array}catch{}return function(m,a){return s(m),n(a),u?i.call(m,a):m.__proto__=a,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,o,l){var s=t("../internals/to-string-tag-support"),n=t("../internals/classof");o.exports=s?{}.toString:function(){return"[object "+n(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(t,o,l){var s=t("../internals/get-built-in"),n=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),u=t("../internals/an-object");o.exports=s("Reflect","ownKeys")||function(f){var m=n.f(u(f)),a=i.f;return a?m.concat(a(f)):m}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,o,l){t=t("../internals/global"),o.exports=t},{"../internals/global":59}],105:[function(t,o,l){o.exports=function(s){try{return{error:!1,value:s()}}catch(n){return{error:!0,value:n}}}},{}],106:[function(t,o,l){var s=t("../internals/an-object"),n=t("../internals/is-object"),i=t("../internals/new-promise-capability");o.exports=function(u,f){return s(u),n(f)&&f.constructor===u?f:((0,(u=i.f(u)).resolve)(f),u.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,o,l){var s=t("../internals/redefine");o.exports=function(n,i,u){for(var f in i)s(n,f,i[f],u);return n}},{"../internals/redefine":108}],108:[function(m,o,l){var s=m("../internals/global"),n=m("../internals/create-non-enumerable-property"),i=m("../internals/has"),u=m("../internals/set-global"),f=m("../internals/inspect-source"),m=m("../internals/internal-state"),a=m.get,c=m.enforce,d=String(String).split("String");(o.exports=function(p,g,y,w){var _=!!w&&!!w.unsafe,x=!!w&&!!w.enumerable,w=!!w&&!!w.noTargetGet;typeof y=="function"&&(typeof g!="string"||i(y,"name")||n(y,"name",g),c(y).source=d.join(typeof g=="string"?g:"")),p===s?x?p[g]=y:u(g,y):(_?!w&&p[g]&&(x=!0):delete p[g],x?p[g]=y:n(p,g,y))})(Function.prototype,"toString",function(){return typeof this=="function"&&a(this).source||f(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,o,l){var s=t("./classof-raw"),n=t("./regexp-exec");o.exports=function(i,u){var f=i.exec;if(typeof f=="function"){if(f=f.call(i,u),typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(s(i)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return n.call(i,u)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(u,o,l){var s,n,i=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),f=RegExp.prototype.exec,m=String.prototype.replace,a=f,c=(s=/a/,n=/b*/g,f.call(s,"a"),f.call(n,"a"),s.lastIndex!==0||n.lastIndex!==0),d=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0;o.exports=a=c||p||d?function(g){var y,v,_,x,w=this,E=d&&w.sticky,T=i.call(w),M=w.source,j=0,P=g;return E&&((T=T.replace("y","")).indexOf("g")===-1&&(T+="g"),P=String(g).slice(w.lastIndex),0<w.lastIndex&&(!w.multiline||w.multiline&&g[w.lastIndex-1]!==`
`)&&(M="(?: "+M+")",P=" "+P,j++),v=new RegExp("^(?:"+M+")",T)),p&&(v=new RegExp("^"+M+"$(?!\\s)",T)),c&&(y=w.lastIndex),_=f.call(E?v:w,P),E?_?(_.input=_.input.slice(j),_[0]=_[0].slice(j),_.index=w.lastIndex,w.lastIndex+=_[0].length):w.lastIndex=0:c&&_&&(w.lastIndex=w.global?_.index+_[0].length:y),p&&_&&1<_.length&&m.call(_[0],v,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(_[x]=void 0)}),_}:a},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,o,l){var s=t("../internals/an-object");o.exports=function(){var n=s(this),i="";return n.global&&(i+="g"),n.ignoreCase&&(i+="i"),n.multiline&&(i+="m"),n.dotAll&&(i+="s"),n.unicode&&(i+="u"),n.sticky&&(i+="y"),i}},{"../internals/an-object":10}],112:[function(t,o,l){t=t("./fails");function s(n,i){return RegExp(n,i)}l.UNSUPPORTED_Y=t(function(){var n=s("a","y");return n.lastIndex=2,n.exec("abcd")!=null}),l.BROKEN_CARET=t(function(){var n=s("^r","gy");return n.lastIndex=2,n.exec("str")!=null})},{"./fails":51}],113:[function(t,o,l){o.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},{}],114:[function(t,o,l){o.exports=Object.is||function(s,n){return s===n?s!==0||1/s==1/n:s!=s&&n!=n}},{}],115:[function(t,o,l){var s=t("../internals/global"),n=t("../internals/create-non-enumerable-property");o.exports=function(i,u){try{n(s,i,u)}catch{s[i]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,o,l){var s=t("../internals/get-built-in"),n=t("../internals/object-define-property"),i=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),f=i("species");o.exports=function(a){var a=s(a),c=n.f;u&&a&&!a[f]&&c(a,f,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(t,o,l){var s=t("../internals/object-define-property").f,n=t("../internals/has"),i=t("../internals/well-known-symbol")("toStringTag");o.exports=function(u,f,m){u&&!n(u=m?u:u.prototype,i)&&s(u,i,{configurable:!0,value:f})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(t,o,l){var s=t("../internals/shared"),n=t("../internals/uid"),i=s("keys");o.exports=function(u){return i[u]||(i[u]=n(u))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(s,o,l){var i=s("../internals/global"),s=s("../internals/set-global"),n="__core-js_shared__",i=i[n]||s(n,{});o.exports=i},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,o,l){var s=t("../internals/is-pure"),n=t("../internals/shared-store");(o.exports=function(i,u){return n[i]||(n[i]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,o,l){var s=t("../internals/an-object"),n=t("../internals/a-function"),i=t("../internals/well-known-symbol")("species");o.exports=function(m,f){var m=s(m).constructor;return m===void 0||(m=s(m)[i])==null?f:n(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(t,o,l){var s=t("../internals/fails");o.exports=function(n){return s(function(){var i=""[n]('"');return i!==i.toLowerCase()||3<i.split('"').length})}},{"../internals/fails":51}],123:[function(t,o,l){function s(u){return function(c,d){var a,c=String(i(c)),d=n(d),p=c.length;return d<0||p<=d?u?"":void 0:(a=c.charCodeAt(d))<55296||56319<a||d+1===p||(p=c.charCodeAt(d+1))<56320||57343<p?u?c.charAt(d):a:u?c.slice(d,d+2):p-56320+(a-55296<<10)+65536}}var n=t("../internals/to-integer"),i=t("../internals/require-object-coercible");o.exports={codeAt:s(!1),charAt:s(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(t,o,l){function s(_){return _+22+75*(_<26)}function n(_){var x,w=[],E=(_=function(W){for(var $=[],se=0,R=W.length;se<R;){var I,U=W.charCodeAt(se++);55296<=U&&U<=56319&&se<R?(64512&(I=W.charCodeAt(se++)))==56320?$.push(((1023&U)<<10)+(1023&I)+65536):($.push(U),se--):$.push(U)}return $}(_)).length,T=128,M=0,j=72;for(O=0;O<_.length;O++)(x=_[O])<128&&w.push(v(x));var P=w.length,L=P;for(P&&w.push("-");L<E;){for(var N=i,O=0;O<_.length;O++)T<=(x=_[O])&&x<N&&(N=x);var k=L+1;if(N-T>y((i-M)/k))throw RangeError(p);for(M+=(N-T)*k,T=N,O=0;O<_.length;O++){if((x=_[O])<T&&++M>i)throw RangeError(p);if(x==T){for(var X=M,Y=u;;Y+=u){var q=Y<=j?1:j+f<=Y?f:Y-j;if(X<q)break;var H=X-q,z=u-q;w.push(v(s(q+H%z))),X=y(H/z)}w.push(v(s(X))),j=function(W,$,se){var R=0;for(W=se?y(W/a):W>>1,W+=y(W/$);g*f>>1<W;R+=u)W=y(W/g);return y(R+(g+1)*W/(W+m))}(M,k,L==P),M=0,++L}}++M,++T}return w.join("")}var i=2147483647,u=36,f=26,m=38,a=700,c=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=u-1,y=Math.floor,v=String.fromCharCode;o.exports=function(_){for(var x,w=[],E=_.toLowerCase().replace(d,".").split("."),T=0;T<E.length;T++)x=E[T],w.push(c.test(x)?"xn--"+n(x):x);return w.join(".")}},{}],125:[function(t,o,l){var s=t("../internals/to-integer"),n=t("../internals/require-object-coercible");o.exports="".repeat||function(i){var u=String(n(this)),f="",m=s(i);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(u+=u))1&m&&(f+=u);return f}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(t,o,l){var s=t("../internals/fails"),n=t("../internals/whitespaces");o.exports=function(i){return s(function(){return!!n[i]()||"​᠎"[i]()!="​᠎"||n[i].name!==i})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(i,o,l){function s(m){return function(a){return a=String(n(a)),1&m&&(a=a.replace(u,"")),a=2&m?a.replace(f,""):a}}var n=i("../internals/require-object-coercible"),i="["+i("../internals/whitespaces")+"]",u=RegExp("^"+i+i+"*"),f=RegExp(i+i+"*$");o.exports={start:s(1),end:s(2),trim:s(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(g,o,l){function s(L){return function(){P(L)}}function n(L){P(L.data)}function i(L){f.postMessage(L+"",y.protocol+"//"+y.host)}var u,f=g("../internals/global"),m=g("../internals/fails"),a=g("../internals/classof-raw"),c=g("../internals/function-bind-context"),d=g("../internals/html"),p=g("../internals/document-create-element"),g=g("../internals/engine-is-ios"),y=f.location,v=f.setImmediate,_=f.clearImmediate,x=f.process,w=f.MessageChannel,E=f.Dispatch,T=0,M={},j="onreadystatechange",P=function(L){var N;M.hasOwnProperty(L)&&(N=M[L],delete M[L],N())};v&&_||(v=function(L){for(var N=[],O=1;O<arguments.length;)N.push(arguments[O++]);return M[++T]=function(){(typeof L=="function"?L:Function(L)).apply(void 0,N)},u(T),T},_=function(L){delete M[L]},a(x)=="process"?u=function(L){x.nextTick(s(L))}:E&&E.now?u=function(L){E.now(s(L))}:w&&!g?(g=(a=new w).port2,a.port1.onmessage=n,u=c(g.postMessage,g,1)):!f.addEventListener||typeof postMessage!="function"||f.importScripts||m(i)||y.protocol==="file:"?u=j in p("script")?function(L){d.appendChild(p("script"))[j]=function(){d.removeChild(this),P(L)}}:function(L){setTimeout(s(L),0)}:(u=i,f.addEventListener("message",n,!1))),o.exports={set:v,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(t,o,l){var s=t("../internals/classof-raw");o.exports=function(n){if(typeof n!="number"&&s(n)!="Number")throw TypeError("Incorrect invocation");return+n}},{"../internals/classof-raw":28}],130:[function(t,o,l){var s=t("../internals/to-integer"),n=Math.max,i=Math.min;o.exports=function(u,f){return u=s(u),u<0?n(u+f,0):i(u,f)}},{"../internals/to-integer":133}],131:[function(t,o,l){var s=t("../internals/to-integer"),n=t("../internals/to-length");o.exports=function(u){if(u===void 0)return 0;var u=s(u),f=n(u);if(u!==f)throw RangeError("Wrong length or index");return f}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(t,o,l){var s=t("../internals/indexed-object"),n=t("../internals/require-object-coercible");o.exports=function(i){return s(n(i))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(t,o,l){var s=Math.ceil,n=Math.floor;o.exports=function(i){return isNaN(i=+i)?0:(0<i?n:s)(i)}},{}],134:[function(t,o,l){var s=t("../internals/to-integer"),n=Math.min;o.exports=function(i){return 0<i?n(s(i),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(t,o,l){var s=t("../internals/require-object-coercible");o.exports=function(n){return Object(s(n))}},{"../internals/require-object-coercible":113}],136:[function(t,o,l){var s=t("../internals/to-positive-integer");o.exports=function(n,i){if(n=s(n),n%i)throw RangeError("Wrong offset");return n}},{"../internals/to-positive-integer":137}],137:[function(t,o,l){var s=t("../internals/to-integer");o.exports=function(n){if(n=s(n),n<0)throw RangeError("The argument can't be less than 0");return n}},{"../internals/to-integer":133}],138:[function(t,o,l){var s=t("../internals/is-object");o.exports=function(n,i){if(!s(n))return n;var u,f;if(i&&typeof(u=n.toString)=="function"&&!s(f=u.call(n))||typeof(u=n.valueOf)=="function"&&!s(f=u.call(n))||!i&&typeof(u=n.toString)=="function"&&!s(f=u.call(n)))return f;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(t,o,l){var s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",o.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(t,o,l){function s(de,Me){for(var Se=0,je=Me.length,J=new(F(de))(je);Se<je;)J[Se]=Me[Se++];return J}function n(de,Me){I(de,Me,{get:function(){return se(this)[Me]}})}function i(de){return de instanceof ue||(de=P(de))=="ArrayBuffer"||de=="SharedArrayBuffer"}function u(de,Me){return re(de)&&typeof Me!="symbol"&&Me in de&&String(+Me)==String(Me)}function f(de,Me){return u(de,Me=M(Me,!0))?_(2,de[Me]):U(de,Me)}function m(de,Me,Se){return!(u(de,Me=M(Me,!0))&&L(Se)&&j(Se,"value"))||j(Se,"get")||j(Se,"set")||Se.configurable||j(Se,"writable")&&!Se.writable||j(Se,"enumerable")&&!Se.enumerable?I(de,Me,Se):(de[Me]=Se.value,de)}var a=t("../internals/export"),c=t("../internals/global"),d=t("../internals/descriptors"),p=t("../internals/typed-array-constructors-require-wrappers"),g=t("../internals/array-buffer-view-core"),y=t("../internals/array-buffer"),v=t("../internals/an-instance"),_=t("../internals/create-property-descriptor"),x=t("../internals/create-non-enumerable-property"),w=t("../internals/to-length"),E=t("../internals/to-index"),T=t("../internals/to-offset"),M=t("../internals/to-primitive"),j=t("../internals/has"),P=t("../internals/classof"),L=t("../internals/is-object"),N=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),k=t("../internals/object-get-own-property-names").f,X=t("../internals/typed-array-from"),Y=t("../internals/array-iteration").forEach,q=t("../internals/set-species"),H=t("../internals/object-define-property"),z=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),$=t("../internals/inherit-if-required"),se=W.get,R=W.set,I=H.f,U=z.f,G=Math.round,ee=c.RangeError,ue=y.ArrayBuffer,fe=y.DataView,pe=g.NATIVE_ARRAY_BUFFER_VIEWS,ce=g.TYPED_ARRAY_TAG,ie=g.TypedArray,V=g.TypedArrayPrototype,F=g.aTypedArrayConstructor,re=g.isTypedArray,ae="BYTES_PER_ELEMENT",he="Wrong length";d?(pe||(z.f=f,H.f=m,n(V,"buffer"),n(V,"byteOffset"),n(V,"byteLength"),n(V,"length")),a({target:"Object",stat:!0,forced:!pe},{getOwnPropertyDescriptor:f,defineProperty:m}),o.exports=function(we,Me,Se){function je(me,Q){I(me,Q,{get:function(){var ne=this,K=Q;return(ne=se(ne)).view[Te](K*J+ne.byteOffset,!0)},set:function(ne){var K=this,oe=Q;K=se(K),Se&&(ne=(ne=G(ne))<0?0:255<ne?255:255&ne),K.view[Pe](oe*J+K.byteOffset,ne,!0)},enumerable:!0})}var J=we.match(/\d+$/)[0]/8,te=we+(Se?"Clamped":"")+"Array",Te="get"+we,Pe="set"+we,Oe=c[te],ke=Oe,we=ke&&ke.prototype,Le={};pe?p&&(ke=Me(function(me,Q,ne,K){return v(me,ke,te),$(L(Q)?i(Q)?K!==void 0?new Oe(Q,T(ne,J),K):ne!==void 0?new Oe(Q,T(ne,J)):new Oe(Q):re(Q)?s(ke,Q):X.call(ke,Q):new Oe(E(Q)),me,ke)}),O&&O(ke,ie),Y(k(Oe),function(me){me in ke||x(ke,me,Oe[me])}),ke.prototype=we):(ke=Me(function(me,Q,ne,K){v(me,ke,te);var oe,xe,Ce=0,Ne=0;if(L(Q)){if(!i(Q))return re(Q)?s(ke,Q):X.call(ke,Q);var Ze=Q,Ne=T(ne,J),ne=Q.byteLength;if(K===void 0){if(ne%J||(oe=ne-Ne)<0)throw ee(he)}else if(ne<(oe=w(K)*J)+Ne)throw ee(he);xe=oe/J}else xe=E(Q),Ze=new ue(oe=xe*J);for(R(me,{buffer:Ze,byteOffset:Ne,byteLength:oe,length:xe,view:new fe(Ze)});Ce<xe;)je(me,Ce++)}),O&&O(ke,ie),we=ke.prototype=N(V)),we.constructor!==ke&&x(we,"constructor",ke),ce&&x(we,ce,te),Le[te]=ke,a({global:!0,forced:ke!=Oe,sham:!pe},Le),ae in ke||x(ke,ae,J),ae in we||x(we,ae,J),q(te)}):o.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(u,o,l){var s=u("../internals/global"),n=u("../internals/fails"),i=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f=s.ArrayBuffer,m=s.Int8Array;o.exports=!u||!n(function(){m(1)})||!n(function(){new m(-1)})||!i(function(a){new m,new m(null),new m(1.5),new m(a)},!0)||n(function(){return new m(new f(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(t,o,l){var s=t("../internals/to-object"),n=t("../internals/to-length"),i=t("../internals/get-iterator-method"),u=t("../internals/is-array-iterator-method"),f=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;o.exports=function(a){var c,d,p,g,y,v,_=s(a),x=arguments.length,w=1<x?arguments[1]:void 0,E=w!==void 0,T=i(_);if(T!=null&&!u(T))for(v=(y=T.call(_)).next,_=[];!(g=v.call(y)).done;)_.push(g.value);for(E&&2<x&&(w=f(w,arguments[2],2)),d=n(_.length),p=new(m(this))(d),c=0;c<d;c++)p[c]=E?w(_[c],c):_[c];return p}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(t,o,l){var s=0,n=Math.random();o.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++s+n).toString(36)}},{}],144:[function(t,o,l){t=t("../internals/native-symbol"),o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(t,o,l){t=t("../internals/well-known-symbol"),l.f=t},{"../internals/well-known-symbol":146}],146:[function(m,o,l){var s=m("../internals/global"),n=m("../internals/shared"),i=m("../internals/has"),u=m("../internals/uid"),f=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),a=n("wks"),c=s.Symbol,d=m?c:c&&c.withoutSetter||u;o.exports=function(p){return i(a,p)||(f&&i(c,p)?a[p]=c[p]:a[p]=d("Symbol."+p)),a[p]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(t,o,l){o.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],148:[function(i,o,l){var s=i("../internals/export"),n=i("../internals/global"),f=i("../internals/array-buffer"),i=i("../internals/set-species"),u="ArrayBuffer",f=f[u];s({global:!0,forced:n[u]!==f},{ArrayBuffer:f}),i(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(_,o,l){var s=_("../internals/export"),n=_("../internals/fails"),i=_("../internals/is-array"),u=_("../internals/is-object"),f=_("../internals/to-object"),m=_("../internals/to-length"),a=_("../internals/create-property"),c=_("../internals/array-species-create"),d=_("../internals/array-method-has-species-support"),v=_("../internals/well-known-symbol"),_=_("../internals/engine-v8-version"),p=v("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",v=51<=_||!n(function(){var x=[];return x[p]=!1,x.concat()[0]!==x}),_=d("concat");s({target:"Array",proto:!0,forced:!v||!_},{concat:function(x){for(var w,E,T,M,j,P=f(this),L=c(P,0),N=0,O=-1,k=arguments.length;O<k;O++)if(j=void 0,!u(M=T=O===-1?P:arguments[O])||((j=M[p])!==void 0?!j:!i(M))){if(g<=N)throw TypeError(y);a(L,N++,T)}else{if(E=m(T.length),g<N+E)throw TypeError(y);for(w=0;w<E;w++,N++)w in T&&a(L,N,T[w])}return L.length=N,L}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(i,o,l){var s=i("../internals/export"),n=i("../internals/array-copy-within"),i=i("../internals/add-to-unscopables");s({target:"Array",proto:!0},{copyWithin:n}),i("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(u,o,l){var s=u("../internals/export"),n=u("../internals/array-iteration").every,i=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),i=i("every"),u=u("every");s({target:"Array",proto:!0,forced:!i||!u},{every:function(f){return n(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(i,o,l){var s=i("../internals/export"),n=i("../internals/array-fill"),i=i("../internals/add-to-unscopables");s({target:"Array",proto:!0},{fill:n}),i("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(u,o,l){var s=u("../internals/export"),n=u("../internals/array-iteration").filter,i=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),i=i("filter"),u=u("filter");s({target:"Array",proto:!0,forced:!i||!u},{filter:function(f){return n(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(n,o,l){var s=n("../internals/export"),n=n("../internals/array-for-each");s({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/array-from");s({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(i){Array.from(i)})},{from:n})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/array-includes").includes,i=t("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return n(this,u,1<arguments.length?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(m,o,l){var s=m("../internals/export"),n=m("../internals/array-includes").indexOf,f=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0,f=f("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:u||!f||!m},{indexOf:function(a){return u?i.apply(this,arguments)||0:n(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(f,o,l){var s=f("../internals/to-indexed-object"),n=f("../internals/add-to-unscopables"),i=f("../internals/iterators"),u=f("../internals/internal-state"),f=f("../internals/define-iterator"),m="Array Iterator",a=u.set,c=u.getterFor(m);o.exports=f(Array,"Array",function(d,p){a(this,{type:m,target:s(d),index:0,kind:p})},function(){var d=c(this),p=d.target,g=d.kind,y=d.index++;return!p||y>=p.length?{value:d.target=void 0,done:!0}:g=="keys"?{value:y,done:!1}:g=="values"?{value:p[y],done:!1}:{value:[y,p[y]],done:!1}},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(f,o,l){var s=f("../internals/export"),u=f("../internals/indexed-object"),n=f("../internals/to-indexed-object"),f=f("../internals/array-method-is-strict"),i=[].join,u=u!=Object,f=f("join",",");s({target:"Array",proto:!0,forced:u||!f},{join:function(m){return i.call(n(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(n,o,l){var s=n("../internals/export"),n=n("../internals/array-last-index-of");s({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(u,o,l){var s=u("../internals/export"),n=u("../internals/array-iteration").map,i=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),i=i("map"),u=u("map");s({target:"Array",proto:!0,forced:!i||!u},{map:function(f){return n(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(p,o,l){var s=p("../internals/export"),n=p("../internals/is-object"),i=p("../internals/is-array"),u=p("../internals/to-absolute-index"),f=p("../internals/to-length"),m=p("../internals/to-indexed-object"),a=p("../internals/create-property"),c=p("../internals/well-known-symbol"),d=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),d=d("slice"),p=p("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),y=[].slice,v=Math.max;s({target:"Array",proto:!0,forced:!d||!p},{slice:function(_,x){var w,E,T,M=m(this),j=f(M.length),P=u(_,j),L=u(x===void 0?j:x,j);if(i(M)&&((w=typeof(w=M.constructor)=="function"&&(w===Array||i(w.prototype))||n(w)&&(w=w[g])===null?void 0:w)===Array||w===void 0))return y.call(M,P,L);for(E=new(w===void 0?Array:w)(v(L-P,0)),T=0;P<L;P++,T++)P in M&&a(E,T,M[P]);return E.length=T,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(u,o,l){var s=u("../internals/export"),n=u("../internals/array-iteration").some,i=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),i=i("some"),u=u("some");s({target:"Array",proto:!0,forced:!i||!u},{some:function(f){return n(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(d,o,l){var s=d("../internals/export"),n=d("../internals/to-absolute-index"),i=d("../internals/to-integer"),u=d("../internals/to-length"),f=d("../internals/to-object"),m=d("../internals/array-species-create"),a=d("../internals/create-property"),c=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),c=c("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min;s({target:"Array",proto:!0,forced:!c||!d},{splice:function(N,v){var _,x,w,E,T,M,j=f(this),P=u(j.length),L=n(N,P),N=arguments.length;if(N===0?_=x=0:x=N===1?(_=0,P-L):(_=N-2,g(p(i(v),0),P-L)),9007199254740991<P+_-x)throw TypeError("Maximum allowed length exceeded");for(w=m(j,x),E=0;E<x;E++)(T=L+E)in j&&a(w,E,j[T]);if(_<(w.length=x)){for(E=L;E<P-x;E++)M=E+_,(T=E+x)in j?j[M]=j[T]:delete j[M];for(E=P;P-x+_<E;E--)delete j[E-1]}else if(x<_)for(E=P-x;L<E;E--)M=E+_-1,(T=E+x-1)in j?j[M]=j[T]:delete j[M];for(E=0;E<_;E++)j[E+L]=arguments[E+2];return j.length=P-x+_,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(n,o,l){var s=n("../internals/descriptors"),n=n("../internals/object-define-property").f,i=Function.prototype,u=i.toString,f=/^\s*function ([^ (]*)/;!s||"name"in i||n(i,"name",{configurable:!0,get:function(){try{return u.call(this).match(f)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(n,o,l){var s=n("../internals/collection"),n=n("../internals/collection-strong");o.exports=s("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},n)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(s,o,l){var s=s("../internals/export"),n=Math.hypot,i=Math.abs,u=Math.sqrt;s({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(f,m){for(var a,c,d=0,p=0,g=arguments.length,y=0;p<g;)y<(a=i(arguments[p++]))?(d=d*(c=y/a)*c+1,y=a):d+=0<a?(c=a/y)*c:a;return y===1/0?1/0:y*u(d)}})},{"../internals/export":50}],168:[function(t,o,l){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(t,o,l){function s(O){var k,X,Y,q,H,z,W,$=d(O,!1);if(typeof $=="string"&&2<$.length){if((O=($=x($)).charCodeAt(0))===43||O===45){if((k=$.charCodeAt(2))===88||k===120)return NaN}else if(O===48){switch($.charCodeAt(1)){case 66:case 98:X=2,Y=49;break;case 79:case 111:X=8,Y=55;break;default:return+$}for(H=(q=$.slice(2)).length,z=0;z<H;z++)if((W=q.charCodeAt(z))<48||Y<W)return NaN;return parseInt(q,X)}}return+$}var n=t("../internals/descriptors"),i=t("../internals/global"),u=t("../internals/is-forced"),f=t("../internals/redefine"),m=t("../internals/has"),a=t("../internals/classof-raw"),c=t("../internals/inherit-if-required"),d=t("../internals/to-primitive"),p=t("../internals/fails"),g=t("../internals/object-create"),y=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,_=t("../internals/object-define-property").f,x=t("../internals/string-trim").trim,w="Number",E=i[w],T=E.prototype,M=a(g(T))==w;if(u(w,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var j,P=function(k){var k=arguments.length<1?0:k,X=this;return X instanceof P&&(M?p(function(){T.valueOf.call(X)}):a(X)!=w)?c(new E(s(k)),X,P):s(k)},L=n?y(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;L.length>N;N++)m(E,j=L[N])&&!m(P,j)&&_(P,j,v(E,j));(P.prototype=T).constructor=P,f(i,w,P)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(t,o,l){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(m,o,l){function s(d,p,g){return p===0?g:p%2==1?s(d,p-1,g*d):s(d*d,p/2,g)}var n=m("../internals/export"),i=m("../internals/to-integer"),u=m("../internals/this-number-value"),f=m("../internals/string-repeat"),m=m("../internals/fails"),a=1 .toFixed,c=Math.floor;n({target:"Number",proto:!0,forced:a&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){a.call({})})},{toFixed:function(w){function p(j,P){for(var L=-1,N=P;++L<6;)N+=j*E[L],E[L]=N%1e7,N=c(N/1e7)}function g(j){for(var P=6,L=0;0<=--P;)L+=E[P],E[P]=c(L/j),L=L%j*1e7}function y(){for(var j,P=6,L="";0<=--P;)L===""&&P!==0&&E[P]===0||(j=String(E[P]),L=L===""?j:L+f.call("0",7-j.length)+j);return L}var v,_,x=u(this),w=i(w),E=[0,0,0,0,0,0],T="",M="0";if(w<0||20<w)throw RangeError("Incorrect fraction digits");if(x!=x)return"NaN";if(x<=-1e21||1e21<=x)return String(x);if(x<0&&(T="-",x=-x),1e-21<x)if(x=(v=function(j){for(var P=0,L=j;4096<=L;)P+=12,L/=4096;for(;2<=L;)P+=1,L/=2;return P}(x*s(2,69,1))-69)<0?x*s(2,-v,1):x/s(2,v,1),x*=4503599627370496,0<(v=52-v)){for(p(0,x),_=w;7<=_;)p(1e7,0),_-=7;for(p(s(10,_,1),0),_=v-1;23<=_;)g(1<<23),_-=23;g(1<<_),p(1,1),g(2),M=y()}else p(0,x),p(1<<-v,0),M=y()+f.call("0",w);return M=0<w?T+((x=M.length)<=w?"0."+f.call("0",w-x)+M:M.slice(0,x-w)+"."+M.slice(x-w)):T+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(n,o,l){var s=n("../internals/export"),n=n("../internals/object-assign");s({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(u,o,l){var s=u("../internals/export"),f=u("../internals/fails"),n=u("../internals/to-indexed-object"),i=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),f=f(function(){i(1)});s({target:"Object",stat:!0,forced:!u||f,sham:!u},{getOwnPropertyDescriptor:function(m,a){return i(n(m),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(i,o,l){var s=i("../internals/export"),n=i("../internals/fails"),i=i("../internals/object-get-own-property-names-external").f;s({target:"Object",stat:!0,forced:n(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(f,o,l){var s=f("../internals/export"),n=f("../internals/fails"),i=f("../internals/to-object"),u=f("../internals/object-get-prototype-of"),f=f("../internals/correct-prototype-getter");s({target:"Object",stat:!0,forced:n(function(){u(1)}),sham:!f},{getPrototypeOf:function(m){return u(i(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/to-object"),i=t("../internals/object-keys");s({target:"Object",stat:!0,forced:t("../internals/fails")(function(){i(1)})},{keys:function(u){return i(n(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(i,o,l){var s=i("../internals/to-string-tag-support"),n=i("../internals/redefine"),i=i("../internals/object-to-string");s||n(Object.prototype,"toString",i,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(Se,o,l){var s,n,i,u,f=Se("../internals/export"),m=Se("../internals/is-pure"),a=Se("../internals/global"),c=Se("../internals/get-built-in"),d=Se("../internals/native-promise-constructor"),p=Se("../internals/redefine"),g=Se("../internals/redefine-all"),y=Se("../internals/set-to-string-tag"),v=Se("../internals/set-species"),_=Se("../internals/is-object"),x=Se("../internals/a-function"),w=Se("../internals/an-instance"),E=Se("../internals/classof-raw"),T=Se("../internals/inspect-source"),M=Se("../internals/iterate"),j=Se("../internals/check-correctness-of-iteration"),P=Se("../internals/species-constructor"),L=Se("../internals/task").set,N=Se("../internals/microtask"),O=Se("../internals/promise-resolve"),k=Se("../internals/host-report-errors"),X=Se("../internals/new-promise-capability"),Y=Se("../internals/perform"),q=Se("../internals/internal-state"),H=Se("../internals/is-forced"),je=Se("../internals/well-known-symbol"),z=Se("../internals/engine-v8-version"),W=je("species"),$="Promise",se=q.get,R=q.set,I=q.getterFor($),U=d,G=a.TypeError,ee=a.document,ue=a.process,fe=c("fetch"),pe=X.f,ce=pe,ie=E(ue)=="process",V=!!(ee&&ee.createEvent&&a.dispatchEvent),F="unhandledrejection",re="rejectionhandled",ae=1,he=2,de=1,Me=2,Se=H($,function(){var Le,me;return T(U)===String(U)&&(z===66||!ie&&typeof PromiseRejectionEvent!="function")?!0:!(!m||U.prototype.finally)||!(51<=z&&/native code/.test(U))&&(me=function(Q){Q(function(){},function(){})},((Le=U.resolve(1)).constructor={})[W]=me,!(Le.then(function(){})instanceof me))}),je=Se||!j(function(Le){U.all(Le).catch(function(){})}),J=function(Le){var me;return!(!_(Le)||typeof(me=Le.then)!="function")&&me},te=function(Le,me,Q){var ne;me.notified||(me.notified=!0,ne=me.reactions,N(function(){for(var K,oe,xe=me.value,Ce=me.state==ae,Ne=0;ne.length>Ne;){var Ze,be,De,ze=ne[Ne++],et=Ce?ze.ok:ze.fail,rt=ze.resolve,it=ze.reject,ut=ze.domain;try{et?(Ce||(me.rejection===Me&&function(at,Dt){L.call(a,function(){ie?ue.emit("rejectionHandled",at):Te(re,at,Dt.value)})}(Le,me),me.rejection=de),et===!0?Ze=xe:(ut&&ut.enter(),Ze=et(xe),ut&&(ut.exit(),De=!0)),Ze===ze.promise?it(G("Promise-chain cycle")):(be=J(Ze))?be.call(Ze,rt,it):rt(Ze)):it(xe)}catch(at){ut&&!De&&ut.exit(),it(at)}}me.reactions=[],me.notified=!1,Q&&!me.rejection&&(K=Le,oe=me,L.call(a,function(){var at=oe.value,Dt=Pe(oe);if(Dt&&(Dt=Y(function(){ie?ue.emit("unhandledRejection",at,K):Te(F,K,at)}),oe.rejection=ie||Pe(oe)?Me:de,Dt.error))throw Dt.value}))}))},Te=function(Le,me,Q){var ne;V?((ne=ee.createEvent("Event")).promise=me,ne.reason=Q,ne.initEvent(Le,!1,!0),a.dispatchEvent(ne)):ne={promise:me,reason:Q},(me=a["on"+Le])?me(ne):Le===F&&k("Unhandled promise rejection",Q)},Pe=function(Le){return Le.rejection!==de&&!Le.parent},Oe=function(Le,me,Q,ne){return function(K){Le(me,Q,K,ne)}},ke=function(Le,me,Q,ne){me.done||(me.done=!0,(me=ne||me).value=Q,me.state=he,te(Le,me,!0))},we=function(Le,me,Q,ne){if(!me.done){me.done=!0,ne&&(me=ne);try{if(Le===Q)throw G("Promise can't be resolved itself");var K=J(Q);K?N(function(){var oe={done:!1};try{K.call(Q,Oe(we,Le,oe,me),Oe(ke,Le,oe,me))}catch(xe){ke(Le,oe,xe,me)}}):(me.value=Q,me.state=ae,te(Le,me,!1))}catch(oe){ke(Le,{done:!1},oe,me)}}};Se&&(U=function(Le){w(this,U,$),x(Le),s.call(this);var me=se(this);try{Le(Oe(we,this,me),Oe(ke,this,me))}catch(Q){ke(this,me,Q)}},(s=function(Le){R(this,{type:$,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(U.prototype,{then:function(Le,me){var Q=I(this),ne=pe(P(this,U));return ne.ok=typeof Le!="function"||Le,ne.fail=typeof me=="function"&&me,ne.domain=ie?ue.domain:void 0,Q.parent=!0,Q.reactions.push(ne),Q.state!=0&&te(this,Q,!1),ne.promise},catch:function(Le){return this.then(void 0,Le)}}),n=function(){var Le=new s,me=se(Le);this.promise=Le,this.resolve=Oe(we,Le,me),this.reject=Oe(ke,Le,me)},X.f=pe=function(Le){return Le===U||Le===i?new n:ce(Le)},m||typeof d!="function"||(u=d.prototype.then,p(d.prototype,"then",function(Le,me){var Q=this;return new U(function(ne,K){u.call(Q,ne,K)}).then(Le,me)},{unsafe:!0}),typeof fe=="function"&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(Le){return O(U,fe.apply(a,arguments))}}))),f({global:!0,wrap:!0,forced:Se},{Promise:U}),y(U,$,!1,!0),v($),i=c($),f({target:$,stat:!0,forced:Se},{reject:function(Le){var me=pe(this);return me.reject.call(void 0,Le),me.promise}}),f({target:$,stat:!0,forced:m||Se},{resolve:function(Le){return O(m&&this===i?U:this,Le)}}),f({target:$,stat:!0,forced:je},{all:function(Le){var me=this,Q=pe(me),ne=Q.resolve,K=Q.reject,oe=Y(function(){var xe=x(me.resolve),Ce=[],Ne=0,Ze=1;M(Le,function(be){var De=Ne++,ze=!1;Ce.push(void 0),Ze++,xe.call(me,be).then(function(et){ze||(ze=!0,Ce[De]=et,--Ze||ne(Ce))},K)}),--Ze||ne(Ce)});return oe.error&&K(oe.value),Q.promise},race:function(Le){var me=this,Q=pe(me),ne=Q.reject,K=Y(function(){var oe=x(me.resolve);M(Le,function(xe){oe.call(me,xe).then(Q.resolve,ne)})});return K.error&&ne(K.value),Q.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(a,o,l){var s=a("../internals/export"),g=a("../internals/get-built-in"),n=a("../internals/a-function"),i=a("../internals/an-object"),u=a("../internals/is-object"),f=a("../internals/object-create"),m=a("../internals/function-bind"),a=a("../internals/fails"),c=g("Reflect","construct"),d=a(function(){function y(){}return!(c(function(){},[],y)instanceof y)}),p=!a(function(){c(function(){})}),g=d||p;s({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(y,v){n(y),i(v);var _=arguments.length<3?y:n(arguments[2]);if(p&&!d)return c(y,v,_);if(y==_){switch(v.length){case 0:return new y;case 1:return new y(v[0]);case 2:return new y(v[0],v[1]);case 3:return new y(v[0],v[1],v[2]);case 4:return new y(v[0],v[1],v[2],v[3])}var x=[null];return x.push.apply(x,v),new(m.apply(y,x))}return x=_.prototype,_=f(u(x)?x:Object.prototype),x=Function.apply.call(y,_,v),u(x)?x:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(t,o,l){var s=t("../internals/descriptors"),n=t("../internals/global"),i=t("../internals/is-forced"),u=t("../internals/inherit-if-required"),f=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,a=t("../internals/is-regexp"),c=t("../internals/regexp-flags"),d=t("../internals/regexp-sticky-helpers"),p=t("../internals/redefine"),g=t("../internals/fails"),y=t("../internals/internal-state").set,v=t("../internals/set-species"),_=t("../internals/well-known-symbol")("match"),x=n.RegExp,w=x.prototype,E=/a/g,T=/a/g,M=new x(E)!==E,j=d.UNSUPPORTED_Y;if(s&&i("RegExp",!M||j||g(function(){return T[_]=!1,x(E)!=E||x(T)==T||x(E,"i")!="/a/i"}))){for(var P=function(O,k){var X,Y=this instanceof P,q=a(O),H=k===void 0;return!Y&&q&&O.constructor===P&&H?O:(M?q&&!H&&(O=O.source):O instanceof P&&(H&&(k=c.call(O)),O=O.source),j&&(X=!!k&&-1<k.indexOf("y"))&&(k=k.replace(/y/g,"")),q=u(M?new x(O,k):x(O,k),Y?this:w,P),j&&X&&y(q,{sticky:X}),q)},L=m(x),N=0;L.length>N;)(function(O){O in P||f(P,O,{configurable:!0,get:function(){return x[O]},set:function(k){x[O]=k}})})(L[N++]);(w.constructor=P).prototype=w,p(n,"RegExp",P)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(n,o,l){var s=n("../internals/export"),n=n("../internals/regexp-exec");s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(u,o,l){var s=u("../internals/redefine"),n=u("../internals/an-object"),a=u("../internals/fails"),i=u("../internals/regexp-flags"),u="toString",f=RegExp.prototype,m=f[u],a=a(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),c=m.name!=u;(a||c)&&s(RegExp.prototype,u,function(){var d=n(this),p=String(d.source),g=d.flags;return"/"+p+"/"+String(g===void 0&&d instanceof RegExp&&!("flags"in f)?i.call(d):g)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(n,o,l){var s=n("../internals/collection"),n=n("../internals/collection-strong");o.exports=s("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},n)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(m,o,l){var s=m("../internals/export"),n=m("../internals/object-get-own-property-descriptor").f,i=m("../internals/to-length"),u=m("../internals/not-a-regexp"),f=m("../internals/require-object-coercible"),d=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),a="".endsWith,c=Math.min,d=d("endsWith");s({target:"String",proto:!0,forced:!!(m||d||!(s=n(String.prototype,"endsWith"))||s.writable)&&!d},{endsWith:function(p){var g=String(f(this)),y=(u(p),1<arguments.length?arguments[1]:void 0),v=i(g.length),y=y===void 0?v:c(i(y),v),v=String(p);return a?a.call(g,v,y):g.slice(y-v.length,y)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible");s({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(i(this)).indexOf(n(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(i,o,l){var s=i("../internals/string-multibyte").charAt,n=i("../internals/internal-state"),i=i("../internals/define-iterator"),u="String Iterator",f=n.set,m=n.getterFor(u);i(String,"String",function(a){f(this,{type:u,string:String(a),index:0})},function(){var a=m(this),c=a.string,d=a.index;return d>=c.length?{value:void 0,done:!0}:(c=s(c,d),a.index+=c.length,{value:c,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(t,o,l){var s=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),i=t("../internals/to-length"),u=t("../internals/require-object-coercible"),f=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");s("match",1,function(a,c,d){return[function(p){var g=u(this),y=p==null?void 0:p[a];return y!==void 0?y.call(p,g):new RegExp(p)[a](String(g))},function(p){var g=d(c,p,this);if(g.done)return g.value;var y=n(p),v=String(this);if(!y.global)return m(y,v);for(var _=y.unicode,x=[],w=y.lastIndex=0;(E=m(y,v))!==null;){var E=String(E[0]);(x[w]=E)===""&&(y.lastIndex=f(v,i(y.lastIndex),_)),w++}return w===0?null:x}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(t,o,l){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(t,o,l){var s=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),i=t("../internals/to-object"),u=t("../internals/to-length"),f=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),a=t("../internals/advance-string-index"),c=t("../internals/regexp-exec-abstract"),d=Math.max,p=Math.min,g=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;s("replace",2,function(_,x,w,E){var T=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=E.REPLACE_KEEPS_$0,j=T?"$":"$0";return[function(P,L){var N=m(this),O=P==null?void 0:P[_];return O!==void 0?O.call(P,N,L):x.call(String(N),P,L)},function(P,L){if(!T&&M||typeof L=="string"&&L.indexOf(j)===-1){var N=w(x,P,this,L);if(N.done)return N.value}for(var O,k=n(P),X=String(this),Y=typeof L=="function",q=(Y||(L=String(L)),k.global),H=(q&&(O=k.unicode,k.lastIndex=0),[]);(R=c(k,X))!==null&&(H.push(R),q);)String(R[0])===""&&(k.lastIndex=a(X,u(k.lastIndex),O));for(var z,W="",$=0,se=0;se<H.length;se++){for(var R=H[se],I=String(R[0]),U=d(p(f(R.index),X.length),0),G=[],ee=1;ee<R.length;ee++)G.push((z=R[ee])===void 0?z:String(z));var ue=R.groups,fe=Y?(fe=[I].concat(G,U,X),ue!==void 0&&fe.push(ue),String(L.apply(void 0,fe))):function(pe,ce,ie,V,F,re){var ae=ie+pe.length,he=V.length,de=v;return F!==void 0&&(F=i(F),de=y),x.call(re,de,function(Me,Se){var je;switch(Se.charAt(0)){case"$":return"$";case"&":return pe;case"`":return ce.slice(0,ie);case"'":return ce.slice(ae);case"<":je=F[Se.slice(1,-1)];break;default:var J,te=+Se;if(te==0)return Me;if(he<te)return(J=g(te/10))!==0&&J<=he?V[J-1]===void 0?Se.charAt(1):V[J-1]+Se.charAt(1):Me;je=V[te-1]}return je===void 0?"":je})}(I,X,U,G,ue,L);$<=U&&(W+=X.slice($,U)+fe,$=U+I.length)}return W+X.slice($)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(t,o,l){var s=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),i=t("../internals/require-object-coercible"),u=t("../internals/same-value"),f=t("../internals/regexp-exec-abstract");s("search",1,function(m,a,c){return[function(d){var p=i(this),g=d==null?void 0:d[m];return g!==void 0?g.call(d,p):new RegExp(d)[m](String(p))},function(d){var p,g=c(a,d,this);return g.done?g.value:(g=n(d),d=String(this),p=g.lastIndex,u(p,0)||(g.lastIndex=0),d=f(g,d),u(g.lastIndex,p)||(g.lastIndex=p),d===null?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(p,o,l){var s=p("../internals/fix-regexp-well-known-symbol-logic"),n=p("../internals/is-regexp"),i=p("../internals/an-object"),u=p("../internals/require-object-coercible"),f=p("../internals/species-constructor"),m=p("../internals/advance-string-index"),a=p("../internals/to-length"),c=p("../internals/regexp-exec-abstract"),d=p("../internals/regexp-exec"),p=p("../internals/fails"),g=[].push,y=Math.min,v=4294967295,_=!p(function(){return!RegExp(v,"y")});s("split",2,function(x,w,E){var T="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,j){var P=String(u(this)),L=j===void 0?v:j>>>0;if(L==0)return[];if(M===void 0)return[P];if(!n(M))return w.call(P,M,L);for(var N,O,k,X=[],j=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),Y=0,q=new RegExp(M.source,j+"g");(N=d.call(q,P))&&!(Y<(O=q.lastIndex)&&(X.push(P.slice(Y,N.index)),1<N.length&&N.index<P.length&&g.apply(X,N.slice(1)),k=N[0].length,Y=O,X.length>=L));)q.lastIndex===N.index&&q.lastIndex++;return Y===P.length?!k&&q.test("")||X.push(""):X.push(P.slice(Y)),X.length>L?X.slice(0,L):X}:"0".split(void 0,0).length?function(M,j){return M===void 0&&j===0?[]:w.call(this,M,j)}:w;return[function(M,j){var P=u(this),L=M==null?void 0:M[x];return L!==void 0?L.call(M,P,j):T.call(String(P),M,j)},function(N,j){var P=E(T,N,this,j,T!==w);if(P.done)return P.value;var P=i(N),L=String(this),N=f(P,RegExp),O=P.unicode,k=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(_?"y":"g"),X=new N(_?P:"^(?:"+P.source+")",k),Y=j===void 0?v:j>>>0;if(Y==0)return[];if(L.length===0)return c(X,L)===null?[L]:[];for(var q=0,H=0,z=[];H<L.length;){X.lastIndex=_?H:0;var W,$=c(X,_?L:L.slice(H));if($===null||(W=y(a(X.lastIndex+(_?0:H)),L.length))===q)H=m(L,H,O);else{if(z.push(L.slice(q,H)),z.length===Y)return z;for(var se=1;se<=$.length-1;se++)if(z.push($[se]),z.length===Y)return z;H=q=W}}return z.push(L.slice(q)),z}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/create-html");s({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return n(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(t,o,l){var s=t("../internals/export"),n=t("../internals/string-trim").trim;s({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return n(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(y,o,l){var s,n,i,u,f,m=y("../internals/export"),a=y("../internals/descriptors"),c=y("../internals/global"),d=y("../internals/has"),p=y("../internals/is-object"),g=y("../internals/object-define-property").f,y=y("../internals/copy-constructor-properties"),v=c.Symbol;!a||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(s={},y(n=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof n?new v(_):_===void 0?v():v(_);return _===""&&(s[x]=!0),x},v),(c=n.prototype=v.prototype).constructor=n,i=c.toString,u=String(v("test"))=="Symbol(test)",f=/^Symbol\((.*)\)[^)]+$/,g(c,"description",{configurable:!0,get:function(){var _=p(this)?this.valueOf():this,x=i.call(_);return d(s,_)?"":(_=u?x.slice(7,-1):x.replace(f,"$1"))===""?void 0:_}}),m({global:!0,forced:!0},{Symbol:n}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(t,o,l){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(ce,o,l){function s(K,oe){var xe=je[K]=P(re[pe]);return ie(xe,{type:fe,tag:K,description:oe}),d||(xe.description=oe),xe}function n(K,Ce){w(K);var xe=T(Ce),Ce=L(xe).concat(ne(xe));return ee(Ce,function(Ne){d&&!Q.call(xe,Ne)||me(K,Ne,xe[Ne])}),K}function i(Ce,Ne){var xe,Ce=T(Ce),Ne=M(Ne,!0);if(Ce!==F||!v(je,Ne)||v(J,Ne))return!(xe=he(Ce,Ne))||!v(je,Ne)||v(Ce,ue)&&Ce[ue][Ne]||(xe.enumerable=!0),xe}function u(oe){var oe=Me(T(oe)),xe=[];return ee(oe,function(Ce){v(je,Ce)||v($,Ce)||xe.push(Ce)}),xe}var f=ce("../internals/export"),m=ce("../internals/global"),a=ce("../internals/get-built-in"),c=ce("../internals/is-pure"),d=ce("../internals/descriptors"),p=ce("../internals/native-symbol"),g=ce("../internals/use-symbol-as-uid"),y=ce("../internals/fails"),v=ce("../internals/has"),_=ce("../internals/is-array"),x=ce("../internals/is-object"),w=ce("../internals/an-object"),E=ce("../internals/to-object"),T=ce("../internals/to-indexed-object"),M=ce("../internals/to-primitive"),j=ce("../internals/create-property-descriptor"),P=ce("../internals/object-create"),L=ce("../internals/object-keys"),N=ce("../internals/object-get-own-property-names"),O=ce("../internals/object-get-own-property-names-external"),k=ce("../internals/object-get-own-property-symbols"),X=ce("../internals/object-get-own-property-descriptor"),Y=ce("../internals/object-define-property"),q=ce("../internals/object-property-is-enumerable"),H=ce("../internals/create-non-enumerable-property"),z=ce("../internals/redefine"),W=ce("../internals/shared"),Pe=ce("../internals/shared-key"),$=ce("../internals/hidden-keys"),se=ce("../internals/uid"),R=ce("../internals/well-known-symbol"),I=ce("../internals/well-known-symbol-wrapped"),U=ce("../internals/define-well-known-symbol"),G=ce("../internals/set-to-string-tag"),Oe=ce("../internals/internal-state"),ee=ce("../internals/array-iteration").forEach,ue=Pe("hidden"),fe="Symbol",pe="prototype",ce=R("toPrimitive"),ie=Oe.set,V=Oe.getterFor(fe),F=Object[pe],re=m.Symbol,ae=a("JSON","stringify"),he=X.f,de=Y.f,Me=O.f,Se=q.f,je=W("symbols"),J=W("op-symbols"),te=W("string-to-symbol-registry"),Te=W("symbol-to-string-registry"),Pe=W("wks"),Oe=m.QObject,ke=!Oe||!Oe[pe]||!Oe[pe].findChild,we=d&&y(function(){return P(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(K,oe,xe){var Ce=he(F,oe);Ce&&delete F[oe],de(K,oe,xe),Ce&&K!==F&&de(F,oe,Ce)}:de,Le=g?function(K){return typeof K=="symbol"}:function(K){return Object(K)instanceof re},me=function(K,oe,xe){return K===F&&me(J,oe,xe),w(K),oe=M(oe,!0),w(xe),(v(je,oe)?(xe.enumerable?(v(K,ue)&&K[ue][oe]&&(K[ue][oe]=!1),xe=P(xe,{enumerable:j(0,!1)})):(v(K,ue)||de(K,ue,j(1,{})),K[ue][oe]=!0),we):de)(K,oe,xe)},Q=function(oe){var oe=M(oe,!0),xe=Se.call(this,oe);return!(this===F&&v(je,oe)&&!v(J,oe))&&(!(xe||!v(this,oe)||!v(je,oe)||v(this,ue)&&this[ue][oe])||xe)},ne=function(xe){var oe=xe===F,xe=Me(oe?J:T(xe)),Ce=[];return ee(xe,function(Ne){!v(je,Ne)||oe&&!v(F,Ne)||Ce.push(je[Ne])}),Ce};p||(z((re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor");var K=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,oe=se(K),xe=function(Ce){this===F&&xe.call(J,Ce),v(this,ue)&&v(this[ue],oe)&&(this[ue][oe]=!1),we(this,oe,j(1,Ce))};return d&&ke&&we(F,oe,{configurable:!0,set:xe}),s(oe,K)})[pe],"toString",function(){return V(this).tag}),z(re,"withoutSetter",function(K){return s(se(K),K)}),q.f=Q,Y.f=me,X.f=i,N.f=O.f=u,k.f=ne,I.f=function(K){return s(R(K),K)},d&&(de(re[pe],"description",{configurable:!0,get:function(){return V(this).description}}),c||z(F,"propertyIsEnumerable",Q,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:re}),ee(L(Pe),function(K){U(K)}),f({target:fe,stat:!0,forced:!p},{for:function(xe){var oe,xe=String(xe);return v(te,xe)?te[xe]:(oe=re(xe),te[xe]=oe,Te[oe]=xe,oe)},keyFor:function(K){if(!Le(K))throw TypeError(K+" is not a symbol");if(v(Te,K))return Te[K]},useSetter:function(){ke=!0},useSimple:function(){ke=!1}}),f({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(K,oe){return oe===void 0?P(K):n(P(K),oe)},defineProperty:me,defineProperties:n,getOwnPropertyDescriptor:i}),f({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:u,getOwnPropertySymbols:ne}),f({target:"Object",stat:!0,forced:y(function(){k.f(1)})},{getOwnPropertySymbols:function(K){return k.f(E(K))}}),ae&&f({target:"JSON",stat:!0,forced:!p||y(function(){var K=re();return ae([K])!="[null]"||ae({a:K})!="{}"||ae(Object(K))!="{}"})},{stringify:function(K,oe,xe){for(var Ce,Ne=[K],Ze=1;Ze<arguments.length;)Ne.push(arguments[Ze++]);if((x(Ce=oe)||K!==void 0)&&!Le(K))return _(oe)||(oe=function(be,De){if(typeof Ce=="function"&&(De=Ce.call(this,be,De)),!Le(De))return De}),Ne[1]=oe,ae.apply(null,Ne)}}),re[pe][ce]||H(re[pe],ce,re[pe].valueOf),G(re,fe),$[ue]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-copy-within"),i=s.aTypedArray;(0,s.exportTypedArrayMethod)("copyWithin",function(u,f){return n.call(i(this),u,f,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").every,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("every",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-fill"),i=s.aTypedArray;(0,s.exportTypedArrayMethod)("fill",function(u){return n.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").filter,i=t("../internals/species-constructor"),u=s.aTypedArray,f=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("filter",function(m){for(var a=n(u(this),m,1<arguments.length?arguments[1]:void 0),m=i(this,this.constructor),c=0,d=a.length,p=new(f(m))(d);c<d;)p[c]=a[c++];return p})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").findIndex,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("findIndex",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").find,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("find",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(t,o,l){t("../internals/typed-array-constructor")("Float32",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],204:[function(t,o,l){t("../internals/typed-array-constructor")("Float64",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],205:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").forEach,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("forEach",function(u){n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-includes").includes,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("includes",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-includes").indexOf,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("indexOf",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(t,o,l){t("../internals/typed-array-constructor")("Int16",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],209:[function(t,o,l){t("../internals/typed-array-constructor")("Int32",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],210:[function(n,o,l){function s(){return i.call(m(this))}var d=n("../internals/global"),c=n("../internals/array-buffer-view-core"),a=n("../modules/es.array.iterator"),n=n("../internals/well-known-symbol")("iterator"),d=d.Uint8Array,i=a.values,u=a.keys,f=a.entries,m=c.aTypedArray,a=c.exportTypedArrayMethod,c=d&&d.prototype[n],d=!!c&&(c.name=="values"||c.name==null);a("entries",function(){return f.call(m(this))}),a("keys",function(){return u.call(m(this))}),a("values",s,!d),a(n,s,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(n,o,l){var n=n("../internals/array-buffer-view-core"),s=n.aTypedArray,n=n.exportTypedArrayMethod,i=[].join;n("join",function(u){return i.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-last-index-of"),i=s.aTypedArray;(0,s.exportTypedArrayMethod)("lastIndexOf",function(u){return n.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").map,i=t("../internals/species-constructor"),u=s.aTypedArray,f=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("map",function(m){return n(u(this),m,1<arguments.length?arguments[1]:void 0,function(a,c){return new(f(i(a,a.constructor)))(c)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-reduce").right,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduceRight",function(u){return n(i(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-reduce").left,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduce",function(u){return n(i(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(n,o,l){var n=n("../internals/array-buffer-view-core"),s=n.aTypedArray,n=n.exportTypedArrayMethod,i=Math.floor;n("reverse",function(){for(var u,f=s(this).length,m=i(f/2),a=0;a<m;)u=this[a],this[a++]=this[--f],this[f]=u;return this})},{"../internals/array-buffer-view-core":12}],217:[function(f,o,l){var s=f("../internals/array-buffer-view-core"),n=f("../internals/to-length"),i=f("../internals/to-offset"),u=f("../internals/to-object"),f=f("../internals/fails"),m=s.aTypedArray;(0,s.exportTypedArrayMethod)("set",function(a){m(this);var c=i(1<arguments.length?arguments[1]:void 0,1),d=this.length,p=u(a),g=n(p.length),y=0;if(d<g+c)throw RangeError("Wrong length");for(;y<g;)this[c+y]=p[y++]},f(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(n,o,l){var f=n("../internals/array-buffer-view-core"),s=n("../internals/species-constructor"),n=n("../internals/fails"),i=f.aTypedArray,u=f.aTypedArrayConstructor,f=f.exportTypedArrayMethod,m=[].slice;f("slice",function(a,c){for(var d=m.call(i(this),a,c),a=s(this,this.constructor),p=0,g=d.length,y=new(u(a))(g);p<g;)y[p]=d[p++];return y},n(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").some,i=s.aTypedArray;(0,s.exportTypedArrayMethod)("some",function(u){return n(i(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(n,o,l){var n=n("../internals/array-buffer-view-core"),s=n.aTypedArray,n=n.exportTypedArrayMethod,i=[].sort;n("sort",function(u){return i.call(s(this),u)})},{"../internals/array-buffer-view-core":12}],221:[function(t,o,l){var s=t("../internals/array-buffer-view-core"),n=t("../internals/to-length"),i=t("../internals/to-absolute-index"),u=t("../internals/species-constructor"),f=s.aTypedArray;(0,s.exportTypedArrayMethod)("subarray",function(p,a){var c=f(this),d=c.length,p=i(p,d);return new(u(c,c.constructor))(c.buffer,c.byteOffset+p*c.BYTES_PER_ELEMENT,n((a===void 0?d:i(a,d))-p))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(n,o,l){var f=n("../internals/global"),s=n("../internals/array-buffer-view-core"),n=n("../internals/fails"),i=f.Int8Array,u=s.aTypedArray,f=s.exportTypedArrayMethod,m=[].toLocaleString,a=[].slice,c=!!i&&n(function(){m.call(new i(1))});f("toLocaleString",function(){return m.apply(c?a.call(u(this)):u(this),arguments)},n(function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()})||!n(function(){i.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(n,o,l){var s=n("../internals/array-buffer-view-core").exportTypedArrayMethod,f=n("../internals/fails"),n=n("../internals/global").Uint8Array,n=n&&n.prototype||{},i=[].toString,u=[].join,f=(f(function(){i.call({})})&&(i=function(){return u.call(this)}),n.toString!=i);s("toString",i,f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(t,o,l){t("../internals/typed-array-constructor")("Uint16",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],225:[function(t,o,l){t("../internals/typed-array-constructor")("Uint32",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],226:[function(t,o,l){t("../internals/typed-array-constructor")("Uint8",function(s){return function(n,i,u){return s(this,n,i,u)}})},{"../internals/typed-array-constructor":140}],227:[function(t,o,l){t("../internals/typed-array-constructor")("Uint8",function(s){return function(n,i,u){return s(this,n,i,u)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(v,w,l){function s(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}}var n,i,u,f,m,_=v("../internals/global"),a=v("../internals/redefine-all"),c=v("../internals/internal-metadata"),d=v("../internals/collection"),p=v("../internals/collection-weak"),g=v("../internals/is-object"),y=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),_=!_.ActiveXObject&&"ActiveXObject"in _,x=Object.isExtensible,w=w.exports=d("WeakMap",s,p);v&&_&&(n=p.getConstructor(s,"WeakMap",!0),c.REQUIRED=!0,d=w.prototype,i=d.delete,u=d.has,f=d.get,m=d.set,a(d,{delete:function(E){var T;return g(E)&&!x(E)?((T=y(this)).frozen||(T.frozen=new n),i.call(this,E)||T.frozen.delete(E)):i.call(this,E)},has:function(E){var T;return g(E)&&!x(E)?((T=y(this)).frozen||(T.frozen=new n),u.call(this,E)||T.frozen.has(E)):u.call(this,E)},get:function(E){var T;return!g(E)||x(E)||((T=y(this)).frozen||(T.frozen=new n),u.call(this,E))?f.call(this,E):T.frozen.get(E)},set:function(E,T){var M;return!g(E)||x(E)||((M=y(this)).frozen||(M.frozen=new n),u.call(this,E))?m.call(this,E,T):M.frozen.set(E,T),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(t,o,l){var s,n=t("../internals/global"),i=t("../internals/dom-iterables"),u=t("../internals/array-for-each"),f=t("../internals/create-non-enumerable-property");for(s in i){var m=n[s],m=m&&m.prototype;if(m&&m.forEach!==u)try{f(m,"forEach",u)}catch{m.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(m,o,l){var s,n=m("../internals/global"),i=m("../internals/dom-iterables"),u=m("../modules/es.array.iterator"),f=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),a=m("iterator"),c=m("toStringTag"),d=u.values;for(s in i){var p=n[s],g=p&&p.prototype;if(g){if(g[a]!==d)try{f(g,a,d)}catch{g[a]=d}if(g[c]||f(g,c,s),i[s]){for(var y in u)if(g[y]!==u[y])try{f(g,y,u[y])}catch{g[y]=u[y]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(ue,o,l){ue("../modules/es.array.iterator");function s(fe){try{return decodeURIComponent(fe)}catch{return fe}}function n(fe){return U[fe]}function i(fe){return encodeURIComponent(fe).replace(I,n)}function u(fe){this.entries.length=0,G(this.entries,fe)}function f(fe,pe){if(fe<pe)throw TypeError("Not enough arguments")}function m(){_(this,m,Y);var fe,pe,ce,ie,V,F,re,ae,he=0<arguments.length?arguments[0]:void 0,de=[];if(H(this,{type:Y,entries:de,updateURL:function(){},updateSearchParams:u}),he!==void 0)if(M(he))if(typeof(fe=N(he))=="function")for(ce=(pe=fe.call(he)).next;!(ie=ce.call(pe)).done;){if((F=(V=(ie=L(T(ie.value))).next).call(ie)).done||(re=V.call(ie)).done||!V.call(ie).done)throw TypeError("Expected sequence with length 2");de.push({key:F.value+"",value:re.value+""})}else for(ae in he)x(he,ae)&&de.push({key:ae,value:he[ae]+""});else G(de,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")}var a=ue("../internals/export"),X=ue("../internals/get-built-in"),c=ue("../internals/native-url"),d=ue("../internals/redefine"),p=ue("../internals/redefine-all"),g=ue("../internals/set-to-string-tag"),y=ue("../internals/create-iterator-constructor"),v=ue("../internals/internal-state"),_=ue("../internals/an-instance"),x=ue("../internals/has"),w=ue("../internals/function-bind-context"),E=ue("../internals/classof"),T=ue("../internals/an-object"),M=ue("../internals/is-object"),j=ue("../internals/object-create"),P=ue("../internals/create-property-descriptor"),L=ue("../internals/get-iterator"),N=ue("../internals/get-iterator-method"),ue=ue("../internals/well-known-symbol"),O=X("fetch"),k=X("Headers"),X=ue("iterator"),Y="URLSearchParams",q=Y+"Iterator",H=v.set,z=v.getterFor(Y),W=v.getterFor(q),$=/\+/g,se=Array(4),R=function(fe){var pe,ce=fe.replace($," "),ie=4;try{return decodeURIComponent(ce)}catch{for(;ie;)ce=ce.replace((pe=ie--,se[pe-1]||(se[pe-1]=RegExp("((?:%[\\da-f]{2}){"+pe+"})","gi"))),s);return ce}},I=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},G=function(fe,pe){if(pe)for(var ce,ie=pe.split("&"),V=0;V<ie.length;)(ce=ie[V++]).length&&(ce=ce.split("="),fe.push({key:R(ce.shift()),value:R(ce.join("="))}))},ee=y(function(fe,pe){H(this,{type:q,iterator:L(z(fe).entries),kind:pe})},"Iterator",function(){var pe=W(this),fe=pe.kind,pe=pe.iterator.next(),ce=pe.value;return pe.done||(pe.value=fe==="keys"?ce.key:fe==="values"?ce.value:[ce.key,ce.value]),pe}),ue=m.prototype;p(ue,{append:function(fe,pe){f(arguments.length,2);var ce=z(this);ce.entries.push({key:fe+"",value:pe+""}),ce.updateURL()},delete:function(fe){f(arguments.length,1);for(var pe=z(this),ce=pe.entries,ie=fe+"",V=0;V<ce.length;)ce[V].key===ie?ce.splice(V,1):V++;pe.updateURL()},get:function(fe){f(arguments.length,1);for(var pe=z(this).entries,ce=fe+"",ie=0;ie<pe.length;ie++)if(pe[ie].key===ce)return pe[ie].value;return null},getAll:function(fe){f(arguments.length,1);for(var pe=z(this).entries,ce=fe+"",ie=[],V=0;V<pe.length;V++)pe[V].key===ce&&ie.push(pe[V].value);return ie},has:function(fe){f(arguments.length,1);for(var pe=z(this).entries,ce=fe+"",ie=0;ie<pe.length;)if(pe[ie++].key===ce)return!0;return!1},set:function(fe,pe){f(arguments.length,1);for(var ce,ie=z(this),V=ie.entries,F=!1,re=fe+"",ae=pe+"",he=0;he<V.length;he++)(ce=V[he]).key===re&&(F?V.splice(he--,1):(F=!0,ce.value=ae));F||V.push({key:re,value:ae}),ie.updateURL()},sort:function(){for(var fe,pe,ce=z(this),ie=ce.entries,V=ie.slice(),F=ie.length=0;F<V.length;F++){for(fe=V[F],pe=0;pe<F;pe++)if(ie[pe].key>fe.key){ie.splice(pe,0,fe);break}pe===F&&ie.push(fe)}ce.updateURL()},forEach:function(fe){for(var pe,ce=z(this).entries,ie=w(fe,1<arguments.length?arguments[1]:void 0,3),V=0;V<ce.length;)ie((pe=ce[V++]).value,pe.key,this)},keys:function(){return new ee(this,"keys")},values:function(){return new ee(this,"values")},entries:function(){return new ee(this,"entries")}},{enumerable:!0}),d(ue,X,ue.entries),d(ue,"toString",function(){for(var fe,pe=z(this).entries,ce=[],ie=0;ie<pe.length;)fe=pe[ie++],ce.push(i(fe.key)+"="+i(fe.value));return ce.join("&")},{enumerable:!0}),g(m,Y),a({global:!0,forced:!c},{URLSearchParams:m}),c||typeof O!="function"||typeof k!="function"||a({global:!0,enumerable:!0,forced:!0},{fetch:function(V){var pe,ce,ie,V=[V];return 1<arguments.length&&(M(pe=arguments[1])&&(ce=pe.body,E(ce)===Y&&((ie=pe.headers?new k(pe.headers):new k).has("content-type")||ie.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),pe=j(pe,{body:P(0,String(ce)),headers:P(0,ie)}))),V.push(pe)),O.apply(this,V)}}),o.exports={URLSearchParams:m,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(L,o,l){L("../modules/es.string.iterator");function s(_e){var Xe,Qe,We,ht;if(typeof _e=="number"){for(Xe=[],Qe=0;Qe<4;Qe++)Xe.unshift(_e%256),_e=q(_e/256);return Xe.join(".")}if(typeof _e!="object")return _e;for(Xe="",We=re(_e),Qe=0;Qe<8;Qe++)ht&&_e[Qe]===0||(ht=ht&&!1,We===Qe?(Xe+=Qe?":":"::",ht=!0):(Xe+=_e[Qe].toString(16),Qe<7&&(Xe+=":")));return"["+Xe+"]"}function n(_e){return!_e.host||_e.cannotBeABaseURL||_e.scheme=="file"}function i(_e,Xe,Qe,We){var ht,Ke,Et,st=Qe||Le,yt=0,tt="",Bt=!1,Tt=!1,Pt=!1;for(Qe||(_e.scheme="",_e.username="",_e.password="",_e.host=null,_e.port=null,_e.path=[],_e.query=null,_e.fragment=null,_e.cannotBeABaseURL=!1,Xe=Xe.replace(ie,"")),Xe=Xe.replace(V,""),ht=E(Xe);yt<=ht.length;){switch(Ke=ht[yt],st){case Le:if(!Ke||!R.test(Ke)){if(Qe)return W;st=Q;continue}tt+=Ke.toLowerCase(),st=me;break;case me:if(Ke&&(I.test(Ke)||Ke=="+"||Ke=="-"||Ke=="."))tt+=Ke.toLowerCase();else{if(Ke!=":"){if(Qe)return W;tt="",st=Q,yt=0;continue}if(Qe&&(J(_e)!=x(je,tt)||tt=="file"&&(te(_e)||_e.port!==null)||_e.scheme=="file"&&!_e.host))return;if(_e.scheme=tt,Qe)return void(J(_e)&&je[_e.scheme]==_e.port&&(_e.port=null));tt="",_e.scheme=="file"?st=et:J(_e)&&We&&We.scheme==_e.scheme?st=ne:J(_e)?st=Ce:ht[yt+1]=="/"?(st=K,yt++):(_e.cannotBeABaseURL=!0,_e.path.push(""),st=Dt)}break;case Q:if(!We||We.cannotBeABaseURL&&Ke!="#")return W;if(We.cannotBeABaseURL&&Ke=="#"){_e.scheme=We.scheme,_e.path=We.path.slice(),_e.query=We.query,_e.fragment="",_e.cannotBeABaseURL=!0,st=kt;break}st=We.scheme=="file"?et:oe;continue;case ne:if(Ke!="/"||ht[yt+1]!="/"){st=oe;continue}st=Ne,yt++;break;case K:if(Ke=="/"){st=Ze;break}st=at;continue;case oe:if(_e.scheme=We.scheme,Ke==m)_e.username=We.username,_e.password=We.password,_e.host=We.host,_e.port=We.port,_e.path=We.path.slice(),_e.query=We.query;else if(Ke=="/"||Ke=="\\"&&J(_e))st=xe;else if(Ke=="?")_e.username=We.username,_e.password=We.password,_e.host=We.host,_e.port=We.port,_e.path=We.path.slice(),_e.query="",st=Mt;else{if(Ke!="#"){_e.username=We.username,_e.password=We.password,_e.host=We.host,_e.port=We.port,_e.path=We.path.slice(),_e.path.pop(),st=at;continue}_e.username=We.username,_e.password=We.password,_e.host=We.host,_e.port=We.port,_e.path=We.path.slice(),_e.query=We.query,_e.fragment="",st=kt}break;case xe:if(!J(_e)||Ke!="/"&&Ke!="\\"){if(Ke!="/"){_e.username=We.username,_e.password=We.password,_e.host=We.host,_e.port=We.port,st=at;continue}st=Ze}else st=Ne;break;case Ce:if(st=Ne,Ke!="/"||tt.charAt(yt+1)!="/")continue;yt++;break;case Ne:if(Ke=="/"||Ke=="\\")break;st=Ze;continue;case Ze:if(Ke=="@"){Bt&&(tt="%40"+tt);for(var Bt=!0,zt=E(tt),Or=0;Or<zt.length;Or++){var Cr=zt[Or];Cr!=":"||Pt?(Cr=Se(Cr,Me),Pt?_e.password+=Cr:_e.username+=Cr):Pt=!0}tt=""}else if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&J(_e)){if(Bt&&tt=="")return z;yt-=E(tt).length+1,tt="",st=be}else tt+=Ke;break;case be:case De:if(Qe&&_e.scheme=="file"){st=it;continue}if(Ke!=":"||Tt){if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&J(_e)){if(J(_e)&&tt=="")return $;if(Qe&&tt==""&&(te(_e)||_e.port!==null))return;if(Et=F(_e,tt))return Et;if(tt="",st=ut,Qe)return;continue}Ke=="["?Tt=!0:Ke=="]"&&(Tt=!1),tt+=Ke}else{if(tt=="")return $;if(Et=F(_e,tt))return Et;if(tt="",st=ze,Qe==De)return}break;case ze:if(!U.test(Ke)){if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&J(_e)||Qe){if(tt!=""){var Wt=parseInt(tt,10);if(65535<Wt)return se;_e.port=J(_e)&&Wt===je[_e.scheme]?null:Wt,tt=""}if(Qe)return;st=ut;continue}return se}tt+=Ke;break;case et:if(_e.scheme="file",Ke=="/"||Ke=="\\")st=rt;else{if(!We||We.scheme!="file"){st=at;continue}if(Ke==m)_e.host=We.host,_e.path=We.path.slice(),_e.query=We.query;else if(Ke=="?")_e.host=We.host,_e.path=We.path.slice(),_e.query="",st=Mt;else{if(Ke!="#"){Pe(ht.slice(yt).join(""))||(_e.host=We.host,_e.path=We.path.slice(),Oe(_e)),st=at;continue}_e.host=We.host,_e.path=We.path.slice(),_e.query=We.query,_e.fragment="",st=kt}}break;case rt:if(Ke=="/"||Ke=="\\"){st=it;break}We&&We.scheme=="file"&&!Pe(ht.slice(yt).join(""))&&(Te(We.path[0],!0)?_e.path.push(We.path[0]):_e.host=We.host),st=at;continue;case it:if(Ke==m||Ke=="/"||Ke=="\\"||Ke=="?"||Ke=="#"){if(!Qe&&Te(tt))st=at;else{if(tt==""){if(_e.host="",Qe)return}else{if(Et=F(_e,tt))return Et;if(_e.host=="localhost"&&(_e.host=""),Qe)return;tt=""}st=ut}continue}tt+=Ke;break;case ut:if(J(_e)){if(st=at,Ke!="/"&&Ke!="\\")continue}else if(Qe||Ke!="?")if(Qe||Ke!="#"){if(Ke!=m&&(st=at,Ke!="/"))continue}else _e.fragment="",st=kt;else _e.query="",st=Mt;break;case at:if(Ke==m||Ke=="/"||Ke=="\\"&&J(_e)||!Qe&&(Ke=="?"||Ke=="#")){if(we(tt)?(Oe(_e),Ke=="/"||Ke=="\\"&&J(_e)||_e.path.push("")):ke(tt)?Ke=="/"||Ke=="\\"&&J(_e)||_e.path.push(""):(_e.scheme=="file"&&!_e.path.length&&Te(tt)&&(_e.host&&(_e.host=""),tt=tt.charAt(0)+":"),_e.path.push(tt)),tt="",_e.scheme=="file"&&(Ke==m||Ke=="?"||Ke=="#"))for(;1<_e.path.length&&_e.path[0]==="";)_e.path.shift();Ke=="?"?(_e.query="",st=Mt):Ke=="#"&&(_e.fragment="",st=kt)}else tt+=Se(Ke,de);break;case Dt:Ke=="?"?(_e.query="",st=Mt):Ke=="#"?(_e.fragment="",st=kt):Ke!=m&&(_e.path[0]+=Se(Ke,ae));break;case Mt:Qe||Ke!="#"?Ke!=m&&(Ke=="'"&&J(_e)?_e.query+="%27":_e.query+=Ke=="#"?"%23":Se(Ke,ae)):(_e.fragment="",st=kt);break;case kt:Ke!=m&&(_e.fragment+=Se(Ke,he))}yt++}}function u(Ke){var Xe,Qe,We=_(this,u,"URL"),ht=1<arguments.length?arguments[1]:void 0,Ke=String(Ke),Et=X(We,{type:"URL"});if(ht!==void 0){if(ht instanceof u)Xe=Y(ht);else if(Qe=i(Xe={},String(ht)))throw TypeError(Qe)}if(Qe=i(Et,Ke,null,Xe))throw TypeError(Qe);var st=Et.searchParams=new O;(ht=k(st)).updateSearchParams(Et.query),ht.updateURL=function(){Et.query=String(st)||null},p||(We.href=Ft.call(We),We.origin=Ct.call(We),We.protocol=_r.call(We),We.username=pr.call(We),We.password=ve.call(We),We.host=Ge.call(We),We.hostname=Ye.call(We),We.port=Ve.call(We),We.pathname=Je.call(We),We.search=mt.call(We),We.searchParams=gt.call(We),We.hash=xt.call(We))}function f(_e,Xe){return{get:_e,set:Xe,configurable:!0,enumerable:!0}}var m,a,c,d=L("../internals/export"),p=L("../internals/descriptors"),g=L("../internals/native-url"),wt=L("../internals/global"),y=L("../internals/object-define-properties"),v=L("../internals/redefine"),_=L("../internals/an-instance"),x=L("../internals/has"),w=L("../internals/object-assign"),E=L("../internals/array-from"),T=L("../internals/string-multibyte").codeAt,M=L("../internals/string-punycode-to-ascii"),j=L("../internals/set-to-string-tag"),P=L("../modules/web.url-search-params"),L=L("../internals/internal-state"),N=wt.URL,O=P.URLSearchParams,k=P.getState,X=L.set,Y=L.getterFor("URL"),q=Math.floor,H=Math.pow,z="Invalid authority",W="Invalid scheme",$="Invalid host",se="Invalid port",R=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,U=/\d/,G=/^(0x|0X)/,ee=/^[0-7]+$/,ue=/^\d+$/,fe=/^[\dA-Fa-f]+$/,pe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ce=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ie=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,V=/[\u0009\u000A\u000D]/g,F=function(_e,Xe){var Qe,We,ht;if(Xe.charAt(0)=="[")return Xe.charAt(Xe.length-1)=="]"&&(Qe=function(Ke){var Et=[0,0,0,0,0,0,0,0],st=0,yt=null,tt=0,Bt,Tt,Pt,zt,Or,Cr,Wt,qt=function(){return Ke.charAt(tt)};if(qt()==":"){if(Ke.charAt(1)!=":")return;tt+=2,st++,yt=st}for(;qt();){if(st==8)return;if(qt()==":"){if(yt!==null)return;tt++,st++,yt=st;continue}for(Bt=Tt=0;Tt<4&&fe.test(qt());)Bt=Bt*16+parseInt(qt(),16),tt++,Tt++;if(qt()=="."){if(Tt==0||(tt-=Tt,st>6))return;for(Pt=0;qt();){if(zt=null,Pt>0)if(qt()=="."&&Pt<4)tt++;else return;if(!U.test(qt()))return;for(;U.test(qt());){if(Or=parseInt(qt(),10),zt===null)zt=Or;else{if(zt==0)return;zt=zt*10+Or}if(zt>255)return;tt++}Et[st]=Et[st]*256+zt,Pt++,(Pt==2||Pt==4)&&st++}if(Pt!=4)return;break}else if(qt()==":"){if(tt++,!qt())return}else if(qt())return;Et[st++]=Bt}if(yt!==null)for(Cr=st-yt,st=7;st!=0&&Cr>0;)Wt=Et[st],Et[st--]=Et[yt+Cr-1],Et[yt+--Cr]=Wt;else if(st!=8)return;return Et}(Xe.slice(1,-1)))?void(_e.host=Qe):$;if(J(_e))return Xe=M(Xe),pe.test(Xe)||(Qe=function(Ke){var Et=Ke.split("."),st,yt,tt,Bt,Tt,Pt,zt;if(Et.length&&Et[Et.length-1]==""&&Et.pop(),(st=Et.length)>4)return Ke;for(yt=[],tt=0;tt<st;tt++){if(Bt=Et[tt],Bt=="")return Ke;if(Tt=10,Bt.length>1&&Bt.charAt(0)=="0"&&(Tt=G.test(Bt)?16:8,Bt=Bt.slice(Tt==8?1:2)),Bt==="")Pt=0;else{if(!(Tt==10?ue:Tt==8?ee:fe).test(Bt))return Ke;Pt=parseInt(Bt,Tt)}yt.push(Pt)}for(tt=0;tt<st;tt++)if(Pt=yt[tt],tt==st-1){if(Pt>=H(256,5-st))return null}else if(Pt>255)return null;for(zt=yt.pop(),tt=0;tt<yt.length;tt++)zt+=yt[tt]*H(256,3-tt);return zt}(Xe))===null?$:void(_e.host=Qe);if(ce.test(Xe))return $;for(Qe="",We=E(Xe),ht=0;ht<We.length;ht++)Qe+=Se(We[ht],ae);_e.host=Qe},re=function(_e){for(var Xe=null,Qe=1,We=null,ht=0,Ke=0;Ke<8;Ke++)_e[Ke]!==0?(Qe<ht&&(Xe=We,Qe=ht),We=null,ht=0):(We===null&&(We=Ke),++ht);return Qe<ht&&(Xe=We,Qe=ht),Xe},ae={},he=w({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),de=w({},he,{"#":1,"?":1,"{":1,"}":1}),Me=w({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Se=function(_e,Xe){var Qe=T(_e,0);return 32<Qe&&Qe<127&&!x(Xe,_e)?_e:encodeURIComponent(_e)},je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(_e){return x(je,_e.scheme)},te=function(_e){return _e.username!=""||_e.password!=""},Te=function(_e,Xe){return _e.length==2&&R.test(_e.charAt(0))&&((_e=_e.charAt(1))==":"||!Xe&&_e=="|")},Pe=function(_e){return 1<_e.length&&Te(_e.slice(0,2))&&(_e.length==2||(_e=_e.charAt(2))==="/"||_e==="\\"||_e==="?"||_e==="#")},Oe=function(_e){var Xe=_e.path,Qe=Xe.length;!Qe||_e.scheme=="file"&&Qe==1&&Te(Xe[0],!0)||Xe.pop()},ke=function(_e){return _e==="."||_e.toLowerCase()==="%2e"},we=function(_e){return(_e=_e.toLowerCase())===".."||_e==="%2e."||_e===".%2e"||_e==="%2e%2e"},Le={},me={},Q={},ne={},K={},oe={},xe={},Ce={},Ne={},Ze={},be={},De={},ze={},et={},rt={},it={},ut={},at={},Dt={},Mt={},kt={},wt=u.prototype,Ft=function(){var _e=Y(this),Xe=_e.scheme,Qe=_e.username,We=_e.password,ht=_e.host,Ke=_e.port,Et=_e.path,st=_e.query,yt=_e.fragment,tt=Xe+":";return ht!==null?(tt+="//",te(_e)&&(tt+=Qe+(We?":"+We:"")+"@"),tt+=s(ht),Ke!==null&&(tt+=":"+Ke)):Xe=="file"&&(tt+="//"),tt+=_e.cannotBeABaseURL?Et[0]:Et.length?"/"+Et.join("/"):"",st!==null&&(tt+="?"+st),yt!==null&&(tt+="#"+yt),tt},Ct=function(){var _e=Y(this),Xe=_e.scheme,Qe=_e.port;if(Xe=="blob")try{return new URL(Xe.path[0]).origin}catch{return"null"}return Xe!="file"&&J(_e)?Xe+"://"+s(_e.host)+(Qe!==null?":"+Qe:""):"null"},_r=function(){return Y(this).scheme+":"},pr=function(){return Y(this).username},ve=function(){return Y(this).password},Ge=function(){var Xe=Y(this),_e=Xe.host,Xe=Xe.port;return _e===null?"":Xe===null?s(_e):s(_e)+":"+Xe},Ye=function(){var _e=Y(this).host;return _e===null?"":s(_e)},Ve=function(){var _e=Y(this).port;return _e===null?"":String(_e)},Je=function(){var _e=Y(this),Xe=_e.path;return _e.cannotBeABaseURL?Xe[0]:Xe.length?"/"+Xe.join("/"):""},mt=function(){var _e=Y(this).query;return _e?"?"+_e:""},gt=function(){return Y(this).searchParams},xt=function(){var _e=Y(this).fragment;return _e?"#"+_e:""};p&&y(wt,{href:f(Ft,function(Qe){var Xe=Y(this),Qe=String(Qe),Qe=i(Xe,Qe);if(Qe)throw TypeError(Qe);k(Xe.searchParams).updateSearchParams(Xe.query)}),origin:f(Ct),protocol:f(_r,function(_e){var Xe=Y(this);i(Xe,String(_e)+":",Le)}),username:f(pr,function(_e){var Xe=Y(this),Qe=E(String(_e));if(!n(Xe)){Xe.username="";for(var We=0;We<Qe.length;We++)Xe.username+=Se(Qe[We],Me)}}),password:f(ve,function(_e){var Xe=Y(this),Qe=E(String(_e));if(!n(Xe)){Xe.password="";for(var We=0;We<Qe.length;We++)Xe.password+=Se(Qe[We],Me)}}),host:f(Ge,function(_e){var Xe=Y(this);Xe.cannotBeABaseURL||i(Xe,String(_e),be)}),hostname:f(Ye,function(_e){var Xe=Y(this);Xe.cannotBeABaseURL||i(Xe,String(_e),De)}),port:f(Ve,function(_e){var Xe=Y(this);n(Xe)||((_e=String(_e))==""?Xe.port=null:i(Xe,_e,ze))}),pathname:f(Je,function(_e){var Xe=Y(this);Xe.cannotBeABaseURL||(Xe.path=[],i(Xe,_e+"",ut))}),search:f(mt,function(_e){var Xe=Y(this);(_e=String(_e))==""?Xe.query=null:(_e.charAt(0)=="?"&&(_e=_e.slice(1)),Xe.query="",i(Xe,_e,Mt)),k(Xe.searchParams).updateSearchParams(Xe.query)}),searchParams:f(gt),hash:f(xt,function(_e){var Xe=Y(this);(_e=String(_e))==""?Xe.fragment=null:(_e.charAt(0)=="#"&&(_e=_e.slice(1)),Xe.fragment="",i(Xe,_e,kt))})}),v(wt,"toJSON",function(){return Ft.call(this)},{enumerable:!0}),v(wt,"toString",function(){return Ft.call(this)},{enumerable:!0}),N&&(a=N.createObjectURL,c=N.revokeObjectURL,a&&v(u,"createObjectURL",function(_e){return a.apply(N,arguments)}),c&&v(u,"revokeObjectURL",function(_e){return c.apply(N,arguments)})),j(u,"URL"),d({global:!0,forced:!g,sham:!p},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(t,o,l){o.exports=t("./").polyfill()},{"./":234}],234:[function(t,o,l){(function(s,n){var i,u;i=this,u=function(){function f(F){return typeof F=="function"}var m=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},a=0,c=void 0,d=void 0,p=function(F,re){w[a]=F,w[a+1]=re,(a+=2)===2&&(d?d(E):O())},g=typeof window<"u"?window:void 0,y=g||{},y=y.MutationObserver||y.WebKitMutationObserver,v=typeof self>"u"&&s!==void 0&&{}.toString.call(s)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function x(){var F=setTimeout;return function(){return F(E,1)}}var w=new Array(1e3);function E(){for(var F=0;F<a;F+=2)(0,w[F])(w[F+1]),w[F]=void 0,w[F+1]=void 0;a=0}function T(){try{var F=Function("return this")().require("vertx");return(c=F.runOnLoop||F.runOnContext)!==void 0?function(){c(E)}:x()}catch{return x()}}var M,j,P,O=void 0;function L(F,re){var ae,he=this,de=new this.constructor(X),Me=(de[k]===void 0&&fe(de),he._state);return Me?(ae=arguments[Me-1],p(function(){return ee(Me,de,ae,he._result)})):U(he,de,F,re),de}function N(F){var re;return F&&typeof F=="object"&&F.constructor===this?F:($(re=new this(X),F),re)}var O=v?function(){return s.nextTick(E)}:y?(j=0,v=new y(E),P=document.createTextNode(""),v.observe(P,{characterData:!0}),function(){P.data=j=++j%2}):_?((M=new MessageChannel).port1.onmessage=E,function(){return M.port2.postMessage(0)}):(g===void 0&&typeof t=="function"?T:x)(),k=Math.random().toString(36).substring(2);function X(){}var Y=void 0,q=1,H=2;function z(F,re,ae){p(function(he){var de=!1,Me=function(Se,je,J,te){try{Se.call(je,J,te)}catch(Te){return Te}}(ae,re,function(Se){de||(de=!0,(re!==Se?$:R)(he,Se))},function(Se){de||(de=!0,I(he,Se))},he._label);!de&&Me&&(de=!0,I(he,Me))},F)}function W(F,re,ae){var he,de;re.constructor===F.constructor&&ae===L&&re.constructor.resolve===N?(he=F,(de=re)._state===q?R(he,de._result):de._state===H?I(he,de._result):U(de,void 0,function(Me){return $(he,Me)},function(Me){return I(he,Me)})):ae!==void 0&&f(ae)?z(F,re,ae):R(F,re)}function $(F,re){if(F===re)I(F,new TypeError("You cannot resolve a promise with itself"));else if(ae=typeof re,re===null||ae!="object"&&ae!="function")R(F,re);else{ae=void 0;try{ae=re.then}catch(he){return void I(F,he)}W(F,re,ae)}var ae}function se(F){F._onerror&&F._onerror(F._result),G(F)}function R(F,re){F._state===Y&&(F._result=re,F._state=q,F._subscribers.length!==0&&p(G,F))}function I(F,re){F._state===Y&&(F._state=H,F._result=re,p(se,F))}function U(F,re,ae,he){var de=F._subscribers,Me=de.length;F._onerror=null,de[Me]=re,de[Me+q]=ae,de[Me+H]=he,Me===0&&F._state&&p(G,F)}function G(F){var re=F._subscribers,ae=F._state;if(re.length!==0){for(var he,de=void 0,Me=F._result,Se=0;Se<re.length;Se+=3)he=re[Se],de=re[Se+ae],he?ee(ae,he,de,Me):de(Me);F._subscribers.length=0}}function ee(F,re,ae,he){var de=f(ae),Me=void 0,Se=void 0,je=!0;if(de){try{Me=ae(he)}catch(J){je=!1,Se=J}if(re===Me)return void I(re,new TypeError("A promises callback cannot return that same promise."))}else Me=he;re._state===Y&&(de&&je?$(re,Me):je===!1?I(re,Se):F===q?R(re,Me):F===H&&I(re,Me))}var ue=0;function fe(F){F[k]=ue++,F._state=void 0,F._result=void 0,F._subscribers=[]}ce.prototype._enumerate=function(F){for(var re=0;this._state===Y&&re<F.length;re++)this._eachEntry(F[re],re)},ce.prototype._eachEntry=function(F,re){var ae=this._instanceConstructor,he=ae.resolve;if(he===N){var de,Me=void 0,Se=void 0,je=!1;try{Me=F.then}catch(J){je=!0,Se=J}Me===L&&F._state!==Y?this._settledAt(F._state,re,F._result):typeof Me!="function"?(this._remaining--,this._result[re]=F):ae===ie?(de=new ae(X),je?I(de,Se):W(de,F,Me),this._willSettleAt(de,re)):this._willSettleAt(new ae(function(J){return J(F)}),re)}else this._willSettleAt(he(F),re)},ce.prototype._settledAt=function(F,re,ae){var he=this.promise;he._state===Y&&(this._remaining--,F===H?I(he,ae):this._result[re]=ae),this._remaining===0&&R(he,this._result)},ce.prototype._willSettleAt=function(F,re){var ae=this;U(F,void 0,function(he){return ae._settledAt(q,re,he)},function(he){return ae._settledAt(H,re,he)})};var pe=ce;function ce(F,re){this._instanceConstructor=F,this.promise=new F(X),this.promise[k]||fe(this.promise),m(re)?(this.length=re.length,this._remaining=re.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(re),this._remaining!==0)||R(this.promise,this._result)):I(this.promise,new Error("Array Methods must be provided an Array"))}V.prototype.catch=function(F){return this.then(null,F)},V.prototype.finally=function(F){var re=this.constructor;return f(F)?this.then(function(ae){return re.resolve(F()).then(function(){return ae})},function(ae){return re.resolve(F()).then(function(){throw ae})}):this.then(F,F)};var ie=V;function V(F){if(this[k]=ue++,this._result=this._state=void 0,this._subscribers=[],X!==F){if(typeof F!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof V))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var re=this;try{F(function(ae){$(re,ae)},function(ae){I(re,ae)})}catch(ae){I(re,ae)}}}return ie.prototype.then=L,ie.all=function(F){return new pe(this,F).promise},ie.race=function(F){var re=this;return m(F)?new re(function(ae,he){for(var de=F.length,Me=0;Me<de;Me++)re.resolve(F[Me]).then(ae,he)}):new re(function(ae,he){return he(new TypeError("You must pass an array to race."))})},ie.resolve=N,ie.reject=function(F){var re=new this(X);return I(re,F),re},ie._setScheduler=function(F){d=F},ie._setAsap=function(F){p=F},ie._asap=p,ie.polyfill=function(){var F=void 0;if(n!==void 0)F=n;else if(typeof self<"u")F=self;else try{F=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var re=F.Promise;if(re){var ae=null;try{ae=Object.prototype.toString.call(re.resolve())}catch{}if(ae==="[object Promise]"&&!re.cast)return}F.Promise=ie},ie.Promise=ie},typeof l=="object"&&o!==void 0?o.exports=u():i.ES6Promise=u()}).call(this,t("_process"),typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(t,o,l){var s,n;s=this,n=function(i,u){var f=5e3,m="callback";function a(d){try{delete window[d]}catch{window[d]=void 0}}function c(d){d=document.getElementById(d),d&&document.getElementsByTagName("head")[0].removeChild(d)}u.exports=function(d){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=d,y=p.timeout||f,v=p.jsonpCallback||m,_=void 0;return new Promise(function(x,w){var E=p.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),T=v+"_"+E,M=(window[E]=function(j){x({ok:!0,json:function(){return Promise.resolve(j)}}),_&&clearTimeout(_),c(T),a(E)},g+=g.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+g+v+"="+E),p.charset&&M.setAttribute("charset",p.charset),M.id=T,document.getElementsByTagName("head")[0].appendChild(M),_=setTimeout(function(){w(new Error("JSONP request to "+d+" timed out")),a(E),c(T),window[E]=function(){a(E)}},y),M.onerror=function(){w(new Error("JSONP request to "+d+" failed")),a(E),c(T),_&&clearTimeout(_)}})}},l!==void 0&&o!==void 0?n(0,o):(n(n={exports:{}},n),s.fetchJsonp=n.exports)},{}],236:[function(t,o,l){var s=function(n){var i,u,f,m,a,c,d,p,g,y,v;if(!(n===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=n.document,i=function(){return n.URL||n.webkitURL||n},u=v.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in u,m=/constructor/i.test(n.HTMLElement)||n.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(_){(n.setImmediate||n.setTimeout)(function(){throw _},0)},d=4e4,p=function(_){setTimeout(function(){typeof _=="string"?i().revokeObjectURL(_):_.remove()},d)},g=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},v=(y=function(_,x,j){j||(_=g(_));var E,T,M=this,j=_.type==="application/octet-stream",P=function(){for(var L=M,N="writestart progress write writeend".split(" "),O=void 0,k=(N=[].concat(N)).length;k--;){var X=L["on"+N[k]];if(typeof X=="function")try{X.call(L,O||L)}catch(Y){c(Y)}}};M.readyState=M.INIT,f?(E=i().createObjectURL(_),setTimeout(function(){var L,N;u.href=E,u.download=x,L=u,N=new MouseEvent("click"),L.dispatchEvent(N),P(),p(E),M.readyState=M.DONE})):(a||j&&m)&&n.FileReader?((T=new FileReader).onloadend=function(){var L=a?T.result:T.result.replace(/^data:[^;]*;/,"data:attachment/file;");n.open(L,"_blank")||(n.location.href=L),L=void 0,M.readyState=M.DONE,P()},T.readAsDataURL(_),M.readyState=M.INIT):(E=E||i().createObjectURL(_),!j&&n.open(E,"_blank")||(n.location.href=E),M.readyState=M.DONE,P(),p(E))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,x,w){return x=x||_.name||"download",w||(_=g(_)),navigator.msSaveOrOpenBlob(_,x)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(_,x,w){return new y(_,x||_.name||"download",w)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);o!==void 0&&o.exports?o.exports.saveAs=s:r!=null},{}],237:[function(t,o,l){var s,n=Object.defineProperty,i=(n(l,"__esModule",{value:!0}),l),u={GIFEncoder:()=>P,applyPalette:()=>function(Y,q,H="rgb565"){if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<q.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(Y.buffer),W=z.length,$=H==="rgb444"?4096:65536,se=new Uint8Array(W),R=new Array($);if(H==="rgba4444")for(let V=0;V<W;V++){var ee=z[V],I=ee>>24&255,U=ee>>16&255,G=ee>>8&255,ee=255&ee,ue=p(ee,G,U,I),ue=ue in R?R[ue]:R[ue]=function(F,re,ae,he,de){let Me=0,Se=1e100;for(let Te=0;Te<de.length;Te++){var je,J=de[Te],te=T(J[3]-he);te>Se||(je=J[0],(te+=T(je-F))>Se||(je=J[1],(te+=T(je-re))>Se||(je=J[2],(te+=T(je-ae))>Se||(Se=te,Me=Te))))}return Me}(ee,G,U,I,q);se[V]=ue}else{const V=H==="rgb444"?g:d;for(let F=0;F<W;F++){var ce=z[F],fe=ce>>16&255,pe=ce>>8&255,ce=255&ce,ie=V(ce,pe,fe),ie=ie in R?R[ie]:R[ie]=function(re,ae,he,de){let Me=0,Se=1e100;for(let Te=0;Te<de.length;Te++){var je,J=de[Te],te=T(J[0]-re);te>Se||(je=J[1],(te+=T(je-ae))>Se||(je=J[2],(te+=T(je-he))>Se||(Se=te,Me=Te)))}return Me}(ce,pe,fe,q);se[F]=ie}}return se},default:()=>X,nearestColor:()=>function(Y,q,H=w){return Y[M(Y,q,H)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(Y,{roundRGB:q=5,roundAlpha:H=10,oneBitAlpha:z=null}={}){const W=new Uint32Array(Y.buffer);for(let U=0;U<W.length;U++){var I=W[U];let G=I>>24&255;var $,se=I>>16&255,R=I>>8&255,I=255&I;G=E(G,H),z&&($=typeof z=="number"?z:127,G=G<=$?0:255),I=E(I,q),R=E(R,q),se=E(se,q),W[U]=G<<24|se<<16|R<<8|I<<0}},quantize:()=>function(Y,q,H={}){var{format:z="rgb565",clearAlpha:W=!0,clearAlphaColor:$=0,clearAlphaThreshold:se=0,oneBitAlpha:R=!1}=H;if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");Y=new Uint32Array(Y.buffer);let I=H.useSqrt!==!1;const U=z==="rgba4444",G=function(Pe,Oe){const ke=Oe==="rgb444"?4096:65536,we=new Array(ke),Le=Pe.length;if(Oe==="rgba4444")for(let rt=0;rt<Le;++rt){var K=Pe[rt],me=K>>24&255,Q=K>>16&255,ne=K>>8&255,K=255&K,oe=p(K,ne,Q,me);let it=oe in we?we[oe]:we[oe]=x();it.rc+=K,it.gc+=ne,it.bc+=Q,it.ac+=me,it.cnt++}else if(Oe==="rgb444")for(let rt=0;rt<Le;++rt){var Ne=Pe[rt],xe=Ne>>16&255,Ce=Ne>>8&255,Ne=255&Ne,Ze=g(Ne,Ce,xe);let it=Ze in we?we[Ze]:we[Ze]=x();it.rc+=Ne,it.gc+=Ce,it.bc+=xe,it.cnt++}else for(let rt=0;rt<Le;++rt){var ze=Pe[rt],be=ze>>16&255,De=ze>>8&255,ze=255&ze,et=d(ze,De,be);let it=et in we?we[et]:we[et]=x();it.rc+=ze,it.gc+=De,it.bc+=be,it.cnt++}return we}(Y,z),ee=G.length,ue=ee-1,fe=new Uint32Array(ee+1);for(var pe=0,ce=0;ce<ee;++ce){const Pe=G[ce];Pe!=null&&(J=1/Pe.cnt,U&&(Pe.ac*=J),Pe.rc*=J,Pe.gc*=J,Pe.bc*=J,G[pe++]=Pe)}v(q)/pe<.022&&(I=!1);for(var ie,V,F,ce=0;ce<pe-1;++ce)G[ce].fw=ce+1,G[ce+1].bk=ce,I&&(G[ce].cnt=Math.sqrt(G[ce].cnt));for(I&&(G[ce].cnt=Math.sqrt(G[ce].cnt)),ce=0;ce<pe;++ce){_(G,ce,!1);var re=G[ce].err;for(V=++fe[0];1<V&&(F=V>>1,!(G[ie=fe[F]].err<=re));V=F)fe[V]=ie;fe[V]=ce}var ae,he=pe-q;for(ce=0;ce<he;){for(;;){var de=fe[1];if((ae=G[de]).tm>=ae.mtm&&G[ae.nn].mtm<=ae.tm)break;for(ae.mtm==ue?de=fe[1]=fe[fe[0]--]:(_(G,de,!1),ae.tm=ce),re=G[de].err,V=1;(F=V+V)<=fe[0]&&(F<fe[0]&&G[fe[F]].err>G[fe[F+1]].err&&F++,!(re<=G[ie=fe[F]].err));V=F)fe[V]=ie;fe[V]=de}var Me=G[ae.nn],Se=ae.cnt,je=Me.cnt,J=1/(Se+je);U&&(ae.ac=J*(Se*ae.ac+je*Me.ac)),ae.rc=J*(Se*ae.rc+je*Me.rc),ae.gc=J*(Se*ae.gc+je*Me.gc),ae.bc=J*(Se*ae.bc+je*Me.bc),ae.cnt+=Me.cnt,ae.mtm=++ce,G[Me.bk].fw=Me.fw,G[Me.fw].bk=Me.bk,Me.mtm=ue}let te=[];for(ce=0;;0){let Pe=y(Math.round(G[ce].rc),0,255),Oe=y(Math.round(G[ce].gc),0,255),ke=y(Math.round(G[ce].bc),0,255),we=255;U&&(we=y(Math.round(G[ce].ac),0,255),R&&(Te=typeof R=="number"?R:127,we=we<=Te?0:255),W&&we<=se&&(Pe=Oe=ke=$,we=0));var Te=U?[Pe,Oe,ke,we]:[Pe,Oe,ke];if(function(Le,me){for(let K=0;K<Le.length;K++){var ne=Le[K],Q=ne[0]===me[0]&&ne[1]===me[1]&&ne[2]===me[2],ne=!(4<=ne.length&&4<=me.length)||ne[3]===me[3];if(Q&&ne)return!0}return!1}(te,Te)||te.push(Te),(ce=G[ce].fw)==0)break}return te},snapColorsToPalette:()=>function(Y,q,H=5){if(Y.length&&q.length){var z=Y.map(I=>I.slice(0,3)),W=H*H,$=Y[0].length;for(let I=0;I<q.length;I++){let U=q[I];U=U.length<$?[U[0],U[1],U[2],255]:U.length>$?U.slice(0,3):U.slice();var R=j(z,U.slice(0,3),w),se=R[0],R=R[1];0<R&&R<=W&&(Y[se]=U)}}}};for(s in u)n(i,s,{get:u[s],enumerable:!0});var f={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function m(Y=256){let q=0,H=new Uint8Array(Y);return{get buffer(){return H.buffer},reset(){q=0},bytesView(){return H.subarray(0,q)},bytes(){return H.slice(0,q)},writeByte(W){z(q+1),H[q]=W,q++},writeBytes(W,$=0,se=W.length){z(q+se);for(let R=0;R<se;R++)H[q++]=W[R+$]},writeBytesView(W,$=0,se=W.byteLength){z(q+se),H.set(W.subarray($,$+se),q),q+=se}};function z(W){var $=H.length;if(!(W<=$)){W=Math.max(W,$*($<1048576?2:1.125)>>>0),$!=0&&(W=Math.max(W,256));const se=H;H=new Uint8Array(W),0<q&&H.set(se.subarray(0,q),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=function(Y,q,H,U,W=m(512),$=new Uint8Array(256),se=new Int32Array(5003),R=new Int32Array(5003)){var I=se.length,U=Math.max(2,U);$.fill(0),R.fill(0),se.fill(-1);let G=0,ee=0;var ue=U+1;const fe=ue;let pe=!1,ce=fe,ie=(1<<ce)-1;var V=1<<ue-1;const F=1+V;let re=2+V,ae=0,he=H[0],de=0;for(let Te=I;Te<65536;Te*=2)++de;de=8-de,W.writeByte(U),te(V);var Me=H.length;for(let Te=1;Te<Me;Te++)e:{var Se=H[Te],je=(Se<<12)+he;let Pe=Se<<de^he;if(se[Pe]===je)he=R[Pe];else{for(var J=Pe===0?1:I-Pe;0<=se[Pe];)if((Pe-=J)<0&&(Pe+=I),se[Pe]===je){he=R[Pe];break e}te(he),he=Se,re<4096?(R[Pe]=re++,se[Pe]=je):(se.fill(-1),re=2+V,pe=!0,te(V))}}return te(he),te(F),W.writeByte(0),W.bytesView();function te(Te){for(G&=a[ee],0<ee?G|=Te<<ee:G=Te,ee+=ce;8<=ee;)$[ae++]=255&G,254<=ae&&(W.writeByte(ae),W.writeBytesView($,0,ae),ae=0),G>>=8,ee-=8;if((re>ie||pe)&&(pe?(ce=fe,ie=(1<<ce)-1,pe=!1):(++ce,ie=ce===12?1<<ce:(1<<ce)-1)),Te==F){for(;0<ee;)$[ae++]=255&G,254<=ae&&(W.writeByte(ae),W.writeBytesView($,0,ae),ae=0),G>>=8,ee-=8;0<ae&&(W.writeByte(ae),W.writeBytesView($,0,ae),ae=0)}}};function d(Y,q,H){return Y<<8&63488|q<<2&992|H>>3}function p(Y,q,H,z){return Y>>4|240&q|(240&H)<<4|(240&z)<<8}function g(Y,q,H){return Y>>4<<8|240&q|H>>4}function y(Y,q,H){return Y<q?q:H<Y?H:Y}function v(Y){return Y*Y}function _(Y,q,H){var z=0,W=1e100;const $=Y[q];for(var se=$.cnt,R=$.ac,I=$.rc,U=$.gc,G=$.bc,ee=$.fw;ee!=0;ee=Y[ee].fw){var ue,fe=Y[ee],pe=fe.cnt,pe=se*pe/(se+pe);W<=pe||(ue=0,H&&W<=(ue+=pe*v(fe.ac-R))||W<=(ue+=pe*v(fe.rc-I))||W<=(ue+=pe*v(fe.gc-U))||W<=(ue+=pe*v(fe.bc-G))||(W=ue,z=ee))}$.err=W,$.nn=z}function x(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function w(Y,q){for(var H=0,z=0;z<Y.length;z++){var W=Y[z]-q[z];H+=W*W}return H}function E(Y,q){return 1<q?Math.round(Y/q)*q:Y}function T(Y){return Y*Y}function M(Y,q,H=w){let z=1/0,W=-1;for(let se=0;se<Y.length;se++){var $=H(q,Y[se]);$<z&&(z=$,W=se)}return W}function j(Y,q,H=w){let z=1/0,W=-1;for(let se=0;se<Y.length;se++){var $=H(q,Y[se]);$<z&&(z=$,W=se)}return[W,z]}function P(Y={}){const{initialCapacity:q=4096,auto:H=!0}=Y,z=m(q),W=new Uint8Array(256),$=new Int32Array(5003),se=new Int32Array(5003);let R=!1;return{reset(){z.reset(),R=!1},finish(){z.writeByte(f.trailer)},bytes(){return z.bytes()},bytesView(){return z.bytesView()},get buffer(){return z.buffer},get stream(){return z},writeHeader:I,writeFrame(U,G,ee,he={}){var{transparent:fe=!1,transparentIndex:pe=0,delay:J=0,palette:ce=null,repeat:Me=0,colorDepth:ie=8,dispose:V=-1}=he;let F=!1;if(H?R||(F=!0,I(),R=!0):F=!!he.first,G=Math.max(0,Math.floor(G)),ee=Math.max(0,Math.floor(ee)),F){if(!ce)throw new Error("First frame must include a { palette } option");var[he,Se,ae,je,de=8]=[z,G,ee,ce,ie];je=k(je.length)-1,de=128|de-1<<4|je,N(he,Se),N(he,ae),he.writeBytes([de,0,0]),L(z,ce),0<=Me&&(je=z,Se=Me,je.writeByte(33),je.writeByte(255),je.writeByte(11),O(je,"NETSCAPE2.0"),je.writeByte(3),je.writeByte(1),N(je,Se),je.writeByte(0))}var re,ae=Math.round(J/10),he=z,de=V,Me=ae,Se=fe,je=pe,J=(he.writeByte(33),he.writeByte(249),he.writeByte(4),je<0&&(je=0,Se=!1),Se=Se?(re=1,2):re=0,0<=de&&(Se=7&de),Se<<=2,he.writeByte(0|Se|re),N(he,Me),he.writeByte(je||0),he.writeByte(0),!!ce&&!F);V=z,fe=G,pe=ee,re=J?ce:null,V.writeByte(44),N(V,0),N(V,0),N(V,fe),N(V,pe),re?(fe=k(re.length)-1,V.writeByte(128|fe)):V.writeByte(0),J&&L(z,ce),[Me,he,pe,fe,V=8,J,ce,U]=[z,U,G,ee,ie,W,$,se],c(pe,fe,he,V,Me,J,ce,U)}};function I(){O(z,"GIF89a")}}function L(Y,q){var H=1<<k(q.length);for(let z=0;z<H;z++){let W=[0,0,0];z<q.length&&(W=q[z]),Y.writeByte(W[0]),Y.writeByte(W[1]),Y.writeByte(W[2])}}function N(Y,q){Y.writeByte(255&q),Y.writeByte(q>>8&255)}function O(Y,q){for(var H=0;H<q.length;H++)Y.writeByte(q.charCodeAt(H))}function k(Y){return Math.max(Math.ceil(Math.log2(Y)),1)}var X=P},{}],238:[function(t,o,l){l.read=function(s,n,i,u,_){var m,a,c=8*_-u-1,d=(1<<c)-1,p=d>>1,g=-7,y=i?_-1:0,v=i?-1:1,_=s[n+y];for(y+=v,m=_&(1<<-g)-1,_>>=-g,g+=c;0<g;m=256*m+s[n+y],y+=v,g-=8);for(a=m&(1<<-g)-1,m>>=-g,g+=u;0<g;a=256*a+s[n+y],y+=v,g-=8);if(m===0)m=1-p;else{if(m===d)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,u),m-=p}return(_?-1:1)*a*Math.pow(2,m-u)},l.write=function(s,n,i,u,f,x){var a,c,d=8*x-f-1,p=(1<<d)-1,g=p>>1,y=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:x-1,_=u?1:-1,x=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,a=p):(a=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(n+=1<=a+g?y/u:y*Math.pow(2,1-g))*u&&(a++,u/=2),p<=a+g?(c=0,a=p):1<=a+g?(c=(n*u-1)*Math.pow(2,f),a+=g):(c=n*Math.pow(2,g-1)*Math.pow(2,f),a=0));8<=f;s[i+v]=255&c,v+=_,c/=256,f-=8);for(a=a<<f|c,d+=f;0<d;s[i+v]=255&a,v+=_,a/=256,d-=8);s[i+v-_]|=128*x}},{}],239:[function(t,o,l){var s;function n(Q,ne){return Q.b===ne.b&&Q.a===ne.a}function i(Q,ne){return Q.b<ne.b||Q.b===ne.b&&Q.a<=ne.a}function u(Q,ne,K){var oe=ne.b-Q.b,xe=K.b-ne.b;return 0<oe+xe?oe<xe?ne.a-Q.a+oe/(oe+xe)*(Q.a-K.a):ne.a-K.a+xe/(oe+xe)*(K.a-Q.a):0}function f(Q,ne,K){var oe=ne.b-Q.b,xe=K.b-ne.b;return 0<oe+xe?(ne.a-K.a)*oe+(ne.a-Q.a)*xe:0}function m(Q,ne){return Q.a<ne.a||Q.a===ne.a&&Q.b<=ne.b}function a(Q,ne,K){var oe=ne.a-Q.a,xe=K.a-ne.a;return 0<oe+xe?oe<xe?ne.b-Q.b+oe/(oe+xe)*(Q.b-K.b):ne.b-K.b+xe/(oe+xe)*(K.b-Q.b):0}function c(Q,ne,K){var oe=ne.a-Q.a,xe=K.a-ne.a;return 0<oe+xe?(ne.b-K.b)*oe+(ne.b-Q.b)*xe:0}function d(Q,ne,K,oe){return(Q=Q<0?0:Q)<=(K=K<0?0:K)?K===0?(ne+oe)/2:ne+Q/(Q+K)*(oe-ne):oe+K/(Q+K)*(ne-oe)}function p(Q){var ne=x(Q.b);return E(ne,Q.c),E(ne.b,Q.c),T(ne,Q.a),ne}function g(Q,ne){var K=!1,oe=!1;Q!==ne&&(ne.a!==Q.a&&(oe=!0,j(ne.a,Q.a)),ne.d!==Q.d&&(K=!0,P(ne.d,Q.d)),w(ne,Q),oe||(E(ne,Q.a),Q.a.c=Q),K||(T(ne,Q.d),Q.d.a=Q))}function y(Q){var ne=Q.b,K=!1;Q.d!==Q.b.d&&(K=!0,P(Q.d,Q.b.d)),Q.c===Q?j(Q.a,null):(Q.b.d.a=Q.b.e,Q.a.c=Q.c,w(Q,Q.b.e),K||T(Q,Q.d)),ne.c===ne?(j(ne.a,null),P(ne.d,null)):(Q.d.a=ne.b.e,ne.a.c=ne.c,w(ne,ne.b.e)),M(Q)}function v(Q){var ne=x(Q),K=ne.b;return w(ne,Q.e),ne.a=Q.b.a,E(K,ne.a),ne.d=K.d=Q.d,ne=ne.b,w(Q.b,Q.b.b.e),w(Q.b,ne),Q.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=Q.b.d,ne.f=Q.f,ne.b.f=Q.b.f,ne}function _(Q,ne){var K=!1,oe=x(Q),xe=oe.b;return ne.d!==Q.d&&(K=!0,P(ne.d,Q.d)),w(oe,Q.e),w(xe,ne),oe.a=Q.b.a,xe.a=ne.a,oe.d=xe.d=Q.d,Q.d.a=xe,K||T(oe,Q.d),oe}function x(Q){var ne=new ae,K=new ae,oe=Q.b.h;return(((K.h=oe).b.h=ne).h=Q).b.h=K,ne.b=K,((ne.c=ne).e=K).b=ne,(K.c=K).e=ne}function w(Q,ne){var K=Q.c,oe=ne.c;K.b.e=ne,(oe.b.e=Q).c=oe,ne.c=K}function E(Q,ne){var K=ne.f,oe=new de(ne,K);for(K.e=oe,K=(ne.f=oe).c=Q;K.a=oe,(K=K.c)!==Q;);}function T(Q,ne){var K=ne.d,oe=new re(ne,K);for(K.b=oe,(ne.d=oe).a=Q,oe.c=ne.c,K=Q;K.d=oe,(K=K.e)!==Q;);}function M(Q){var ne=Q.h;Q=Q.b.h,(ne.b.h=Q).b.h=ne}function j(Q,ne){for(var K=Q.c,oe=K;oe.a=ne,(oe=oe.c)!==K;);K=Q.f,((oe=Q.e).f=K).e=oe}function P(Q,ne){for(var K=Q.a,oe=K;oe.d=ne,(oe=oe.e)!==K;);K=Q.d,((oe=Q.b).d=K).b=oe}function L(Q){var ne=0;return Math.abs(Q[1])>Math.abs(Q[0])&&(ne=1),ne=Math.abs(Q[2])>Math.abs(Q[ne])?2:ne}function N(Q,ne){Q.f+=ne.f,Q.b.f+=ne.b.f}function O(Q,ne,K){return Q=Q.a,ne=ne.a,K=K.a,ne.b.a===Q?K.b.a===Q?i(ne.a,K.a)?f(K.b.a,ne.a,K.a)<=0:0<=f(ne.b.a,K.a,ne.a):f(K.b.a,Q,K.a)<=0:K.b.a===Q?0<=f(ne.b.a,Q,ne.a):(ne=u(ne.b.a,Q,ne.a),(Q=u(K.b.a,Q,K.a))<=ne)}function k(Q){Q.a.i=null;var ne=Q.e;ne.a.c=ne.c,ne.c.a=ne.a,Q.e=null}function X(Q,ne){y(Q.a),Q.c=!1,(Q.a=ne).i=Q}function Y(Q){for(var ne=Q.a.a;(Q=me(Q)).a.a===ne;);return Q.c&&(X(Q,ne=_(Le(Q).a.b,Q.a.e)),Q=me(Q)),Q}function q(Q,ne,K){var oe=new we;return oe.a=K,oe.e=pe(Q.f,ne.e,oe),K.i=oe}function H(Q,ne){switch(Q.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function z(Q){var ne=Q.a,K=ne.d;K.c=Q.d,K.a=ne,k(Q)}function W(Q,ne,K){for(ne=(Q=ne).a;Q!==K;){Q.c=!1;var oe=Le(Q),xe=oe.a;if(xe.a!==ne.a){if(!oe.c){z(Q);break}X(oe,xe=_(ne.c.b,xe.b))}ne.c!==xe&&(g(xe.b.e,xe),g(ne,xe)),z(Q),ne=oe.a,Q=oe}return ne}function $(Q,ne,K,oe,xe,Ce){for(var Ne=!0;q(Q,ne,K.b),(K=K.c)!==oe;);for(xe===null&&(xe=Le(ne).a.b.c);(K=(oe=Le(ne)).a.b).a===xe.a;)K.c!==xe&&(g(K.b.e,K),g(xe.b.e,K)),oe.f=ne.f-K.f,oe.d=H(Q,oe.f),ne.b=!0,!Ne&&U(Q,ne)&&(N(K,xe),k(ne),y(xe)),Ne=!1,ne=oe,xe=K;ne.b=!0,Ce&&ee(Q,ne)}function se(Q,ne,K,oe,xe){var Ce=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=Q.o&&Q.o(Ce,K,oe,Q.c)||null,ne.d===null&&(xe?Q.n||(F(Q,100156),Q.n=!0):ne.d=K[0])}function R(Q,ne,K){var oe=[null,null,null,null];oe[0]=ne.a.d,oe[1]=K.a.d,se(Q,ne.a,oe,[.5,.5,0,0],!1),g(ne,K)}function I(Q,ne,K,oe,xe){var Ce=Math.abs(ne.b-Q.b)+Math.abs(ne.a-Q.a),Ne=Math.abs(K.b-Q.b)+Math.abs(K.a-Q.a),Ze=xe+1;oe[xe]=.5*Ne/(Ce+Ne),oe[Ze]=.5*Ce/(Ce+Ne),Q.g[0]+=oe[xe]*ne.g[0]+oe[Ze]*K.g[0],Q.g[1]+=oe[xe]*ne.g[1]+oe[Ze]*K.g[1],Q.g[2]+=oe[xe]*ne.g[2]+oe[Ze]*K.g[2]}function U(Q,ne){var K=Le(ne),oe=ne.a,xe=K.a;if(i(oe.a,xe.a)){if(0<f(xe.b.a,oe.a,xe.a))return;if(n(oe.a,xe.a)){if(oe.a!==xe.a){var K=Q.e,Ce=oe.a.h;if(0<=Ce){var Ne=(K=K.b).d,Ze=K.e,be=K.c,De=be[Ce];Ne[De]=Ne[K.a],(be[Ne[De]]=De)<=--K.a&&(De<=1||i(Ze[Ne[De>>1]],Ze[Ne[De]])?Oe:ke)(K,De),Ze[Ce]=null,be[Ce]=K.b,K.b=Ce}else for(K.c[-(Ce+1)]=null;0<K.a&&K.c[K.d[K.a-1]]===null;)--K.a;R(Q,xe.b.e,oe)}}else v(xe.b),g(oe,xe.b.e),ne.b=K.b=!0}else{if(f(oe.b.a,xe.a,oe.a)<0)return;me(ne).b=ne.b=!0,v(oe.b),g(xe.b.e,oe)}return 1}function G(Q,ne){var K=Le(ne),oe=ne.a,xe=K.a,Ce=oe.a,Ne=xe.a,Ze=oe.b.a,be=xe.b.a,De=new de;if(f(Ze,Q.a,Ce),f(be,Q.a,Ne),!(Ce===Ne||Math.min(Ce.a,Ze.a)>Math.max(Ne.a,be.a))){if(i(Ce,Ne)){if(0<f(be,Ce,Ne))return}else if(f(Ze,Ne,Ce)<0)return;var ze,et,rt=Ze,it=Ce,ut=be,at=Ne;if(i(rt,it)||(ze=rt,rt=it,it=ze),i(ut,at)||(ze=ut,ut=at,at=ze),i(rt,ut)||(ze=rt,rt=ut,ut=ze,ze=it,it=at,at=ze),i(ut,it)?i(it,at)?((ze=u(rt,ut,it))+(et=u(ut,it,at))<0&&(ze=-ze,et=-et),De.b=d(ze,ut.b,et,it.b)):((ze=f(rt,ut,it))+(et=-f(rt,at,it))<0&&(ze=-ze,et=-et),De.b=d(ze,ut.b,et,at.b)):De.b=(ut.b+it.b)/2,m(rt,it)||(ze=rt,rt=it,it=ze),m(ut,at)||(ze=ut,ut=at,at=ze),m(rt,ut)||(ze=rt,rt=ut,ut=ze,ze=it,it=at,at=ze),m(ut,it)?m(it,at)?((ze=a(rt,ut,it))+(et=a(ut,it,at))<0&&(ze=-ze,et=-et),De.a=d(ze,ut.a,et,it.a)):((ze=c(rt,ut,it))+(et=-c(rt,at,it))<0&&(ze=-ze,et=-et),De.a=d(ze,ut.a,et,at.a)):De.a=(ut.a+it.a)/2,i(De,Q.a)&&(De.b=Q.a.b,De.a=Q.a.a),rt=i(Ce,Ne)?Ce:Ne,i(rt,De)&&(De.b=rt.b,De.a=rt.a),n(De,Ce)||n(De,Ne))return U(Q,ne),0;if(!n(Ze,Q.a)&&0<=f(Ze,Q.a,De)||!n(be,Q.a)&&f(be,Q.a,De)<=0){if(be===Q.a)v(oe.b),g(xe.b,oe),oe=Le(ne=Y(ne)).a,W(Q,Le(ne),K),$(Q,ne,oe.b.e,oe,oe,!0);else{if(Ze!==Q.a)return 0<=f(Ze,Q.a,De)&&(me(ne).b=ne.b=!0,v(oe.b),oe.a.b=Q.a.b,oe.a.a=Q.a.a),void(f(be,Q.a,De)<=0&&(ne.b=K.b=!0,v(xe.b),xe.a.b=Q.a.b,xe.a.a=Q.a.a));for(v(xe.b),g(oe.e,xe.b.e),Ne=(Ce=K=ne).a.b.a;(Ce=me(Ce)).a.b.a===Ne;);Ce=Le(ne=Ce).a.b.c,K.a=xe.b.e,$(Q,ne,(xe=W(Q,K,null)).c,oe.b.c,Ce,!0)}return 1}v(oe.b),v(xe.b),g(xe.b.e,oe),oe.a.b=De.b,oe.a.a=De.a,oe.a.h=Se(Q.e,oe.a),oe=oe.a,xe=[0,0,0,0],De=[Ce.d,Ze.d,Ne.d,be.d],oe.g[0]=oe.g[1]=oe.g[2]=0,I(oe,Ce,Ze,xe,0),I(oe,Ne,be,xe,2),se(Q,oe,De,xe,!0),me(ne).b=ne.b=K.b=!0}}function ee(Q,ne){for(var K=Le(ne);;){for(;K.b;)K=Le(ne=K);if(!ne.b&&((ne=me(K=ne))===null||!ne.b))break;ne.b=!1;var oe=ne.a,xe=K.a;if(Ce=oe.b.a!==xe.b.a)e:{var Ce,Ne=Le(Ce=ne),Ze=Ce.a,be=Ne.a,De=void 0;if(i(Ze.b.a,be.b.a)){if(f(Ze.b.a,be.b.a,Ze.a)<0){Ce=!1;break e}me(Ce).b=Ce.b=!0,De=v(Ze),g(be.b,De),De.d.c=Ce.d}else{if(0<f(be.b.a,Ze.b.a,be.a)){Ce=!1;break e}Ce.b=Ne.b=!0,De=v(be),g(Ze.e,be.b),De.b.d.c=Ce.d}Ce=!0}if(Ce&&(K.c?(k(K),y(xe),xe=(K=Le(ne)).a):ne.c&&(k(ne),y(oe),oe=(ne=me(K)).a)),oe.a!==xe.a){if(oe.b.a===xe.b.a||ne.c||K.c||oe.b.a!==Q.a&&xe.b.a!==Q.a)U(Q,ne);else if(G(Q,ne))break}oe.a===xe.a&&oe.b.a===xe.b.a&&(N(xe,oe),k(ne),y(oe),ne=me(K))}}function ue(Q,ne){var K=new we,oe=p(Q.b);oe.a.b=4e150,oe.a.a=ne,oe.b.a.b=-4e150,oe.b.a.a=ne,Q.a=oe.b.a,K.a=oe,K.f=0,K.d=!1,K.c=!1,K.h=!0,K.b=!1,oe=pe(oe=Q.f,oe.a,K),K.e=oe}function fe(Q){this.a=new ce,this.b=Q,this.c=O}function pe(Q,ne,K){for(;(ne=ne.c).b!==null&&!Q.c(Q.b,ne.b,K););return Q=new ce(K,ne.a,ne),ne.a.c=Q,ne.a=Q}function ce(Q,ne,K){this.b=Q||null,this.a=ne||this,this.c=K||this}function ie(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function V(Q,ne){if(Q.d!==ne)for(;Q.d!==ne;)if(Q.d<ne)switch(Q.d){case 0:F(Q,100151),Q.u(null);break;case 1:F(Q,100152),Q.t()}else switch(Q.d){case 2:F(Q,100154),Q.v();break;case 1:F(Q,100153),Q.w()}}function F(Q,ne){Q.p&&Q.p(ne,Q.c)}function re(Q,ne){this.b=Q||this,this.d=ne||this,this.a=null,this.c=!1}function ae(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function he(){this.c=new de,this.a=new re,this.b=new ae,this.d=new ae,this.b.b=this.d,this.d.b=this.b}function de(Q,ne){this.e=Q||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Me(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new J}function Se(Q,ne){var K,oe,xe;return Q.e?(2*(oe=++(K=Q.b).a)>K.f&&(K.f*=2,K.c=te(K.c,K.f+1)),K.b===0?xe=oe:(xe=K.b,K.b=K.c[K.b]),K.e[xe]=ne,K.c[xe]=oe,K.d[oe]=xe,K.h&&ke(K,oe),xe):(K=Q.a++,Q.c[K]=ne,-(K+1))}function je(Q){if(Q.a===0)return Pe(Q.b);var ne=Q.c[Q.d[Q.a-1]];if(Q.b.a!==0&&i(Te(Q.b),ne))return Pe(Q.b);for(;--Q.a,0<Q.a&&Q.c[Q.d[Q.a-1]]===null;);return ne}function J(){this.d=te([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function te(Q,ne){for(var K=Array(ne),oe=0;oe<Q.length;oe++)K[oe]=Q[oe];for(;oe<ne;oe++)K[oe]=0;return K}function Te(Q){return Q.e[Q.d[1]]}function Pe(Q){var ne=Q.d,K=Q.e,oe=Q.c,xe=ne[1],Ce=K[xe];return 0<Q.a&&(ne[1]=ne[Q.a],oe[ne[1]]=1,K[xe]=null,oe[xe]=Q.b,Q.b=xe,0<--Q.a&&Oe(Q,1)),Ce}function Oe(Q,ne){for(var K=Q.d,oe=Q.e,xe=Q.c,Ce=ne,Ne=K[Ce];;){var Ze=Ce<<1,be=(Ze<Q.a&&i(oe[K[Ze+1]],oe[K[Ze]])&&(Ze+=1),K[Ze]);if(Ze>Q.a||i(oe[Ne],oe[be])){xe[K[Ce]=Ne]=Ce;break}xe[K[Ce]=be]=Ce,Ce=Ze}}function ke(Q,ne){for(var K=Q.d,oe=Q.e,xe=Q.c,Ce=ne,Ne=K[Ce];;){var Ze=Ce>>1,be=K[Ze];if(Ze==0||i(oe[be],oe[Ne])){xe[K[Ce]=Ne]=Ce;break}xe[K[Ce]=be]=Ce,Ce=Ze}}function we(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Le(Q){return Q.e.c.b}function me(Q){return Q.e.a.b}(s=ie.prototype).x=function(){V(this,0)},s.B=function(Q,ne){switch(Q){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void F(this,100900)}F(this,100901)},s.y=function(Q){switch(Q){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:F(this,100900)}return!1},s.A=function(Q,ne,K){this.j[0]=Q,this.j[1]=ne,this.j[2]=K},s.z=function(Q,ne){var K=ne||null;switch(Q){case 100100:case 100106:this.h=K;break;case 100104:case 100110:this.l=K;break;case 100101:case 100107:this.k=K;break;case 100102:case 100108:this.i=K;break;case 100103:case 100109:this.p=K;break;case 100105:case 100111:this.o=K;break;case 100112:this.r=K;break;default:F(this,100900)}},s.C=function(Q,ne){var K=!1,oe=[0,0,0];V(this,2);for(var xe=0;xe<3;++xe){var Ce=Q[xe];Ce<-1e150&&(Ce=-1e150,K=!0),1e150<Ce&&(Ce=1e150,K=!0),oe[xe]=Ce}K&&F(this,100155),(K=this.q)===null?g(K=p(this.b),K.b):(v(K),K=K.e),K.a.d=ne,K.a.g[0]=oe[0],K.a.g[1]=oe[1],K.a.g[2]=oe[2],K.f=1,K.b.f=-1,this.q=K},s.u=function(Q){V(this,0),this.d=1,this.b=new he,this.c=Q},s.t=function(){V(this,1),this.d=2,this.q=null},s.v=function(){V(this,2),this.d=1},s.w=function(){V(this,1),this.d=0;var Q,ne,K=this.j[0],oe=this.j[1],xe=this.j[2],Ce=!1,Ne=[K,oe,xe];if(K===0&&oe===0&&xe===0){for(var oe=[-2e150,-2e150,-2e150],Ze=[2e150,2e150,2e150],xe=[],be=[],K=(Ce=this.b.c).e;K!==Ce;K=K.e)for(var De=0;De<3;++De){var ze=K.g[De];ze<Ze[De]&&(Ze[De]=ze,be[De]=K),ze>oe[De]&&(oe[De]=ze,xe[De]=K)}if(oe[1]-Ze[1]>oe[K=0]-Ze[0]&&(K=1),Ze[K=oe[2]-Ze[2]>oe[K]-Ze[K]?2:K]>=oe[K])Ne[0]=0,Ne[1]=0,Ne[2]=1;else{for(Ze=be[K],xe=xe[K],be=[oe=0,0,0],Ze=[Ze.g[0]-xe.g[0],Ze.g[1]-xe.g[1],Ze.g[2]-xe.g[2]],De=[0,0,0],K=Ce.e;K!==Ce;K=K.e)De[0]=K.g[0]-xe.g[0],De[1]=K.g[1]-xe.g[1],De[2]=K.g[2]-xe.g[2],be[0]=Ze[1]*De[2]-Ze[2]*De[1],be[1]=Ze[2]*De[0]-Ze[0]*De[2],be[2]=Ze[0]*De[1]-Ze[1]*De[0],oe<(ze=be[0]*be[0]+be[1]*be[1]+be[2]*be[2])&&(oe=ze,Ne[0]=be[0],Ne[1]=be[1],Ne[2]=be[2]);oe<=0&&(Ne[0]=Ne[1]=Ne[2]=0,Ne[L(Ze)]=1)}Ce=!0}for(be=L(Ne),K=this.b.c,oe=(be+1)%3,xe=(be+2)%3,be=0<Ne[be]?1:-1,Ne=K.e;Ne!==K;Ne=Ne.e)Ne.b=Ne.g[oe],Ne.a=be*Ne.g[xe];if(Ce){for(Ne=0,K=(Ce=this.b.a).b;K!==Ce;K=K.b)if(!((oe=K.a).f<=0))for(;Ne+=(oe.a.b-oe.b.a.b)*(oe.a.a+oe.b.a.a),(oe=oe.e)!==K.a;);if(Ne<0)for(Ce=(Ne=this.b.c).e;Ce!==Ne;Ce=Ce.e)Ce.a=-Ce.a}for(this.n=!1,Ne=this.b.b,K=Ne.h;K!==Ne;K=Ce)Ce=K.h,oe=K.e,n(K.a,K.b.a)&&K.e.e!==K&&(R(this,oe,K),y(K),oe=(K=oe).e),oe.e===K&&(oe!==K&&(oe!==Ce&&oe!==Ce.b||(Ce=Ce.h),y(oe)),K!==Ce&&K!==Ce.b||(Ce=Ce.h),y(K));for(this.e=Ne=new Me,Ce=this.b.c,K=Ce.e;K!==Ce;K=K.e)K.h=Se(Ne,K);var et=Ne;et.d=[];for(var rt=0;rt<et.a;rt++)et.d[rt]=rt;et.d.sort(function(at){return function(Dt,Mt){return i(at[Dt],at[Mt])?1:-1}}(et.c)),et.e=!0;for(var it=et.b,ut=it.a;1<=ut;--ut)Oe(it,ut);for(it.h=!0,this.f=new fe(this),ue(this,-4e150),ue(this,4e150);(Ne=je(this.e))!==null;){for(;;){e:if((K=this.e).a===0)Ce=Te(K.b);else if(Ce=K.c[K.d[K.a-1]],K.b.a!==0&&i(K=Te(K.b),Ce)){Ce=K;break e}if(Ce===null||!n(Ce,Ne))break;Ce=je(this.e),R(this,Ne.c,Ce.c)}(function at(Dt,Mt){for(var kt,wt=(Dt.a=Mt).c;wt.i===null;)if((wt=wt.c)===Mt.c){var wt=Dt,Ft=Mt;(ve=new we).a=Ft.c.b;for(var Ge=(Ct=wt.f).a;(Ge=Ge.a).b!==null&&!Ct.c(Ct.b,ve,Ge.b););var Ct,_r,pr=Le(Ct=Ge.b),ve=Ct.a,Ge=pr.a;return void(f(ve.b.a,Ft,ve.a)===0?n((ve=Ct.a).a,Ft)||n(ve.b.a,Ft)||(v(ve.b),Ct.c&&(y(ve.c),Ct.c=!1),g(Ft.c,ve),at(wt,Ft)):(_r=i(Ge.b.a,ve.b.a)?Ct:pr,pr=void 0,Ct.d||_r.c?(pr=_r===Ct?_(Ft.c.b,ve.e):_(Ge.b.c.b,Ft.c).b,_r.c?X(_r,pr):((Ct=q(ve=wt,Ct,pr)).f=me(Ct).f+Ct.a.f,Ct.d=H(ve,Ct.f)),at(wt,Ft)):$(wt,Ct,Ft.c,Ft.c,null,!0)))}Ct=(ve=Le(wt=Y(wt.i))).a,(ve=W(Dt,ve,null)).c===Ct?(ve=(Ct=ve).c,Ge=Le(wt),pr=wt.a,_r=Ge.a,kt=!1,pr.b.a!==_r.b.a&&G(Dt,wt),n(pr.a,Dt.a)&&(g(ve.b.e,pr),ve=Le(wt=Y(wt)).a,W(Dt,Le(wt),Ge),kt=!0),n(_r.a,Dt.a)&&(g(Ct,_r.b.e),Ct=W(Dt,Ge,null),kt=!0),kt?$(Dt,wt,Ct.c,ve,ve,!0):(Ft=i(_r.a,pr.a)?_r.b.e:pr,$(Dt,wt,Ft=_(Ct.c.b,Ft),Ft.c,Ft.c,!1),Ft.b.i.c=!0,ee(Dt,wt))):$(Dt,wt,ve.c,Ct,Ct,!0)})(this,Ne)}for(this.a=this.f.a.a.b.a.a,Ne=0;(Ce=this.f.a.a.b)!==null;)Ce.h||++Ne,k(Ce);for(this.f=null,(Ne=this.e).b=null,Ne.d=null,this.e=Ne.c=null,Ne=this.b,K=Ne.a.b;K!==Ne.a;K=Ce)Ce=K.b,(K=K.a).e.e===K&&(N(K.c,K),y(K));if(!this.n){if(Ne=this.b,this.m)for(K=Ne.b.h;K!==Ne.b;K=Ce)Ce=K.h,K.b.d.c!==K.d.c?K.f=K.d.c?1:-1:y(K);else for(K=Ne.a.b;K!==Ne.a;K=Ce)if(Ce=K.b,K.c){for(K=K.a;i(K.b.a,K.a);K=K.c.b);for(;i(K.a,K.b.a);K=K.e);for(oe=K.c.b,xe=void 0;K.e!==oe;)if(i(K.b.a,oe.a)){for(;oe.e!==K&&(i((ne=oe.e).b.a,ne.a)||f(oe.a,oe.b.a,oe.e.b.a)<=0);)oe=(xe=_(oe.e,oe)).b;oe=oe.c.b}else{for(;oe.e!==K&&(i((Q=K.c.b).a,Q.b.a)||0<=f(K.b.a,K.a,K.c.b.a));)K=(xe=_(K,K.c.b)).b;K=K.e}for(;oe.e.e!==K;)xe=_(oe.e,oe),oe=xe.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ce=(Ne=this.b).a.b;Ce!==Ne.a;Ce=Ce.b)if(Ce.c){for(this.h&&this.h(2,this.c),K=Ce.a;this.k&&this.k(K.a.d,this.c),(K=K.e)!==Ce.a;);this.i&&this.i(this.c)}}else{for(Ne=this.b,Ce=!!this.l,K=!1,oe=-1,xe=Ne.a.d;xe!==Ne.a;xe=xe.d)if(xe.c)for(K||(this.h&&this.h(4,this.c),K=!0),be=xe.a;Ce&&(Ze=be.b.d.c?0:1,oe!==Ze&&(oe=Ze,this.l&&this.l(!!oe,this.c))),this.k&&this.k(be.a.d,this.c),(be=be.e)!==xe.a;);K&&this.i&&this.i(this.c)}if(this.r){for(Ne=this.b,K=Ne.a.b;K!==Ne.a;K=Ce)if(Ce=K.b,!K.c){for(xe=(oe=K.a).e,be=void 0;xe=(be=xe).e,(be.d=null)===be.b.d&&(be.c===be?j(be.a,null):(be.a.c=be.c,w(be,be.b.e)),(Ze=be.b).c===Ze?j(Ze.a,null):(Ze.a.c=Ze.c,w(Ze,Ze.b.e)),M(be)),be!==oe;);oe=K.d,((K=K.b).d=oe).b=K}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ie,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ie.prototype.gluDeleteTess=ie.prototype.x,ie.prototype.gluTessProperty=ie.prototype.B,ie.prototype.gluGetTessProperty=ie.prototype.y,ie.prototype.gluTessNormal=ie.prototype.A,ie.prototype.gluTessCallback=ie.prototype.z,ie.prototype.gluTessVertex=ie.prototype.C,ie.prototype.gluTessBeginPolygon=ie.prototype.u,ie.prototype.gluTessBeginContour=ie.prototype.t,ie.prototype.gluTessEndContour=ie.prototype.v,ie.prototype.gluTessEndPolygon=ie.prototype.w,o!==void 0&&(o.exports=this.libtess)},{}],240:[function(t,o,l){function s(i,u,f,m){var a=0,c=(m=m===void 0?{}:m).loop===void 0?null:m.loop,d=m.palette===void 0?null:m.palette;if(u<=0||f<=0||65535<u||65535<f)throw new Error("Width/Height invalid.");function p(T){if(T=T.length,T<2||256<T||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}i[a++]=71,i[a++]=73,i[a++]=70,i[a++]=56,i[a++]=57,i[a++]=97;var g=0,y=0;if(d!==null){for(var v=p(d);v>>=1;)++g;if(v=1<<g,--g,m.background!==void 0){if(v<=(y=m.background))throw new Error("Background index out of range.");if(y===0)throw new Error("Background index explicitly passed as 0.")}}if(i[a++]=255&u,i[a++]=u>>8&255,i[a++]=255&f,i[a++]=f>>8&255,i[a++]=(d!==null?128:0)|g,i[a++]=y,i[a++]=0,d!==null)for(var _=0,x=d.length;_<x;++_){var w=d[_];i[a++]=w>>16&255,i[a++]=w>>8&255,i[a++]=255&w}if(c!==null){if(c<0||65535<c)throw new Error("Loop count invalid.");i[a++]=33,i[a++]=255,i[a++]=11,i[a++]=78,i[a++]=69,i[a++]=84,i[a++]=83,i[a++]=67,i[a++]=65,i[a++]=80,i[a++]=69,i[a++]=50,i[a++]=46,i[a++]=48,i[a++]=3,i[a++]=1,i[a++]=255&c,i[a++]=c>>8&255,i[a++]=0}var E=!1;this.addFrame=function(T,M,j,P,L,N){if(E===!0&&(--a,E=!1),N=N===void 0?{}:N,T<0||M<0||65535<T||65535<M)throw new Error("x/y invalid.");if(j<=0||P<=0||65535<j||65535<P)throw new Error("Width/Height invalid.");if(L.length<j*P)throw new Error("Not enough pixels for the frame size.");var O=!0,k=N.palette;if(k==null&&(O=!1,k=d),k==null)throw new Error("Must supply either a local or global palette.");for(var Y=p(k),X=0;Y>>=1;)++X;var Y=1<<X,q=N.delay===void 0?0:N.delay,H=N.disposal===void 0?0:N.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var z=!1,W=0;if(N.transparent!==void 0&&N.transparent!==null&&(z=!0,(W=N.transparent)<0||Y<=W))throw new Error("Transparent color index.");if(H===0&&!z&&q===0||(i[a++]=33,i[a++]=249,i[a++]=4,i[a++]=H<<2|(z===!0?1:0),i[a++]=255&q,i[a++]=q>>8&255,i[a++]=W,i[a++]=0),i[a++]=44,i[a++]=255&T,i[a++]=T>>8&255,i[a++]=255&M,i[a++]=M>>8&255,i[a++]=255&j,i[a++]=j>>8&255,i[a++]=255&P,i[a++]=P>>8&255,i[a++]=O===!0?128|X-1:0,O===!0)for(var $=0,se=k.length;$<se;++$){var R=k[$];i[a++]=R>>16&255,i[a++]=R>>8&255,i[a++]=255&R}return a=function(I,U,G,ee){I[U++]=G;var ue=U++,fe=1<<G,pe=fe-1,ce=1+fe,ie=1+ce,V=G+1,F=0,re=0;function ae(Pe){for(;Pe<=F;)I[U++]=255&re,re>>=8,F-=8,U===ue+256&&(I[ue]=255,ue=U++)}function he(Pe){re|=Pe<<F,F+=V,ae(8)}var de=ee[0]&pe,Me={};he(fe);for(var Se=1,je=ee.length;Se<je;++Se){var J=ee[Se]&pe,te=de<<8|J,Te=Me[te];if(Te===void 0){for(re|=de<<F,F+=V;8<=F;)I[U++]=255&re,re>>=8,F-=8,U===ue+256&&(I[ue]=255,ue=U++);ie===4096?(he(fe),ie=1+ce,V=G+1,Me={}):(1<<V<=ie&&++V,Me[te]=ie++),de=J}else de=Te}return he(de),he(ce),ae(1),ue+1===U?I[ue]=0:(I[ue]=U-ue-1,I[U++]=0),U}(i,a,X<2?2:X,L)},this.end=function(){return E===!1&&(i[a++]=59,E=!0),a},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(T){i=T},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(T){a=T}}function n(i,u,f,m){for(var a=i[u++],c=1<<a,d=1+c,p=1+d,g=a+1,y=(1<<g)-1,v=0,_=0,x=0,w=i[u++],E=new Int32Array(4096),T=null;;){for(;v<16&&w!==0;)_|=i[u++]<<v,v+=8,w===1?w=i[u++]:--w;if(v<g)break;var M=_&y;if(_>>=g,v-=g,M==c)p=1+d,y=(1<<(g=a+1))-1,T=null;else{if(M==d)break;for(var j=M<p?M:T,P=0,L=j;c<L;)L=E[L]>>8,++P;var N=L;if(m<x+P+(j!==M?1:0))return void console.log("Warning, gif stream longer than expected.");f[x++]=N;var O=x+=P;for(j!==M&&(f[x++]=N),L=j;P--;)L=E[L],f[--O]=255&L,L>>=8;T!==null&&p<4096&&(E[p++]=T<<8|N,y+1<=p&&g<12&&(++g,y=y<<1|1)),T=M}}x!==m&&console.log("Warning, gif stream shorter than expected.")}try{l.GifWriter=s,l.GifReader=function(i){var u=0;if(i[u++]!==71||i[u++]!==73||i[u++]!==70||i[u++]!==56||(i[u++]+1&253)!=56||i[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=i[u++]|i[u++]<<8,m=i[u++]|i[u++]<<8,a=i[u++],c=1<<1+(7&a),d=(i[u++],i[u++],null),p=null,g=(a>>7&&(d=u,u+=3*(p=c)),!0),y=[],v=0,_=null,x=0,w=null;for(this.width=f,this.height=m;g&&u<i.length;)switch(i[u++]){case 33:switch(i[u++]){case 255:if(i[u]!==11||i[u+1]==78&&i[u+2]==69&&i[u+3]==84&&i[u+4]==83&&i[u+5]==67&&i[u+6]==65&&i[u+7]==80&&i[u+8]==69&&i[u+9]==50&&i[u+10]==46&&i[u+11]==48&&i[u+12]==3&&i[u+13]==1&&i[u+16]==0)u+=14,w=i[u++]|i[u++]<<8,u++;else for(u+=12;;){if(!(0<=(T=i[u++])))throw Error("Invalid block size");if(T===0)break;u+=T}break;case 249:if(i[u++]!==4||i[u+4]!==0)throw new Error("Invalid graphics extension block.");var E=i[u++],v=i[u++]|i[u++]<<8,_=i[u++];!(1&E)&&(_=null),x=E>>2&7,u++;break;case 254:for(;;){if(!(0<=(T=i[u++])))throw Error("Invalid block size");if(T===0)break;u+=T}break;default:throw new Error("Unknown graphic control label: 0x"+i[u-1].toString(16))}break;case 44:var T,M=i[u++]|i[u++]<<8,j=i[u++]|i[u++]<<8,P=i[u++]|i[u++]<<8,L=i[u++]|i[u++]<<8,q=i[u++],N=q>>6&1,O=1<<1+(7&q),k=d,X=p,Y=!1,q=(q>>7&&(Y=!0,k=u,u+=3*(X=O)),u);for(u++;;){if(!(0<=(T=i[u++])))throw Error("Invalid block size");if(T===0)break;u+=T}y.push({x:M,y:j,width:P,height:L,has_local_palette:Y,palette_offset:k,palette_size:X,data_offset:q,data_length:u-q,transparent_index:_,interlaced:!!N,delay:v,disposal:x});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+i[u-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return w},this.frameInfo=function(H){if(H<0||H>=y.length)throw new Error("Frame index out of range.");return y[H]},this.decodeAndBlitFrameBGRA=function(H,z){for(var H=this.frameInfo(H),W=H.width*H.height,$=new Uint8Array(W),se=(n(i,H.data_offset,$,W),H.palette_offset),R=H.transparent_index,I=(R===null&&(R=256),H.width),U=f-I,G=I,ee=4*(H.y*f+H.x),ue=4*((H.y+H.height)*f+H.x),fe=ee,pe=4*U,ce=(H.interlaced===!0&&(pe+=4*f*7),8),ie=0,V=$.length;ie<V;++ie){var F,re,ae=$[ie];G===0&&(G=I,ue<=(fe+=pe)&&(pe=4*U+4*f*(ce-1),fe=ee+(I+U)*(ce<<1),ce>>=1)),ae===R?fe+=4:(F=i[se+3*ae],re=i[se+3*ae+1],ae=i[se+3*ae+2],z[fe++]=ae,z[fe++]=re,z[fe++]=F,z[fe++]=255),--G}},this.decodeAndBlitFrameRGBA=function(H,z){for(var H=this.frameInfo(H),W=H.width*H.height,$=new Uint8Array(W),se=(n(i,H.data_offset,$,W),H.palette_offset),R=H.transparent_index,I=(R===null&&(R=256),H.width),U=f-I,G=I,ee=4*(H.y*f+H.x),ue=4*((H.y+H.height)*f+H.x),fe=ee,pe=4*U,ce=(H.interlaced===!0&&(pe+=4*f*7),8),ie=0,V=$.length;ie<V;++ie){var F,re,ae=$[ie];G===0&&(G=I,ue<=(fe+=pe)&&(pe=4*U+4*f*(ce-1),fe=ee+(I+U)*(ce<<1),ce>>=1)),ae===R?fe+=4:(F=i[se+3*ae],re=i[se+3*ae+1],ae=i[se+3*ae+2],z[fe++]=F,z[fe++]=re,z[fe++]=ae,z[fe++]=255),--G}}}}catch{}},{}],241:[function(t,o,l){(function(s){var n,i;n=this,i=function(u){function f(D){if(this==null)throw TypeError();var S,A=String(this),C=A.length,D=D?Number(D):0;if(!((D=D!=D?0:D)<0||C<=D))return 55296<=(S=A.charCodeAt(D))&&S<=56319&&D+1<C&&56320<=(C=A.charCodeAt(D+1))&&C<=57343?1024*(S-55296)+C-56320+65536:S}String.prototype.codePointAt||((m=function(){try{var b={},S=Object.defineProperty,A=S(b,b,b)&&S}catch{}return A}())?m(String.prototype,"codePointAt",{value:f,configurable:!0,writable:!0}):String.prototype.codePointAt=f);var m,a=0,c=-3;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function p(b,S){this.source=b,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=S,this.destLen=0,this.ltree=new d,this.dtree=new d}var g=new d,y=new d,v=new Uint8Array(30),_=new Uint16Array(30),x=new Uint8Array(30),w=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new d,M=new Uint8Array(320);function j(b,S,A,C){for(var D,B=0;B<A;++B)b[B]=0;for(B=0;B<30-A;++B)b[B+A]=B/A|0;for(D=C,B=0;B<30;++B)S[B]=D,D+=1<<b[B]}var P=new Uint16Array(16);function L(b,S,A,C){for(var D,B=0;B<16;++B)b.table[B]=0;for(B=0;B<C;++B)b.table[S[A+B]]++;for(B=D=b.table[0]=0;B<16;++B)P[B]=D,D+=b.table[B];for(B=0;B<C;++B)S[A+B]&&(b.trans[P[S[A+B]]++]=B)}function N(b,S,A){if(!S)return A;for(;b.bitcount<24;)b.tag|=b.source[b.sourceIndex++]<<b.bitcount,b.bitcount+=8;var C=b.tag&65535>>>16-S;return b.tag>>>=S,b.bitcount-=S,C+A}function O(b,S){for(;b.bitcount<24;)b.tag|=b.source[b.sourceIndex++]<<b.bitcount,b.bitcount+=8;for(var A=0,C=0,D=0,B=b.tag;C=2*C+(1&B),B>>>=1,A+=S.table[++D],0<=(C-=S.table[D]););return b.tag=B,b.bitcount-=D,S.trans[A+C]}function k(b,S,A){for(;;){var C=O(b,S);if(C===256)return a;if(C<256)b.dest[b.destLen++]=C;else for(var D,B=N(b,v[C-=257],_[C]),C=O(b,A),Z=D=b.destLen-N(b,x[C],w[C]);Z<D+B;++Z)b.dest[b.destLen++]=b.dest[Z]}}for(var X=g,Y=y,q=0;q<7;++q)X.table[q]=0;for(X.table[7]=24,X.table[8]=152,X.table[9]=112,q=0;q<24;++q)X.trans[q]=256+q;for(q=0;q<144;++q)X.trans[24+q]=q;for(q=0;q<8;++q)X.trans[168+q]=280+q;for(q=0;q<112;++q)X.trans[176+q]=144+q;for(q=0;q<5;++q)Y.table[q]=0;for(Y.table[5]=32,q=0;q<32;++q)Y.trans[q]=q;j(v,_,4,3),j(x,w,2,1),v[28]=0,_[28]=258;var H=function(b,S){var A,C,D,B=new p(b,S);do{switch(D=void 0,(C=B).bitcount--||(C.tag=C.source[C.sourceIndex++],C.bitcount=7),D=1&C.tag,C.tag>>>=1,C=D,N(B,2,0)){case 0:A=function(Be){for(var dt,vt;8<Be.bitcount;)Be.sourceIndex--,Be.bitcount-=8;if((dt=256*Be.source[Be.sourceIndex+1]+Be.source[Be.sourceIndex])!==(65535&~(256*Be.source[Be.sourceIndex+3]+Be.source[Be.sourceIndex+2])))return c;for(Be.sourceIndex+=4,vt=dt;vt;--vt)Be.dest[Be.destLen++]=Be.source[Be.sourceIndex++];return Be.bitcount=0,a}(B);break;case 1:A=k(B,g,y);break;case 2:qe=He=$e=Fe=Z=Ee=Ie=Ue=Re=ge=ye=le=void 0;for(var Z,le=B,ye=B.ltree,ge=B.dtree,Re=N(le,5,257),Ue=N(le,5,1),Ie=N(le,4,4),Ee=0;Ee<19;++Ee)M[Ee]=0;for(Ee=0;Ee<Ie;++Ee){var $e=N(le,3,0);M[E[Ee]]=$e}for(L(T,M,0,19),Z=0;Z<Re+Ue;){var He=O(le,T);switch(He){case 16:for(var qe=M[Z-1],Fe=N(le,2,3);Fe;--Fe)M[Z++]=qe;break;case 17:for(Fe=N(le,3,3);Fe;--Fe)M[Z++]=0;break;case 18:for(Fe=N(le,7,11);Fe;--Fe)M[Z++]=0;break;default:M[Z++]=He}}L(ye,M,0,Re),L(ge,M,Re,Ue),A=k(B,B.ltree,B.dtree);break;default:A=c}if(A!==a)throw new Error("Data error")}while(!C);return B.destLen<B.dest.length?typeof B.dest.slice=="function"?B.dest.slice(0,B.destLen):B.dest.subarray(0,B.destLen):B.dest};function z(b,S,A,C,D){return Math.pow(1-D,3)*b+3*Math.pow(1-D,2)*D*S+3*(1-D)*Math.pow(D,2)*A+Math.pow(D,3)*C}function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function $(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function se(b){throw new Error(b)}function R(b,S){b||se(S)}W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(b,S){typeof b=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=b,this.x2=b),b<this.x1&&(this.x1=b),b>this.x2&&(this.x2=b)),typeof S=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=S,this.y2=S),S<this.y1&&(this.y1=S),S>this.y2&&(this.y2=S))},W.prototype.addX=function(b){this.addPoint(b,null)},W.prototype.addY=function(b){this.addPoint(null,b)},W.prototype.addBezier=function(b,S,A,C,D,B,Z,le){var ye=[b,S],ge=[A,C],Re=[D,B],Ue=[Z,le];this.addPoint(b,S),this.addPoint(Z,le);for(var Ie=0;Ie<=1;Ie++){var Ee,$e=6*ye[Ie]-12*ge[Ie]+6*Re[Ie],He=-3*ye[Ie]+9*ge[Ie]-9*Re[Ie]+3*Ue[Ie],qe=3*ge[Ie]-3*ye[Ie];He==0?$e==0||0<(Ee=-qe/$e)&&Ee<1&&(Ie===0&&this.addX(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],Ee)),Ie===1&&this.addY(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],Ee))):(Ee=Math.pow($e,2)-4*qe*He)<0||(0<(qe=(-$e+Math.sqrt(Ee))/(2*He))&&qe<1&&(Ie===0&&this.addX(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],qe)),Ie===1&&this.addY(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],qe))),0<(qe=(-$e-Math.sqrt(Ee))/(2*He))&&qe<1&&(Ie===0&&this.addX(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],qe)),Ie===1&&this.addY(z(ye[Ie],ge[Ie],Re[Ie],Ue[Ie],qe))))}},W.prototype.addQuad=function(b,S,A,C,D,B){A=b+2/3*(A-b),C=S+2/3*(C-S),this.addBezier(b,S,A,C,A+1/3*(D-b),C+1/3*(B-S),D,B)},$.prototype.moveTo=function(b,S){this.commands.push({type:"M",x:b,y:S})},$.prototype.lineTo=function(b,S){this.commands.push({type:"L",x:b,y:S})},$.prototype.curveTo=$.prototype.bezierCurveTo=function(b,S,A,C,D,B){this.commands.push({type:"C",x1:b,y1:S,x2:A,y2:C,x:D,y:B})},$.prototype.quadTo=$.prototype.quadraticCurveTo=function(b,S,A,C){this.commands.push({type:"Q",x1:b,y1:S,x:A,y:C})},$.prototype.close=$.prototype.closePath=function(){this.commands.push({type:"Z"})},$.prototype.extend=function(b){var S;if(b.commands)b=b.commands;else if(b instanceof W)return S=b,this.moveTo(S.x1,S.y1),this.lineTo(S.x2,S.y1),this.lineTo(S.x2,S.y2),this.lineTo(S.x1,S.y2),void this.close();Array.prototype.push.apply(this.commands,b)},$.prototype.getBoundingBox=function(){for(var b=new W,S=0,A=0,C=0,D=0,B=0;B<this.commands.length;B++){var Z=this.commands[B];switch(Z.type){case"M":b.addPoint(Z.x,Z.y),S=C=Z.x,A=D=Z.y;break;case"L":b.addPoint(Z.x,Z.y),C=Z.x,D=Z.y;break;case"Q":b.addQuad(C,D,Z.x1,Z.y1,Z.x,Z.y),C=Z.x,D=Z.y;break;case"C":b.addBezier(C,D,Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y),C=Z.x,D=Z.y;break;case"Z":C=S,D=A;break;default:throw new Error("Unexpected path command "+Z.type)}}return b.isEmpty()&&b.addPoint(0,0),b},$.prototype.draw=function(b){b.beginPath();for(var S=0;S<this.commands.length;S+=1){var A=this.commands[S];A.type==="M"?b.moveTo(A.x,A.y):A.type==="L"?b.lineTo(A.x,A.y):A.type==="C"?b.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?b.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&b.closePath()}this.fill&&(b.fillStyle=this.fill,b.fill()),this.stroke&&(b.strokeStyle=this.stroke,b.lineWidth=this.strokeWidth,b.stroke())},$.prototype.toPathData=function(b){function S(){for(var B=arguments,Z="",le=0;le<arguments.length;le+=1){var ye=B[le];0<=ye&&0<le&&(Z+=" "),Z+=(ye=ye,Math.round(ye)===ye?""+Math.round(ye):ye.toFixed(b))}return Z}b=b!==void 0?b:2;for(var A="",C=0;C<this.commands.length;C+=1){var D=this.commands[C];D.type==="M"?A+="M"+S(D.x,D.y):D.type==="L"?A+="L"+S(D.x,D.y):D.type==="C"?A+="C"+S(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"?A+="Q"+S(D.x1,D.y1,D.x,D.y):D.type==="Z"&&(A+="Z")}return A},$.prototype.toSVG=function(b){var S=(S='<path d="')+this.toPathData(b)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?S+=' fill="none"':S+=' fill="'+this.fill+'"'),this.stroke&&(S+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),S+="/>"},$.prototype.toDOMElement=function(S){var S=this.toPathData(S),A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",S),A};var I={fail:se,argument:R,assert:R},U={},G={},ee={};function ue(b){return function(){return b}}G.BYTE=function(b){return I.argument(0<=b&&b<=255,"Byte value should be between 0 and 255."),[b]},ee.BYTE=ue(1),G.CHAR=function(b){return[b.charCodeAt(0)]},ee.CHAR=ue(1),G.CHARARRAY=function(b){for(var S=[],A=0;A<b.length;A+=1)S[A]=b.charCodeAt(A);return S},ee.CHARARRAY=function(b){return b.length},G.USHORT=function(b){return[b>>8&255,255&b]},ee.USHORT=ue(2),G.SHORT=function(b){return[(b=32768<=b?-(65536-b):b)>>8&255,255&b]},ee.SHORT=ue(2),G.UINT24=function(b){return[b>>16&255,b>>8&255,255&b]},ee.UINT24=ue(3),G.ULONG=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},ee.ULONG=ue(4),G.LONG=function(b){return[(b=2147483648<=b?-(4294967296-b):b)>>24&255,b>>16&255,b>>8&255,255&b]},ee.LONG=ue(4),G.FIXED=G.ULONG,ee.FIXED=ee.ULONG,G.FWORD=G.SHORT,ee.FWORD=ee.SHORT,G.UFWORD=G.USHORT,ee.UFWORD=ee.USHORT,G.LONGDATETIME=function(b){return[0,0,0,0,b>>24&255,b>>16&255,b>>8&255,255&b]},ee.LONGDATETIME=ue(8),G.TAG=function(b){return I.argument(b.length===4,"Tag should be exactly 4 ASCII characters."),[b.charCodeAt(0),b.charCodeAt(1),b.charCodeAt(2),b.charCodeAt(3)]},ee.TAG=ue(4),G.Card8=G.BYTE,ee.Card8=ee.BYTE,G.Card16=G.USHORT,ee.Card16=ee.USHORT,G.OffSize=G.BYTE,ee.OffSize=ee.BYTE,G.SID=G.USHORT,ee.SID=ee.USHORT,G.NUMBER=function(b){return-107<=b&&b<=107?[b+139]:108<=b&&b<=1131?[247+((b-=108)>>8),255&b]:-1131<=b&&b<=-108?[251+((b=-b-108)>>8),255&b]:-32768<=b&&b<=32767?G.NUMBER16(b):G.NUMBER32(b)},ee.NUMBER=function(b){return G.NUMBER(b).length},G.NUMBER16=function(b){return[28,b>>8&255,255&b]},ee.NUMBER16=ue(3),G.NUMBER32=function(b){return[29,b>>24&255,b>>16&255,b>>8&255,255&b]},ee.NUMBER32=ue(5),G.REAL=function(b){for(var S=b.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(S),C=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),S=(Math.round(b*A)/A).toString()),""),D=0,B=S.length;D<B;D+=1){var Z=S[D];C+=Z==="e"?S[++D]==="-"?"c":"b":Z==="."?"a":Z==="-"?"e":Z}for(var le=[30],ye=0,ge=(C+=1&C.length?"f":"ff").length;ye<ge;ye+=2)le.push(parseInt(C.substr(ye,2),16));return le},ee.REAL=function(b){return G.REAL(b).length},G.NAME=G.CHARARRAY,ee.NAME=ee.CHARARRAY,G.STRING=G.CHARARRAY,ee.STRING=ee.CHARARRAY,U.UTF8=function(b,S,A){for(var C=[],D=A,B=0;B<D;B++,S+=1)C[B]=b.getUint8(S);return String.fromCharCode.apply(null,C)},U.UTF16=function(b,S,A){for(var C=[],D=A/2,B=0;B<D;B++,S+=2)C[B]=b.getUint16(S);return String.fromCharCode.apply(null,C)},G.UTF16=function(b){for(var S=[],A=0;A<b.length;A+=1){var C=b.charCodeAt(A);S[S.length]=C>>8&255,S[S.length]=255&C}return S},ee.UTF16=function(b){return 2*b.length};var fe,pe={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},ce=(U.MACSTRING=function(b,S,A,C){var D=pe[C];if(D!==void 0){for(var B="",Z=0;Z<A;Z++){var le=b.getUint8(S+Z);B+=le<=127?String.fromCharCode(le):D[127&le]}return B}},typeof WeakMap=="function"&&new WeakMap);function ie(b){return-128<=b&&b<=127}G.MACSTRING=function(b,S){var A=function(Z){if(!fe)for(var le in fe={},pe)fe[le]=new String(le);var ye=fe[Z];if(ye!==void 0){if(ce){var ge=ce.get(ye);if(ge!==void 0)return ge}var Re=pe[Z];if(Re!==void 0){for(var Ue={},Ie=0;Ie<Re.length;Ie++)Ue[Re.charCodeAt(Ie)]=Ie+128;return ce&&ce.set(ye,Ue),Ue}}}(S);if(A!==void 0){for(var C=[],D=0;D<b.length;D++){var B=b.charCodeAt(D);if(128<=B&&(B=A[B])===void 0)return;C[D]=B}return C}},ee.MACSTRING=function(b,S){return b=G.MACSTRING(b,S),b!==void 0?b.length:0},G.VARDELTAS=function(b){for(var C=0,S=[];C<b.length;)var A=b[C],C=(A===0?function(D,B,Z){for(var le=0,ye=D.length;B<ye&&le<64&&D[B]===0;)++B,++le;return Z.push(128|le-1),B}:-128<=A&&A<=127?function(D,B,Z){for(var le=0,ye=D.length,ge=B;ge<ye&&le<64;){var Re=D[ge];if(!ie(Re)||Re===0&&ge+1<ye&&D[ge+1]===0)break;++ge,++le}Z.push(le-1);for(var Ue=B;Ue<ge;++Ue)Z.push(D[Ue]+256&255);return ge}:function(D,B,Z){for(var le=0,ye=D.length,ge=B;ge<ye&&le<64;){var Re=D[ge];if(Re===0||ie(Re)&&ge+1<ye&&ie(D[ge+1]))break;++ge,++le}Z.push(64|le-1);for(var Ue=B;Ue<ge;++Ue){var Ie=D[Ue];Z.push(Ie+65536>>8&255,Ie+256&255)}return ge})(b,C,S);return S},G.INDEX=function(b){for(var S=1,A=[S],C=[],D=0;D<b.length;D+=1){var B=G.OBJECT(b[D]);Array.prototype.push.apply(C,B),S+=B.length,A.push(S)}if(C.length===0)return[0,0];for(var Z=[],le=1+Math.floor(Math.log(S)/Math.log(2))/8|0,ye=[void 0,G.BYTE,G.USHORT,G.UINT24,G.ULONG][le],ge=0;ge<A.length;ge+=1){var Re=ye(A[ge]);Array.prototype.push.apply(Z,Re)}return Array.prototype.concat(G.Card16(b.length),G.OffSize(le),Z,C)},ee.INDEX=function(b){return G.INDEX(b).length},G.DICT=function(b){for(var S=[],A=Object.keys(b),C=A.length,D=0;D<C;D+=1){var B=parseInt(A[D],0),Z=b[B];S=(S=S.concat(G.OPERAND(Z.value,Z.type))).concat(G.OPERATOR(B))}return S},ee.DICT=function(b){return G.DICT(b).length},G.OPERATOR=function(b){return b<1200?[b]:[12,b-1200]},G.OPERAND=function(b,S){var A=[];if(Array.isArray(S))for(var C=0;C<S.length;C+=1)I.argument(b.length===S.length,"Not enough arguments given for type"+S),A=A.concat(G.OPERAND(b[C],S[C]));else if(S==="SID")A=A.concat(G.NUMBER(b));else if(S==="offset")A=A.concat(G.NUMBER32(b));else if(S==="number")A=A.concat(G.NUMBER(b));else{if(S!=="real")throw new Error("Unknown operand type "+S);A=A.concat(G.REAL(b))}return A},G.OP=G.BYTE,ee.OP=ee.BYTE;var V=typeof WeakMap=="function"&&new WeakMap;function F(b,S,A){for(var C=0;C<S.length;C+=1){var D=S[C];this[D.name]=D.value}if(this.tableName=b,this.fields=S,A)for(var B=Object.keys(A),Z=0;Z<B.length;Z+=1){var le=B[Z],ye=A[le];this[le]!==void 0&&(this[le]=ye)}}function re(b,S,A){A===void 0&&(A=S.length);var C=new Array(S.length+1);C[0]={name:b+"Count",type:"USHORT",value:A};for(var D=0;D<S.length;D++)C[D+1]={name:b+D,type:"USHORT",value:S[D]};return C}function ae(b,S,A){var C=S.length,D=new Array(C+1);D[0]={name:b+"Count",type:"USHORT",value:C};for(var B=0;B<C;B++)D[B+1]={name:b+B,type:"TABLE",value:A(S[B],B)};return D}function he(b,S,A){var C=S.length,D=[];D[0]={name:b+"Count",type:"USHORT",value:C};for(var B=0;B<C;B++)D=D.concat(A(S[B],B));return D}function de(b){b.format===1?F.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(re("glyph",b.glyphs))):I.assert(!1,"Can't create coverage table format 2 yet.")}function Me(b){F.call(this,"scriptListTable",he("scriptRecord",b,function(S,A){var C=S.script,D=C.defaultLangSys;return I.assert(!!D,"Unable to write GSUB: script "+S.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:S.tag},{name:"script"+A,type:"TABLE",value:new F("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new F("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:D.reqFeatureIndex}].concat(re("featureIndex",D.featureIndexes)))}].concat(he("langSys",C.langSysRecords,function(B,Z){var le=B.langSys;return[{name:"langSysTag"+Z,type:"TAG",value:B.tag},{name:"langSys"+Z,type:"TABLE",value:new F("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:le.reqFeatureIndex}].concat(re("featureIndex",le.featureIndexes)))}]})))}]}))}function Se(b){F.call(this,"featureListTable",he("featureRecord",b,function(S,A){var C=S.feature;return[{name:"featureTag"+A,type:"TAG",value:S.tag},{name:"feature"+A,type:"TABLE",value:new F("featureTable",[{name:"featureParams",type:"USHORT",value:C.featureParams}].concat(re("lookupListIndex",C.lookupListIndexes)))}]}))}function je(b,S){F.call(this,"lookupListTable",ae("lookup",b,function(A){var C=S[A.lookupType];return I.assert(!!C,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new F("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(ae("subtable",A.subtables,C)))}))}G.CHARSTRING=function(b){if(V){var S=V.get(b);if(S!==void 0)return S}for(var B=[],A=b.length,C=0;C<A;C+=1)var D=b[C],B=B.concat(G[D.type](D.value));return V&&V.set(b,B),B},ee.CHARSTRING=function(b){return G.CHARSTRING(b).length},G.OBJECT=function(b){var S=G[b.type];return I.argument(S!==void 0,"No encoding function for type "+b.type),S(b.value)},ee.OBJECT=function(b){var S=ee[b.type];return I.argument(S!==void 0,"No sizeOf function for type "+b.type),S(b.value)},G.TABLE=function(b){for(var S=[],A=b.fields.length,C=[],D=[],B=0;B<A;B+=1){var Z=b.fields[B],ye=G[Z.type],le=(I.argument(ye!==void 0,"No encoding function for field type "+Z.type+" ("+Z.name+")"),b[Z.name]),ye=ye(le=le===void 0?Z.value:le);Z.type==="TABLE"?(D.push(S.length),S=S.concat([0,0]),C.push(ye)):S=S.concat(ye)}for(var ge=0;ge<C.length;ge+=1){var Re=D[ge],Ue=S.length;I.argument(Ue<65536,"Table "+b.tableName+" too big."),S[Re]=Ue>>8,S[Re+1]=255&Ue,S=S.concat(C[ge])}return S},ee.TABLE=function(b){for(var S=0,A=b.fields.length,C=0;C<A;C+=1){var D=b.fields[C],B=ee[D.type],Z=(I.argument(B!==void 0,"No sizeOf function for field type "+D.type+" ("+D.name+")"),b[D.name]);S+=B(Z=Z===void 0?D.value:Z),D.type==="TABLE"&&(S+=2)}return S},G.RECORD=G.TABLE,ee.RECORD=ee.TABLE,G.LITERAL=function(b){return b},ee.LITERAL=function(b){return b.length},F.prototype.encode=function(){return G.TABLE(this)},F.prototype.sizeOf=function(){return ee.TABLE(this)};var J={Table:F,Record:F,Coverage:(de.prototype=Object.create(F.prototype)).constructor=de,ScriptList:(Me.prototype=Object.create(F.prototype)).constructor=Me,FeatureList:(Se.prototype=Object.create(F.prototype)).constructor=Se,LookupList:(je.prototype=Object.create(F.prototype)).constructor=je,ushortList:re,tableList:ae,recordList:he};function te(b,S){return b.getUint8(S)}function Te(b,S){return b.getUint16(S,!1)}function Pe(b,S){return b.getUint32(S,!1)}function Oe(b,S){return b.getInt16(S,!1)+b.getUint16(S+2,!1)/65535}var ke={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function we(b,S){this.data=b,this.offset=S,this.relativeOffset=0}we.prototype.parseByte=function(){var b=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,b},we.prototype.parseChar=function(){var b=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,b},we.prototype.parseCard8=we.prototype.parseByte,we.prototype.parseCard16=we.prototype.parseUShort=function(){var b=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,b},we.prototype.parseSID=we.prototype.parseUShort,we.prototype.parseOffset16=we.prototype.parseUShort,we.prototype.parseShort=function(){var b=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,b},we.prototype.parseF2Dot14=function(){var b=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,b},we.prototype.parseOffset32=we.prototype.parseULong=function(){var b=Pe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,b},we.prototype.parseFixed=function(){var b=Oe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,b},we.prototype.parseString=function(b){var S=this.data,A=this.offset+this.relativeOffset,C="";this.relativeOffset+=b;for(var D=0;D<b;D++)C+=String.fromCharCode(S.getUint8(A+D));return C},we.prototype.parseTag=function(){return this.parseString(4)},we.prototype.parseLongDateTime=function(){var b=Pe(this.data,this.offset+this.relativeOffset+4);return b-=2082844800,this.relativeOffset+=8,b},we.prototype.parseVersion=function(b){var S=Te(this.data,this.offset+this.relativeOffset),A=Te(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,S+A/(b=b===void 0?4096:b)/10},we.prototype.skip=function(b,S){this.relativeOffset+=ke[b]*(S=S===void 0?1:S)},we.prototype.parseULongList=function(b){b===void 0&&(b=this.parseULong());for(var S=new Array(b),A=this.data,C=this.offset+this.relativeOffset,D=0;D<b;D++)S[D]=A.getUint32(C),C+=4;return this.relativeOffset+=4*b,S},we.prototype.parseOffset16List=we.prototype.parseUShortList=function(b){b===void 0&&(b=this.parseUShort());for(var S=new Array(b),A=this.data,C=this.offset+this.relativeOffset,D=0;D<b;D++)S[D]=A.getUint16(C),C+=2;return this.relativeOffset+=2*b,S},we.prototype.parseShortList=function(b){for(var S=new Array(b),A=this.data,C=this.offset+this.relativeOffset,D=0;D<b;D++)S[D]=A.getInt16(C),C+=2;return this.relativeOffset+=2*b,S},we.prototype.parseByteList=function(b){for(var S=new Array(b),A=this.data,C=this.offset+this.relativeOffset,D=0;D<b;D++)S[D]=A.getUint8(C++);return this.relativeOffset+=b,S},we.prototype.parseList=function(b,S){S||(S=b,b=this.parseUShort());for(var A=new Array(b),C=0;C<b;C++)A[C]=S.call(this);return A},we.prototype.parseList32=function(b,S){S||(S=b,b=this.parseULong());for(var A=new Array(b),C=0;C<b;C++)A[C]=S.call(this);return A},we.prototype.parseRecordList=function(b,S){S||(S=b,b=this.parseUShort());for(var A=new Array(b),C=Object.keys(S),D=0;D<b;D++){for(var B={},Z=0;Z<C.length;Z++){var le=C[Z],ye=S[le];B[le]=ye.call(this)}A[D]=B}return A},we.prototype.parseRecordList32=function(b,S){S||(S=b,b=this.parseULong());for(var A=new Array(b),C=Object.keys(S),D=0;D<b;D++){for(var B={},Z=0;Z<C.length;Z++){var le=C[Z],ye=S[le];B[le]=ye.call(this)}A[D]=B}return A},we.prototype.parseStruct=function(b){if(typeof b=="function")return b.call(this);for(var S=Object.keys(b),A={},C=0;C<S.length;C++){var D=S[C],B=b[D];A[D]=B.call(this)}return A},we.prototype.parseValueRecord=function(b){var S;if((b=b===void 0?this.parseUShort():b)!==0)return S={},1&b&&(S.xPlacement=this.parseShort()),2&b&&(S.yPlacement=this.parseShort()),4&b&&(S.xAdvance=this.parseShort()),8&b&&(S.yAdvance=this.parseShort()),16&b&&(S.xPlaDevice=void 0,this.parseShort()),32&b&&(S.yPlaDevice=void 0,this.parseShort()),64&b&&(S.xAdvDevice=void 0,this.parseShort()),128&b&&(S.yAdvDevice=void 0,this.parseShort()),S},we.prototype.parseValueRecordList=function(){for(var b=this.parseUShort(),S=this.parseUShort(),A=new Array(S),C=0;C<S;C++)A[C]=this.parseValueRecord(b);return A},we.prototype.parsePointer=function(b){var S=this.parseOffset16();if(0<S)return new we(this.data,this.offset+S).parseStruct(b)},we.prototype.parsePointer32=function(b){var S=this.parseOffset32();if(0<S)return new we(this.data,this.offset+S).parseStruct(b)},we.prototype.parseListOfLists=function(b){for(var S=this.parseOffset16List(),A=S.length,C=this.relativeOffset,D=new Array(A),B=0;B<A;B++){var Z=S[B];if(Z===0)D[B]=void 0;else if(this.relativeOffset=Z,b){for(var le=this.parseOffset16List(),ye=new Array(le.length),ge=0;ge<le.length;ge++)this.relativeOffset=Z+le[ge],ye[ge]=b.call(this);D[B]=ye}else D[B]=this.parseUShortList()}return this.relativeOffset=C,D},we.prototype.parseCoverage=function(){var b=this.offset+this.relativeOffset,S=this.parseUShort(),A=this.parseUShort();if(S===1)return{format:1,glyphs:this.parseUShortList(A)};if(S!==2)throw new Error("0x"+b.toString(16)+": Coverage format must be 1 or 2.");for(var C=new Array(A),D=0;D<A;D++)C[D]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:C}},we.prototype.parseClassDef=function(){var b=this.offset+this.relativeOffset,S=this.parseUShort();if(S===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(S===2)return{format:2,ranges:this.parseRecordList({start:we.uShort,end:we.uShort,classId:we.uShort})};throw new Error("0x"+b.toString(16)+": ClassDef format must be 1 or 2.")},we.list=function(b,S){return function(){return this.parseList(b,S)}},we.list32=function(b,S){return function(){return this.parseList32(b,S)}},we.recordList=function(b,S){return function(){return this.parseRecordList(b,S)}},we.recordList32=function(b,S){return function(){return this.parseRecordList32(b,S)}},we.pointer=function(b){return function(){return this.parsePointer(b)}},we.pointer32=function(b){return function(){return this.parsePointer32(b)}},we.tag=we.prototype.parseTag,we.byte=we.prototype.parseByte,we.uShort=we.offset16=we.prototype.parseUShort,we.uShortList=we.prototype.parseUShortList,we.uLong=we.offset32=we.prototype.parseULong,we.uLongList=we.prototype.parseULongList,we.struct=we.prototype.parseStruct,we.coverage=we.prototype.parseCoverage,we.classDef=we.prototype.parseClassDef;var Le={reserved:we.uShort,reqFeatureIndex:we.uShort,featureIndexes:we.uShortList},me=(we.prototype.parseScriptList=function(){return this.parsePointer(we.recordList({tag:we.tag,script:we.pointer({defaultLangSys:we.pointer(Le),langSysRecords:we.recordList({tag:we.tag,langSys:we.pointer(Le)})})}))||[]},we.prototype.parseFeatureList=function(){return this.parsePointer(we.recordList({tag:we.tag,feature:we.pointer({featureParams:we.offset16,lookupListIndexes:we.uShortList})}))||[]},we.prototype.parseLookupList=function(b){return this.parsePointer(we.list(we.pointer(function(){var S=this.parseUShort(),A=(I.argument(1<=S&&S<=9,"GPOS/GSUB lookup type "+S+" unknown."),this.parseUShort()),C=16&A;return{lookupType:S,lookupFlag:A,subtables:this.parseList(we.pointer(b[S])),markFilteringSet:C?this.parseUShort():void 0}})))||[]},we.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var b=this.parseUShort(),S=this.parseUShort();return I.argument(b===1&&S<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:we.offset32,featureTableSubstitutionOffset:we.offset32})})||[]},{getByte:te,getCard8:te,getUShort:Te,getCard16:Te,getShort:function(b,S){return b.getInt16(S,!1)},getULong:Pe,getFixed:Oe,getTag:function(b,S){for(var A="",C=S;C<S+4;C+=1)A+=String.fromCharCode(b.getInt8(C));return A},getOffset:function(b,S,A){for(var C=0,D=0;D<A;D+=1)C=(C<<=8)+b.getUint8(S+D);return C},getBytes:function(b,S,A){for(var C=[],D=S;D<A;D+=1)C.push(b.getUint8(D));return C},bytesToString:function(b){for(var S="",A=0;A<b.length;A+=1)S+=String.fromCharCode(b[A]);return S},Parser:we}),Q={parse:function(b,S){for(var A={},C=(A.version=me.getUShort(b,S),I.argument(A.version===0,"cmap table version should be 0."),A.numTables=me.getUShort(b,S+2),-1),D=A.numTables-1;0<=D;--D){var B=me.getUShort(b,S+4+8*D),Z=me.getUShort(b,S+4+8*D+2);if(B===3&&(Z===0||Z===1||Z===10)||B===0&&(Z===0||Z===1||Z===2||Z===3||Z===4)){C=me.getULong(b,S+4+8*D+4);break}}if(C===-1)throw new Error("No valid cmap sub-tables found.");var le=new me.Parser(b,S+C);if(A.format=le.parseUShort(),A.format===12){var ye,ge=A,Re=le;Re.parseUShort(),ge.length=Re.parseULong(),ge.language=Re.parseULong(),ge.groupCount=ye=Re.parseULong(),ge.glyphIndexMap={};for(var Ue=0;Ue<ye;Ue+=1)for(var Ie=Re.parseULong(),Ee=Re.parseULong(),$e=Re.parseULong(),He=Ie;He<=Ee;He+=1)ge.glyphIndexMap[He]=$e,$e++}else{if(A.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var qe=A,Fe=b,Be=S,dt=C;qe.length=le.parseUShort(),qe.language=le.parseUShort(),qe.segCount=vt=le.parseUShort()>>1,le.skip("uShort",3),qe.glyphIndexMap={};for(var vt,ft=new me.Parser(Fe,Be+dt+14),pt=new me.Parser(Fe,Be+dt+16+2*vt),At=new me.Parser(Fe,Be+dt+16+4*vt),Xt=new me.Parser(Fe,Be+dt+16+6*vt),ur=Be+dt+16+8*vt,gr=0;gr<vt-1;gr+=1)for(var Ir=void 0,kr=ft.parseUShort(),Pn=pt.parseUShort(),Vt=At.parseShort(),$t=Xt.parseUShort(),Nt=Pn;Nt<=kr;Nt+=1)$t!==0?(ur=(ur=Xt.offset+Xt.relativeOffset-2)+$t+2*(Nt-Pn),(Ir=me.getUShort(Fe,ur))!==0&&(Ir=Ir+Vt&65535)):Ir=Nt+Vt&65535,qe.glyphIndexMap[Nt]=Ir}return A},make:function(b){for(var S=!0,A=b.length-1;0<A;--A)if(65535<b.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var C,D,B=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}],Z=(B=(B=S?B:B.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new J.Table("cmap",B));for(Z.segments=[],A=0;A<b.length;A+=1){for(var le=b.get(A),ye=0;ye<le.unicodes.length;ye+=1)C=le.unicodes[ye],D=A,Z.segments.push({end:C,start:C,delta:-(C-D),offset:0,glyphIndex:D});Z.segments=Z.segments.sort(function(Be,dt){return Be.start-dt.start})}Z.segments.push({end:65535,start:65535,delta:1,offset:0});var ge=Z.segments.length,Re=0,Ue=[],Ie=[],Ee=[],$e=[],He=[],qe=[];for(A=0;A<ge;A+=1){var Fe=Z.segments[A];Fe.end<=65535&&Fe.start<=65535?(Ue=Ue.concat({name:"end_"+A,type:"USHORT",value:Fe.end}),Ie=Ie.concat({name:"start_"+A,type:"USHORT",value:Fe.start}),Ee=Ee.concat({name:"idDelta_"+A,type:"SHORT",value:Fe.delta}),$e=$e.concat({name:"idRangeOffset_"+A,type:"USHORT",value:Fe.offset}),Fe.glyphId!==void 0&&(He=He.concat({name:"glyph_"+A,type:"USHORT",value:Fe.glyphId}))):Re+=1,S||Fe.glyphIndex===void 0||(qe=(qe=(qe=qe.concat({name:"cmap12Start_"+A,type:"ULONG",value:Fe.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:Fe.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:Fe.glyphIndex}))}return Z.segCountX2=2*(ge-Re),Z.searchRange=2*Math.pow(2,Math.floor(Math.log(ge-Re)/Math.log(2))),Z.entrySelector=Math.log(Z.searchRange/2)/Math.log(2),Z.rangeShift=Z.segCountX2-Z.searchRange,Z.fields=Z.fields.concat(Ue),Z.fields.push({name:"reservedPad",type:"USHORT",value:0}),Z.fields=Z.fields.concat(Ie),Z.fields=Z.fields.concat(Ee),Z.fields=Z.fields.concat($e),Z.fields=Z.fields.concat(He),Z.cmap4Length=14+2*Ue.length+2+2*Ie.length+2*Ee.length+2*$e.length+2*He.length,S||(B=16+4*qe.length,Z.cmap12Offset=20+Z.cmap4Length,Z.fields=Z.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:B},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:qe.length/3}]),Z.fields=Z.fields.concat(qe)),Z}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],oe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],xe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ce(b){this.font=b}function Ne(b){this.cmap=b}function Ze(b,S){this.encoding=b,this.charset=S}function be(b){switch(b.version){case 1:this.names=xe.slice();break;case 2:this.names=new Array(b.numberOfGlyphs);for(var S=0;S<b.numberOfGlyphs;S++)b.glyphNameIndex[S]<xe.length?this.names[S]=xe[b.glyphNameIndex[S]]:this.names[S]=b.names[b.glyphNameIndex[S]-xe.length];break;case 2.5:this.names=new Array(b.numberOfGlyphs);for(var A=0;A<b.numberOfGlyphs;A++)this.names[A]=xe[A+b.glyphNameIndex[A]];break;default:this.names=[]}}Ce.prototype.charToGlyphIndex=function(b){var S=b.codePointAt(0),A=this.font.glyphs;if(A){for(var C=0;C<A.length;C+=1)for(var D=A.get(C),B=0;B<D.unicodes.length;B+=1)if(D.unicodes[B]===S)return C}return null},Ne.prototype.charToGlyphIndex=function(b){return this.cmap.glyphIndexMap[b.codePointAt(0)]||0},Ze.prototype.charToGlyphIndex=function(b){return b=b.codePointAt(0),b=this.encoding[b],this.charset.indexOf(b)},be.prototype.nameToGlyphIndex=function(b){return this.names.indexOf(b)},be.prototype.glyphIndexToName=function(b){return this.names[b]};var De={line:function(b,S,A,C,D){b.beginPath(),b.moveTo(S,A),b.lineTo(C,D),b.stroke()}};function ze(b){this.bindConstructorValues(b)}function et(b,S,A){Object.defineProperty(b,S,{get:function(){return b.path,b[A]},set:function(C){b[A]=C},enumerable:!0,configurable:!0})}function rt(b,S){if(this.font=b,this.glyphs={},Array.isArray(S))for(var A=0;A<S.length;A++)this.glyphs[A]=S[A];this.length=S&&S.length||0}ze.prototype.bindConstructorValues=function(b){var S;this.index=b.index||0,this.name=b.name||null,this.unicode=b.unicode||void 0,this.unicodes=b.unicodes||b.unicode!==void 0?[b.unicode]:[],b.xMin&&(this.xMin=b.xMin),b.yMin&&(this.yMin=b.yMin),b.xMax&&(this.xMax=b.xMax),b.yMax&&(this.yMax=b.yMax),b.advanceWidth&&(this.advanceWidth=b.advanceWidth),Object.defineProperty(this,"path",(b=b.path,S=b||new $,{configurable:!0,get:function(){return S=typeof S=="function"?S():S},set:function(A){S=A}}))},ze.prototype.addUnicode=function(b){this.unicodes.length===0&&(this.unicode=b),this.unicodes.push(b)},ze.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ze.prototype.getPath=function(b,S,A,C,D){b=b!==void 0?b:0,S=S!==void 0?S:0,A=A!==void 0?A:72;for(var B,Z,le=(C=C||{}).xScale,ye=C.yScale,ge=((B=C.hinting&&D&&D.hinting?this.path&&D.hinting.exec(this,A):B)?(Z=D.hinting.getCommands(B),b=Math.round(b),S=Math.round(S),le=ye=1):(Z=this.path.commands,C=1/this.path.unitsPerEm*A,le===void 0&&(le=C),ye===void 0&&(ye=C)),new $),Re=0;Re<Z.length;Re+=1){var Ue=Z[Re];Ue.type==="M"?ge.moveTo(b+Ue.x*le,S+-Ue.y*ye):Ue.type==="L"?ge.lineTo(b+Ue.x*le,S+-Ue.y*ye):Ue.type==="Q"?ge.quadraticCurveTo(b+Ue.x1*le,S+-Ue.y1*ye,b+Ue.x*le,S+-Ue.y*ye):Ue.type==="C"?ge.curveTo(b+Ue.x1*le,S+-Ue.y1*ye,b+Ue.x2*le,S+-Ue.y2*ye,b+Ue.x*le,S+-Ue.y*ye):Ue.type==="Z"&&ge.closePath()}return ge},ze.prototype.getContours=function(){if(this.points===void 0)return[];for(var b=[],S=[],A=0;A<this.points.length;A+=1){var C=this.points[A];S.push(C),C.lastPointOfContour&&(b.push(S),S=[])}return I.argument(S.length===0,"There are still points left in the current contour."),b},ze.prototype.getMetrics=function(){for(var b=this.path.commands,S=[],A=[],C=0;C<b.length;C+=1){var D=b[C];D.type!=="Z"&&(S.push(D.x),A.push(D.y)),D.type!=="Q"&&D.type!=="C"||(S.push(D.x1),A.push(D.y1)),D.type==="C"&&(S.push(D.x2),A.push(D.y2))}var B={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,S),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(B.xMin)||(B.xMin=0),isFinite(B.xMax)||(B.xMax=this.advanceWidth),isFinite(B.yMin)||(B.yMin=0),isFinite(B.yMax)||(B.yMax=0),B.rightSideBearing=this.advanceWidth-B.leftSideBearing-(B.xMax-B.xMin),B},ze.prototype.draw=function(b,S,A,C,D){this.getPath(S,A,C,D).draw(b)},ze.prototype.drawPoints=function(b,S,A,C){function D(Re,Ue,Ie,Ee){var $e=2*Math.PI;b.beginPath();for(var He=0;He<Re.length;He+=1)b.moveTo(Ue+Re[He].x*Ee,Ie+Re[He].y*Ee),b.arc(Ue+Re[He].x*Ee,Ie+Re[He].y*Ee,2,0,$e,!1);b.closePath(),b.fill()}S=S!==void 0?S:0,A=A!==void 0?A:0;for(var C=1/this.path.unitsPerEm*(C=C!==void 0?C:24),B=[],Z=[],le=this.path,ye=0;ye<le.commands.length;ye+=1){var ge=le.commands[ye];ge.x!==void 0&&B.push({x:ge.x,y:-ge.y}),ge.x1!==void 0&&Z.push({x:ge.x1,y:-ge.y1}),ge.x2!==void 0&&Z.push({x:ge.x2,y:-ge.y2})}b.fillStyle="blue",D(B,S,A,C),b.fillStyle="red",D(Z,S,A,C)},ze.prototype.drawMetrics=function(b,S,A,C){S=S!==void 0?S:0,A=A!==void 0?A:0,C=1/this.path.unitsPerEm*(C=C!==void 0?C:24),b.lineWidth=1,b.strokeStyle="black",De.line(b,S,-1e4,S,1e4),De.line(b,-1e4,A,1e4,A);var D=this.xMin||0,B=this.yMin||0,Z=this.xMax||0,le=this.yMax||0,ye=this.advanceWidth||0;b.strokeStyle="blue",De.line(b,S+D*C,-1e4,S+D*C,1e4),De.line(b,S+Z*C,-1e4,S+Z*C,1e4),De.line(b,-1e4,A+-B*C,1e4,A+-B*C),De.line(b,-1e4,A+-le*C,1e4,A+-le*C),b.strokeStyle="green",De.line(b,S+ye*C,-1e4,S+ye*C,1e4)},rt.prototype.get=function(b){return typeof this.glyphs[b]=="function"&&(this.glyphs[b]=this.glyphs[b]()),this.glyphs[b]},rt.prototype.push=function(b,S){this.glyphs[b]=S,this.length++};var it={GlyphSet:rt,glyphLoader:function(b,S){return new ze({index:S,font:b})},ttfGlyphLoader:function(b,S,A,C,D,B){return function(){var Z=new ze({index:S,font:b});return Z.path=function(){A(Z,C,D);var le=B(b.glyphs,Z);return le.unitsPerEm=b.unitsPerEm,le},et(Z,"xMin","_xMin"),et(Z,"xMax","_xMax"),et(Z,"yMin","_yMin"),et(Z,"yMax","_yMax"),Z}},cffGlyphLoader:function(b,S,A,C){return function(){var D=new ze({index:S,font:b});return D.path=function(){var B=A(b,D,C);return B.unitsPerEm=b.unitsPerEm,B},D}}};function ut(b){return b=b.length<1240?107:b.length<33900?1131:32768,b}function at(b,S,A){var C,D=[],B=[],Z=me.getCard16(b,S);if(Z!==0){for(var le=me.getByte(b,S+2),ye=S+(Z+1)*le+2,ge=S+3,Re=0;Re<Z+1;Re+=1)D.push(me.getOffset(b,ge,le)),ge+=le;C=ye+D[Z]}else C=S+2;for(var Ue=0;Ue<D.length-1;Ue+=1){var Ie=me.getBytes(b,ye+D[Ue],ye+D[Ue+1]);A&&(Ie=A(Ie)),B.push(Ie)}return{objects:B,startOffset:S,endOffset:C}}function Dt(b,S){if(S===28)return b.parseByte()<<8|b.parseByte();if(S===29)return b.parseByte()<<24|b.parseByte()<<16|b.parseByte()<<8|b.parseByte();if(S===30){for(var A=b,C="",D=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Z=A.parseByte(),B=Z>>4,Z=15&Z;if(B==15||(C+=D[B],Z==15))break;C+=D[Z]}return parseFloat(C)}if(32<=S&&S<=246)return S-139;if(247<=S&&S<=250)return 256*(S-247)+b.parseByte()+108;if(251<=S&&S<=254)return 256*-(S-251)-b.parseByte()-108;throw new Error("Invalid b0 "+S)}function Mt(b,S,A){var C=new me.Parser(b,S=S!==void 0?S:0),D=[],B=[];for(A=A!==void 0?A:b.length;C.relativeOffset<A;){var Z=C.parseByte();Z<=21?(Z===12&&(Z=1200+C.parseByte()),D.push([Z,B]),B=[]):B.push(Dt(C,Z))}for(var le=D,ye={},ge=0;ge<le.length;ge+=1){var Re=le[ge][0],Ue=le[ge][1],Ie=void 0,Ie=Ue.length===1?Ue[0]:Ue;if(ye.hasOwnProperty(Re)&&!isNaN(ye[Re]))throw new Error("Object "+ye+" already has key "+Re);ye[Re]=Ie}return ye}function kt(b,S){return S=S<=390?ne[S]:b[S-391]}function wt(b,S,A){for(var C,D={},B=0;B<S.length;B+=1){var Z=S[B];if(Array.isArray(Z.type)){var le=[];le.length=Z.type.length;for(var ye=0;ye<Z.type.length;ye++)(C=b[Z.op]!==void 0?b[Z.op][ye]:void 0)===void 0&&(C=Z.value!==void 0&&Z.value[ye]!==void 0?Z.value[ye]:null),Z.type[ye]==="SID"&&(C=kt(A,C)),le[ye]=C;D[Z.name]=le}else(C=b[Z.op])===void 0&&(C=Z.value!==void 0?Z.value:null),Z.type==="SID"&&(C=kt(A,C)),D[Z.name]=C}return D}var Ft=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ct=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function _r(b,S,A,C){return wt(Mt(b,S,A),Ct,C)}function pr(b,S,A,C){for(var D=[],B=0;B<A.length;B+=1){var Z=new DataView(new Uint8Array(A[B]).buffer),Z=(le=C,wt(Mt(Z,0,Z.byteLength),Ft,le)),le=(Z._subrs=[],Z._subrsBias=0,Z.private[0]),ye=Z.private[1];le!==0&&ye!==0&&(le=_r(b,ye+S,le,C),Z._defaultWidthX=le.defaultWidthX,Z._nominalWidthX=le.nominalWidthX,le.subrs!==0&&(ye=at(b,ye+le.subrs+S),Z._subrs=ye.objects,Z._subrsBias=ut(Z._subrs)),Z._privateDict=le),D.push(Z)}return D}function ve(b,S,A){var C,D,B,Z,le,ye,ge,Re,Ue,Ie=new $,Ee=[],$e=0,He=!1,qe=!1,Fe=0,Be=0,dt=(Ue=(b.isCIDFont?(le=b.tables.cff.topDict._fdSelect[S.index],le=b.tables.cff.topDict._fdArray[le],ye=le._subrs,ge=le._subrsBias,Re=le._defaultWidthX,le):(ye=b.tables.cff.topDict._subrs,ge=b.tables.cff.topDict._subrsBias,Re=b.tables.cff.topDict._defaultWidthX,b.tables.cff.topDict))._nominalWidthX,Re);function vt(pt,At){qe&&Ie.closePath(),Ie.moveTo(pt,At),qe=!0}function ft(){Ee.length%2==0||He||(dt=Ee.shift()+Ue),$e+=Ee.length>>1,Ee.length=0,He=!0}return function pt(At){for(var Xt,ur,gr,Ir,kr,Pn,Vt,$t,Nt,Nr,sr,Pr,Qt=0;Qt<At.length;){var Sr=At[Qt];switch(Qt+=1,Sr){case 1:case 3:ft();break;case 4:1<Ee.length&&!He&&(dt=Ee.shift()+Ue,He=!0),Be+=Ee.pop(),vt(Fe,Be);break;case 5:for(;0<Ee.length;)Fe+=Ee.shift(),Be+=Ee.shift(),Ie.lineTo(Fe,Be);break;case 6:for(;0<Ee.length&&(Fe+=Ee.shift(),Ie.lineTo(Fe,Be),Ee.length!==0);)Be+=Ee.shift(),Ie.lineTo(Fe,Be);break;case 7:for(;0<Ee.length&&(Be+=Ee.shift(),Ie.lineTo(Fe,Be),Ee.length!==0);)Fe+=Ee.shift(),Ie.lineTo(Fe,Be);break;case 8:for(;0<Ee.length;)C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z+Ee.shift(),Ie.curveTo(C,D,B,Z,Fe,Be);break;case 10:kr=Ee.pop()+ge,(Pn=ye[kr])&&pt(Pn);break;case 11:return;case 12:switch(Sr=At[Qt],Qt+=1,Sr){case 35:C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Vt=B+Ee.shift(),$t=Z+Ee.shift(),Nt=Vt+Ee.shift(),Nr=$t+Ee.shift(),sr=Nt+Ee.shift(),Pr=Nr+Ee.shift(),Fe=sr+Ee.shift(),Be=Pr+Ee.shift(),Ee.shift(),Ie.curveTo(C,D,B,Z,Vt,$t),Ie.curveTo(Nt,Nr,sr,Pr,Fe,Be);break;case 34:C=Fe+Ee.shift(),D=Be,B=C+Ee.shift(),Z=D+Ee.shift(),Vt=B+Ee.shift(),$t=Z,Nt=Vt+Ee.shift(),Nr=Z,sr=Nt+Ee.shift(),Pr=Be,Fe=sr+Ee.shift(),Ie.curveTo(C,D,B,Z,Vt,$t),Ie.curveTo(Nt,Nr,sr,Pr,Fe,Be);break;case 36:C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Vt=B+Ee.shift(),$t=Z,Nt=Vt+Ee.shift(),Nr=Z,sr=Nt+Ee.shift(),Pr=Nr+Ee.shift(),Fe=sr+Ee.shift(),Ie.curveTo(C,D,B,Z,Vt,$t),Ie.curveTo(Nt,Nr,sr,Pr,Fe,Be);break;case 37:C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Vt=B+Ee.shift(),$t=Z+Ee.shift(),Nt=Vt+Ee.shift(),Nr=$t+Ee.shift(),sr=Nt+Ee.shift(),Pr=Nr+Ee.shift(),Math.abs(sr-Fe)>Math.abs(Pr-Be)?Fe=sr+Ee.shift():Be=Pr+Ee.shift(),Ie.curveTo(C,D,B,Z,Vt,$t),Ie.curveTo(Nt,Nr,sr,Pr,Fe,Be);break;default:console.log("Glyph "+S.index+": unknown operator 1200"+Sr),Ee.length=0}break;case 14:0<Ee.length&&!He&&(dt=Ee.shift()+Ue,He=!0),qe&&(Ie.closePath(),qe=!1);break;case 18:ft();break;case 19:case 20:ft(),Qt+=$e+7>>3;break;case 21:2<Ee.length&&!He&&(dt=Ee.shift()+Ue,He=!0),Be+=Ee.pop(),vt(Fe+=Ee.pop(),Be);break;case 22:1<Ee.length&&!He&&(dt=Ee.shift()+Ue,He=!0),vt(Fe+=Ee.pop(),Be);break;case 23:ft();break;case 24:for(;2<Ee.length;)C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z+Ee.shift(),Ie.curveTo(C,D,B,Z,Fe,Be);Fe+=Ee.shift(),Be+=Ee.shift(),Ie.lineTo(Fe,Be);break;case 25:for(;6<Ee.length;)Fe+=Ee.shift(),Be+=Ee.shift(),Ie.lineTo(Fe,Be);C=Fe+Ee.shift(),D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z+Ee.shift(),Ie.curveTo(C,D,B,Z,Fe,Be);break;case 26:for(Ee.length%2&&(Fe+=Ee.shift());0<Ee.length;)C=Fe,D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B,Be=Z+Ee.shift(),Ie.curveTo(C,D,B,Z,Fe,Be);break;case 27:for(Ee.length%2&&(Be+=Ee.shift());0<Ee.length;)C=Fe+Ee.shift(),D=Be,B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z,Ie.curveTo(C,D,B,Z,Fe,Be);break;case 28:Xt=At[Qt],ur=At[Qt+1],Ee.push((Xt<<24|ur<<16)>>16),Qt+=2;break;case 29:kr=Ee.pop()+b.gsubrsBias,(Pn=b.gsubrs[kr])&&pt(Pn);break;case 30:for(;0<Ee.length&&(C=Fe,D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z+(Ee.length===1?Ee.shift():0),Ie.curveTo(C,D,B,Z,Fe,Be),Ee.length!==0);)C=Fe+Ee.shift(),D=Be,B=C+Ee.shift(),Z=D+Ee.shift(),Be=Z+Ee.shift(),Fe=B+(Ee.length===1?Ee.shift():0),Ie.curveTo(C,D,B,Z,Fe,Be);break;case 31:for(;0<Ee.length&&(C=Fe+Ee.shift(),D=Be,B=C+Ee.shift(),Z=D+Ee.shift(),Be=Z+Ee.shift(),Fe=B+(Ee.length===1?Ee.shift():0),Ie.curveTo(C,D,B,Z,Fe,Be),Ee.length!==0);)C=Fe,D=Be+Ee.shift(),B=C+Ee.shift(),Z=D+Ee.shift(),Fe=B+Ee.shift(),Be=Z+(Ee.length===1?Ee.shift():0),Ie.curveTo(C,D,B,Z,Fe,Be);break;default:Sr<32?console.log("Glyph "+S.index+": unknown operator "+Sr):Sr<247?Ee.push(Sr-139):Sr<251?(Xt=At[Qt],Qt+=1,Ee.push(256*(Sr-247)+Xt+108)):Sr<255?(Xt=At[Qt],Qt+=1,Ee.push(256*-(Sr-251)-Xt-108)):(Xt=At[Qt],ur=At[Qt+1],gr=At[Qt+2],Ir=At[Qt+3],Qt+=4,Ee.push((Xt<<24|ur<<16|gr<<8|Ir)/65536))}}}(A),S.advanceWidth=dt,Ie}function Ge(b,S){var A,C=ne.indexOf(b);return 0<=C&&(A=C),0<=(C=S.indexOf(b))?A=C+ne.length:(A=ne.length+S.length,S.push(b)),A}function Ye(b,S,A){for(var C={},D=0;D<b.length;D+=1){var B=b[D],Z=S[B.name];Z===void 0||function le(ye,ge){if(ye===ge)return 1;if(Array.isArray(ye)&&Array.isArray(ge)&&ye.length===ge.length){for(var Re=0;Re<ye.length;Re+=1)if(!le(ye[Re],ge[Re]))return;return 1}}(Z,B.value)||(B.type==="SID"&&(Z=Ge(Z,A)),C[B.op]={name:B.name,type:B.type,value:Z})}return C}function Ve(b,S){var A=new J.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=Ye(Ft,b,S),A}function Je(b){var S=new J.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return S.topDicts=[{name:"topDict_0",type:"TABLE",value:b}],S}function mt(b){for(var S=new J.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),A=0;A<b.length;A+=1){var C=b.get(A),D=function(B){for(var Z=[],le=B.path,ye=(Z.push({name:"width",type:"NUMBER",value:B.advanceWidth}),0),ge=0,Re=0;Re<le.commands.length;Re+=1){var Ue,Ie,Ee,$e,He=void 0,qe=void 0,Fe=le.commands[Re];(Fe=Fe.type==="Q"?{type:"C",x:Fe.x,y:Fe.y,x1:1/3*ye+2/3*Fe.x1,y1:1/3*ge+2/3*Fe.y1,x2:1/3*Fe.x+2/3*Fe.x1,y2:1/3*Fe.y+2/3*Fe.y1}:Fe).type==="M"?(He=Math.round(Fe.x-ye),qe=Math.round(Fe.y-ge),Z.push({name:"dx",type:"NUMBER",value:He}),Z.push({name:"dy",type:"NUMBER",value:qe}),Z.push({name:"rmoveto",type:"OP",value:21}),ye=Math.round(Fe.x),ge=Math.round(Fe.y)):Fe.type==="L"?(He=Math.round(Fe.x-ye),qe=Math.round(Fe.y-ge),Z.push({name:"dx",type:"NUMBER",value:He}),Z.push({name:"dy",type:"NUMBER",value:qe}),Z.push({name:"rlineto",type:"OP",value:5}),ye=Math.round(Fe.x),ge=Math.round(Fe.y)):Fe.type==="C"&&(Ue=Math.round(Fe.x1-ye),Ie=Math.round(Fe.y1-ge),Ee=Math.round(Fe.x2-Fe.x1),$e=Math.round(Fe.y2-Fe.y1),He=Math.round(Fe.x-Fe.x2),qe=Math.round(Fe.y-Fe.y2),Z.push({name:"dx1",type:"NUMBER",value:Ue}),Z.push({name:"dy1",type:"NUMBER",value:Ie}),Z.push({name:"dx2",type:"NUMBER",value:Ee}),Z.push({name:"dy2",type:"NUMBER",value:$e}),Z.push({name:"dx",type:"NUMBER",value:He}),Z.push({name:"dy",type:"NUMBER",value:qe}),Z.push({name:"rrcurveto",type:"OP",value:8}),ye=Math.round(Fe.x),ge=Math.round(Fe.y))}return Z.push({name:"endchar",type:"OP",value:14}),Z}(C);S.charStrings.push({name:C.name,type:"CHARSTRING",value:D})}return S}var gt={parse:function(b,S,A){A.tables.cff={},le=b,C=S,(D={}).formatMajor=me.getCard8(le,C),D.formatMinor=me.getCard8(le,C+1),D.size=me.getCard8(le,C+2),D.offsetSize=me.getCard8(le,C+3),D.startOffset=C,D.endOffset=C+4;var le=at(b,D.endOffset,me.bytesToString),C=at(b,le.endOffset),D=at(b,C.endOffset,me.bytesToString),le=at(b,D.endOffset);if(A.gsubrs=le.objects,A.gsubrsBias=ut(A.gsubrs),(le=pr(b,S,C.objects,D.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+le.length);if(C=le[0],(A.tables.cff.topDict=C)._privateDict&&(A.defaultWidthX=C._privateDict.defaultWidthX,A.nominalWidthX=C._privateDict.nominalWidthX),C.ros[0]!==void 0&&C.ros[1]!==void 0&&(A.isCIDFont=!0),A.isCIDFont){var le=C.fdArray,B=C.fdSelect;if(le===0||B===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");le=pr(b,S,at(b,le+=S).objects,D.objects),C._fdArray=le,C._fdSelect=function(Ie,Ee,$e,He){var qe,Fe=[],Be=new me.Parser(Ie,Ee);if((Ie=Be.parseCard8())===0)for(var dt=0;dt<$e;dt++){if(He<=(qe=Be.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+qe+" (FD count "+He+")");Fe.push(qe)}else{if(Ie!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ie);var vt,ft=Be.parseCard16(),pt=Be.parseCard16();if(pt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+pt);for(var At=0;At<ft;At++){if(qe=Be.parseCard8(),vt=Be.parseCard16(),He<=qe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+qe+" (FD count "+He+")");if($e<vt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+vt);for(;pt<vt;pt++)Fe.push(qe);pt=vt}if(vt!==$e)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+vt)}return Fe}(b,B+=S,A.numGlyphs,le.length)}var B=S+C.private[1],le=_r(b,B,C.private[0],D.objects),Z=(A.defaultWidthX=le.defaultWidthX,A.nominalWidthX=le.nominalWidthX,le.subrs!==0?(B=at(b,B+le.subrs),A.subrs=B.objects,A.subrsBias=ut(A.subrs)):(A.subrs=[],A.subrsBias=0),at(b,S+C.charStrings)),le=(A.nGlyphs=Z.objects.length,function(Re,Ue,Ie,Ee){var $e=new me.Parser(Re,Ue),He=(--Ie,[".notdef"]);if((Re=$e.parseCard8())===0)for(var qe=0;qe<Ie;qe+=1)Fe=$e.parseSID(),He.push(kt(Ee,Fe));else if(Re===1)for(;He.length<=Ie;)for(var Fe=$e.parseSID(),Be=$e.parseCard8(),dt=0;dt<=Be;dt+=1)He.push(kt(Ee,Fe)),Fe+=1;else{if(Re!==2)throw new Error("Unknown charset format "+Re);for(;He.length<=Ie;){Fe=$e.parseSID(),Be=$e.parseCard16();for(var vt=0;vt<=Be;vt+=1)He.push(kt(Ee,Fe)),Fe+=1}}return He}(b,S+C.charset,A.nGlyphs,D.objects));C.encoding===0?A.cffEncoding=new Ze(K,le):C.encoding===1?A.cffEncoding=new Ze(oe,le):A.cffEncoding=function(Re,Ue,Ie){var Ee={},$e=new me.Parser(Re,Ue);if((Re=$e.parseCard8())===0)for(var He=$e.parseCard8(),qe=0;qe<He;qe+=1)Ee[Be=$e.parseCard8()]=qe;else{if(Re!==1)throw new Error("Unknown encoding format "+Re);for(var Fe=$e.parseCard8(),Be=1,dt=0;dt<Fe;dt+=1)for(var vt=$e.parseCard8(),ft=$e.parseCard8(),pt=vt;pt<=vt+ft;pt+=1)Ee[pt]=Be,Be+=1}return new Ze(Ee,Ie)}(b,S+C.encoding,le),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new it.GlyphSet(A);for(var ye=0;ye<A.nGlyphs;ye+=1){var ge=Z.objects[ye];A.glyphs.push(ye,it.cffGlyphLoader(A,ye,ve,ge))}},make:function(b,Re){for(var A,C=new J.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),D=1/Re.unitsPerEm,D={version:Re.version,fullName:Re.fullName,familyName:Re.familyName,weight:Re.weightName,fontBBox:Re.fontBBox||[0,0,0,0],fontMatrix:[D,0,0,D,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},B=[],Z=1;Z<b.length;Z+=1)A=b.get(Z),B.push(A.name);var le,ye,ge=[],Re=(C.header=new J.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),C.nameIndex=function(Ie){var Ee=new J.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ee.names=[];for(var $e=0;$e<Ie.length;$e+=1)Ee.names.push({name:"name_"+$e,type:"NAME",value:Ie[$e]});return Ee}([Re.postScriptName]),Ve(D,ge)),Ue=(C.topDictIndex=Je(Re),C.globalSubrIndex=new J.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),C.charsets=function(Ie,Ee){for(var $e=new J.Record("Charsets",[{name:"format",type:"Card8",value:0}]),He=0;He<Ie.length;He+=1){var qe=Ge(Ie[He],Ee);$e.fields.push({name:"glyph_"+He,type:"SID",value:qe})}return $e}(B,ge),C.charStringsIndex=mt(b),C.privateDict=(Ue={},le=ge,(ye=new J.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ye(Ct,Ue,le),ye),C.stringIndex=function(Ie){var Ee=new J.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ee.strings=[];for(var $e=0;$e<Ie.length;$e+=1)Ee.strings.push({name:"string_"+$e,type:"STRING",value:Ie[$e]});return Ee}(ge),C.header.sizeOf()+C.nameIndex.sizeOf()+C.topDictIndex.sizeOf()+C.stringIndex.sizeOf()+C.globalSubrIndex.sizeOf());return D.charset=Ue,D.encoding=0,D.charStrings=D.charset+C.charsets.sizeOf(),D.private[1]=D.charStrings+C.charStringsIndex.sizeOf(),Re=Ve(D,ge),C.topDictIndex=Je(Re),C}},xt={parse:function(C,S){var A={},C=new me.Parser(C,S);return A.version=C.parseVersion(),A.fontRevision=Math.round(1e3*C.parseFixed())/1e3,A.checkSumAdjustment=C.parseULong(),A.magicNumber=C.parseULong(),I.argument(A.magicNumber===1594834165,"Font header has wrong magic number."),A.flags=C.parseUShort(),A.unitsPerEm=C.parseUShort(),A.created=C.parseLongDateTime(),A.modified=C.parseLongDateTime(),A.xMin=C.parseShort(),A.yMin=C.parseShort(),A.xMax=C.parseShort(),A.yMax=C.parseShort(),A.macStyle=C.parseUShort(),A.lowestRecPPEM=C.parseUShort(),A.fontDirectionHint=C.parseShort(),A.indexToLocFormat=C.parseShort(),A.glyphDataFormat=C.parseShort(),A},make:function(b){var S=Math.round(new Date().getTime()/1e3)+2082844800,A=S;return b.createdTimestamp&&(A=b.createdTimestamp+2082844800),new J.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:S},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],b)}},_e={parse:function(C,S){var A={},C=new me.Parser(C,S);return A.version=C.parseVersion(),A.ascender=C.parseShort(),A.descender=C.parseShort(),A.lineGap=C.parseShort(),A.advanceWidthMax=C.parseUShort(),A.minLeftSideBearing=C.parseShort(),A.minRightSideBearing=C.parseShort(),A.xMaxExtent=C.parseShort(),A.caretSlopeRise=C.parseShort(),A.caretSlopeRun=C.parseShort(),A.caretOffset=C.parseShort(),C.relativeOffset+=8,A.metricDataFormat=C.parseShort(),A.numberOfHMetrics=C.parseUShort(),A},make:function(b){return new J.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],b)}},Xe={parse:function(b,S,A,C,D){for(var B,Z,le=new me.Parser(b,S),ye=0;ye<C;ye+=1){ye<A&&(B=le.parseUShort(),Z=le.parseShort());var ge=D.get(ye);ge.advanceWidth=B,ge.leftSideBearing=Z}},make:function(b){for(var S=new J.Table("hmtx",[]),A=0;A<b.length;A+=1){var D=b.get(A),C=D.advanceWidth||0,D=D.leftSideBearing||0;S.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:C}),S.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:D})}return S}},Qe={make:function(b){for(var S=new J.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:b.length}]),A="",C=12+4*b.length,D=0;D<b.length;++D){var B=A.indexOf(b[D]);B<0&&(B=A.length,A+=b[D]),S.fields.push({name:"offset "+D,type:"USHORT",value:C+B}),S.fields.push({name:"length "+D,type:"USHORT",value:b[D].length})}return S.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),S},parse:function(b,S){for(var A=new me.Parser(b,S),C=A.parseULong(),D=(I.argument(C===1,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),B=[],Z=0;Z<D;Z++){for(var le="",ye=S+A.parseUShort(),ge=A.parseUShort(),Re=ye;Re<ye+ge;++Re)le+=String.fromCharCode(b.getInt8(Re));B.push(le)}return B}},We={parse:function(C,S){var A={},C=new me.Parser(C,S);return A.version=C.parseVersion(),A.numGlyphs=C.parseUShort(),A.version===1&&(A.maxPoints=C.parseUShort(),A.maxContours=C.parseUShort(),A.maxCompositePoints=C.parseUShort(),A.maxCompositeContours=C.parseUShort(),A.maxZones=C.parseUShort(),A.maxTwilightPoints=C.parseUShort(),A.maxStorage=C.parseUShort(),A.maxFunctionDefs=C.parseUShort(),A.maxInstructionDefs=C.parseUShort(),A.maxStackElements=C.parseUShort(),A.maxSizeOfInstructions=C.parseUShort(),A.maxComponentElements=C.parseUShort(),A.maxComponentDepth=C.parseUShort()),A},make:function(b){return new J.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:b}])}},ht=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ke={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Et={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},st={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},yt="utf-16",tt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Bt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Tt(b,S,A){switch(b){case 0:return yt;case 1:return Bt[A]||tt[S];case 3:if(S===1||S===10)return yt}}function Pt(b){var S,A={};for(S in b)A[b[S]]=parseInt(S);return A}function zt(b,S,A,C,D,B){return new J.Record("NameRecord",[{name:"platformID",type:"USHORT",value:b},{name:"encodingID",type:"USHORT",value:S},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:C},{name:"length",type:"USHORT",value:D},{name:"offset",type:"USHORT",value:B}])}function Or(b,S){if((A=function(B,Z){var le=B.length,ye=Z.length-le+1;e:for(var ge=0;ge<ye;ge++)for(;ge<ye;ge++){for(var Re=0;Re<le;Re++)if(Z[ge+Re]!==B[Re])continue e;return ge}return-1}(b,S))<0)for(var A=S.length,C=0,D=b.length;C<D;++C)S.push(b[C]);return A}var Cr={parse:function(b,S,A){for(var C={},D=new me.Parser(b,S),S=D.parseUShort(),B=D.parseUShort(),Z=D.offset+D.parseUShort(),le=0;le<B;le++){var $e=D.parseUShort(),ye=D.parseUShort(),ge=D.parseUShort(),Re=D.parseUShort(),Re=ht[Re]||Re,Ue=D.parseUShort(),Ie=D.parseUShort(),Ee=function(qe,Fe,Be){switch(qe){case 0:if(Fe===65535)return"und";if(Be)return Be[Fe];break;case 1:return Ke[Fe];case 3:return st[Fe]}}($e,ge,A),$e=Tt($e,ye,ge);$e!==void 0&&Ee!==void 0&&(ye=void 0,(ye=$e===yt?U.UTF16(b,Z+Ie,Ue):U.MACSTRING(b,Z+Ie,Ue,$e))&&((ge=(ge=C[Re])===void 0?C[Re]={}:ge)[Ee]=ye))}return S===1&&D.parseUShort(),C},make:function(b,S){var A,C=[],D={},B=Pt(ht);for(A in b){var Z=B[A];if(Z===void 0&&(Z=A),Ie=parseInt(Z),isNaN(Ie))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');D[Ie]=b[A],C.push(Ie)}for(var le=Pt(Ke),ye=Pt(st),ge=[],Re=[],Ue=0;Ue<C.length;Ue++){var Ie,Ee,$e=D[Ie=C[Ue]];for(Ee in $e){var He=$e[Ee],vt=1,qe=le[Ee],Fe=Et[qe],Be=Tt(vt,Fe,qe),Be=G.MACSTRING(He,Be),dt=(Be===void 0&&(vt=0,(qe=S.indexOf(Ee))<0&&(qe=S.length,S.push(Ee)),Fe=4,Be=G.UTF16(He)),Or(Be,Re)),vt=(ge.push(zt(vt,Fe,qe,Ie,Be.length,dt)),ye[Ee]);vt!==void 0&&(qe=Or(Fe=G.UTF16(He),Re),ge.push(zt(3,1,vt,Ie,Fe.length,qe)))}}ge.sort(function(At,Xt){return At.platformID-Xt.platformID||At.encodingID-Xt.encodingID||At.languageID-Xt.languageID||At.nameID-Xt.nameID});for(var ft=new J.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ge.length},{name:"stringOffset",type:"USHORT",value:6+12*ge.length}]),pt=0;pt<ge.length;pt++)ft.fields.push({name:"record_"+pt,type:"RECORD",value:ge[pt]});return ft.fields.push({name:"strings",type:"LITERAL",value:Re}),ft}},Wt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],qt={parse:function(b,S){var A={},C=new me.Parser(b,S);A.version=C.parseUShort(),A.xAvgCharWidth=C.parseShort(),A.usWeightClass=C.parseUShort(),A.usWidthClass=C.parseUShort(),A.fsType=C.parseUShort(),A.ySubscriptXSize=C.parseShort(),A.ySubscriptYSize=C.parseShort(),A.ySubscriptXOffset=C.parseShort(),A.ySubscriptYOffset=C.parseShort(),A.ySuperscriptXSize=C.parseShort(),A.ySuperscriptYSize=C.parseShort(),A.ySuperscriptXOffset=C.parseShort(),A.ySuperscriptYOffset=C.parseShort(),A.yStrikeoutSize=C.parseShort(),A.yStrikeoutPosition=C.parseShort(),A.sFamilyClass=C.parseShort(),A.panose=[];for(var D=0;D<10;D++)A.panose[D]=C.parseByte();return A.ulUnicodeRange1=C.parseULong(),A.ulUnicodeRange2=C.parseULong(),A.ulUnicodeRange3=C.parseULong(),A.ulUnicodeRange4=C.parseULong(),A.achVendID=String.fromCharCode(C.parseByte(),C.parseByte(),C.parseByte(),C.parseByte()),A.fsSelection=C.parseUShort(),A.usFirstCharIndex=C.parseUShort(),A.usLastCharIndex=C.parseUShort(),A.sTypoAscender=C.parseShort(),A.sTypoDescender=C.parseShort(),A.sTypoLineGap=C.parseShort(),A.usWinAscent=C.parseUShort(),A.usWinDescent=C.parseUShort(),1<=A.version&&(A.ulCodePageRange1=C.parseULong(),A.ulCodePageRange2=C.parseULong()),2<=A.version&&(A.sxHeight=C.parseShort(),A.sCapHeight=C.parseShort(),A.usDefaultChar=C.parseUShort(),A.usBreakChar=C.parseUShort(),A.usMaxContent=C.parseUShort()),A},make:function(b){return new J.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],b)},unicodeRanges:Wt,getUnicodeRange:function(b){for(var S=0;S<Wt.length;S+=1){var A=Wt[S];if(b>=A.begin&&b<A.end)return S}return-1}},zs={parse:function(b,S){var A={},C=new me.Parser(b,S);switch(A.version=C.parseVersion(),A.italicAngle=C.parseFixed(),A.underlinePosition=C.parseShort(),A.underlineThickness=C.parseShort(),A.isFixedPitch=C.parseULong(),A.minMemType42=C.parseULong(),A.maxMemType42=C.parseULong(),A.minMemType1=C.parseULong(),A.maxMemType1=C.parseULong(),A.version){case 1:A.names=xe.slice();break;case 2:A.numberOfGlyphs=C.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var D=0;D<A.numberOfGlyphs;D++)A.glyphNameIndex[D]=C.parseUShort();A.names=[];for(var B,Z=0;Z<A.numberOfGlyphs;Z++)A.glyphNameIndex[Z]>=xe.length&&(B=C.parseChar(),A.names.push(C.parseString(B)));break;case 2.5:A.numberOfGlyphs=C.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var le=0;le<A.numberOfGlyphs;le++)A.offset[le]=C.parseChar()}return A},make:function(){return new J.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Jt=new Array(9),Vn=(Jt[1]=function(){var b=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(we.coverage),deltaGlyphId:this.parseUShort()}:S===2?{substFormat:2,coverage:this.parsePointer(we.coverage),substitute:this.parseOffset16List()}:void I.assert(!1,"0x"+b.toString(16)+": lookup type 1 format must be 1 or 2.")},Jt[2]=function(){var b=this.parseUShort();return I.argument(b===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(we.coverage),sequences:this.parseListOfLists()}},Jt[3]=function(){var b=this.parseUShort();return I.argument(b===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(we.coverage),alternateSets:this.parseListOfLists()}},Jt[4]=function(){var b=this.parseUShort();return I.argument(b===1,"GSUB ligature table identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(we.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:we.uShort,lookupListIndex:we.uShort});Jt[5]=function(){var b,S,A=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:C,coverage:this.parsePointer(we.coverage),ruleSets:this.parseListOfLists(function(){var D=this.parseUShort(),B=this.parseUShort();return{input:this.parseUShortList(D-1),lookupRecords:this.parseRecordList(B,Vn)}})}:C===2?{substFormat:C,coverage:this.parsePointer(we.coverage),classDef:this.parsePointer(we.classDef),classSets:this.parseListOfLists(function(){var D=this.parseUShort(),B=this.parseUShort();return{classes:this.parseUShortList(D-1),lookupRecords:this.parseRecordList(B,Vn)}})}:C===3?(b=this.parseUShort(),S=this.parseUShort(),{substFormat:C,coverages:this.parseList(b,we.pointer(we.coverage)),lookupRecords:this.parseRecordList(S,Vn)}):void I.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Jt[6]=function(){var b=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(we.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vn)}})}:S===2?{substFormat:2,coverage:this.parsePointer(we.coverage),backtrackClassDef:this.parsePointer(we.classDef),inputClassDef:this.parsePointer(we.classDef),lookaheadClassDef:this.parsePointer(we.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vn)}})}:S===3?{substFormat:3,backtrackCoverage:this.parseList(we.pointer(we.coverage)),inputCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),lookupRecords:this.parseRecordList(Vn)}:void I.assert(!1,"0x"+b.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Jt[7]=function(){var b=this.parseUShort(),b=(I.argument(b===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),S=new we(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:b,extension:Jt[b].call(S)}},Jt[8]=function(){var b=this.parseUShort();return I.argument(b===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(we.coverage),backtrackCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),substitutes:this.parseUShortList()}};var Gs=new Array(9);Gs[1]=function(b){return b.substFormat===1?new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(b.coverage)},{name:"deltaGlyphID",type:"USHORT",value:b.deltaGlyphId}]):new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new J.Coverage(b.coverage)}].concat(J.ushortList("substitute",b.substitute)))},Gs[3]=function(b){return I.assert(b.substFormat===1,"Lookup type 3 substFormat must be 1."),new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(b.coverage)}].concat(J.tableList("altSet",b.alternateSets,function(S){return new J.Table("alternateSetTable",J.ushortList("alternate",S))})))},Gs[4]=function(b){return I.assert(b.substFormat===1,"Lookup type 4 substFormat must be 1."),new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(b.coverage)}].concat(J.tableList("ligSet",b.ligatureSets,function(S){return new J.Table("ligatureSetTable",J.tableList("ligature",S,function(A){return new J.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(J.ushortList("component",A.components,A.components.length+1)))}))})))};var Zo={parse:function(b,S){return S=(b=new we(b,S=S||0)).parseVersion(1),I.argument(S===1||S===1.1,"Unsupported GSUB table version."),S===1?{version:S,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Jt)}:{version:S,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Jt),variations:b.parseFeatureVariationsList()}},make:function(b){return new J.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new J.ScriptList(b.scripts)},{name:"features",type:"TABLE",value:new J.FeatureList(b.features)},{name:"lookups",type:"TABLE",value:new J.LookupList(b.lookups,Gs)}])}},ef={parse:function(b,S){for(var A=new me.Parser(b,S),C=A.parseULong(),D=(I.argument(C===1,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),B={},Z=0;Z<D;Z++){var le=A.parseTag(),ge=A.parseULong(),ye=A.parseULong(),ge=U.UTF8(b,S+ge,ye);B[le]=ge}return B},make:function(b){var S,A=Object.keys(b).length,C="",D=16+12*A,B=new J.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:D},{name:"numTags",type:"ULONG",value:A}]);for(S in b){var Z=C.length;C+=b[S],B.fields.push({name:"tag "+S,type:"TAG",value:S}),B.fields.push({name:"offset "+S,type:"ULONG",value:D+Z}),B.fields.push({name:"length "+S,type:"ULONG",value:b[S].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:C}),B}};function tf(b){return Math.log(b)/Math.log(2)|0}function qu(b){for(;b.length%4!=0;)b.push(0);for(var S=0,A=0;A<b.length;A+=4)S+=(b[A]<<24)+(b[A+1]<<16)+(b[A+2]<<8)+b[A+3];return S%=Math.pow(2,32)}function rf(b,S,A,C){return new J.Record("Table Record",[{name:"tag",type:"TAG",value:b!==void 0?b:""},{name:"checkSum",type:"ULONG",value:S!==void 0?S:0},{name:"offset",type:"ULONG",value:A!==void 0?A:0},{name:"length",type:"ULONG",value:C!==void 0?C:0}])}function nf(b){for(var S=new J.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(S.tables=b,S.numTables=b.length,Math.pow(2,tf(S.numTables))),C=(S.searchRange=16*A,S.entrySelector=tf(A),S.rangeShift=16*S.numTables-S.searchRange,[]),D=[],B=S.sizeOf()+rf().sizeOf()*S.numTables;B%4!=0;)B+=1,D.push({name:"padding",type:"BYTE",value:0});for(var Z=0;Z<b.length;Z+=1){var le=b[Z],ye=(I.argument(le.tableName.length===4,"Table name"+le.tableName+" is invalid."),le.sizeOf()),ge=rf(le.tableName,qu(le.encode()),B,ye);for(C.push({name:ge.tag+" Table Record",type:"RECORD",value:ge}),D.push({name:le.tableName+" table",type:"RECORD",value:le}),B+=ye,I.argument(!isNaN(B),"Something went wrong calculating the offset.");B%4!=0;)B+=1,D.push({name:"padding",type:"BYTE",value:0})}return C.sort(function(Re,Ue){return Re.value.tag>Ue.value.tag?1:-1}),S.fields=S.fields.concat(C),S.fields=S.fields.concat(D),S}function sf(b,S,A){for(var C=0;C<S.length;C+=1){var D=b.charToGlyphIndex(S[C]);if(0<D)return b.glyphs.get(D).getMetrics()}return A}var Fv={make:nf,fontToTable:function(b){for(var S,A=[],C=[],D=[],B=[],Z=[],le=[],ye=[],ge=0,Re=0,Ue=0,Ie=0,Ee=0,$e=0;$e<b.glyphs.length;$e+=1){var He=b.glyphs.get($e),qe=0|He.unicode;if(isNaN(He.advanceWidth))throw new Error("Glyph "+He.name+" ("+$e+"): advanceWidth is not a number.");(qe<S||S===void 0)&&0<qe&&(S=qe),ge<qe&&(ge=qe);var qe=qt.getUnicodeRange(qe);if(qe<32)Re|=1<<qe;else if(qe<64)Ue|=1<<qe-32;else if(qe<96)Ie|=1<<qe-64;else{if(!(qe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ee|=1<<qe-96}He.name!==".notdef"&&(qe=He.getMetrics(),A.push(qe.xMin),C.push(qe.yMin),D.push(qe.xMax),B.push(qe.yMax),le.push(qe.leftSideBearing),ye.push(qe.rightSideBearing),Z.push(He.advanceWidth))}var Fe,Be={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,C),xMax:Math.max.apply(null,D),yMax:Math.max.apply(null,B),advanceWidthMax:Math.max.apply(null,Z),advanceWidthAvg:function(Sr){for(var Qo=0,Ws=0;Ws<Sr.length;Ws+=1)Qo+=Sr[Ws];return Qo/Sr.length}(Z),minLeftSideBearing:Math.min.apply(null,le),maxLeftSideBearing:Math.max.apply(null,le),minRightSideBearing:Math.min.apply(null,ye)},dt=(Be.ascender=b.ascender,Be.descender=b.descender,xt.make({flags:3,unitsPerEm:b.unitsPerEm,xMin:Be.xMin,yMin:Be.yMin,xMax:Be.xMax,yMax:Be.yMax,lowestRecPPEM:3,createdTimestamp:b.createdTimestamp})),vt=_e.make({ascender:Be.ascender,descender:Be.descender,advanceWidthMax:Be.advanceWidthMax,minLeftSideBearing:Be.minLeftSideBearing,minRightSideBearing:Be.minRightSideBearing,xMaxExtent:Be.maxLeftSideBearing+(Be.xMax-Be.xMin),numberOfHMetrics:b.glyphs.length}),ft=We.make(b.glyphs.length),pt=qt.make({xAvgCharWidth:Math.round(Be.advanceWidthAvg),usWeightClass:b.tables.os2.usWeightClass,usWidthClass:b.tables.os2.usWidthClass,usFirstCharIndex:S,usLastCharIndex:ge,ulUnicodeRange1:Re,ulUnicodeRange2:Ue,ulUnicodeRange3:Ie,ulUnicodeRange4:Ee,fsSelection:b.tables.os2.fsSelection,sTypoAscender:Be.ascender,sTypoDescender:Be.descender,sTypoLineGap:0,usWinAscent:Be.yMax,usWinDescent:Math.abs(Be.yMin),ulCodePageRange1:1,sxHeight:sf(b,"xyvw",{yMax:Math.round(Be.ascender/2)}).yMax,sCapHeight:sf(b,"HIKLEFJMNTZBDPRAGOQSUVWXY",Be).yMax,usDefaultChar:b.hasChar(" ")?32:0,usBreakChar:b.hasChar(" ")?32:0}),At=Xe.make(b.glyphs),Xt=Q.make(b.glyphs),$t=b.getEnglishName("fontFamily"),Nt=b.getEnglishName("fontSubfamily"),Vt=$t+" "+Nt,ur=(ur=b.getEnglishName("postScriptName"))||$t.replace(/\s/g,"")+"-"+Nt,gr={};for(Fe in b.names)gr[Fe]=b.names[Fe];gr.uniqueID||(gr.uniqueID={en:b.getEnglishName("manufacturer")+":"+Vt}),gr.postScriptName||(gr.postScriptName={en:ur}),gr.preferredFamily||(gr.preferredFamily=b.names.fontFamily),gr.preferredSubfamily||(gr.preferredSubfamily=b.names.fontSubfamily);var kr=[],Ir=Cr.make(gr,kr),kr=0<kr.length?Qe.make(kr):void 0,Pn=zs.make(),Vt=gt.make(b.glyphs,{version:b.getEnglishName("version"),fullName:Vt,familyName:$t,weightName:Nt,postScriptName:ur,unitsPerEm:b.unitsPerEm,fontBBox:[0,Be.yMin,Be.ascender,Be.advanceWidthMax]}),$t=b.metas&&0<Object.keys(b.metas).length?ef.make(b.metas):void 0,Nt=[dt,vt,ft,pt,Ir,Xt,Pn,Vt,At];kr&&Nt.push(kr),b.tables.gsub&&Nt.push(Zo.make(b.tables.gsub)),$t&&Nt.push($t);for(var Nr=qu((ur=nf(Nt)).encode()),sr=ur.fields,Pr=!1,Qt=0;Qt<sr.length;Qt+=1)if(sr[Qt].name==="head table"){sr[Qt].value.checkSumAdjustment=2981146554-Nr,Pr=!0;break}if(Pr)return ur;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:qu};function Xu(b,S){for(var A=0,C=b.length-1;A<=C;){var D=A+C>>>1,B=b[D].tag;if(B===S)return D;B<S?A=1+D:C=D-1}return-A-1}function of(b,S){for(var A=0,C=b.length-1;A<=C;){var D=A+C>>>1,B=b[D];if(B===S)return D;B<S?A=1+D:C=D-1}return-A-1}function af(b,S){for(var A=0,C=b.length-1;A<=C;){var D,B=A+C>>>1,Z=(D=b[B]).start;if(Z===S)return D;Z<S?A=1+B:C=B-1}if(0<A)return S>(D=b[A-1]).end?0:D}function tl(b,S){this.font=b,this.tableName=S}function rl(b){tl.call(this,b,"gpos")}function Hn(b){tl.call(this,b,"gsub")}function lf(b,S,A){for(var C=b.subtables,D=0;D<C.length;D++){var B=C[D];if(B.substFormat===S)return B}if(A)return C.push(A),A}function uf(b){for(var S=new ArrayBuffer(b.length),A=new Uint8Array(S),C=0;C<b.length;++C)A[C]=b[C];return S}function Vs(b,S){if(!b)throw S}function cf(b,S,A,C,D){var B=0<(S&C)?(B=b.parseByte(),A+(B=S&D?B:-B)):0<(S&D)?A:A+b.parseShort();return B}function Bv(b,S,A){var C,D=new me.Parser(S,A);if(b.numberOfContours=D.parseShort(),b._xMin=D.parseShort(),b._yMin=D.parseShort(),b._xMax=D.parseShort(),b._yMax=D.parseShort(),0<b.numberOfContours){for(var B=b.endPointIndices=[],Z=0;Z<b.numberOfContours;Z+=1)B.push(D.parseUShort());b.instructionLength=D.parseUShort(),b.instructions=[];for(var le=0;le<b.instructionLength;le+=1)b.instructions.push(D.parseByte());for(var ye=B[B.length-1]+1,ge=[],Re=0;Re<ye;Re+=1)if(C=D.parseByte(),ge.push(C),0<(8&C))for(var Ue=D.parseByte(),Ie=0;Ie<Ue;Ie+=1)ge.push(C),Re+=1;if(I.argument(ge.length===ye,"Bad flags."),0<B.length){var Ee,$e=[];if(0<ye){for(var He=0;He<ye;He+=1)C=ge[He],(Ee={}).onCurve=!!(1&C),Ee.lastPointOfContour=0<=B.indexOf(He),$e.push(Ee);for(var qe=0,Fe=0;Fe<ye;Fe+=1)C=ge[Fe],(Ee=$e[Fe]).x=cf(D,C,qe,2,16),qe=Ee.x;for(var Be=0,dt=0;dt<ye;dt+=1)C=ge[dt],(Ee=$e[dt]).y=cf(D,C,Be,4,32),Be=Ee.y}b.points=$e}else b.points=[]}else if(b.numberOfContours===0)b.points=[];else{b.isComposite=!0,b.points=[],b.components=[];for(var vt=!0;vt;){ge=D.parseUShort();var ft={glyphIndex:D.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ge)?0<(2&ge)?(ft.dx=D.parseShort(),ft.dy=D.parseShort()):ft.matchedPoints=[D.parseUShort(),D.parseUShort()]:0<(2&ge)?(ft.dx=D.parseChar(),ft.dy=D.parseChar()):ft.matchedPoints=[D.parseByte(),D.parseByte()],0<(8&ge)?ft.xScale=ft.yScale=D.parseF2Dot14():0<(64&ge)?(ft.xScale=D.parseF2Dot14(),ft.yScale=D.parseF2Dot14()):0<(128&ge)&&(ft.xScale=D.parseF2Dot14(),ft.scale01=D.parseF2Dot14(),ft.scale10=D.parseF2Dot14(),ft.yScale=D.parseF2Dot14()),b.components.push(ft),vt=!!(32&ge)}if(256&ge){b.instructionLength=D.parseUShort(),b.instructions=[];for(var pt=0;pt<b.instructionLength;pt+=1)b.instructions.push(D.parseByte())}}}function Yu(b,S){for(var A=[],C=0;C<b.length;C+=1){var D=b[C],D={x:S.xScale*D.x+S.scale01*D.y+S.dx,y:S.scale10*D.x+S.yScale*D.y+S.dy,onCurve:D.onCurve,lastPointOfContour:D.lastPointOfContour};A.push(D)}return A}function df(b){var S=new $;if(b)for(var A=function(Ue){for(var Ie=[],Ee=[],$e=0;$e<Ue.length;$e+=1){var He=Ue[$e];Ee.push(He),He.lastPointOfContour&&(Ie.push(Ee),Ee=[])}return I.argument(Ee.length===0,"There are still points left in the current contour."),Ie}(b),C=0;C<A.length;++C){var D,B=A[C],Z=B[B.length-1],le=B[0];Z.onCurve?S.moveTo(Z.x,Z.y):le.onCurve?S.moveTo(le.x,le.y):(D={x:.5*(Z.x+le.x),y:.5*(Z.y+le.y)},S.moveTo(D.x,D.y));for(var ye=0;ye<B.length;++ye){var ge,Re=Z,Z=le,le=B[(ye+1)%B.length];Z.onCurve?S.lineTo(Z.x,Z.y):(ge=le,Re.onCurve||(Z.x,Re.x,Z.y,Re.y),le.onCurve||(ge={x:.5*(Z.x+le.x),y:.5*(Z.y+le.y)}),S.quadraticCurveTo(Z.x,Z.y,ge.x,ge.y))}S.closePath()}return S}function zv(b,S){if(S.isComposite)for(var A=0;A<S.components.length;A+=1){var C=S.components[A],D=b.get(C.glyphIndex);if(D.getPath(),D.points){var B=void 0;if(C.matchedPoints===void 0)B=Yu(D.points,C);else{if(C.matchedPoints[0]>S.points.length-1||C.matchedPoints[1]>D.points.length-1)throw Error("Matched points out of range in "+S.name);var Z=S.points[C.matchedPoints[0]],le=D.points[C.matchedPoints[1]],C={xScale:C.xScale,scale01:C.scale01,scale10:C.scale10,yScale:C.yScale,dx:0,dy:0},le=Yu([le],C)[0];C.dx=Z.x-le.x,C.dy=Z.y-le.y,B=Yu(D.points,C)}S.points=S.points.concat(B)}}return df(S.points)}(rl.prototype=tl.prototype={searchTag:Xu,binSearch:of,getTable:function(b){var S=this.font.tables[this.tableName];return S=!S&&b?this.font.tables[this.tableName]=this.createDefaultTable():S},getScriptNames:function(){var b=this.getTable();return b?b.scripts.map(function(S){return S.tag}):[]},getDefaultScriptName:function(){var b=this.getTable();if(b){for(var S=!1,A=0;A<b.scripts.length;A++){var C=b.scripts[A].tag;if(C==="DFLT")return C;C==="latn"&&(S=!0)}return S?"latn":void 0}},getScriptTable:function(b,S){var A,C=this.getTable(S);if(C)return A=C.scripts,0<=(C=Xu(C.scripts,b=b||"DFLT"))?A[C].script:S?(A.splice(-1-C,0,S={tag:b,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),S.script):void 0},getLangSysTable:function(D,S,A){var C,D=this.getScriptTable(D,A);if(D)return S&&S!=="dflt"&&S!=="DFLT"?0<=(C=Xu(D.langSysRecords,S))?D.langSysRecords[C].langSys:A?(D.langSysRecords.splice(-1-C,0,A={tag:S,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:D.defaultLangSys},getFeatureTable:function(b,S,A,C){if(b=this.getLangSysTable(b,S,C),b){for(var D,B=b.featureIndexes,Z=this.font.tables[this.tableName].features,le=0;le<B.length;le++)if((D=Z[B[le]]).tag===A)return D.feature;if(C)return S=Z.length,I.assert(S===0||A>=Z[S-1].tag,"Features must be added in alphabetical order."),Z.push(D={tag:A,feature:{params:0,lookupListIndexes:[]}}),B.push(S),D.feature}},getLookupTables:function(B,S,A,C,D){var B=this.getFeatureTable(B,S,A,D),Z=[];if(B){for(var le,ye=B.lookupListIndexes,ge=this.font.tables[this.tableName].lookups,Re=0;Re<ye.length;Re++)(le=ge[ye[Re]]).lookupType===C&&Z.push(le);if(Z.length===0&&D)return S=ge.length,ge.push(le={lookupType:C,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ye.push(S),[le]}return Z},getGlyphClass:function(b,S){switch(b.format){case 1:return b.startGlyph<=S&&S<b.startGlyph+b.classes.length?b.classes[S-b.startGlyph]:0;case 2:var A=af(b.ranges,S);return A?A.classId:0}},getCoverageIndex:function(b,S){switch(b.format){case 1:var A=of(b.glyphs,S);return 0<=A?A:-1;case 2:return A=af(b.ranges,S),A?A.index+S-A.start:-1}},expandCoverage:function(b){if(b.format===1)return b.glyphs;for(var S=[],A=b.ranges,C=0;C<A.length;C++)for(var D=A[C],B=D.start,Z=D.end,le=B;le<=Z;le++)S.push(le);return S}}).init=function(){var b=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(b)},rl.prototype.getKerningValue=function(b,S,A){for(var C=0;C<b.length;C++)for(var D=b[C].subtables,B=0;B<D.length;B++){var Z=D[B],le=this.getCoverageIndex(Z.coverage,S);if(!(le<0))switch(Z.posFormat){case 1:for(var ye=Z.pairSets[le],ge=0;ge<ye.length;ge++){var Re=ye[ge];if(Re.secondGlyph===A)return Re.value1&&Re.value1.xAdvance||0}break;case 2:var Ie=this.getGlyphClass(Z.classDef1,S),Ue=this.getGlyphClass(Z.classDef2,A),Ie=Z.classRecords[Ie][Ue];return Ie.value1&&Ie.value1.xAdvance||0}}return 0},rl.prototype.getKerningTables=function(b,S){if(this.font.tables.gpos)return this.getLookupTables(b,S,"kern",2)},(Hn.prototype=tl.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Hn.prototype.getSingle=function(b,S,A){for(var C=[],D=this.getLookupTables(S,A,b,1),B=0;B<D.length;B++)for(var Z=D[B].subtables,le=0;le<Z.length;le++){var ye=Z[le],ge=this.expandCoverage(ye.coverage),Re=void 0;if(ye.substFormat===1)for(var Ue=ye.deltaGlyphId,Re=0;Re<ge.length;Re++){var Ie=ge[Re];C.push({sub:Ie,by:Ie+Ue})}else{var Ee=ye.substitute;for(Re=0;Re<ge.length;Re++)C.push({sub:ge[Re],by:Ee[Re]})}}return C},Hn.prototype.getAlternates=function(b,S,A){for(var C=[],D=this.getLookupTables(S,A,b,3),B=0;B<D.length;B++)for(var Z=D[B].subtables,le=0;le<Z.length;le++)for(var ye=Z[le],ge=this.expandCoverage(ye.coverage),Re=ye.alternateSets,Ue=0;Ue<ge.length;Ue++)C.push({sub:ge[Ue],by:Re[Ue]});return C},Hn.prototype.getLigatures=function(b,S,A){for(var C=[],D=this.getLookupTables(S,A,b,4),B=0;B<D.length;B++)for(var Z=D[B].subtables,le=0;le<Z.length;le++)for(var ye=Z[le],ge=this.expandCoverage(ye.coverage),Re=ye.ligatureSets,Ue=0;Ue<ge.length;Ue++)for(var Ie=ge[Ue],Ee=Re[Ue],$e=0;$e<Ee.length;$e++){var He=Ee[$e];C.push({sub:[Ie].concat(He.components),by:He.ligGlyph})}return C},Hn.prototype.addSingle=function(b,S,A,C){A=lf(this.getLookupTables(A,C,b,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),I.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),C=S.sub,b=this.binSearch(A.coverage.glyphs,C),b<0&&(A.coverage.glyphs.splice(b=-1-b,0,C),A.substitute.splice(b,0,0)),A.substitute[b]=S.by},Hn.prototype.addAlternate=function(b,S,A,C){A=lf(this.getLookupTables(A,C,b,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),I.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),C=S.sub,b=this.binSearch(A.coverage.glyphs,C),b<0&&(A.coverage.glyphs.splice(b=-1-b,0,C),A.alternateSets.splice(b,0,0)),A.alternateSets[b]=S.by},Hn.prototype.addLigature=function(B,ye,le,D){var le=this.getLookupTables(le,D,B,4,!0)[0],D=le.subtables[0],B=(D||(le.subtables[0]=D={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),I.assert(D.coverage.format===1,"Ligature: unable to modify coverage table format "+D.coverage.format),ye.sub[0]),Z=ye.sub.slice(1),le={ligGlyph:ye.by,components:Z},ye=this.binSearch(D.coverage.glyphs,B);if(0<=ye){for(var ge=D.ligatureSets[ye],Re=0;Re<ge.length;Re++)if(function(Ue,Ie){var Ee=Ue.length;if(Ee===Ie.length){for(var $e=0;$e<Ee;$e++)if(Ue[$e]!==Ie[$e])return;return 1}}(ge[Re].components,Z))return;ge.push(le)}else D.coverage.glyphs.splice(ye=-1-ye,0,B),D.ligatureSets.splice(ye,0,[le])},Hn.prototype.getFeature=function(b,S,A){if(/ss\d\d/.test(b))return this.getSingle(b,S,A);switch(b){case"aalt":case"salt":return this.getSingle(b,S,A).concat(this.getAlternates(b,S,A));case"dlig":case"liga":case"rlig":return this.getLigatures(b,S,A)}},Hn.prototype.add=function(b,S,A,C){if(/ss\d\d/.test(b))return this.addSingle(b,S,A,C);switch(b){case"aalt":case"salt":return typeof S.by=="number"?this.addSingle(b,S,A,C):this.addAlternate(b,S,A,C);case"dlig":case"liga":case"rlig":return this.addLigature(b,S,A,C)}};var hf={getPath:df,parse:function(b,S,A,C){for(var D=new it.GlyphSet(C),B=0;B<A.length-1;B+=1){var Z=A[B];Z!==A[B+1]?D.push(B,it.ttfGlyphLoader(C,B,Bv,b,S+Z,zv)):D.push(B,it.glyphLoader(C,B))}return D}};function ff(b){this.font=b,this.getCommands=function(S){return hf.getPath(S).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Gv(b){return b}function pf(b){return Math.sign(b)*Math.round(Math.abs(b))}function Vv(b){return Math.sign(b)*Math.round(Math.abs(2*b))/2}function Hv(b){return Math.sign(b)*(Math.round(Math.abs(b)+.5)-.5)}function Wv(b){return Math.sign(b)*Math.ceil(Math.abs(b))}function qv(b){return Math.sign(b)*Math.floor(Math.abs(b))}function mf(b){var S=this.srPeriod,A=this.srPhase,C=1;return b<0&&(b=-b,C=-1),b+=this.srThreshold-A,b=Math.trunc(b/S)*S,(b+=A)<0?A*C:b*C}var Wn={x:1,y:0,axis:"x",distance:function(b,S,A,C){return(A?b.xo:b.x)-(C?S.xo:S.x)},interpolate:function(b,S,A,C){var D,B,Z,le,ye,ge,Re;if(!C||C===this)return D=b.xo-S.xo,B=b.xo-A.xo,ye=S.x-S.xo,ge=A.x-A.xo,(Re=(Z=Math.abs(D))+(le=Math.abs(B)))===0?void(b.x=b.xo+(ye+ge)/2):void(b.x=b.xo+(ye*le+ge*Z)/Re);D=C.distance(b,S,!0,!0),B=C.distance(b,A,!0,!0),ye=C.distance(S,S,!1,!0),ge=C.distance(A,A,!1,!0),(Re=(Z=Math.abs(D))+(le=Math.abs(B)))===0?Wn.setRelative(b,b,(ye+ge)/2,C,!0):Wn.setRelative(b,b,(ye*le+ge*Z)/Re,C,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(b,S,A,C,D){var B,Z;C&&C!==this?(B=D?S.xo:S.x,Z=D?S.yo:S.y,B+=A*C.x,Z+=A*C.y,b.x=B+(b.y-Z)/C.normalSlope):b.x=(D?S.xo:S.x)+A},slope:0,touch:function(b){b.xTouched=!0},touched:function(b){return b.xTouched},untouch:function(b){b.xTouched=!1}},ii={x:0,y:1,axis:"y",distance:function(b,S,A,C){return(A?b.yo:b.y)-(C?S.yo:S.y)},interpolate:function(b,S,A,C){var D,B,Z,le,ye,ge,Re;if(!C||C===this)return D=b.yo-S.yo,B=b.yo-A.yo,ye=S.y-S.yo,ge=A.y-A.yo,(Re=(Z=Math.abs(D))+(le=Math.abs(B)))===0?void(b.y=b.yo+(ye+ge)/2):void(b.y=b.yo+(ye*le+ge*Z)/Re);D=C.distance(b,S,!0,!0),B=C.distance(b,A,!0,!0),ye=C.distance(S,S,!1,!0),ge=C.distance(A,A,!1,!0),(Re=(Z=Math.abs(D))+(le=Math.abs(B)))===0?ii.setRelative(b,b,(ye+ge)/2,C,!0):ii.setRelative(b,b,(ye*le+ge*Z)/Re,C,!0)},normalSlope:0,setRelative:function(b,S,A,C,D){var B,Z;C&&C!==this?(B=D?S.xo:S.x,Z=D?S.yo:S.y,B+=A*C.x,Z+=A*C.y,b.y=Z+C.normalSlope*(b.x-B)):b.y=(D?S.yo:S.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(b){b.yTouched=!0},touched:function(b){return b.yTouched},untouch:function(b){b.yTouched=!1}};function Ko(b,S){this.x=b,this.y=S,this.axis=void 0,this.slope=S/b,this.normalSlope=-b/S,Object.freeze(this)}function Jo(b,S){var A=Math.sqrt(b*b+S*S);return S/=A,(b/=A)===1&&S===0?Wn:b===0&&S===1?ii:new Ko(b,S)}function si(b,S,A,C){this.x=this.xo=Math.round(64*b)/64,this.y=this.yo=Math.round(64*S)/64,this.lastPointOfContour=A,this.onCurve=C,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Wn),Object.freeze(ii),Ko.prototype.distance=function(b,S,A,C){return this.x*Wn.distance(b,S,A,C)+this.y*ii.distance(b,S,A,C)},Ko.prototype.interpolate=function(b,D,B,C){var Z=C.distance(b,D,!0,!0),le=C.distance(b,B,!0,!0),D=C.distance(D,D,!1,!0),B=C.distance(B,B,!1,!0),Z=Math.abs(Z),le=Math.abs(le),ye=Z+le;ye===0?this.setRelative(b,b,(D+B)/2,C,!0):this.setRelative(b,b,(D*le+B*Z)/ye,C,!0)},Ko.prototype.setRelative=function(b,B,ye,ge,le){var Z=le?B.xo:B.x,le=le?B.yo:B.y,B=Z+ye*(ge=ge||this).x,Z=le+ye*ge.y,le=ge.normalSlope,ye=this.slope,ge=b.x,Re=b.y;b.x=(ye*ge-le*B+Z-Re)/(ye-le),b.y=ye*(b.x-ge)+Re},Ko.prototype.touch=function(b){b.xTouched=!0,b.yTouched=!0},si.prototype.nextTouched=function(b){for(var S=this.nextPointOnContour;!b.touched(S)&&S!==this;)S=S.nextPointOnContour;return S},si.prototype.prevTouched=function(b){for(var S=this.prevPointOnContour;!b.touched(S)&&S!==this;)S=S.prevPointOnContour;return S};var $o=Object.freeze(new si(0,0)),Xv={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ti(b,S){switch(this.env=b,this.stack=[],this.prog=S,b){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Wn,this.round=pf}}function nl(b){for(var S=b.tZone=new Array(b.gZone.length),A=0;A<S.length;A++)S[A]=new si(0,0)}function gf(b,S){var A,C=b.prog,D=b.ip,B=1;do if((A=C[++D])===88)B++;else if(A===89)B--;else if(A===64)D+=C[D+1]+1;else if(A===65)D+=2*C[D+1]+1;else if(176<=A&&A<=183)D+=A-176+1;else if(184<=A&&A<=191)D+=2*(A-184+1);else if(S&&B===1&&A===27)break;while(0<B);b.ip=D}function yf(b,S){u.DEBUG&&console.log(S.step,"SVTCA["+b.axis+"]"),S.fv=S.pv=S.dpv=b}function vf(b,S){u.DEBUG&&console.log(S.step,"SPVTCA["+b.axis+"]"),S.pv=S.dpv=b}function _f(b,S){u.DEBUG&&console.log(S.step,"SFVTCA["+b.axis+"]"),S.fv=b}function bf(b,S){var A,D=S.stack,C=D.pop(),D=D.pop(),B=S.z2[C],Z=S.z1[D];u.DEBUG&&console.log("SPVTL["+b+"]",C,D),C=b?(A=B.y-Z.y,Z.x-B.x):(A=Z.x-B.x,Z.y-B.y),S.pv=S.dpv=Jo(A,C)}function xf(b,S){var A,D=S.stack,C=D.pop(),D=D.pop(),B=S.z2[C],Z=S.z1[D];u.DEBUG&&console.log("SFVTL["+b+"]",C,D),C=b?(A=B.y-Z.y,Z.x-B.x):(A=Z.x-B.x,Z.y-B.y),S.fv=Jo(A,C)}function Zu(b){u.DEBUG&&console.log(b.step,"POP[]"),b.stack.pop()}function wf(b,S){var A=S.stack.pop(),C=S.z0[A],D=S.fv,B=S.pv,Z=(u.DEBUG&&console.log(S.step,"MDAP["+b+"]",A),B.distance(C,$o));b&&(Z=S.round(Z)),D.setRelative(C,$o,Z,B),D.touch(C),S.rp0=S.rp1=A}function Sf(b,S){var A,C,D,B=S.z2,Z=B.length-2;u.DEBUG&&console.log(S.step,"IUP["+b.axis+"]");for(var le=0;le<Z;le++)A=B[le],b.touched(A)||(C=A.prevTouched(b))!==A&&(C===(D=A.nextTouched(b))&&b.setRelative(A,A,b.distance(C,C,!1,!0),b,!0),b.interpolate(A,C,D,b))}function Mf(b,S){for(var A=S.stack,C=b?S.rp1:S.rp2,D=(b?S.z0:S.z1)[C],B=S.fv,Z=S.pv,le=S.loop,ye=S.z2;le--;){var ge=A.pop(),Re=ye[ge],Ue=Z.distance(D,D,!1,!0);B.setRelative(Re,Re,Ue,Z),B.touch(Re),u.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-le)+": ":"")+"SHP["+(b?"rp1":"rp2")+"]",ge)}S.loop=1}function Ef(b,S){for(var A=S.stack,Z=b?S.rp1:S.rp2,C=(b?S.z0:S.z1)[Z],D=S.fv,B=S.pv,Z=A.pop(),le=S.z2[S.contours[Z]],ye=le,ge=(u.DEBUG&&console.log(S.step,"SHC["+b+"]",Z),B.distance(C,C,!1,!0));ye!==C&&D.setRelative(ye,ye,ge,B),(ye=ye.nextPointOnContour)!==le;);}function Tf(b,S){var A,C,le=S.stack,D=b?S.rp1:S.rp2,D=(b?S.z0:S.z1)[D],B=S.fv,Z=S.pv,le=le.pop();switch(u.DEBUG&&console.log(S.step,"SHZ["+b+"]",le),le){case 0:A=S.tZone;break;case 1:A=S.gZone;break;default:throw new Error("Invalid zone")}for(var ye=Z.distance(D,D,!1,!0),ge=A.length-2,Re=0;Re<ge;Re++)C=A[Re],B.setRelative(C,C,ye,Z)}function Af(b,S){var C=S.stack,A=C.pop()/64,C=C.pop(),D=S.z1[C],B=S.z0[S.rp0],Z=S.fv,le=S.pv;Z.setRelative(D,B,A,le),Z.touch(D),u.DEBUG&&console.log(S.step,"MSIRP["+b+"]",A,C),S.rp1=S.rp0,S.rp2=C,b&&(S.rp0=C)}function jf(b,S){var A=S.stack,le=A.pop(),A=A.pop(),C=S.z0[A],D=S.fv,B=S.pv,Z=S.cvt[le],le=(u.DEBUG&&console.log(S.step,"MIAP["+b+"]",le,"(",Z,")",A),B.distance(C,$o));b&&(Math.abs(le-Z)<S.cvCutIn&&(le=Z),le=S.round(le)),D.setRelative(C,$o,le,B),S.zp0===0&&(C.xo=C.x,C.yo=C.y),D.touch(C),S.rp0=S.rp1=A}function Cf(b,S){var A=S.stack,C=A.pop(),D=S.z2[C];u.DEBUG&&console.log(S.step,"GC["+b+"]",C),A.push(64*S.dpv.distance(D,$o,b,!1))}function Pf(b,S){var C=S.stack,A=C.pop(),C=C.pop(),D=S.z1[A],B=S.z0[C],B=S.dpv.distance(B,D,b,b);u.DEBUG&&console.log(S.step,"MD["+b+"]",A,C,"->",B),S.stack.push(Math.round(64*B))}function Ku(b,S){var A=S.stack,C=A.pop(),D=S.fv,B=S.pv,Z=S.ppem,le=S.deltaBase+16*(b-1),ye=S.deltaShift,ge=S.z0;u.DEBUG&&console.log(S.step,"DELTAP["+b+"]",C,A);for(var Re=0;Re<C;Re++){var Ue=A.pop(),Ie=A.pop();le+((240&Ie)>>4)===Z&&(0<=(Ie=(15&Ie)-8)&&Ie++,u.DEBUG&&console.log(S.step,"DELTAPFIX",Ue,"by",Ie*ye),Ue=ge[Ue],D.setRelative(Ue,Ue,Ie*ye,B))}}function il(b,S){var A=S.stack,C=A.pop();u.DEBUG&&console.log(S.step,"ROUND[]"),A.push(64*S.round(C/64))}function Ju(b,S){var A=S.stack,C=A.pop(),D=S.ppem,B=S.deltaBase+16*(b-1),Z=S.deltaShift;u.DEBUG&&console.log(S.step,"DELTAC["+b+"]",C,A);for(var le=0;le<C;le++){var ye=A.pop(),ge=A.pop();B+((240&ge)>>4)===D&&(0<=(ge=(15&ge)-8)&&ge++,ge=ge*Z,u.DEBUG&&console.log(S.step,"DELTACFIX",ye,"by",ge),S.cvt[ye]+=ge)}}function Lf(b,S){var A,D=S.stack,C=D.pop(),D=D.pop(),B=S.z2[C],Z=S.z1[D];u.DEBUG&&console.log(S.step,"SDPVTL["+b+"]",C,D),C=b?(A=B.y-Z.y,Z.x-B.x):(A=Z.x-B.x,Z.y-B.y),S.dpv=Jo(A,C)}function Ai(b,S){var A=S.stack,C=S.prog,D=S.ip;u.DEBUG&&console.log(S.step,"PUSHB["+b+"]");for(var B=0;B<b;B++)A.push(C[++D]);S.ip=D}function ji(b,S){var A=S.ip,C=S.prog,D=S.stack;u.DEBUG&&console.log(S.ip,"PUSHW["+b+"]");for(var B=0;B<b;B++){var Z=C[++A]<<8|C[++A];32768&Z&&(Z=-(1+(65535^Z))),D.push(Z)}S.ip=A}function ct(b,S,A,C,D,B){var Z,le,ge=B.stack,ye=b&&ge.pop(),ge=ge.pop(),Re=B.rp0,Re=B.z0[Re],Ue=B.z1[ge],Ie=B.minDis,Ee=B.fv,$e=B.dpv,He=Z=$e.distance(Ue,Re,!0,!0),qe=0<=He?1:-1;He=Math.abs(He),b&&(le=B.cvt[ye],C&&Math.abs(He-le)<B.cvCutIn&&(He=le)),A&&He<Ie&&(He=Ie),C&&(He=B.round(He)),Ee.setRelative(Ue,Re,qe*He,$e),Ee.touch(Ue),u.DEBUG&&console.log(B.step,(b?"MIRP[":"MDRP[")+(S?"M":"m")+(A?">":"_")+(C?"R":"_")+(D===0?"Gr":D===1?"Bl":D===2?"Wh":"")+"]",b?ye+"("+B.cvt[ye]+","+le+")":"",ge,"(d =",Z,"->",qe*He,")"),B.rp1=B.rp0,B.rp2=ge,S&&(B.rp0=ge)}ff.prototype.exec=function(b,S){if(typeof S!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,C=this._prepState;if(!C||C.ppem!==S){var D=this._fpgmState;if(!D){Ti.prototype=Xv,(D=this._fpgmState=new Ti("fpgm",A.tables.fpgm)).funcs=[],D.font=A,u.DEBUG&&(console.log("---EXEC FPGM---"),D.step=-1);try{Hs(D)}catch(ge){return console.log("Hinting error in FPGM:"+ge),void(this._errorState=3)}}Ti.prototype=D,(C=this._prepState=new Ti("prep",A.tables.prep)).ppem=S;var B=A.tables.cvt;if(B)for(var Z=C.cvt=new Array(B.length),le=S/A.unitsPerEm,ye=0;ye<B.length;ye++)Z[ye]=B[ye]*le;else C.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),C.step=-1);try{Hs(C)}catch(ge){this._errorState<2&&console.log("Hinting error in PREP:"+ge),this._errorState=2}}if(!(1<this._errorState))try{return Yv(b,C)}catch(ge){this._errorState<1&&(console.log("Hinting error:"+ge),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Yv=function(b,S){var A=S.ppem/S.font.unitsPerEm,C=A,D=b.components;if(Ti.prototype=S,D){for(var B=S.font,Z=[],le=[],ye=0;ye<D.length;ye++){var ge=D[ye],Re=B.glyphs.get(ge.glyphIndex),Ue=new Ti("glyf",Re.instructions);u.DEBUG&&(console.log("---EXEC COMP "+ye+"---"),Ue.step=-1),Rf(Re,Ue,A,C);for(var Ie=Math.round(ge.dx*A),Ee=Math.round(ge.dy*C),$e=Ue.gZone,He=Ue.contours,qe=0;qe<$e.length;qe++){var Fe=$e[qe];Fe.xTouched=Fe.yTouched=!1,Fe.xo=Fe.x=Fe.x+Ie,Fe.yo=Fe.y=Fe.y+Ee}var Be=Z.length;Z.push.apply(Z,$e);for(var dt=0;dt<He.length;dt++)le.push(He[dt]+Be)}b.instructions&&!Ue.inhibitGridFit&&((Ue=new Ti("glyf",b.instructions)).gZone=Ue.z0=Ue.z1=Ue.z2=Z,Ue.contours=le,Z.push(new si(0,0),new si(Math.round(b.advanceWidth*A),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ue.step=-1),Hs(Ue),Z.length-=2)}else Ue=new Ti("glyf",b.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),Ue.step=-1),Rf(b,Ue,A,C),Z=Ue.gZone;return Z},Rf=function(b,S,A,C){for(var D,B,Z,le=b.points||[],ye=le.length,ge=S.gZone=S.z0=S.z1=S.z2=[],Re=S.contours=[],Ue=0;Ue<ye;Ue++)D=le[Ue],ge[Ue]=new si(D.x*A,D.y*C,D.lastPointOfContour,D.onCurve);for(var Ie=0;Ie<ye;Ie++)D=ge[Ie],B||(B=D,Re.push(Ie)),D.lastPointOfContour?((D.nextPointOnContour=B).prevPointOnContour=D,B=void 0):(Z=ge[Ie+1],(D.nextPointOnContour=Z).prevPointOnContour=D);if(!S.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",S.stack);for(var Ee=0;Ee<ye;Ee++)console.log(Ee,ge[Ee].x,ge[Ee].y)}if(ge.push(new si(0,0),new si(Math.round(b.advanceWidth*A),0)),Hs(S),ge.length-=2,u.DEBUG){console.log("FINISHED GLYPH",S.stack);for(var $e=0;$e<ye;$e++)console.log($e,ge[$e].x,ge[$e].y)}}},Hs=function(b){var S=b.prog;if(S){var A,C=S.length;for(b.ip=0;b.ip<C;b.ip++){if(u.DEBUG&&b.step++,!(A=Zv[S[b.ip]]))throw new Error("unknown instruction: 0x"+Number(S[b.ip]).toString(16));A(b)}}},Zv=[yf.bind(void 0,ii),yf.bind(void 0,Wn),vf.bind(void 0,ii),vf.bind(void 0,Wn),_f.bind(void 0,ii),_f.bind(void 0,Wn),bf.bind(void 0,0),bf.bind(void 0,1),xf.bind(void 0,0),xf.bind(void 0,1),function(b){var S=(A=b.stack).pop(),A=A.pop();u.DEBUG&&console.log(b.step,"SPVFS[]",S,A),b.pv=b.dpv=Jo(A,S)},function(b){var S=(A=b.stack).pop(),A=A.pop();u.DEBUG&&console.log(b.step,"SPVFS[]",S,A),b.fv=Jo(A,S)},function(b){var S=b.stack,A=b.pv;u.DEBUG&&console.log(b.step,"GPV[]"),S.push(16384*A.x),S.push(16384*A.y)},function(b){var S=b.stack,A=b.fv;u.DEBUG&&console.log(b.step,"GFV[]"),S.push(16384*A.x),S.push(16384*A.y)},function(b){b.fv=b.pv,u.DEBUG&&console.log(b.step,"SFVTPV[]")},function(S){var A=(Z=S.stack).pop(),C=Z.pop(),D=Z.pop(),B=Z.pop(),Z=Z.pop(),ye=S.z0,Re=S.z1,le=ye[A],ye=ye[C],ge=Re[D],Re=Re[B],S=S.z2[Z],A=(u.DEBUG&&console.log("ISECT[], ",A,C,D,B,Z),le.x),C=le.y,D=ye.x,B=ye.y,Z=ge.x,le=ge.y,ye=Re.x,ge=Re.y,Re=(A-D)*(le-ge)-(C-B)*(Z-ye),Ue=A*B-C*D,Ie=Z*ge-le*ye;S.x=(Ue*(Z-ye)-Ie*(A-D))/Re,S.y=(Ue*(le-ge)-Ie*(C-B))/Re},function(b){b.rp0=b.stack.pop(),u.DEBUG&&console.log(b.step,"SRP0[]",b.rp0)},function(b){b.rp1=b.stack.pop(),u.DEBUG&&console.log(b.step,"SRP1[]",b.rp1)},function(b){b.rp2=b.stack.pop(),u.DEBUG&&console.log(b.step,"SRP2[]",b.rp2)},function(b){var S=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"SZP0[]",S),b.zp0=S){case 0:b.tZone||nl(b),b.z0=b.tZone;break;case 1:b.z0=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var S=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"SZP1[]",S),b.zp1=S){case 0:b.tZone||nl(b),b.z1=b.tZone;break;case 1:b.z1=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var S=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"SZP2[]",S),b.zp2=S){case 0:b.tZone||nl(b),b.z2=b.tZone;break;case 1:b.z2=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var S=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"SZPS[]",S),b.zp0=b.zp1=b.zp2=S){case 0:b.tZone||nl(b),b.z0=b.z1=b.z2=b.tZone;break;case 1:b.z0=b.z1=b.z2=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){b.loop=b.stack.pop(),u.DEBUG&&console.log(b.step,"SLOOP[]",b.loop)},function(b){u.DEBUG&&console.log(b.step,"RTG[]"),b.round=pf},function(b){u.DEBUG&&console.log(b.step,"RTHG[]"),b.round=Hv},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SMD[]",S),b.minDis=S/64},function(b){u.DEBUG&&console.log(b.step,"ELSE[]"),gf(b,!1)},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"JMPR[]",S),b.ip+=S-1},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SCVTCI[]",S),b.cvCutIn=S/64},void 0,void 0,function(b){var S=b.stack;u.DEBUG&&console.log(b.step,"DUP[]"),S.push(S[S.length-1])},Zu,function(b){u.DEBUG&&console.log(b.step,"CLEAR[]"),b.stack.length=0},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"SWAP[]"),S.push(A),S.push(C)},function(b){var S=b.stack;u.DEBUG&&console.log(b.step,"DEPTH[]"),S.push(S.length)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"CINDEX[]",A),S.push(S[S.length-A])},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"MINDEX[]",A),S.push(S.splice(S.length-A,1)[0])},void 0,void 0,void 0,function(b){var S=(C=b.stack).pop(),A=C.pop(),C=(u.DEBUG&&console.log(b.step,"LOOPCALL[]",S,A),b.ip),D=b.prog;b.prog=b.funcs[S];for(var B=0;B<A;B++)Hs(b),u.DEBUG&&console.log(++b.step,B+1<A?"next loopcall":"done loopcall",B);b.ip=C,b.prog=D},function(b){var S=b.stack.pop(),A=(u.DEBUG&&console.log(b.step,"CALL[]",S),b.ip),C=b.prog;b.prog=b.funcs[S],Hs(b),b.ip=A,b.prog=C,u.DEBUG&&console.log(++b.step,"returning from",S)},function(b){if(b.env!=="fpgm")throw new Error("FDEF not allowed here");var C=b.stack,S=b.prog,A=b.ip,C=C.pop(),D=A;for(u.DEBUG&&console.log(b.step,"FDEF[]",C);S[++A]!==45;);b.ip=A,b.funcs[C]=S.slice(D+1,A)},void 0,wf.bind(void 0,0),wf.bind(void 0,1),Sf.bind(void 0,ii),Sf.bind(void 0,Wn),Mf.bind(void 0,0),Mf.bind(void 0,1),Ef.bind(void 0,0),Ef.bind(void 0,1),Tf.bind(void 0,0),Tf.bind(void 0,1),function(b){for(var S=b.stack,A=b.loop,C=b.fv,D=S.pop()/64,B=b.z2;A--;){var Z=S.pop(),le=B[Z];u.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-A)+": ":"")+"SHPIX[]",Z,D),C.setRelative(le,le,D),C.touch(le)}b.loop=1},function(b){for(var S=b.stack,A=b.rp1,C=b.rp2,D=b.loop,B=b.z0[A],Z=b.z1[C],le=b.fv,ye=b.dpv,ge=b.z2;D--;){var Re=S.pop(),Ue=ge[Re];u.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-D)+": ":"")+"IP[]",Re,A,"<->",C),le.interpolate(Ue,B,Z,ye),le.touch(Ue)}b.loop=1},Af.bind(void 0,0),Af.bind(void 0,1),function(b){for(var S=b.stack,A=b.rp0,C=b.z0[A],D=b.loop,B=b.fv,Z=b.pv,le=b.z1;D--;){var ye=S.pop(),ge=le[ye];u.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-D)+": ":"")+"ALIGNRP[]",ye),B.setRelative(ge,C,0,Z),B.touch(ge)}b.loop=1},function(b){u.DEBUG&&console.log(b.step,"RTDG[]"),b.round=Vv},jf.bind(void 0,0),jf.bind(void 0,1),function(b){var S=b.prog,A=b.ip,C=b.stack,D=S[++A];u.DEBUG&&console.log(b.step,"NPUSHB[]",D);for(var B=0;B<D;B++)C.push(S[++A]);b.ip=A},function(b){var S=b.ip,A=b.prog,C=b.stack,D=A[++S];u.DEBUG&&console.log(b.step,"NPUSHW[]",D);for(var B=0;B<D;B++){var Z=A[++S]<<8|A[++S];32768&Z&&(Z=-(1+(65535^Z))),C.push(Z)}b.ip=S},function(b){var C=b.stack,S=(S=b.store)||(b.store=[]),A=C.pop(),C=C.pop();u.DEBUG&&console.log(b.step,"WS",A,C),S[C]=A},function(D){var S=D.stack,A=D.store,C=S.pop(),D=(u.DEBUG&&console.log(D.step,"RS",C),A&&A[C]||0);S.push(D)},function(b){var S=(A=b.stack).pop(),A=A.pop();u.DEBUG&&console.log(b.step,"WCVTP",S,A),b.cvt[A]=S/64},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"RCVT",A),S.push(64*b.cvt[A])},Cf.bind(void 0,0),Cf.bind(void 0,1),void 0,Pf.bind(void 0,0),Pf.bind(void 0,1),function(b){u.DEBUG&&console.log(b.step,"MPPEM[]"),b.stack.push(b.ppem)},void 0,function(b){u.DEBUG&&console.log(b.step,"FLIPON[]"),b.autoFlip=!0},void 0,void 0,function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"LT[]",A,C),S.push(C<A?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"LTEQ[]",A,C),S.push(C<=A?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"GT[]",A,C),S.push(A<C?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"GTEQ[]",A,C),S.push(A<=C?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"EQ[]",A,C),S.push(A===C?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"NEQ[]",A,C),S.push(A!==C?1:0)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"ODD[]",A),S.push(Math.trunc(A)%2?1:0)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"EVEN[]",A),S.push(Math.trunc(A)%2?0:1)},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"IF[]",S),S||(gf(b,!0),u.DEBUG&&console.log(b.step,"EIF[]"))},function(b){u.DEBUG&&console.log(b.step,"EIF[]")},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"AND[]",A,C),S.push(A&&C?1:0)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"OR[]",A,C),S.push(A||C?1:0)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"NOT[]",A),S.push(A?0:1)},Ku.bind(void 0,1),function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SDB[]",S),b.deltaBase=S},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SDS[]",S),b.deltaShift=Math.pow(.5,S)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"ADD[]",A,C),S.push(C+A)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"SUB[]",A,C),S.push(C-A)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"DIV[]",A,C),S.push(64*C/A)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"MUL[]",A,C),S.push(C*A/64)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"ABS[]",A),S.push(Math.abs(A))},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"NEG[]",A),S.push(-A)},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"FLOOR[]",A),S.push(64*Math.floor(A/64))},function(b){var S=b.stack,A=S.pop();u.DEBUG&&console.log(b.step,"CEILING[]",A),S.push(64*Math.ceil(A/64))},il.bind(void 0,0),il.bind(void 0,1),il.bind(void 0,2),il.bind(void 0,3),void 0,void 0,void 0,void 0,function(b){var S=(A=b.stack).pop(),A=A.pop();u.DEBUG&&console.log(b.step,"WCVTF[]",S,A),b.cvt[A]=S*b.ppem/b.font.unitsPerEm},Ku.bind(void 0,2),Ku.bind(void 0,3),Ju.bind(void 0,1),Ju.bind(void 0,2),Ju.bind(void 0,3),function(b){var S,A=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"SROUND[]",A),b.round=mf,192&A){case 0:S=.5;break;case 64:S=1;break;case 128:S=2;break;default:throw new Error("invalid SROUND value")}switch(b.srPeriod=S,48&A){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*S;break;case 32:b.srPhase=.5*S;break;case 48:b.srPhase=.75*S;break;default:throw new Error("invalid SROUND value")}b.srThreshold=(A&=15)===0?0:(A/8-.5)*S},function(b){var S,A=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"S45ROUND[]",A),b.round=mf,192&A){case 0:S=Math.sqrt(2)/2;break;case 64:S=Math.sqrt(2);break;case 128:S=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(b.srPeriod=S,48&A){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*S;break;case 32:b.srPhase=.5*S;break;case 48:b.srPhase=.75*S;break;default:throw new Error("invalid S45ROUND value")}b.srThreshold=(A&=15)===0?0:(A/8-.5)*S},void 0,void 0,function(b){u.DEBUG&&console.log(b.step,"ROFF[]"),b.round=Gv},void 0,function(b){u.DEBUG&&console.log(b.step,"RUTG[]"),b.round=Wv},function(b){u.DEBUG&&console.log(b.step,"RDTG[]"),b.round=qv},Zu,Zu,void 0,void 0,void 0,void 0,void 0,function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SCANCTRL[]",S)},Lf.bind(void 0,0),Lf.bind(void 0,1),function(b){var S=b.stack,A=S.pop(),C=0;u.DEBUG&&console.log(b.step,"GETINFO[]",A),1&A&&(C=35),32&A&&(C|=4096),S.push(C)},void 0,function(b){var S=b.stack,A=S.pop(),C=S.pop(),D=S.pop();u.DEBUG&&console.log(b.step,"ROLL[]"),S.push(C),S.push(A),S.push(D)},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"MAX[]",A,C),S.push(Math.max(C,A))},function(b){var S=b.stack,A=S.pop(),C=S.pop();u.DEBUG&&console.log(b.step,"MIN[]",A,C),S.push(Math.min(C,A))},function(b){var S=b.stack.pop();u.DEBUG&&console.log(b.step,"SCANTYPE[]",S)},function(b){var S=b.stack.pop(),A=b.stack.pop();switch(u.DEBUG&&console.log(b.step,"INSTCTRL[]",S,A),S){case 1:return void(b.inhibitGridFit=!!A);case 2:return void(b.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ai.bind(void 0,1),Ai.bind(void 0,2),Ai.bind(void 0,3),Ai.bind(void 0,4),Ai.bind(void 0,5),Ai.bind(void 0,6),Ai.bind(void 0,7),Ai.bind(void 0,8),ji.bind(void 0,1),ji.bind(void 0,2),ji.bind(void 0,3),ji.bind(void 0,4),ji.bind(void 0,5),ji.bind(void 0,6),ji.bind(void 0,7),ji.bind(void 0,8),ct.bind(void 0,0,0,0,0,0),ct.bind(void 0,0,0,0,0,1),ct.bind(void 0,0,0,0,0,2),ct.bind(void 0,0,0,0,0,3),ct.bind(void 0,0,0,0,1,0),ct.bind(void 0,0,0,0,1,1),ct.bind(void 0,0,0,0,1,2),ct.bind(void 0,0,0,0,1,3),ct.bind(void 0,0,0,1,0,0),ct.bind(void 0,0,0,1,0,1),ct.bind(void 0,0,0,1,0,2),ct.bind(void 0,0,0,1,0,3),ct.bind(void 0,0,0,1,1,0),ct.bind(void 0,0,0,1,1,1),ct.bind(void 0,0,0,1,1,2),ct.bind(void 0,0,0,1,1,3),ct.bind(void 0,0,1,0,0,0),ct.bind(void 0,0,1,0,0,1),ct.bind(void 0,0,1,0,0,2),ct.bind(void 0,0,1,0,0,3),ct.bind(void 0,0,1,0,1,0),ct.bind(void 0,0,1,0,1,1),ct.bind(void 0,0,1,0,1,2),ct.bind(void 0,0,1,0,1,3),ct.bind(void 0,0,1,1,0,0),ct.bind(void 0,0,1,1,0,1),ct.bind(void 0,0,1,1,0,2),ct.bind(void 0,0,1,1,0,3),ct.bind(void 0,0,1,1,1,0),ct.bind(void 0,0,1,1,1,1),ct.bind(void 0,0,1,1,1,2),ct.bind(void 0,0,1,1,1,3),ct.bind(void 0,1,0,0,0,0),ct.bind(void 0,1,0,0,0,1),ct.bind(void 0,1,0,0,0,2),ct.bind(void 0,1,0,0,0,3),ct.bind(void 0,1,0,0,1,0),ct.bind(void 0,1,0,0,1,1),ct.bind(void 0,1,0,0,1,2),ct.bind(void 0,1,0,0,1,3),ct.bind(void 0,1,0,1,0,0),ct.bind(void 0,1,0,1,0,1),ct.bind(void 0,1,0,1,0,2),ct.bind(void 0,1,0,1,0,3),ct.bind(void 0,1,0,1,1,0),ct.bind(void 0,1,0,1,1,1),ct.bind(void 0,1,0,1,1,2),ct.bind(void 0,1,0,1,1,3),ct.bind(void 0,1,1,0,0,0),ct.bind(void 0,1,1,0,0,1),ct.bind(void 0,1,1,0,0,2),ct.bind(void 0,1,1,0,0,3),ct.bind(void 0,1,1,0,1,0),ct.bind(void 0,1,1,0,1,1),ct.bind(void 0,1,1,0,1,2),ct.bind(void 0,1,1,0,1,3),ct.bind(void 0,1,1,1,0,0),ct.bind(void 0,1,1,1,0,1),ct.bind(void 0,1,1,1,0,2),ct.bind(void 0,1,1,1,0,3),ct.bind(void 0,1,1,1,1,0),ct.bind(void 0,1,1,1,1,1),ct.bind(void 0,1,1,1,1,2),ct.bind(void 0,1,1,1,1,3)],Kv=Array.from||function(b){return b.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Gt(b){(b=b||{}).empty||(Vs(b.familyName,"When creating a new Font object, familyName is required."),Vs(b.styleName,"When creating a new Font object, styleName is required."),Vs(b.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Vs(b.ascender,"When creating a new Font object, ascender is required."),Vs(b.descender,"When creating a new Font object, descender is required."),Vs(b.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:b.familyName||" "},fontSubfamily:{en:b.styleName||" "},fullName:{en:b.fullName||b.familyName+" "+b.styleName},postScriptName:{en:b.postScriptName||(b.familyName+b.styleName).replace(/\s/g,"")},designer:{en:b.designer||" "},designerURL:{en:b.designerURL||" "},manufacturer:{en:b.manufacturer||" "},manufacturerURL:{en:b.manufacturerURL||" "},license:{en:b.license||" "},licenseURL:{en:b.licenseURL||" "},version:{en:b.version||"Version 0.1"},description:{en:b.description||" "},copyright:{en:b.copyright||" "},trademark:{en:b.trademark||" "}},this.unitsPerEm=b.unitsPerEm||1e3,this.ascender=b.ascender,this.descender=b.descender,this.createdTimestamp=b.createdTimestamp,this.tables={os2:{usWeightClass:b.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:b.widthClass||this.usWidthClasses.MEDIUM,fsSelection:b.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new it.GlyphSet(this,b.glyphs||[]),this.encoding=new Ce(this),this.position=new rl(this),this.substitution=new Hn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ff(this):void 0)}})}function Df(b,S){var A,C=JSON.stringify(b),D=256;for(A in S){var B=parseInt(A);if(B&&!(B<256)){if(JSON.stringify(S[A])===C)return B;D<=B&&(D=B+1)}}return S[D]=b,D}Gt.prototype.hasChar=function(b){return this.encoding.charToGlyphIndex(b)!==null},Gt.prototype.charToGlyphIndex=function(b){return this.encoding.charToGlyphIndex(b)},Gt.prototype.charToGlyph=function(b){return b=this.charToGlyphIndex(b),this.glyphs.get(b)||this.glyphs.get(0)},Gt.prototype.stringToGlyphs=function(b,S){S=S||this.defaultRenderOptions;for(var A=Kv(b),C=[],D=0;D<A.length;D+=1){var B=A[D];C.push(this.charToGlyphIndex(B))}var Z=C.length;if(S.features){var b=S.script||this.substitution.getDefaultScriptName(),le=[];S.features.liga&&(le=le.concat(this.substitution.getFeature("liga",b,S.language))),S.features.rlig&&(le=le.concat(this.substitution.getFeature("rlig",b,S.language)));for(var ye=0;ye<Z;ye+=1)for(var ge=0;ge<le.length;ge++){for(var Re=le[ge],Ue=Re.sub,Ie=Ue.length,Ee=0;Ee<Ie&&Ue[Ee]===C[ye+Ee];)Ee++;Ee===Ie&&(C.splice(ye,Ie,Re.by),Z=Z-Ie+1)}}for(var $e=new Array(Z),He=this.glyphs.get(0),qe=0;qe<Z;qe+=1)$e[qe]=this.glyphs.get(C[qe])||He;return $e},Gt.prototype.nameToGlyphIndex=function(b){return this.glyphNames.nameToGlyphIndex(b)},Gt.prototype.nameToGlyph=function(b){return b=this.nameToGlyphIndex(b),this.glyphs.get(b)||this.glyphs.get(0)},Gt.prototype.glyphIndexToName=function(b){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(b):""},Gt.prototype.getKerningValue=function(b,S){b=b.index||b,S=S.index||S;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,b,S):this.kerningPairs[b+","+S]||0},Gt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Gt.prototype.forEachGlyph=function(b,S,A,C,D,B){S=S!==void 0?S:0,A=A!==void 0?A:0,D=D||this.defaultRenderOptions;var Z,le=1/this.unitsPerEm*(C=C!==void 0?C:72),ye=this.stringToGlyphs(b,D);D.kerning&&(b=D.script||this.position.getDefaultScriptName(),Z=this.position.getKerningTables(b,D.language));for(var ge=0;ge<ye.length;ge+=1){var Re=ye[ge];B.call(this,Re,S,A,C,D),Re.advanceWidth&&(S+=Re.advanceWidth*le),D.kerning&&ge<ye.length-1&&(S+=(Z?this.position.getKerningValue(Z,Re.index,ye[ge+1].index):this.getKerningValue(Re,ye[ge+1]))*le),D.letterSpacing?S+=D.letterSpacing*C:D.tracking&&(S+=D.tracking/1e3*C)}return S},Gt.prototype.getPath=function(b,S,A,C,D){var B=new $;return this.forEachGlyph(b,S,A,C,D,function(Z,le,ye,ge){Z=Z.getPath(le,ye,ge,D,this),B.extend(Z)}),B},Gt.prototype.getPaths=function(b,S,A,C,D){var B=[];return this.forEachGlyph(b,S,A,C,D,function(Z,le,ye,ge){Z=Z.getPath(le,ye,ge,D,this),B.push(Z)}),B},Gt.prototype.getAdvanceWidth=function(b,S,A){return this.forEachGlyph(b,0,0,S,A,function(){})},Gt.prototype.draw=function(b,S,A,C,D,B){this.getPath(S,A,C,D,B).draw(b)},Gt.prototype.drawPoints=function(b,S,A,C,D,B){this.forEachGlyph(S,A,C,D,B,function(Z,le,ye,ge){Z.drawPoints(b,le,ye,ge)})},Gt.prototype.drawMetrics=function(b,S,A,C,D,B){this.forEachGlyph(S,A,C,D,B,function(Z,le,ye,ge){Z.drawMetrics(b,le,ye,ge)})},Gt.prototype.getEnglishName=function(b){if(b=this.names[b],b)return b.en},Gt.prototype.validate=function(){var b=this;function S(A){A=b.getEnglishName(A),A&&A.trim().length}S("fontFamily"),S("weightName"),S("manufacturer"),S("copyright"),S("version"),this.unitsPerEm},Gt.prototype.toTables=function(){return Fv.fontToTable(this)},Gt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Gt.prototype.toArrayBuffer=function(){for(var b=this.toTables().encode(),S=new ArrayBuffer(b.length),A=new Uint8Array(S),C=0;C<b.length;C++)A[C]=b[C];return S},Gt.prototype.download=function(b){var S=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),C=(b=b||S.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,C.byteLength,function(D){D.root.getFile(b,{create:!0},function(B){B.createWriter(function(Z){var le=new DataView(C),le=new Blob([le],{type:"font/opentype"});Z.write(le),Z.addEventListener("writeend",function(){location.href=B.toURL()},!1)})})},function(D){throw new Error(D.name+": "+D.message)})):(S=t("fs"),A=function(D){for(var B=new s(D.byteLength),Z=new Uint8Array(D),le=0;le<B.length;++le)B[le]=Z[le];return B}(C),S.writeFileSync(b,A))},Gt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Gt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Gt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Jv={make:function(b,S){var A=new J.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:b.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:b.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*b.axes.length}]);A.offsetToData=A.sizeOf();for(var C,D,B,Z=0;Z<b.axes.length;Z++)A.fields=A.fields.concat((C=Z,D=b.axes[Z],B=S,B=Df(D.name,S),[{name:"tag_"+C,type:"TAG",value:D.tag},{name:"minValue_"+C,type:"FIXED",value:D.minValue<<16},{name:"defaultValue_"+C,type:"FIXED",value:D.defaultValue<<16},{name:"maxValue_"+C,type:"FIXED",value:D.maxValue<<16},{name:"flags_"+C,type:"USHORT",value:0},{name:"nameID_"+C,type:"USHORT",value:B}]));for(var le=0;le<b.instances.length;le++)A.fields=A.fields.concat(function(ye,ge,Re,Ue){for(var Ie=[{name:"nameID_"+ye,type:"USHORT",value:Df(ge.name,Ue)},{name:"flags_"+ye,type:"USHORT",value:0}],Ee=0;Ee<Re.length;++Ee){var $e=Re[Ee].tag;Ie.push({name:"axis_"+ye+" "+$e,type:"FIXED",value:ge.coordinates[$e]<<16})}return Ie}(le,b.instances[le],b.axes,S));return A},parse:function(b,S,A){for(var C,D,B,Z,le=new me.Parser(b,S),ye=le.parseULong(),ge=(I.argument(ye===65536,"Unsupported fvar table version."),le.parseOffset16()),Re=(le.skip("uShort",1),le.parseUShort()),Ue=le.parseUShort(),Ie=le.parseUShort(),Ee=le.parseUShort(),$e=[],He=0;He<Re;He++)$e.push((C=b,D=S+ge+He*Ue,B=A,Z={},C=new me.Parser(C,D),Z.tag=C.parseTag(),Z.minValue=C.parseFixed(),Z.defaultValue=C.parseFixed(),Z.maxValue=C.parseFixed(),C.skip("uShort",1),Z.name=B[C.parseUShort()]||{},Z));for(var qe=[],Fe=S+ge+Re*Ue,Be=0;Be<Ie;Be++)qe.push(function(dt,vt,ft,pt){var At={},Xt=new me.Parser(dt,vt);At.name=pt[Xt.parseUShort()]||{},Xt.skip("uShort",1),At.coordinates={};for(var ur=0;ur<ft.length;++ur)At.coordinates[ft[ur].tag]=Xt.parseFixed();return At}(b,Fe+Be*Ee,$e,A));return{axes:$e,instances:qe}}},Cn=new Array(10);Cn[1]=function(){var b=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{posFormat:1,coverage:this.parsePointer(we.coverage),value:this.parseValueRecord()}:S===2?{posFormat:2,coverage:this.parsePointer(we.coverage),values:this.parseValueRecordList()}:void I.assert(!1,"0x"+b.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Cn[2]=function(){var b,S,A,C,B=this.offset+this.relativeOffset,D=this.parseUShort(),B=(I.assert(D===1||D===2,"0x"+B.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(we.coverage)),Z=this.parseUShort(),le=this.parseUShort();return D===1?{posFormat:D,coverage:B,valueFormat1:Z,valueFormat2:le,pairSets:this.parseList(we.pointer(we.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Z),value2:this.parseValueRecord(le)}})))}:D===2?(b=this.parsePointer(we.classDef),S=this.parsePointer(we.classDef),A=this.parseUShort(),C=this.parseUShort(),{posFormat:D,coverage:B,valueFormat1:Z,valueFormat2:le,classDef1:b,classDef2:S,class1Count:A,class2Count:C,classRecords:this.parseList(A,we.list(C,function(){return{value1:this.parseValueRecord(Z),value2:this.parseValueRecord(le)}}))}):void 0},Cn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Cn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Cn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Cn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Cn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Cn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Cn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var $v=new Array(10),Qv={parse:function(b,S){return S=(b=new we(b,S=S||0)).parseVersion(1),I.argument(S===1||S===1.1,"Unsupported GPOS table version "+S),S===1?{version:S,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Cn)}:{version:S,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Cn),variations:b.parseFeatureVariationsList()}},make:function(b){return new J.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new J.ScriptList(b.scripts)},{name:"features",type:"TABLE",value:new J.FeatureList(b.features)},{name:"lookups",type:"TABLE",value:new J.LookupList(b.lookups,$v)}])}},e_={parse:function(b,S){if(b=new me.Parser(b,S),(S=b.parseUShort())===0){var A=b,C={},Ue=(A.skip("uShort"),A.parseUShort()),D=(I.argument(Ue===0,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var B=0;B<D;B+=1){var Z=A.parseUShort(),le=A.parseUShort(),ye=A.parseShort();C[Z+","+le]=ye}return C}if(S!==1)throw new Error("Unsupported kern table version ("+S+").");var ge=b,Re={},Ue=(ge.skip("uShort"),1<ge.parseULong()&&console.warn("Only the first kern subtable is supported."),ge.skip("uLong"),255&ge.parseUShort());if(ge.skip("uShort"),Ue==0){var Ie=ge.parseUShort();ge.skip("uShort",3);for(var Ee=0;Ee<Ie;Ee+=1){var $e=ge.parseUShort(),He=ge.parseUShort(),qe=ge.parseShort();Re[$e+","+He]=qe}}return Re}},t_={parse:function(b,S,A,C){for(var D=new me.Parser(b,S),B=C?D.parseUShort:D.parseULong,Z=[],le=0;le<A+1;le+=1){var ye=B.call(D);C&&(ye*=2),Z.push(ye)}return Z}};function r_(b,S){t("fs").readFile(b,function(A,C){if(A)return S(A.message);S(null,uf(C))})}function n_(b,S){var A=new XMLHttpRequest;A.open("get",b,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?S(null,A.response):S("Font could not be loaded: "+A.statusText)},A.onerror=function(){S("Font could not be loaded")},A.send()}function Of(b,S){for(var A=[],C=12,D=0;D<S;D+=1){var B=me.getTag(b,C),Z=me.getULong(b,C+4),le=me.getULong(b,C+8),ye=me.getULong(b,C+12);A.push({tag:B,checksum:Z,offset:le,length:ye,compression:!1}),C+=16}return A}function mr(A,S){if(S.compression!=="WOFF")return{data:A,offset:S.offset};var A=new Uint8Array(A.buffer,S.offset+2,S.compressedLength-2),C=new Uint8Array(S.length);if(H(A,C),C.byteLength!==S.length)throw new Error("Decompression error: "+S.tag+" decompressed length doesn't match recorded length");return{data:new DataView(C.buffer,0),offset:0}}function $u(Be){var S,A,C,D,B,Z,le,ye,ge,Re,Ue,Ie,Ee,$e,He=new Gt({empty:!0}),qe=new DataView(Be,0),Fe=[],Be=me.getTag(qe,0);if(Be==="\0\0\0"||Be==="true"||Be==="typ1")He.outlinesFormat="truetype",Fe=Of(qe,C=me.getUShort(qe,4));else if(Be==="OTTO")He.outlinesFormat="cff",Fe=Of(qe,C=me.getUShort(qe,4));else{if(Be!=="wOFF")throw new Error("Unsupported OpenType signature "+Be);var dt=me.getTag(qe,4);if(dt==="\0\0\0")He.outlinesFormat="truetype";else{if(dt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Be);He.outlinesFormat="cff"}Fe=function($t,Nt){for(var Nr=[],sr=44,Pr=0;Pr<Nt;Pr+=1){var Qt=me.getTag($t,sr),Sr=me.getULong($t,sr+4),Qo=me.getULong($t,sr+8),Ws=me.getULong($t,sr+12),If=void 0,If=Qo<Ws&&"WOFF";Nr.push({tag:Qt,offset:Sr,compression:If,compressedLength:Qo,length:Ws}),sr+=20}return Nr}(qe,C=me.getUShort(qe,12))}for(var vt=0;vt<C;vt+=1){var ft=Fe[vt],pt=void 0;switch(ft.tag){case"cmap":pt=mr(qe,ft),He.tables.cmap=Q.parse(pt.data,pt.offset),He.encoding=new Ne(He.tables.cmap);break;case"cvt ":pt=mr(qe,ft),$e=new me.Parser(pt.data,pt.offset),He.tables.cvt=$e.parseShortList(ft.length/2);break;case"fvar":B=ft;break;case"fpgm":pt=mr(qe,ft),$e=new me.Parser(pt.data,pt.offset),He.tables.fpgm=$e.parseByteList(ft.length);break;case"head":pt=mr(qe,ft),He.tables.head=xt.parse(pt.data,pt.offset),He.unitsPerEm=He.tables.head.unitsPerEm,S=He.tables.head.indexToLocFormat;break;case"hhea":pt=mr(qe,ft),He.tables.hhea=_e.parse(pt.data,pt.offset),He.ascender=He.tables.hhea.ascender,He.descender=He.tables.hhea.descender,He.numberOfHMetrics=He.tables.hhea.numberOfHMetrics;break;case"hmtx":ge=ft;break;case"ltag":pt=mr(qe,ft),A=Qe.parse(pt.data,pt.offset);break;case"maxp":pt=mr(qe,ft),He.tables.maxp=We.parse(pt.data,pt.offset),He.numGlyphs=He.tables.maxp.numGlyphs;break;case"name":Ie=ft;break;case"OS/2":pt=mr(qe,ft),He.tables.os2=qt.parse(pt.data,pt.offset);break;case"post":pt=mr(qe,ft),He.tables.post=zs.parse(pt.data,pt.offset),He.glyphNames=new be(He.tables.post);break;case"prep":pt=mr(qe,ft),$e=new me.Parser(pt.data,pt.offset),He.tables.prep=$e.parseByteList(ft.length);break;case"glyf":Z=ft;break;case"loca":Ue=ft;break;case"CFF ":D=ft;break;case"kern":Re=ft;break;case"GPOS":le=ft;break;case"GSUB":ye=ft;break;case"meta":Ee=ft}}if(dt=mr(qe,Ie),He.tables.name=Cr.parse(dt.data,dt.offset,A),He.names=He.tables.name,Z&&Ue)Be=S===0,dt=mr(qe,Ue),dt=t_.parse(dt.data,dt.offset,He.numGlyphs,Be),Be=mr(qe,Z),He.glyphs=hf.parse(Be.data,Be.offset,dt,He);else{if(!D)throw new Error("Font doesn't contain TrueType or CFF outlines.");Be=mr(qe,D),gt.parse(Be.data,Be.offset,He)}for(var dt=mr(qe,ge),At=(Xe.parse(dt.data,dt.offset,He.numberOfHMetrics,He.numGlyphs,He.glyphs),He),Xt=At.tables.cmap.glyphIndexMap,ur=Object.keys(Xt),gr=0;gr<ur.length;gr+=1){var Ir,kr=ur[gr],Pn=Xt[kr];(Ir=At.glyphs.get(Pn)).addUnicode(parseInt(kr))}for(var Vt=0;Vt<At.glyphs.length;Vt+=1)Ir=At.glyphs.get(Vt),At.cffEncoding?At.isCIDFont?Ir.name="gid"+Vt:Ir.name=At.cffEncoding.charset[Vt]:At.glyphNames.names&&(Ir.name=At.glyphNames.glyphIndexToName(Vt));return Re?(Be=mr(qe,Re),He.kerningPairs=e_.parse(Be.data,Be.offset)):He.kerningPairs={},le&&(dt=mr(qe,le),He.tables.gpos=Qv.parse(dt.data,dt.offset),He.position.init()),ye&&(Be=mr(qe,ye),He.tables.gsub=Zo.parse(Be.data,Be.offset)),B&&(dt=mr(qe,B),He.tables.fvar=Jv.parse(dt.data,dt.offset,He.names)),Ee&&(Be=mr(qe,Ee),He.tables.meta=ef.parse(Be.data,Be.offset),He.metas=He.tables.meta),He}u.Font=Gt,u.Glyph=ze,u.Path=$,u.BoundingBox=W,u._parse=me,u.parse=$u,u.load=function(b,S){(typeof window>"u"?r_:n_)(b,function(A,C){if(A)return S(A);var D;try{D=$u(C)}catch(B){return S(B,null)}return S(null,D)})},u.loadSync=function(b){return $u(uf(t("fs").readFileSync(b)))},Object.defineProperty(u,"__esModule",{value:!0})},i(typeof l=="object"&&o!==void 0?l:n.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],242:[function(t,o,l){(function(s){function n(f,m){for(var a=0,c=f.length-1;0<=c;c--){var d=f[c];d==="."?f.splice(c,1):d===".."?(f.splice(c,1),a++):a&&(f.splice(c,1),a--)}if(m)for(;a--;)f.unshift("..");return f}function i(f,m){if(f.filter)return f.filter(m);for(var a=[],c=0;c<f.length;c++)m(f[c],c,f)&&a.push(f[c]);return a}l.resolve=function(){for(var f="",m=!1,a=arguments.length-1;-1<=a&&!m;a--){var c=0<=a?arguments[a]:s.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");c&&(f=c+"/"+f,m=c.charAt(0)==="/")}return(m?"/":"")+(f=n(i(f.split("/"),function(d){return!!d}),!m).join("/"))||"."},l.normalize=function(f){var m=l.isAbsolute(f),a=u(f,-1)==="/";return(f=(f=n(i(f.split("/"),function(c){return!!c}),!m).join("/"))||m?f:".")&&a&&(f+="/"),(m?"/":"")+f},l.isAbsolute=function(f){return f.charAt(0)==="/"},l.join=function(){var f=Array.prototype.slice.call(arguments,0);return l.normalize(i(f,function(m,a){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},l.relative=function(f,m){function a(_){for(var x=0;x<_.length&&_[x]==="";x++);for(var w=_.length-1;0<=w&&_[w]==="";w--);return w<x?[]:_.slice(x,w-x+1)}f=l.resolve(f).substr(1),m=l.resolve(m).substr(1);for(var c=a(f.split("/")),d=a(m.split("/")),p=Math.min(c.length,d.length),g=p,y=0;y<p;y++)if(c[y]!==d[y]){g=y;break}for(var v=[],y=g;y<c.length;y++)v.push("..");return(v=v.concat(d.slice(g))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(f){if(typeof f!="string"&&(f+=""),f.length===0)return".";for(var m=f.charCodeAt(0)===47,a=-1,c=!0,d=f.length-1;1<=d;--d)if(f.charCodeAt(d)===47){if(!c){a=d;break}}else c=!1;return a===-1?m?"/":".":m&&a===1?"/":f.slice(0,a)},l.basename=function(f,m){return f=function(a){typeof a!="string"&&(a+="");for(var c=0,d=-1,p=!0,g=a.length-1;0<=g;--g)if(a.charCodeAt(g)===47){if(!p){c=g+1;break}}else d===-1&&(p=!1,d=g+1);return d===-1?"":a.slice(c,d)}(f),f=m&&f.substr(-1*m.length)===m?f.substr(0,f.length-m.length):f},l.extname=function(f){typeof f!="string"&&(f+="");for(var m=-1,a=0,c=-1,d=!0,p=0,g=f.length-1;0<=g;--g){var y=f.charCodeAt(g);if(y===47){if(d)continue;a=g+1;break}c===-1&&(d=!1,c=g+1),y===46?m===-1?m=g:p!==1&&(p=1):m!==-1&&(p=-1)}return m===-1||c===-1||p===0||p===1&&m===c-1&&m===a+1?"":f.slice(m,c)};var u="ab".substr(-1)==="b"?function(f,m,a){return f.substr(m,a)}:function(f,m,a){return m<0&&(m=f.length+m),f.substr(m,a)}}).call(this,t("_process"))},{_process:243}],243:[function(t,i,l){var s,n,i=i.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}try{s=typeof setTimeout=="function"?setTimeout:u}catch{s=u}try{n=typeof clearTimeout=="function"?clearTimeout:f}catch{n=f}function m(x){if(s===setTimeout)return setTimeout(x,0);if((s===u||!s)&&setTimeout)return(s=setTimeout)(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}var a,c=[],d=!1,p=-1;function g(){d&&a&&(d=!1,a.length?c=a.concat(c):p=-1,c.length&&y())}function y(){if(!d){for(var x=m(g),w=(d=!0,c.length);w;){for(a=c,c=[];++p<w;)a&&a[p].run();p=-1,w=c.length}a=null,d=!1,function(E){if(n===clearTimeout)return clearTimeout(E);if((n===f||!n)&&clearTimeout)return(n=clearTimeout)(E);try{n(E)}catch{try{return n.call(null,E)}catch{return n.call(this,E)}}}(x)}}function v(x,w){this.fun=x,this.array=w}function _(){}i.nextTick=function(x){var w=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)w[E-1]=arguments[E];c.push(new v(x,w)),c.length!==1||d||m(y)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(x){return[]},i.binding=function(x){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(x){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],244:[function(t,o,l){o=function(s){var n,i=Object.prototype,u=i.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},f=T.iterator||"@@iterator",m=T.asyncIterator||"@@asyncIterator",a=T.toStringTag||"@@toStringTag";function c(q,U,z,G){var $,se,R,I,U=U&&U.prototype instanceof x?U:x,U=Object.create(U.prototype),G=new k(G||[]);return U._invoke=($=q,se=z,R=G,I=p,function(ee,ue){if(I===y)throw new Error("Generator is already running");if(I===v){if(ee==="throw")throw ue;return Y()}for(R.method=ee,R.arg=ue;;){var fe=R.delegate;if(fe&&(fe=function pe(ce,ie){var V=ce.iterator[ie.method];if(V===n){if(ie.delegate=null,ie.method==="throw"){if(ce.iterator.return&&(ie.method="return",ie.arg=n,pe(ce,ie),ie.method==="throw"))return _;ie.method="throw",ie.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}if(V=d(V,ce.iterator,ie.arg),V.type==="throw")return ie.method="throw",ie.arg=V.arg,ie.delegate=null,_;if(V=V.arg,!V)return ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,_;{if(!V.done)return V;ie[ce.resultName]=V.value,ie.next=ce.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=n)}return ie.delegate=null,_}(fe,R),fe)){if(fe===_)continue;return fe}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(I===p)throw I=v,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);if(I=y,fe=d($,se,R),fe.type==="normal"){if(I=R.done?v:g,fe.arg!==_)return{value:fe.arg,done:R.done}}else fe.type==="throw"&&(I=v,R.method="throw",R.arg=fe.arg)}}),U}function d(q,H,z){try{return{type:"normal",arg:q.call(H,z)}}catch(W){return{type:"throw",arg:W}}}s.wrap=c;var p="suspendedStart",g="suspendedYield",y="executing",v="completed",_={};function x(){}function w(){}function E(){}var T={},M=(T[f]=function(){return this},Object.getPrototypeOf),M=M&&M(M(X([]))),j=(M&&M!==i&&u.call(M,f)&&(T=M),E.prototype=x.prototype=Object.create(T));function P(q){["next","throw","return"].forEach(function(H){q[H]=function(z){return this._invoke(H,z)}})}function L(q){var H;this._invoke=function(z,W){function $(){return new Promise(function(se,R){(function I(pe,G,ee,ue){var fe,pe=d(q[pe],q,G);if(pe.type!=="throw")return(G=(fe=pe.arg).value)&&typeof G=="object"&&u.call(G,"__await")?Promise.resolve(G.__await).then(function(ce){I("next",ce,ee,ue)},function(ce){I("throw",ce,ee,ue)}):Promise.resolve(G).then(function(ce){fe.value=ce,ee(fe)},function(ce){return I("throw",ce,ee,ue)});ue(pe.arg)})(z,W,se,R)})}return H=H?H.then($,$):$()}}function N(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function O(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function k(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(N,this),this.reset(!0)}function X(q){if(q){var H,z=q[f];if(z)return z.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return H=-1,(z=function W(){for(;++H<q.length;)if(u.call(q,H))return W.value=q[H],W.done=!1,W;return W.value=n,W.done=!0,W}).next=z}return{next:Y}}function Y(){return{value:n,done:!0}}return(w.prototype=j.constructor=E).constructor=w,E[a]=w.displayName="GeneratorFunction",s.isGeneratorFunction=function(q){return q=typeof q=="function"&&q.constructor,!!q&&(q===w||(q.displayName||q.name)==="GeneratorFunction")},s.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,E):(q.__proto__=E,a in q||(q[a]="GeneratorFunction")),q.prototype=Object.create(j),q},s.awrap=function(q){return{__await:q}},P(L.prototype),L.prototype[m]=function(){return this},s.AsyncIterator=L,s.async=function(q,H,z,W){var $=new L(c(q,H,z,W));return s.isGeneratorFunction(H)?$:$.next().then(function(se){return se.done?se.value:$.next()})},P(j),j[a]="Generator",j[f]=function(){return this},j.toString=function(){return"[object Generator]"},s.keys=function(q){var H,z=[];for(H in q)z.push(H);return z.reverse(),function W(){for(;z.length;){var $=z.pop();if($ in q)return W.value=$,W.done=!1,W}return W.done=!0,W}},s.values=X,k.prototype={constructor:k,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!q)for(var H in this)H.charAt(0)==="t"&&u.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=n)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var H=this;function z(U,G){return se.type="throw",se.arg=q,H.next=U,G&&(H.method="next",H.arg=n),!!G}for(var W=this.tryEntries.length-1;0<=W;--W){var $=this.tryEntries[W],se=$.completion;if($.tryLoc==="root")return z("end");if($.tryLoc<=this.prev){var R=u.call($,"catchLoc"),I=u.call($,"finallyLoc");if(R&&I){if(this.prev<$.catchLoc)return z($.catchLoc,!0);if(this.prev<$.finallyLoc)return z($.finallyLoc)}else if(R){if(this.prev<$.catchLoc)return z($.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return z($.finallyLoc)}}}},abrupt:function(q,H){for(var z=this.tryEntries.length-1;0<=z;--z){var W=this.tryEntries[z];if(W.tryLoc<=this.prev&&u.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var $=W;break}}var se=($=$&&(q==="break"||q==="continue")&&$.tryLoc<=H&&H<=$.finallyLoc?null:$)?$.completion:{};return se.type=q,se.arg=H,$?(this.method="next",this.next=$.finallyLoc,_):this.complete(se)},complete:function(q,H){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&H&&(this.next=H),_},finish:function(q){for(var H=this.tryEntries.length-1;0<=H;--H){var z=this.tryEntries[H];if(z.finallyLoc===q)return this.complete(z.completion,z.afterLoc),O(z),_}},catch:function(q){for(var H=this.tryEntries.length-1;0<=H;--H){var z,W,$=this.tryEntries[H];if($.tryLoc===q)return(z=$.completion).type==="throw"&&(W=z.arg,O($)),W}throw new Error("illegal catch attempt")},delegateYield:function(q,H,z){return this.delegate={iterator:X(q),resultName:H,nextLoc:z},this.method==="next"&&(this.arg=n),_}},s}(typeof o=="object"?o.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],245:[function(t,o,l){(function(s){var n,i,u,f,m,a,c,d,p,g;function y(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function v(O){return O=typeof O!="string"?String(O):O}function _(O){var k={next:function(){var X=O.shift();return{done:X===void 0,value:X}}};return i&&(k[Symbol.iterator]=function(){return k}),k}function x(O){this.map={},O instanceof x?O.forEach(function(k,X){this.append(X,k)},this):Array.isArray(O)?O.forEach(function(k){this.append(k[0],k[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(k){this.append(k,O[k])},this)}function w(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function E(O){return new Promise(function(k,X){O.onload=function(){k(O.result)},O.onerror=function(){X(O.error)}})}function T(O){var k=new FileReader,X=E(k);return k.readAsArrayBuffer(O),X}function M(O){var k;return O.slice?O.slice(0):((k=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),k.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(u&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(f&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(n&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(m&&u&&c(O))this._bodyArrayBuffer=M(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(O)&&!d(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var O=w(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var O,k,X=w(this);if(X)return X;if(this._bodyBlob)return X=this._bodyBlob,O=new FileReader,k=E(O),O.readAsText(X),k;if(this._bodyArrayBuffer)return Promise.resolve(function(Y){for(var q=new Uint8Array(Y),H=new Array(q.length),z=0;z<q.length;z++)H[z]=String.fromCharCode(q[z]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(O,k){var X,Y=(k=k||{}).body;if(O instanceof P){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,k.headers||(this.headers=new x(O.headers)),this.method=O.method,this.mode=O.mode,Y||O._bodyInit==null||(Y=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=k.credentials||this.credentials||"omit",!k.headers&&this.headers||(this.headers=new x(k.headers)),this.method=(O=k.method||this.method||"GET",X=O.toUpperCase(),-1<p.indexOf(X)?X:O),this.mode=k.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}function L(O){var k=new FormData;return O.trim().split("&").forEach(function(X){var Y;X&&(Y=(X=X.split("=")).shift().replace(/\+/g," "),X=X.join("=").replace(/\+/g," "),k.append(decodeURIComponent(Y),decodeURIComponent(X)))}),k}function N(O,k){k=k||{},this.type="default",this.status=k.status===void 0?200:k.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in k?k.statusText:"OK",this.headers=new x(k.headers),this.url=k.url||"",this._initBody(O)}s.fetch||(n="URLSearchParams"in s,i="Symbol"in s&&"iterator"in Symbol,u="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),f="FormData"in s,(m="ArrayBuffer"in s)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=function(O){return O&&DataView.prototype.isPrototypeOf(O)},d=ArrayBuffer.isView||function(O){return O&&-1<a.indexOf(Object.prototype.toString.call(O))}),x.prototype.append=function(O,k){O=y(O),k=v(k);var X=this.map[O];this.map[O]=X?X+","+k:k},x.prototype.delete=function(O){delete this.map[y(O)]},x.prototype.get=function(O){return O=y(O),this.has(O)?this.map[O]:null},x.prototype.has=function(O){return this.map.hasOwnProperty(y(O))},x.prototype.set=function(O,k){this.map[y(O)]=v(k)},x.prototype.forEach=function(O,k){for(var X in this.map)this.map.hasOwnProperty(X)&&O.call(k,this.map[X],X,this)},x.prototype.keys=function(){var O=[];return this.forEach(function(k,X){O.push(X)}),_(O)},x.prototype.values=function(){var O=[];return this.forEach(function(k){O.push(k)}),_(O)},x.prototype.entries=function(){var O=[];return this.forEach(function(k,X){O.push([X,k])}),_(O)},i&&(x.prototype[Symbol.iterator]=x.prototype.entries),p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},j.call(P.prototype),j.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},N.error=function(){var O=new N(null,{status:0,statusText:""});return O.type="error",O},g=[301,302,303,307,308],N.redirect=function(O,k){if(g.indexOf(k)===-1)throw new RangeError("Invalid status code");return new N(null,{status:k,headers:{location:O}})},s.Headers=x,s.Request=P,s.Response=N,s.fetch=function(O,k){return new Promise(function(X,Y){var q=new P(O,k),H=new XMLHttpRequest;H.onload=function(){var z,W={status:H.status,statusText:H.statusText,headers:(W=H.getAllResponseHeaders()||"",z=new x,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(R){var R=R.split(":"),I=R.shift().trim();I&&(R=R.join(":").trim(),z.append(I,R))}),z)},$=(W.url="responseURL"in H?H.responseURL:W.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);X(new N($,W))},H.onerror=function(){Y(new TypeError("Network request failed"))},H.ontimeout=function(){Y(new TypeError("Network request failed"))},H.open(q.method,q.url,!0),q.credentials==="include"?H.withCredentials=!0:q.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&u&&(H.responseType="blob"),q.headers.forEach(function(z,W){H.setRequestHeader(W,z)}),H.send(q._bodyInit===void 0?null:q._bodyInit)})},s.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(t,o,l){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s,n=u(t("../core/main")),i=u(t("../color/color_conversion"));function u(a){return a&&a.__esModule?a:{default:a}}var f=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];n.default.prototype._rgbColorName=function(p){var c,d,p=i.default._rgbaToHSBA(p),g=[(s=p)[0],p[1],p[2]];g[0]!==0&&(g[0]=Math.round(100*g[0]),(p=g[0].toString().split(""))[d=p.length-1]=parseInt(p[d]),p[d]<2.5?p[d]=0:2.5<=p[d]&&p[d]<7.5&&(p[d]=5),p.length===2?(p[0]=parseInt(p[0]),7.5<=p[d]&&(p[d]=0,p[0]=p[0]+1),g[0]=10*p[0]+p[1]):7.5<=p[d]?g[0]=10:g[0]=p[d]),g[2]=g[2]/255;for(var y=g.length-1;1<=y;y--)g[y]<=.25?g[y]=0:.25<g[y]&&g[y]<.75?g[y]=.5:g[y]=1;if(g[0]===0&&g[1]===0&&g[2]===1){for(var v=2;0<=v;v--)s[v]=Math.round(1e4*s[v])/1e4;for(var _=0;_<f.length;_++){if(f[_].h===s[0]&&f[_].s===s[1]&&f[_].b===s[2]){c=f[_].name;break}c="white"}}else for(var x=0;x<m.length;x++)if(m[x].h===g[0]&&m[x].s===g[1]&&m[x].b===g[2]){c=m[x].name;break}return c},t=n.default,l.default=t},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t},n="_Description",i="_fallbackDesc",u="_fallbackTable",f="_Label",m="_labelDesc",a="_labelTable";function c(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}s.default.prototype.describe=function(d,p){var g;s.default._validateParameters("describe",arguments),typeof d=="string"&&(g=this.canvas.id,d=c(d),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},s.default.prototype.describeElement=function(d,p,g){var y,v;s.default._validateParameters("describeElement",arguments),typeof p=="string"&&typeof d=="string"&&(y=this.canvas.id,p=c(p),v=function(_){if(_==="label"||_==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return _.endsWith(".")||_.endsWith(";")||_.endsWith(",")?_=_.replace(/.$/,":"):_.endsWith(":")||(_+=":"),_}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(p,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==v&&(this.descriptions.fallbackElements[d].innerHTML=v):this._describeElementHTML("fallback",d,v),g===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==v&&(this.descriptions.labelElements[d].innerHTML=v):this._describeElementHTML("label",d,v)))},s.default.prototype._describeHTML=function(d,p){var g,y=this.canvas.id;d==="fallback"?(this.dummyDOM.querySelector("#".concat(y+n))?this.dummyDOM.querySelector("#"+y+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(y+i,'"></p>')):(g='<div id="'.concat(y).concat(n,'" role="region" aria-label="Canvas Description"><p id="').concat(y).concat(i,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#".concat(y)).innerHTML=g),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(y).concat(i)),this.descriptions.fallback.innerHTML=p):d==="label"&&(this.dummyDOM.querySelector("#".concat(y+f))?this.dummyDOM.querySelector("#".concat(y+a))&&this.dummyDOM.querySelector("#".concat(y+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(y).concat(m,'"></p>')):(g='<div id="'.concat(y).concat(f,'" class="p5Label"><p id="').concat(y).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",g)),this.descriptions.label=this.dummyDOM.querySelector("#"+y+m),this.descriptions.label.innerHTML=p)},s.default.prototype._describeElementHTML=function(d,p,g){var y,v=this.canvas.id;d==="fallback"?(this.dummyDOM.querySelector("#".concat(v+n))?this.dummyDOM.querySelector("#"+v+u)||this.dummyDOM.querySelector("#"+v+i).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(y='<div id="'.concat(v).concat(n,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).innerHTML=y),(y=document.createElement("tr")).id=v+"_fte_"+p,this.dummyDOM.querySelector("#"+v+u).appendChild(y),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(p)),this.descriptions.fallbackElements[p].innerHTML=g):d==="label"&&(this.dummyDOM.querySelector("#".concat(v+f))?this.dummyDOM.querySelector("#".concat(v+a))||this.dummyDOM.querySelector("#"+v+m).insertAdjacentHTML("afterend",'<table id="'.concat(v+a,'"></table>')):(y='<div id="'.concat(v).concat(f,'" class="p5Label"><table id="').concat(v).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",y)),(d=document.createElement("tr")).id=v+"_lte_"+p,this.dummyDOM.querySelector("#"+v+a).appendChild(d),this.descriptions.labelElements[p]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(p)),this.descriptions.labelElements[p].innerHTML=g)},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(s){var n,i,u,f;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(n=this._accessibleOutputs[s],u=function(m,a,c,d){return a="".concat(a," canvas, ").concat(c," by ").concat(d," pixels, contains ").concat(m[0]),a=(m[0]===1?"".concat(a," shape: "):"".concat(a," shapes: ")).concat(m[1]),a}((i=function(m,a){var c,d="",p="",g=0;for(c in a){var y,v=0;for(y in a[c]){var _='<li id="'.concat(m,"shape").concat(g,'">').concat(a[c][y].color," ").concat(c,",");c==="line"?_+=" location = ".concat(a[c][y].pos,", length = ").concat(a[c][y].length," pixels"):(_+=" location = ".concat(a[c][y].pos),c!=="point"&&(_+=", area = ".concat(a[c][y].area," %")),_+="</li>"),d+=_,v++,g++}p=1<v?"".concat(p," ").concat(v," ").concat(c,"s"):"".concat(p," ").concat(v," ").concat(c)}return{numShapes:[g,p],details:d}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),f=function(m,a){var c,d,p,g=0,y="",v=Array.apply(null,Array(10)).map(function(){});for(c in v)v[c]=Array.apply(null,Array(10)).map(function(){});for(d in a)for(var _ in a[d]){var x=void 0;x=d!=="line"?'<a href="#'.concat(m,"shape").concat(g,'">').concat(a[d][_].color," ").concat(d,"</a>"):'<a href="#'.concat(m,"shape").concat(g,'">').concat(a[d][_].color," ").concat(d," midpoint</a>"),v[a[d][_].loc.locY][a[d][_].loc.locX]?v[a[d][_].loc.locY][a[d][_].loc.locX]=v[a[d][_].loc.locY][a[d][_].loc.locX]+"  "+x:v[a[d][_].loc.locY][a[d][_].loc.locX]=x,g++}for(p in v){var w,E="<tr>";for(w in v[p])E+="<td>",v[p][w]!==void 0&&(E+=v[p][w]),E+="</td>";y=y+E+"</tr>"}return y}(s,this.ingredients.shapes),u!==n.summary.innerHTML&&(n.summary.innerHTML=u),f!==n.map.innerHTML&&(n.map.innerHTML=f),i.details!==n.shapeDetails.innerHTML&&(n.shapeDetails.innerHTML=i.details),this._accessibleOutputs[s]=n)},t=t.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(u,f,m){return u[0]<.4*f?u[1]<.4*m?"top left":u[1]>.6*m?"bottom left":"mid left":u[0]>.6*f?u[1]<.4*m?"top right":u[1]>.6*m?"bottom right":"mid right":u[1]<.4*m?"top middle":u[1]>.6*m?"bottom middle":"middle"}function i(u,f,m){return f=Math.floor(u[0]/f*10),u=Math.floor(u[1]/m*10),f===10&&(f-=1),u===10&&(u-=1),{locX:f,locY:u}}s.default.prototype.textOutput=function(u){s.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},s.default.prototype.gridOutput=function(u){s.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},s.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},s.default.prototype._createOutput=function(u,f){var m,a,c,d=this.canvas.id,p=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");f==="Fallback"?(m=d+u,this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):f==="Label"&&(m=d+u+(p=f),this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"+f))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[m]={},u==="textOutput"?(p="#".concat(d,"gridOutput").concat(p),c='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(a)).innerHTML=c,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):u==="gridOutput"&&(p="#".concat(d,"textOutput").concat(p),c='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("afterend",c):this.dummyDOM.querySelector("#".concat(a)).innerHTML=c,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},s.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},s.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},s.default.prototype._accsCanvasColors=function(u,f){u==="fill"?this.ingredients.colors.fillRGBA!==f&&(this.ingredients.colors.fillRGBA=f,this.ingredients.colors.fill=this._rgbColorName(f)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==f&&(this.ingredients.colors.strokeRGBA=f,this.ingredients.colors.stroke=this._rgbColorName(f))},s.default.prototype._accsOutput=function(u,f){u==="ellipse"&&f[2]===f[3]?u="circle":u==="rectangle"&&f[2]===f[3]&&(u="square");var m,a,c={},d=!0,p=function(y,v){var _;return y=y==="rectangle"||y==="ellipse"||y==="arc"||y==="circle"||y==="square"?(_=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):y==="triangle"?(_=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):y==="quadrilateral"?(_=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):y==="line"?(_=(v[0]+v[2])/2,(v[1]+v[3])/2):(_=v[0],v[1]),[_,y]}(u,f);if(u==="line"?(c.color=this.ingredients.colors.stroke,c.length=Math.round(this.dist(f[0],f[1],f[2],f[3])),m=n([f[0],[1]],this.width,this.height),a=n([f[2],[3]],this.width,this.height),c.loc=i(p,this.width,this.height),c.pos=m===a?"at ".concat(m):"from ".concat(m," to ").concat(a)):(u==="point"?c.color=this.ingredients.colors.stroke:(c.color=this.ingredients.colors.fill,c.area=function(y,v,_,x){var w=0;{var E,T,M,j,P,L,N;y==="arc"?(E=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),w=E*v[2]*v[3]/8,v[6]!=="open"&&v[6]!=="chord"||(N=v[0],T=v[1],M=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),j=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),P=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),L=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),N=Math.abs(N*(j-L)+M*(L-T)+P*(T-j))/2,E>Math.PI?w+=N:w-=N)):y==="ellipse"||y==="circle"?w=3.14*v[2]/2*v[3]/2:y==="line"||y==="point"?w=0:y==="quadrilateral"?w=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:y==="rectangle"||y==="square"?w=v[2]*v[3]:y==="triangle"&&(w=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2)}return Math.round(100*w/(_*x))}(u,f,this.width,this.height)),c.pos=n(p,this.width,this.height),c.loc=i(p,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[c]){for(var g in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][g])===JSON.stringify(c)&&(d=!1);d===!0&&this.ingredients.shapes[u].push(c)}}else this.ingredients.shapes[u]=[c]},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(s){var n,i,u,f;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(n=this._accessibleOutputs[s],u=function(m,a,c,d){return c="Your output is a, ".concat(c," by ").concat(d," pixels, ").concat(a," canvas containing the following"),c=m===1?"".concat(c," shape:"):"".concat(c," ").concat(m," shapes:"),c}((i=function(m,a){var c,d="",p=0;for(c in a)for(var g in a[c]){var y='<li><a href="#'.concat(m,"shape").concat(p,'">').concat(a[c][g].color," ").concat(c,"</a>");c==="line"?y+=", ".concat(a[c][g].pos,", ").concat(a[c][g].length," pixels long.</li>"):(y+=", at ".concat(a[c][g].pos),c!=="point"&&(y+=", covering ".concat(a[c][g].area,"% of the canvas")),y+=".</li>"),d+=y,p++}return{numShapes:p,listShapes:d}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),f=function(m,a){var c,d="",p=0;for(c in a)for(var g in a[c]){var y='<tr id="'.concat(m,"shape").concat(p,'"><th>').concat(a[c][g].color," ").concat(c,"</th>");c==="line"?y+="<td>location = ".concat(a[c][g].pos,"</td><td>length = ").concat(a[c][g].length," pixels</td></tr>"):(y+="<td>location = ".concat(a[c][g].pos,"</td>"),c!=="point"&&(y+="<td> area = ".concat(a[c][g].area,"%</td>")),y+="</tr>"),d+=y,p++}return d}(s,this.ingredients.shapes),u!==n.summary.innerHTML&&(n.summary.innerHTML=u),i.listShapes!==n.list.innerHTML&&(n.list.innerHTML=i.listShapes),f!==n.shapeDetails.innerHTML&&(n.shapeDetails.innerHTML=f),this._accessibleOutputs[s]=n)},t=t.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(t,o,l){var s=(s=t("./core/main"))&&s.__esModule?s:{default:s};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),o.exports=s.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(s){var n=s[0],i=s[1],u=s[2],f=(2-i)*u/2;return f!=0&&(f==1?i=0:f<.5?i/=2-i:i=i*u/(2-2*f)),[n,i,f,s[3]]},t.default.ColorConversion._hsbaToRGBA=function(s){var n,i,u,f,m,a=6*s[0],c=s[1],d=s[2];return c===0?[d,d,d,s[3]]:(i=d*(1-c),u=d*(1-c*(a-(n=Math.floor(a)))),c=d*(1-c*(1+n-a)),a=n===1?(f=u,m=d,i):n===2?(f=i,m=d,c):n===3?(f=i,m=u,d):n===4?(f=c,m=i,d):n===5?(f=d,m=i,u):(f=d,m=c,i),[f,m,a,s[3]])},t.default.ColorConversion._hslaToHSBA=function(s){var n=s[0],i=s[1],u=s[2],f=u<.5?(1+i)*u:u+i-u*i;return[n,i=2*(f-u)/f,f,s[3]]},t.default.ColorConversion._hslaToRGBA=function(s){var n,i=6*s[0],u=s[1],f=s[2];return u===0?[f,f,f,s[3]]:[(n=function(m,a,c){return m<0?m+=6:6<=m&&(m-=6),m<1?a+(c-a)*m:m<3?c:m<4?a+(c-a)*(4-m):a})(2+i,u=2*f-(f=f<.5?(1+u)*f:f+u-f*u),f),n(i,u,f),n(i-2,u,f),s[3]]},t.default.ColorConversion._rgbaToHSBA=function(s){var n,i,u=s[0],f=s[1],m=s[2],a=Math.max(u,f,m),c=a-Math.min(u,f,m);return c==0?i=n=0:(i=c/a,u===a?n=(f-m)/c:f===a?n=2+(m-u)/c:m===a&&(n=4+(u-f)/c),n<0?n+=6:6<=n&&(n-=6)),[n/6,i,a,s[3]]},t.default.ColorConversion._rgbaToHSLA=function(s){var n,i,u=s[0],f=s[1],m=s[2],a=Math.max(u,f,m),d=Math.min(u,f,m),c=a+d,d=a-d;return d==0?i=n=0:(i=c<1?d/c:d/(2-c),u===a?n=(f-m)/d:f===a?n=2+(m-u)/d:m===a&&(n=4+(u-f)/d),n<0?n+=6:6<=n&&(n-=6)),[n/6,i,c/2,s[3]]},t=t.default.ColorConversion,l.default=t},{"../core/main":267}],253:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.alpha=function(a){return i.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},i.default.prototype.blue=function(a){return i.default._validateParameters("blue",arguments),this.color(a)._getBlue()},i.default.prototype.brightness=function(a){return i.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},i.default.prototype.color=function(){var a;return i.default._validateParameters("color",arguments),arguments[0]instanceof i.default.Color?arguments[0]:(a=arguments[0]instanceof Array?arguments[0]:arguments,new i.default.Color(this,a))},i.default.prototype.green=function(a){return i.default._validateParameters("green",arguments),this.color(a)._getGreen()},i.default.prototype.hue=function(a){return i.default._validateParameters("hue",arguments),this.color(a)._getHue()},i.default.prototype.lerpColor=function(a,c,d){i.default._validateParameters("lerpColor",arguments);var p,g,y,v=this._colorMode,_=this._colorMaxes;if(v===u.RGB)g=a.levels.map(function(x){return x/255}),y=c.levels.map(function(x){return x/255});else if(v===u.HSB)a._getBrightness(),c._getBrightness(),g=a.hsba,y=c.hsba;else{if(v!==u.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));a._getLightness(),c._getLightness(),g=a.hsla,y=c.hsla}return d=Math.max(Math.min(d,1),0),this.lerp===void 0&&(this.lerp=function(x,w,E){return E*(w-x)+x}),a=this.lerp(g[0],y[0],d),c=this.lerp(g[1],y[1],d),p=this.lerp(g[2],y[2],d),g=this.lerp(g[3],y[3],d),a*=_[v][0],c*=_[v][1],p*=_[v][2],g*=_[v][3],this.color(a,c,p,g)},i.default.prototype.lightness=function(a){return i.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},i.default.prototype.red=function(a){return i.default._validateParameters("red",arguments),this.color(a)._getRed()},i.default.prototype.saturation=function(a){return i.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var m=i.default;l.default=m},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(d,o,l){function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function n(_){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(_)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.trim"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=a(d("../core/main")),u=function(_){if(_&&_.__esModule)return _;if(_===null||n(_)!=="object"&&typeof _!="function")return{default:_};var x=m();if(x&&x.has(_))return x.get(_);var w,E={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in _){var M;Object.prototype.hasOwnProperty.call(_,w)&&((M=T?Object.getOwnPropertyDescriptor(_,w):null)&&(M.get||M.set)?Object.defineProperty(E,w,M):E[w]=_[w])}return E.default=_,x&&x.set(_,E),E}(d("../core/constants")),f=a(d("./color_conversion"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}function a(_){return _&&_.__esModule?_:{default:_}}i.default.Color=function(_,x){if(this._storeModeAndMaxes(_._colorMode,_._colorMaxes),this.mode!==u.RGB&&this.mode!==u.HSL&&this.mode!==u.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=i.default.Color._parseInputs.apply(this,x),this._calculateLevels(),this},i.default.Color.prototype.toString=function(_){var x=this.levels,w=this._array,E=w[3];switch(_){case"#rrggbb":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16));case"#rrggbbaa":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16),x[3]<16?"0".concat(x[3].toString(16)):x[3].toString(16));case"#rgb":return"#".concat(Math.round(15*w[0]).toString(16),Math.round(15*w[1]).toString(16),Math.round(15*w[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*w[0]).toString(16),Math.round(15*w[1]).toString(16),Math.round(15*w[2]).toString(16),Math.round(15*w[3]).toString(16));case"rgb":return"rgb(".concat(x[0],", ",x[1],", ",x[2],")");case"rgb%":return"rgb(".concat((100*w[0]).toPrecision(3),"%, ",(100*w[1]).toPrecision(3),"%, ",(100*w[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*w[0]).toPrecision(3),"%, ",(100*w[1]).toPrecision(3),"%, ",(100*w[2]).toPrecision(3),"%, ",(100*w[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",E,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",E,")");case"hsla%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");default:return"rgba(".concat(x[0],",",x[1],",",x[2],",",E,")")}},i.default.Color.prototype.setRed=function(_){this._array[0]=_/this.maxes[u.RGB][0],this._calculateLevels()},i.default.Color.prototype.setGreen=function(_){this._array[1]=_/this.maxes[u.RGB][1],this._calculateLevels()},i.default.Color.prototype.setBlue=function(_){this._array[2]=_/this.maxes[u.RGB][2],this._calculateLevels()},i.default.Color.prototype.setAlpha=function(_){this._array[3]=_/this.maxes[this.mode][3],this._calculateLevels()},i.default.Color.prototype._calculateLevels=function(){for(var _=this._array,x=this.levels=new Array(_.length),w=_.length-1;0<=w;--w)x[w]=Math.round(255*_[w]);this.hsla=null,this.hsba=null},i.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},i.default.Color.prototype._storeModeAndMaxes=function(_,x){this.mode=_,this.maxes=x},i.default.Color.prototype._getMode=function(){return this.mode},i.default.Color.prototype._getMaxes=function(){return this.maxes},i.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[u.RGB][2]},i.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]},i.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[u.RGB][1]},i.default.Color.prototype._getHue=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])},i.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]},i.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[u.RGB][0]},i.default.Color.prototype._getSaturation=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])};var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d=/\s*/,v=/(\d{1,3})/,p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(p.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(d.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(d.source),"i"),RGBA:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",p.source,"\\)$"].join(d.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",p.source,"\\)$"].join(d.source),"i"),HSL:new RegExp(["^hsl\\(",v.source,",",g.source,",",g.source,"\\)$"].join(d.source),"i"),HSLA:new RegExp(["^hsla\\(",v.source,",",g.source,",",g.source,",",p.source,"\\)$"].join(d.source),"i"),HSB:new RegExp(["^hsb\\(",v.source,",",g.source,",",g.source,"\\)$"].join(d.source),"i"),HSBA:new RegExp(["^hsba\\(",v.source,",",g.source,",",g.source,",",p.source,"\\)$"].join(d.source),"i")},v=(i.default.Color._parseInputs=function(_,x,w,E){var T,M=arguments.length,j=this.mode,P=this.maxes[j],L=[];if(3<=M){for(L[0]=_/P[0],L[1]=x/P[1],L[2]=w/P[2],L[3]=typeof E=="number"?E/P[3]:1,T=L.length-1;0<=T;--T){var N=L[T];N<0?L[T]=0:1<N&&(L[T]=1)}return j===u.HSL?f.default._hslaToRGBA(L):j===u.HSB?f.default._hsbaToRGBA(L):L}if(M===1&&typeof _=="string"){if(w=_.trim().toLowerCase(),c[w])return i.default.Color._parseInputs.call(this,c[w]);if(y.HEX3.test(w))return(L=y.HEX3.exec(w).slice(1).map(function(O){return parseInt(O+O,16)/255}))[3]=1,L;if(y.HEX6.test(w))return(L=y.HEX6.exec(w).slice(1).map(function(O){return parseInt(O,16)/255}))[3]=1,L;if(y.HEX4.test(w))return L=y.HEX4.exec(w).slice(1).map(function(O){return parseInt(O+O,16)/255});if(y.HEX8.test(w))return L=y.HEX8.exec(w).slice(1).map(function(O){return parseInt(O,16)/255});if(y.RGB.test(w))return(L=y.RGB.exec(w).slice(1).map(function(O){return O/255}))[3]=1,L;if(y.RGB_PERCENT.test(w))return(L=y.RGB_PERCENT.exec(w).slice(1).map(function(O){return parseFloat(O)/100}))[3]=1,L;if(y.RGBA.test(w))return L=y.RGBA.exec(w).slice(1).map(function(O,k){return k===3?parseFloat(O):O/255});if(y.RGBA_PERCENT.test(w))return L=y.RGBA_PERCENT.exec(w).slice(1).map(function(O,k){return k===3?parseFloat(O):parseFloat(O)/100});if(y.HSL.test(w)?(L=y.HSL.exec(w).slice(1).map(function(O,k){return k===0?parseInt(O,10)/360:parseInt(O,10)/100}))[3]=1:y.HSLA.test(w)&&(L=y.HSLA.exec(w).slice(1).map(function(O,k){return k===0?parseInt(O,10)/360:k===3?parseFloat(O):parseInt(O,10)/100})),(L=L.map(function(O){return Math.max(Math.min(O,1),0)})).length)return f.default._hslaToRGBA(L);if(y.HSB.test(w)?(L=y.HSB.exec(w).slice(1).map(function(O,k){return k===0?parseInt(O,10)/360:parseInt(O,10)/100}))[3]=1:y.HSBA.test(w)&&(L=y.HSBA.exec(w).slice(1).map(function(O,k){return k===0?parseInt(O,10)/360:k===3?parseFloat(O):parseInt(O,10)/100})),L.length){for(T=L.length-1;0<=T;--T)L[T]=Math.max(Math.min(L[T],1),0);return f.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(M!==1&&M!==2||typeof _!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=_/P[2],L[1]=_/P[2],L[2]=_/P[2],L[3]=typeof x=="number"?x/P[3]:1,L=L.map(function(O){return Math.max(Math.min(O,1),0)})}return L},i.default.Color);l.default=v},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}t("./p5.Color"),i.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},i.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},i.default.prototype.colorMode=function(a,c,d,p,g){return i.default._validateParameters("colorMode",arguments),a!==u.RGB&&a!==u.HSB&&a!==u.HSL||(this._colorMode=a,a=this._colorMaxes[a],arguments.length===2?(a[0]=c,a[1]=c,a[2]=c,a[3]=c):arguments.length===4?(a[0]=c,a[1]=d,a[2]=p):arguments.length===5&&(a[0]=c,a[1]=d,a[2]=p,a[3]=g)),this},i.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},i.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},i.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},i.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},i.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},i.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=i.default;l.default=m},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.BEZIER=l.QUADRATIC=l.LINEAR=l._CTX_MIDDLE=l._DEFAULT_LEADMULT=l._DEFAULT_TEXT_FILL=l.WORD=l.CHAR=l.BOLDITALIC=l.BOLD=l.ITALIC=l.NORMAL=l.BLUR=l.ERODE=l.DILATE=l.POSTERIZE=l.INVERT=l.OPAQUE=l.GRAY=l.THRESHOLD=l.BURN=l.DODGE=l.SOFT_LIGHT=l.HARD_LIGHT=l.OVERLAY=l.REPLACE=l.SCREEN=l.MULTIPLY=l.EXCLUSION=l.SUBTRACT=l.DIFFERENCE=l.LIGHTEST=l.DARKEST=l.ADD=l.REMOVE=l.BLEND=l.UP_ARROW=l.TAB=l.SHIFT=l.RIGHT_ARROW=l.RETURN=l.OPTION=l.LEFT_ARROW=l.ESCAPE=l.ENTER=l.DOWN_ARROW=l.DELETE=l.CONTROL=l.BACKSPACE=l.ALT=l.AUTO=l.HSL=l.HSB=l.RGB=l.MITER=l.BEVEL=l.ROUND=l.SQUARE=l.PROJECT=l.PIE=l.CHORD=l.OPEN=l.CLOSE=l.TESS=l.QUAD_STRIP=l.QUADS=l.TRIANGLE_STRIP=l.TRIANGLE_FAN=l.TRIANGLES=l.LINE_LOOP=l.LINE_STRIP=l.LINES=l.POINTS=l.BASELINE=l.BOTTOM=l.TOP=l.CENTER=l.LEFT=l.RIGHT=l.RADIUS=l.CORNERS=l.CORNER=l.RAD_TO_DEG=l.DEG_TO_RAD=l.RADIANS=l.DEGREES=l.TWO_PI=l.TAU=l.QUARTER_PI=l.PI=l.HALF_PI=l.WAIT=l.TEXT=l.MOVE=l.HAND=l.CROSS=l.ARROW=l.WEBGL=l.P2D=l.VERSION=void 0,l.COVER=l.CONTAIN=l.FALLBACK=l.LABEL=l.AXES=l.GRID=l._DEFAULT_FILL=l._DEFAULT_STROKE=l.PORTRAIT=l.LANDSCAPE=l.MIRROR=l.CLAMP=l.REPEAT=l.NEAREST=l.IMAGE=l.IMMEDIATE=l.TEXTURE=l.FILL=l.STROKE=l.CURVE=void 0;var s=Math.PI,n=(l.VERSION="1.5.0",l.P2D="p2d",l.WEBGL="webgl",l.ARROW="default",l.CROSS="crosshair",l.HAND="pointer",l.MOVE="move",l.TEXT="text",l.WAIT="wait",s/2),n=(l.HALF_PI=n,s),n=(l.PI=n,s/4),n=(l.QUARTER_PI=n,2*s),n=(l.TAU=n,2*s),n=(l.TWO_PI=n,l.DEGREES="degrees",l.RADIANS="radians",s/180),n=(l.DEG_TO_RAD=n,180/s);l.RAD_TO_DEG=n,l.CORNER="corner",l.CORNERS="corners",l.RADIUS="radius",l.RIGHT="right",l.LEFT="left",l.CENTER="center",l.TOP="top",l.BOTTOM="bottom",l.BASELINE="alphabetic",l.POINTS=0,l.LINES=1,l.LINE_STRIP=3,l.LINE_LOOP=2,l.TRIANGLES=4,l.TRIANGLE_FAN=6,l.TRIANGLE_STRIP=5,l.QUADS="quads",l.QUAD_STRIP="quad_strip",l.TESS="tess",l.CLOSE="close",l.OPEN="open",l.CHORD="chord",l.PIE="pie",l.PROJECT="square",l.SQUARE="butt",l.ROUND="round",l.BEVEL="bevel",l.MITER="miter",l.RGB="rgb",l.HSB="hsb",l.HSL="hsl",l.AUTO="auto",l.ALT=18,l.BACKSPACE=8,l.CONTROL=17,l.DELETE=46,l.DOWN_ARROW=40,l.ENTER=13,l.ESCAPE=27,l.LEFT_ARROW=37,l.OPTION=18,l.RETURN=13,l.RIGHT_ARROW=39,l.SHIFT=16,l.TAB=9,l.UP_ARROW=38,l.BLEND="source-over",l.REMOVE="destination-out",l.ADD="lighter",l.DARKEST="darken",l.LIGHTEST="lighten",l.DIFFERENCE="difference",l.SUBTRACT="subtract",l.EXCLUSION="exclusion",l.MULTIPLY="multiply",l.SCREEN="screen",l.REPLACE="copy",l.OVERLAY="overlay",l.HARD_LIGHT="hard-light",l.SOFT_LIGHT="soft-light",l.DODGE="color-dodge",l.BURN="color-burn",l.THRESHOLD="threshold",l.GRAY="gray",l.OPAQUE="opaque",l.INVERT="invert",l.POSTERIZE="posterize",l.DILATE="dilate",l.ERODE="erode",l.BLUR="blur",l.NORMAL="normal",l.ITALIC="italic",l.BOLD="bold",l.BOLDITALIC="bold italic",l.CHAR="CHAR",l.WORD="WORD",l._DEFAULT_TEXT_FILL="#000000",l._DEFAULT_LEADMULT=1.25,l._CTX_MIDDLE="middle",l.LINEAR="linear",l.QUADRATIC="quadratic",l.BEZIER="bezier",l.CURVE="curve",l.STROKE="stroke",l.FILL="fill",l.TEXTURE="texture",l.IMMEDIATE="immediate",l.IMAGE="image",l.NEAREST="nearest",l.REPEAT="repeat",l.CLAMP="clamp",l.MIRROR="mirror",l.LANDSCAPE="landscape",l.PORTRAIT="portrait",l._DEFAULT_STROKE="#000000",l._DEFAULT_FILL="#FFFFFF",l.GRID="grid",l.AXES="axes",l.LABEL="label",l.FALLBACK="fallback",l.CONTAIN="contain",l.COVER="cover"},{}],257:[function(t,o,l){function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function n(p){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(u=t("./main"))&&u.__esModule?u:{default:u},u=function(p){if(p&&p.__esModule)return p;if(p===null||n(p)!=="object"&&typeof p!="function")return{default:p};var g=f();if(g&&g.has(p))return g.get(p);var y,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var x;Object.prototype.hasOwnProperty.call(p,y)&&((x=_?Object.getOwnPropertyDescriptor(p,y):null)&&(x.get||x.set)?Object.defineProperty(v,y,x):v[y]=p[y])}return v.default=p,g&&g.set(p,v),v}(t("./constants"));function f(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,f=function(){return p},p)}var m=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],a=(i.default.prototype._frameRate=0,i.default.prototype._lastFrameTime=window.performance.now(),i.default.prototype._targetFrameRate=60,window.print);function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.default.prototype.print=function(){var p;arguments.length?(p=console).log.apply(p,arguments):a()},i.default.prototype.frameCount=0,i.default.prototype.deltaTime=0,i.default.prototype.focused=document.hasFocus(),i.default.prototype.cursor=function(p,g,y){var v,_="auto",x=this._curElement.elt;m.includes(p)?_=p:typeof p=="string"&&(v="",g&&y&&typeof g=="number"&&typeof y=="number"&&(v="".concat(g," ").concat(y)),_=p.substring(0,7)==="http://"||p.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(p)?"url(".concat(p,") ").concat(v,", auto"):p),x.style.cursor=_},i.default.prototype.frameRate=function(p){return i.default._validateParameters("frameRate",arguments),typeof p!="number"||p<0?this._frameRate:(this._setProperty("_targetFrameRate",p),p===0&&this._setProperty("_frameRate",p),this)},i.default.prototype.getFrameRate=function(){return this.frameRate()},i.default.prototype.setFrameRate=function(p){return this.frameRate(p)},i.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.default.prototype.displayWidth=screen.width,i.default.prototype.displayHeight=screen.height,i.default.prototype.windowWidth=c(),i.default.prototype.windowHeight=d(),i.default.prototype._onresize=function(p){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",d());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(p))===void 0||g||p.preventDefault()},i.default.prototype.width=0,i.default.prototype.height=0,i.default.prototype.fullscreen=function(p){if(i.default._validateParameters("fullscreen",arguments),p===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(p){if(p=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.default.prototype.pixelDensity=function(p){var g;return i.default._validateParameters("pixelDensity",arguments),typeof p=="number"?(p!==this._pixelDensity&&(this._pixelDensity=p),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},i.default.prototype.displayDensity=function(){return window.devicePixelRatio},i.default.prototype.getURL=function(){return location.href},i.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(p){return p!==""})},i.default.prototype.getURLParams=function(){for(var p,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,y={};(p=g.exec(location.search))!=null;)p.index===g.lastIndex&&g.lastIndex++,y[p[1]]=p[2];return y},t=i.default,l.default=t},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function n(a,c){c=c||console.log.bind(console),i||f(),i.some(function(d){var p;if(a.message&&a.message.match("\\W?".concat(d.name,"\\W"))!==null)return p=d.type==="function"?"".concat(d.name,"()"):d.name,c("Did you just try to use p5.js's ".concat(p," ").concat(d.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var i=null,f=null,u=(s.default._friendlyError=s.default._checkForUserDefinedFunctions=s.default._fesErrorMonitor=function(){},i=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),f=function(){function a(d){return Object.getOwnPropertyNames(d).filter(function(p){return p[0]!=="_"&&!(p in c)&&(c[p]=!0)}).map(function(p){var g=typeof d[p]=="function"?"function":p===p.toUpperCase()?"constant":"variable";return{name:p,type:g}})}var c={};(i=[].concat(a(s.default.prototype),a(t("../constants")))).sort(function(d,p){return p.name.length-d.name.length})},m=(s.default.prototype._helpForMisusedAtTopLevelCode=n,document.readyState!=="complete"&&(window.addEventListener("error",n,!1),window.addEventListener("load",function(){window.removeEventListener("error",n,!1)})),s.default);l.default=m},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(s=t("../main"))&&s.__esModule?s:{default:s};t("../internationalization"),s.default._friendlyFileLoadError=function(){},t=s.default,l.default=t},{"../internationalization":265,"../main":267}],260:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function n(c){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=m(t("../main"));t("../internationalization"),f(t("../constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function f(c){if(c&&c.__esModule)return c;if(c===null||n(c)!=="object"&&typeof c!="function")return{default:c};var d=u();if(d&&d.has(c))return d.get(c);var p,g,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&((g=v?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(y,p,g):y[p]=c[p]);return y.default=c,d&&d.set(c,y),y}function m(c){return c&&c.__esModule?c:{default:c}}i.default._fesCodeReader=function(){};var a=i.default;l.default=a},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(t,o,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function s(){var n=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(f){return f.stacktrace!==void 0||f["opera#sourceloc"]!==void 0?this.parseOpera(f):f.stack&&f.stack.match(i)?this.parseV8OrIE(f):f.stack?this.parseFFOrSafari(f):void 0},extractLocation:function(f){return f.indexOf(":")===-1?[f]:[(f=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(f.replace(/[()]/g,"")))[1],f[2]||void 0,f[3]||void 0]},parseV8OrIE:function(f){return f.stack.split(`
`).filter(function(m){return!!m.match(i)},this).map(function(m){var a=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),c=a.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=c?a.replace(c[0],""):a).split(/\s+/).slice(1),c=this.extractLocation(c?c[1]:a.pop());return{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(c[0])?void 0:c[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)},parseFFOrSafari:function(f){return f.stack.split(`
`).filter(function(m){return!m.match(u)},this).map(function(m){var a,c;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(c=m.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&c[1]?c[1]:void 0,fileName:(c=this.extractLocation(m.replace(a,"")))[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)},parseOpera:function(f){return!f.stacktrace||-1<f.message.indexOf(`
`)&&f.message.split(`
`).length>f.stacktrace.split(`
`).length?this.parseOpera9(f):f.stack?this.parseOpera11(f):this.parseOpera10(f)},parseOpera9:function(f){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,a=f.message.split(`
`),c=[],d=2,p=a.length;d<p;d+=2){var g=m.exec(a[d]);g&&c.push({fileName:g[2],lineNumber:g[1],source:a[d]})}return c},parseOpera10:function(f){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=f.stacktrace.split(`
`),c=[],d=0,p=a.length;d<p;d+=2){var g=m.exec(a[d]);g&&c.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:a[d]})}return c},parseOpera11:function(f){return f.stack.split(`
`).filter(function(m){return!!m.match(n)&&!m.match(/^Error created at/)},this).map(function(m){var a,d=m.split("@"),c=this.extractLocation(d.pop()),d=d.shift()||"";return{functionName:d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(a=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)===void 0||a==="[arguments not available]"?void 0:a.split(","),fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new s},t=t.default,l.default=t},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(t,o,l){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(n=t("../main"))&&n.__esModule?n:{default:n};(function(f){if(!(f&&f.__esModule)&&!(f===null||u(f)!=="object"&&typeof f!="function")){var m=i();if(m&&m.has(f))return m.get(f);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in f){var p;Object.prototype.hasOwnProperty.call(f,a)&&((p=d?Object.getOwnPropertyDescriptor(f,a):null)&&(p.get||p.set)?Object.defineProperty(c,a,p):c[a]=f[a])}c.default=f,m&&m.set(f,c)}})(t("../constants")),t("../internationalization");function i(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,i=function(){return f},f)}function u(f){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(f)}n.default._validateParameters=n.default._clearValidateParamsCache=function(){},t=n.default,l.default=t},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(t,o,l){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function n(f){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=function(f){if(f&&f.__esModule)return f;if(f===null||n(f)!=="object"&&typeof f!="function")return{default:f};var m=u();if(m&&m.has(f))return m.get(f);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in f){var p;Object.prototype.hasOwnProperty.call(f,a)&&((p=d?Object.getOwnPropertyDescriptor(f,a):null)&&(p.get||p.set)?Object.defineProperty(c,a,p):c[a]=f[a])}return c.default=f,m&&m.set(f,c),c}(t("./constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}l.default={modeAdjust:function(f,m,a,c,d){return d===i.CORNER?{x:f,y:m,w:a,h:c}:d===i.CORNERS?{x:f,y:m,w:a-f,h:c-m}:d===i.RADIUS?{x:f-a,y:m-c,w:2*a,h:2*c}:d===i.CENTER?{x:f-.5*a,y:m-.5*c,w:a,h:c}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(t,o,l){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(n=t("../core/main"))&&n.__esModule?n:{default:n};t("./internationalization");var n=Promise.resolve();Promise.all([new Promise(function(i,u){document.readyState==="complete"?i():window.addEventListener("load",i,!1)}),n]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!s.default.instance&&new s.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(t,o,l){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.setTranslatorLanguage=l.currentTranslatorLanguage=l.availableTranslatorLanguages=l.initialize=l.translator=void 0;var s,n,i=f(t("i18next")),u=f(t("i18next-browser-languagedetector"));function f(c){return c&&c.__esModule?c:{default:c}}function m(c,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}var a=function(){function c(g,y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.init(g,y)}var d,p;return d=c,(p=[{key:"fetchWithTimeout",value:function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,y),new Promise(function(_,x){return setTimeout(function(){return x(new Error("timeout"))},v)})])}},{key:"init",value:function(g){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=y}},{key:"read",value:function(g,y,v){var _=this.options.loadPath;g===this.options.fallback?v(null,s[g][y]):n.includes(g)?(_=this.services.interpolator.interpolate(_,{lng:g,ns:y}),this.loadUrl(_,v)):v("Not found",!1)}},{key:"loadUrl",value:function(g,y){this.fetchWithTimeout(g).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(v){return y(null,v)}).catch(y)}}])&&m(d.prototype,p),c}();a.type="backend",l.translator=function(c,d){console.debug("p5.js translator called before translations were loaded"),i.default.t(c,d)},l.initialize=function(){return i.default.use(u.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:s}).then(function(c){l.translator=c},function(c){return console.debug("Translations failed to load (".concat(c,")"))})},l.availableTranslatorLanguages=function(){return i.default.languages},l.currentTranslatorLanguage=function(c){return i.default.language},l.setTranslatorLanguage=function(c){return i.default.changeLanguage(c||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,l.default=t},{"./main":267}],267:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function n(c){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("./shim");var i=function(c){if(c&&c.__esModule)return c;if(c===null||n(c)!=="object"&&typeof c!="function")return{default:c};var d=u();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("./constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function f(c,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}var m,a=function(){function c(g,x,v){var _=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=x,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var x=Object.getOwnPropertyNames(c.prototype._registeredMethods),w=!0,E=!1,T=void 0;try{for(var M,j=x[Symbol.iterator]();!(w=(M=j.next()).done);w=!0){var P=M.value;this._registeredMethods[P]=c.prototype._registeredMethods[P].slice()}}catch(z){E=!0,T=z}finally{try{w||j.return==null||j.return()}finally{if(E)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var z=_._isGlobal?window:_;if(z.preload){var W,$=document.getElementById(_._loadingScreenId),se=($||(($=document.createElement("div")).innerHTML="Loading...",$.style.position="absolute",$.id=_._loadingScreenId,(_._userNode||document.body).appendChild($)),_._preloadMethods);for(W in se){se[W]=se[W]||c;var R=se[W];R!==c.prototype&&R!==c||(_._isGlobal&&(window[W]=_._wrapPreload(_,W)),R=_),_._registeredPreloadMethods[W]=R[W],R[W]=_._wrapPreload(R,W)}z.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._draw()},this._runIfPreloadsAreDone=function(){var z,W=this._isGlobal?window:this;W._preloadCount===0&&((z=document.getElementById(W._loadingScreenId))&&z.parentNode.removeChild(z),this._setupDone||(this._lastFrameTime=window.performance.now(),W._setup(),W._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||typeof z.preload!="function"||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,W){var $=this;return function(){$._incrementPreload();for(var se=arguments.length,R=new Array(se),I=0;I<se;I++)R[I]=arguments[I];return $._registeredPreloadMethods[W].apply(z,R)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var z=_._isGlobal?window:_;if(typeof z.preload=="function")for(var W in _._preloadMethods)z[W]=_._preloadMethods[W][W],z[W]&&_&&(z[W]=z[W].bind(_));_._millisStart=window.performance.now(),z._preloadDone=!0,typeof z.setup=="function"&&z.setup();var $=document.getElementsByTagName("canvas"),se=!0,R=!1,I=void 0;try{for(var U,G=$[Symbol.iterator]();!(se=(U=G.next()).done);se=!0){var ee=U.value;ee.dataset.hidden==="true"&&(ee.style.visibility="",delete ee.dataset.hidden)}}catch(ue){R=!0,I=ue}finally{try{se||G.return==null||G.return()}finally{if(R)throw I}}_._lastFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput()},this._draw=function(){var z=window.performance.now(),W=z-_._lastFrameTime,$=1e3/_._targetFrameRate;(!_._loop||$-5<=W)&&(_.redraw(),_._frameRate=1e3/(z-_._lastFrameTime),_.deltaTime=z-_._lastFrameTime,_._setProperty("deltaTime",_.deltaTime),_._lastFrameTime=z,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(z,W){_[z]=W,_._isGlobal&&(window[z]=W)},this.remove=function(){var z=document.getElementById(_._loadingScreenId);if(z&&(z.parentNode.removeChild(z),_._incrementPreload()),_._curElement){for(var W in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(W,_._events[W]);var $=!0,z=!1,se=void 0;try{for(var R,I=_._elements[Symbol.iterator]();!($=(R=I.next()).done);$=!0){var U,G=R.value;for(U in G.elt&&G.elt.parentNode&&G.elt.parentNode.removeChild(G.elt),G._events)G.elt.removeEventListener(U,G._events[U])}}catch(ce){z=!0,se=ce}finally{try{$||I.return==null||I.return()}finally{if(z)throw se}}var ee=_;_._registeredMethods.remove.forEach(function(ce){ce!==void 0&&ce.call(ee)})}if(_._isGlobal){for(var ue in c.prototype)try{delete window[ue]}catch{window[ue]=void 0}for(var fe in _)if(_.hasOwnProperty(fe))try{delete window[fe]}catch{window[fe]=void 0}c.instance=null}},this._registeredMethods.init.forEach(function(z){z!==void 0&&z.call(this)},this),this._setupPromisePreloads();var L,N,O=this._createFriendlyGlobalFunctionBinder();if(g)g(this),c._checkForUserDefinedFunctions(this);else{for(var k in this._isGlobal=!0,c.instance=this,c.prototype)typeof c.prototype[k]=="function"?(L=k.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(k)&&Math[k]===c.prototype[k]?O(k,c.prototype[k]):O(k,c.prototype[k].bind(this)))):O(k,c.prototype[k]);for(var X in this)this.hasOwnProperty(X)&&O(X,this[X])}for(N in this._events){var Y=this["_on".concat(N)];Y&&(Y=Y.bind(this),window.addEventListener(N,Y,{passive:!1}),this._events[N]=Y)}function q(){_._setProperty("focused",!0)}function H(){_._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",H),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",H)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var d,p;return d=c,(p=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,y){c.prototype._preloadMethods.hasOwnProperty(g)||(c.prototype._preloadMethods[g]=y)}},{key:"registerMethod",value:function(g,y){var v=this||c.prototype;v._registeredMethods.hasOwnProperty(g)||(v._registeredMethods[g]=[]),v._registeredMethods[g].push(y)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},y=g.globalObject||window;return g.log||console.log.bind(console),function(v,_){c.disableFriendlyErrors,y[v]=_}}}])&&f(d.prototype,p),c}();for(m in a.instance=null,a.disableFriendlyErrors=!1,i)a.prototype[m]=i[m];a.VERSION=i.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},l.default=a},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};s.default.Element=function(n,i){this.elt=n,this._pInst=this._pixelsState=i,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},s.default.Element.prototype.parent=function(n){return n===void 0?this.elt.parentNode:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof s.default.Element&&(n=n.elt),n.appendChild(this.elt),this)},s.default.Element.prototype.id=function(n){return n===void 0?this.elt.id:(this.elt.id=n,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},s.default.Element.prototype.class=function(n){return n===void 0?this.elt.className:(this.elt.className=n,this)},s.default.Element.prototype.mousePressed=function(n){return s.default.Element._adjustListener("mousedown",function(i){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(i),n.call(this,i)},this),this},s.default.Element.prototype.doubleClicked=function(n){return s.default.Element._adjustListener("dblclick",n,this),this},s.default.Element.prototype.mouseWheel=function(n){return s.default.Element._adjustListener("wheel",n,this),this},s.default.Element.prototype.mouseReleased=function(n){return s.default.Element._adjustListener("mouseup",n,this),this},s.default.Element.prototype.mouseClicked=function(n){return s.default.Element._adjustListener("click",n,this),this},s.default.Element.prototype.mouseMoved=function(n){return s.default.Element._adjustListener("mousemove",n,this),this},s.default.Element.prototype.mouseOver=function(n){return s.default.Element._adjustListener("mouseover",n,this),this},s.default.Element.prototype.mouseOut=function(n){return s.default.Element._adjustListener("mouseout",n,this),this},s.default.Element.prototype.touchStarted=function(n){return s.default.Element._adjustListener("touchstart",n,this),this},s.default.Element.prototype.touchMoved=function(n){return s.default.Element._adjustListener("touchmove",n,this),this},s.default.Element.prototype.touchEnded=function(n){return s.default.Element._adjustListener("touchend",n,this),this},s.default.Element.prototype.dragOver=function(n){return s.default.Element._adjustListener("dragover",n,this),this},s.default.Element.prototype.dragLeave=function(n){return s.default.Element._adjustListener("dragleave",n,this),this},s.default.Element._adjustListener=function(n,i,u){return i===!1?s.default.Element._detachListener(n,u):s.default.Element._attachListener(n,i,u),this},s.default.Element._attachListener=function(n,i,u){u._events[n]&&s.default.Element._detachListener(n,u),i=i.bind(u),u.elt.addEventListener(n,i,!1),u._events[n]=i},s.default.Element._detachListener=function(n,i){var u=i._events[n];i.elt.removeEventListener(n,u,!1),i._events[n]=null},s.default.Element.prototype._setProperty=function(n,i){this[n]=i},t=s.default.Element,l.default=t},{"./main":267}],269:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("./main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("./constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.Graphics=function(a,c,y,p){var g,y=y||u.P2D;for(g in this.canvas=document.createElement("canvas"),(p._userNode||document.body).appendChild(this.canvas),i.default.Element.call(this,this.canvas,p),i.default.prototype)this[g]||(typeof i.default.prototype[g]=="function"?this[g]=i.default.prototype[g].bind(this):this[g]=i.default.prototype[g]);return i.default.prototype._initializeInstanceVariables.apply(this),this.width=a,this.height=c,this._pixelDensity=p._pixelDensity,y===u.WEBGL?this._renderer=new i.default.RendererGL(this.canvas,this,!1):this._renderer=new i.default.Renderer2D(this.canvas,this,!1),p._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(a,c),this._renderer._applyDefaults(),this},i.default.Graphics.prototype=Object.create(i.default.Element.prototype),i.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},i.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var a,c=this._pInst._elements.indexOf(this);for(a in c!==-1&&this._pInst._elements.splice(c,1),this._events)this.elt.removeEventListener(a,this._events[a])};var m=i.default.Graphics;l.default=m},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(a=t("./main"))&&a.__esModule?a:{default:a},i=function(c){if(c&&c.__esModule)return c;if(c===null||f(c)!=="object"&&typeof c!="function")return{default:c};var d=u();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("../core/constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function f(c){return(f=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}function m(c){var d=0,p=0;if(c.offsetParent)for(;d+=c.offsetLeft,p+=c.offsetTop,c=c.offsetParent;);else d+=c.offsetLeft,p+=c.offsetTop;return[d,p]}n.default.Renderer=function(c,d,p){n.default.Element.call(this,c,d),this.canvas=c,this._pixelsState=d,p?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=i.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=i.LEFT,this._textBaseline=i.BASELINE,this._textWrap=i.WORD,this._rectMode=i.CORNER,this._ellipseMode=i.CENTER,this._curveTightness=0,this._imageMode=i.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},n.default.Renderer.prototype=Object.create(n.default.Element.prototype),n.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},n.default.Renderer.prototype.pop=function(c){c.properties&&Object.assign(this,c.properties)},n.default.Renderer.prototype.resize=function(c,d){this.width=c,this.height=d,this.elt.width=c*this._pInst._pixelDensity,this.elt.height=d*this._pInst._pixelDensity,this.elt.style.width="".concat(c,"px"),this.elt.style.height="".concat(d,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.default.Renderer.prototype.get=function(c,d,p,g){var y=this._pixelsState,v=y._pixelDensity,_=this.canvas;if(c===void 0&&d===void 0)c=d=0,p=y.width,g=y.height;else if(c*=v,d*=v,p===void 0&&g===void 0)return c<0||d<0||c>=_.width||d>=_.height?[0,0,0,0]:this._getPixel(c,d);return y=new n.default.Image(p,g),y.canvas.getContext("2d").drawImage(_,c,d,p*v,g*v,0,0,p,g),y},n.default.Renderer.prototype.textLeading=function(c){return typeof c=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",c),this._pInst):this._textLeading},n.default.Renderer.prototype.textSize=function(c){return typeof c=="number"?(this._setProperty("_textSize",c),this._leadingSet||this._setProperty("_textLeading",c*i._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},n.default.Renderer.prototype.textStyle=function(c){return c?(c!==i.NORMAL&&c!==i.ITALIC&&c!==i.BOLD&&c!==i.BOLDITALIC||this._setProperty("_textStyle",c),this._applyTextProperties()):this._textStyle},n.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},n.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},n.default.Renderer.prototype.textAlign=function(c,d){return c!==void 0?(this._setProperty("_textAlign",c),d!==void 0&&this._setProperty("_textBaseline",d),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},n.default.Renderer.prototype.textWrap=function(c){return this._setProperty("_textWrap",c),this._textWrap},n.default.Renderer.prototype.text=function(c,d,p,g,y){var v,_,x,w,E=this._pInst,T=this._textWrap,M=Number.MAX_VALUE,j=p;if((this._doFill||this._doStroke)&&c!==void 0){if(v=(c=(c=typeof c!="string"?c.toString():c).replace(/(\t)/g,"  ")).split(`
`),g!==void 0){switch(this._rectMode===i.CENTER&&(d-=g/2),this._textAlign){case i.CENTER:d+=g/2;break;case i.RIGHT:d+=g}if(y!==void 0){this._rectMode===i.CENTER&&(p-=y/2);var c=p,P=E.textAscent();switch(this._textBaseline){case i.BOTTOM:w=p+y,p=Math.max(w,p),j+=P;break;case i.CENTER:w=p+y/2,p=Math.max(w,p),j+=P/2}M=p+y-P,this._textBaseline===i.CENTER&&(M=c+y-P/2)}else{if(this._textBaseline===i.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===i.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(T===i.WORD){for(var L=[],N=0;N<v.length;N++){for(var O="",k=v[N].split(" "),X=0;X<k.length;X++)_="".concat(O+k[X])+" ",O=g<(x=this.textWidth(_))&&0<O.length?(L.push(O),"".concat(k[X])+" "):_;L.push(O)}var Y=0;this._textBaseline===i.CENTER?Y=(L.length-1)*E.textLeading()/2:this._textBaseline===i.BOTTOM&&(Y=(L.length-1)*E.textLeading());for(var q=0;q<v.length;q++){O="",k=v[q].split(" ");for(var H=0;H<k.length;H++)_="".concat(O+k[H])+" ",g<(x=this.textWidth(_))&&0<O.length?(this._renderText(E,O.trim(),d,p-Y,M,j),O="".concat(k[H])+" ",p+=E.textLeading()):O=_;this._renderText(E,O.trim(),d,p-Y,M,j),p+=E.textLeading()}}else{for(var z=[],W=0;W<v.length;W++)for(var $=v[W].split(O=""),se=0;se<$.length;se++)_="".concat(O+$[se]),(x=this.textWidth(_))<=g?O+=$[se]:g<x&&0<O.length&&(z.push(O),O="".concat($[se]));z.push(O);var R=0;this._textBaseline===i.CENTER?R=(z.length-1)*E.textLeading()/2:this._textBaseline===i.BOTTOM&&(R=(z.length-1)*E.textLeading());for(var I=0;I<v.length;I++){$=v[I].split(O="");for(var U=0;U<$.length;U++)_="".concat(O+$[U]),(x=this.textWidth(_))<=g?O+=$[U]:g<x&&0<O.length&&(this._renderText(E,O.trim(),d,p-R,M,j),p+=E.textLeading(),O="".concat($[U]))}this._renderText(E,O.trim(),d,p-R,M,j),p+=E.textLeading()}}else{var G=0;this._textBaseline===i.CENTER?G=(v.length-1)*E.textLeading()/2:this._textBaseline===i.BOTTOM&&(G=(v.length-1)*E.textLeading());for(var ee=0;ee<v.length;ee++)this._renderText(E,v[ee],d,p-G,M,j),p+=E.textLeading()}return E}},n.default.Renderer.prototype._applyDefaults=function(){return this},n.default.Renderer.prototype._isOpenType=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return f(c)==="object"&&c.font&&c.font.supported},n.default.Renderer.prototype._updateTextMetrics=function(){var c,d,p,g,y,v;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((c=document.createElement("span")).style.fontFamily=this._textFont,c.style.fontSize="".concat(this._textSize,"px"),c.innerHTML="ABCjgq|",(v=document.createElement("div")).style.display="inline-block",v.style.width="1px",v.style.height="0px",g=((d=document.createElement("div")).appendChild(c),d.appendChild(v),d.style.height="0px",d.style.overflow="hidden",document.body.appendChild(d),v.style.verticalAlign="baseline",m(v)),y=m(c),p=g[1]-y[1],g=(v.style.verticalAlign="bottom",m(v)),y=m(c),v=g[1]-y[1]-p,document.body.removeChild(d),this._setProperty("_textAscent",p),this._setProperty("_textDescent",v)),this};var a=n.default.Renderer;l.default=a},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function n(c){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(a=t("./main"))&&a.__esModule?a:{default:a},u=function(c){if(c&&c.__esModule)return c;if(c===null||n(c)!=="object"&&typeof c!="function")return{default:c};var d=f();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("./constants"));function f(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,f=function(){return c},c)}t("./p5.Renderer");var m="rgba(0,0,0,0)",a=(i.default.Renderer2D=function(c,d,p){return i.default.Renderer.call(this,c,d,p),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},i.default.Renderer2D.prototype=Object.create(i.default.Renderer.prototype),i.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"},i.default.Renderer2D.prototype.resize=function(c,d){i.default.Renderer.prototype.resize.call(this,c,d),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},i.default.Renderer2D.prototype.background=function(){var c,d;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(c=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(c,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(c=this._getFill(),d=(d=this._pInst).color.apply(d,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(d.levels),d=d.toString(),this._setFill(d),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(c),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},i.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},i.default.Renderer2D.prototype.fill=function(){var c=(c=this._pInst).color.apply(c,arguments);this._setFill(c.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",c.levels)},i.default.Renderer2D.prototype.stroke=function(){var c=(c=this._pInst).color.apply(c,arguments);this._setStroke(c.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",c.levels)},i.default.Renderer2D.prototype.erase=function(c,d){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,c=this._pInst.color(255,c).toString(),this.drawingContext.fillStyle=c,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c=this._pInst.color(255,d).toString(),this.drawingContext.strokeStyle=c,d=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=d,this._isErasing=!0)},i.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},i.default.Renderer2D.prototype.image=function(c,d,p,g,y,v,_,x,w){c.gifProperties&&c._animateGif(this._pInst);try{var E=(E=this._tint&&c.canvas?this._getTintedImageCanvas(c):E)||c.canvas||c.elt,T=1;c.width&&0<c.width&&(T=E.width/c.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(E,T*d,T*p,T*g,T*y,v,_,x,w),this._isErasing&&this._pInst.erase()}catch(M){if(M.name!=="NS_ERROR_NOT_AVAILABLE")throw M}},i.default.Renderer2D.prototype._getTintedImageCanvas=function(c){if(!c.canvas)return c;c.tintCanvas||(c.tintCanvas=document.createElement("canvas")),c.tintCanvas.width!==c.canvas.width&&(c.tintCanvas.width=c.canvas.width),c.tintCanvas.height!==c.canvas.height&&(c.tintCanvas.height=c.canvas.height);var d=c.tintCanvas.getContext("2d");return d.save(),d.clearRect(0,0,c.canvas.width,c.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(d.drawImage(c.canvas,0,0),d.globalCompositeOperation="luminosity",d.drawImage(c.canvas,0,0),d.globalCompositeOperation="color",d.drawImage(c.canvas,0,0),d.globalCompositeOperation="multiply",d.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),d.fillRect(0,0,c.canvas.width,c.canvas.height),d.globalCompositeOperation="destination-in"),d.globalAlpha=this._tint[3]/255,d.drawImage(c.canvas,0,0),d.restore(),c.tintCanvas},i.default.Renderer2D.prototype.blendMode=function(c){if(c===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(c!==u.BLEND&&c!==u.REMOVE&&c!==u.DARKEST&&c!==u.LIGHTEST&&c!==u.DIFFERENCE&&c!==u.MULTIPLY&&c!==u.EXCLUSION&&c!==u.SCREEN&&c!==u.REPLACE&&c!==u.OVERLAY&&c!==u.HARD_LIGHT&&c!==u.SOFT_LIGHT&&c!==u.DODGE&&c!==u.BURN&&c!==u.ADD)throw new Error("Mode ".concat(c," not recognized."));this._cachedBlendMode=c,this.drawingContext.globalCompositeOperation=c}},i.default.Renderer2D.prototype.blend=function(){for(var c=this.drawingContext.globalCompositeOperation,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var y=p[p.length-1],v=Array.prototype.slice.call(p,0,p.length-1);this.drawingContext.globalCompositeOperation=y,i.default.prototype.copy.apply(this,v),this.drawingContext.globalCompositeOperation=c},i.default.Renderer2D.prototype._getPixel=function(c,d){return c=this.drawingContext.getImageData(c,d,1,1).data,[c[0],c[1],c[2],c[3]]},i.default.Renderer2D.prototype.loadPixels=function(){var c=this._pixelsState,d=c._pixelDensity,p=this.width*d,d=this.height*d,p=this.drawingContext.getImageData(0,0,p,d);c._setProperty("imageData",p),c._setProperty("pixels",p.data)},i.default.Renderer2D.prototype.set=function(c,d,p){c=Math.floor(c),d=Math.floor(d);var g=this._pixelsState;if(p instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(g._pixelDensity,g._pixelDensity),this.drawingContext.clearRect(c,d,p.width,p.height),this.drawingContext.drawImage(p.canvas,c,d),this.drawingContext.restore();else{var y=0,v=0,_=0,x=0,w=4*(d*g._pixelDensity*(this.width*g._pixelDensity)+c*g._pixelDensity);if(g.imageData||g.loadPixels.call(g),typeof p=="number")w<g.pixels.length&&(_=v=y=p,x=255);else if(p instanceof Array){if(p.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");w<g.pixels.length&&(y=p[0],v=p[1],_=p[2],x=p[3])}else p instanceof i.default.Color&&w<g.pixels.length&&(y=p.levels[0],v=p.levels[1],_=p.levels[2],x=p.levels[3]);for(var E=0;E<g._pixelDensity;E++)for(var T=0;T<g._pixelDensity;T++)w=4*((d*g._pixelDensity+T)*this.width*g._pixelDensity+(c*g._pixelDensity+E)),g.pixels[w]=y,g.pixels[w+1]=v,g.pixels[w+2]=_,g.pixels[w+3]=x}},i.default.Renderer2D.prototype.updatePixels=function(c,d,p,g){var y=this._pixelsState,v=y._pixelDensity;c===void 0&&d===void 0&&p===void 0&&g===void 0&&(d=c=0,p=this.width,g=this.height),c*=v,d*=v,p*=v,g*=v,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=y.imageData),this.drawingContext.putImageData(y.imageData,c,d,0,0,p,g)},i.default.Renderer2D.prototype._acuteArcToBezier=function(c,d){var v=d/2,p=Math.cos(v),x=Math.sin(v),g=1/Math.tan(v),v=c+v,y=Math.cos(v),v=Math.sin(v),_=(4-p)/3,x=x+(p-_)*g;return{ax:Math.cos(c).toFixed(7),ay:Math.sin(c).toFixed(7),bx:(_*y+x*v).toFixed(7),by:(_*v-x*y).toFixed(7),cx:(_*y-x*v).toFixed(7),cy:(_*v+x*y).toFixed(7),dx:Math.cos(c+d).toFixed(7),dy:Math.sin(c+d).toFixed(7)}},i.default.Renderer2D.prototype.arc=function(c,d,p,g,y,v,_){var x,w=this.drawingContext,E=p/2,T=g/2,M=[];for(c+=E,d+=T;1e-5<=v-y;)x=Math.min(v-y,u.HALF_PI),M.push(this._acuteArcToBezier(y,x)),y+=x;return this._doFill&&(w.beginPath(),M.forEach(function(j,P){P===0&&w.moveTo(c+j.ax*E,d+j.ay*T),w.bezierCurveTo(c+j.bx*E,d+j.by*T,c+j.cx*E,d+j.cy*T,c+j.dx*E,d+j.dy*T)}),_!==u.PIE&&_!=null||w.lineTo(c,d),w.closePath(),w.fill()),this._doStroke&&(w.beginPath(),M.forEach(function(j,P){P===0&&w.moveTo(c+j.ax*E,d+j.ay*T),w.bezierCurveTo(c+j.bx*E,d+j.by*T,c+j.cx*E,d+j.cy*T,c+j.dx*E,d+j.dy*T)}),_===u.PIE?(w.lineTo(c,d),w.closePath()):_===u.CHORD&&w.closePath(),w.stroke()),this},i.default.Renderer2D.prototype.ellipse=function(M){var d=this.drawingContext,p=this._doFill,g=this._doStroke,y=parseFloat(M[0]),v=parseFloat(M[1]),T=parseFloat(M[2]),M=parseFloat(M[3]);if(p&&!g){if(this._getFill()===m)return this}else if(!p&&g&&this._getStroke()===m)return this;var _=T/2*.5522847498,x=M/2*.5522847498,w=y+T,E=v+M,T=y+T/2,M=v+M/2;d.beginPath(),d.moveTo(y,M),d.bezierCurveTo(y,M-x,T-_,v,T,v),d.bezierCurveTo(T+_,v,w,M-x,w,M),d.bezierCurveTo(w,M+x,T+_,E,T,E),d.bezierCurveTo(T-_,E,y,M+x,y,M),p&&d.fill(),g&&d.stroke()},i.default.Renderer2D.prototype.line=function(c,d,p,g){var y=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(y.beginPath(),y.moveTo(c,d),y.lineTo(p,g),y.stroke()),this},i.default.Renderer2D.prototype.point=function(c,d){var p,g,y=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(p=this._getStroke(),g=this._getFill(),this._setFill(p),y.beginPath(),y.arc(c,d,y.lineWidth/2,0,u.TWO_PI,!1),y.fill(),void this._setFill(g))},i.default.Renderer2D.prototype.quad=function(c,d,p,g,y,v,_,x){var w=this.drawingContext,E=this._doFill,T=this._doStroke;if(E&&!T){if(this._getFill()===m)return this}else if(!E&&T&&this._getStroke()===m)return this;return w.beginPath(),w.moveTo(c,d),w.lineTo(p,g),w.lineTo(y,v),w.lineTo(_,x),w.closePath(),E&&w.fill(),T&&w.stroke(),this},i.default.Renderer2D.prototype.rect=function(T){var d,p,g=T[0],y=T[1],v=T[2],_=T[3],x=T[4],w=T[5],E=T[6],T=T[7],M=this.drawingContext,j=this._doFill,P=this._doStroke;if(j&&!P){if(this._getFill()===m)return this}else if(!j&&P&&this._getStroke()===m)return this;return M.beginPath(),x===void 0?M.rect(g,y,v,_):(w===void 0&&(w=x),E===void 0&&(E=w),T===void 0&&(T=E),P=(j=Math.abs(v))/2,p=(d=Math.abs(_))/2,d<2*(x=j<2*x?P:x)&&(x=p),d<2*(w=j<2*w?P:w)&&(w=p),d<2*(E=j<2*E?P:E)&&(E=p),d<2*(T=j<2*T?P:T)&&(T=p),M.beginPath(),M.moveTo(g+x,y),M.arcTo(g+v,y,g+v,y+_,w),M.arcTo(g+v,y+_,g,y+_,E),M.arcTo(g,y+_,g,y,T),M.arcTo(g,y,g+v,y,x),M.closePath()),this._doFill&&M.fill(),this._doStroke&&M.stroke(),this},i.default.Renderer2D.prototype.triangle=function(E){var d=this.drawingContext,p=this._doFill,g=this._doStroke,y=E[0],v=E[1],_=E[2],x=E[3],w=E[4],E=E[5];if(p&&!g){if(this._getFill()===m)return this}else if(!p&&g&&this._getStroke()===m)return this;d.beginPath(),d.moveTo(y,v),d.lineTo(_,x),d.lineTo(w,E),d.closePath(),p&&d.fill(),g&&d.stroke()},i.default.Renderer2D.prototype.endShape=function(c,d,p,g,y,v,_){if(d.length!==0&&(this._doStroke||this._doFill)){var x,w,E,T=c===u.CLOSE,M=(T&&!v&&d.push(d[0]),d.length);if(!p||_!==u.POLYGON&&_!==null)if(!g||_!==u.POLYGON&&_!==null)if(!y||_!==u.POLYGON&&_!==null)if(_===u.POINTS)for(w=0;w<M;w++)x=d[w],this._doStroke&&this._pInst.stroke(x[6]),this._pInst.point(x[0],x[1]);else if(_===u.LINES)for(w=0;w+1<M;w+=2)x=d[w],this._doStroke&&this._pInst.stroke(d[w+1][6]),this._pInst.line(x[0],x[1],d[w+1][0],d[w+1][1]);else if(_===u.TRIANGLES)for(w=0;w+2<M;w+=3)x=d[w],this.drawingContext.beginPath(),this.drawingContext.moveTo(x[0],x[1]),this.drawingContext.lineTo(d[w+1][0],d[w+1][1]),this.drawingContext.lineTo(d[w+2][0],d[w+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(d[w+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(d[w+2][6]),this.drawingContext.stroke());else if(_===u.TRIANGLE_STRIP)for(w=0;w+1<M;w++)x=d[w],this.drawingContext.beginPath(),this.drawingContext.moveTo(d[w+1][0],d[w+1][1]),this.drawingContext.lineTo(x[0],x[1]),this._doStroke&&this._pInst.stroke(d[w+1][6]),this._doFill&&this._pInst.fill(d[w+1][5]),w+2<M&&(this.drawingContext.lineTo(d[w+2][0],d[w+2][1]),this._doStroke&&this._pInst.stroke(d[w+2][6]),this._doFill&&this._pInst.fill(d[w+2][5])),this._doFillStrokeClose(T);else if(_===u.TRIANGLE_FAN){if(2<M){for(this.drawingContext.beginPath(),w=2;w<M;w++)x=d[w],this.drawingContext.moveTo(d[0][0],d[0][1]),this.drawingContext.lineTo(d[w-1][0],d[w-1][1]),this.drawingContext.lineTo(x[0],x[1]),this.drawingContext.lineTo(d[0][0],d[0][1]),w<M-1&&(this._doFill&&x[5]!==d[w+1][5]||this._doStroke&&x[6]!==d[w+1][6])&&(this._doFill&&(this._pInst.fill(x[5]),this.drawingContext.fill(),this._pInst.fill(d[w+1][5])),this._doStroke&&(this._pInst.stroke(x[6]),this.drawingContext.stroke(),this._pInst.stroke(d[w+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(T)}}else if(_===u.QUADS)for(w=0;w+3<M;w+=4){for(x=d[w],this.drawingContext.beginPath(),this.drawingContext.moveTo(x[0],x[1]),E=1;E<4;E++)this.drawingContext.lineTo(d[w+E][0],d[w+E][1]);this.drawingContext.lineTo(x[0],x[1]),this._doFill&&this._pInst.fill(d[w+3][5]),this._doStroke&&this._pInst.stroke(d[w+3][6]),this._doFillStrokeClose(T)}else if(_===u.QUAD_STRIP){if(3<M)for(w=0;w+1<M;w+=2)x=d[w],this.drawingContext.beginPath(),w+3<M?(this.drawingContext.moveTo(d[w+2][0],d[w+2][1]),this.drawingContext.lineTo(x[0],x[1]),this.drawingContext.lineTo(d[w+1][0],d[w+1][1]),this.drawingContext.lineTo(d[w+3][0],d[w+3][1]),this._doFill&&this._pInst.fill(d[w+3][5]),this._doStroke&&this._pInst.stroke(d[w+3][6])):(this.drawingContext.moveTo(x[0],x[1]),this.drawingContext.lineTo(d[w+1][0],d[w+1][1])),this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(d[0][0],d[0][1]),w=1;w<M;w++)(x=d[w]).isVert&&(x.moveTo?this.drawingContext.moveTo(x[0],x[1]):this.drawingContext.lineTo(x[0],x[1]));this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),w=0;w<M;w++)d[w].isVert?d[w].moveTo?this.drawingContext.moveTo(d[w][0],d[w][1]):this.drawingContext.lineTo(d[w][0],d[w][1]):this.drawingContext.quadraticCurveTo(d[w][0],d[w][1],d[w][2],d[w][3]);this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),w=0;w<M;w++)d[w].isVert?d[w].moveTo?this.drawingContext.moveTo(d[w][0],d[w][1]):this.drawingContext.lineTo(d[w][0],d[w][1]):this.drawingContext.bezierCurveTo(d[w][0],d[w][1],d[w][2],d[w][3],d[w][4],d[w][5]);this._doFillStrokeClose(T)}else if(3<M){var j=[],P=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(d[1][0],d[1][1]),w=1;w+2<M;w++)x=d[w],j[0]=[x[0],x[1]],j[1]=[x[0]+(P*d[w+1][0]-P*d[w-1][0])/6,x[1]+(P*d[w+1][1]-P*d[w-1][1])/6],j[2]=[d[w+1][0]+(P*d[w][0]-P*d[w+2][0])/6,d[w+1][1]+(P*d[w][1]-P*d[w+2][1])/6],j[3]=[d[w+1][0],d[w+1][1]],this.drawingContext.bezierCurveTo(j[1][0],j[1][1],j[2][0],j[2][1],j[3][0],j[3][1]);T&&this.drawingContext.lineTo(d[w+1][0],d[w+1][1]),this._doFillStrokeClose(T)}v=y=g=p=!1,T&&d.pop()}return this},i.default.Renderer2D.prototype.strokeCap=function(c){return c!==u.ROUND&&c!==u.SQUARE&&c!==u.PROJECT||(this.drawingContext.lineCap=c),this},i.default.Renderer2D.prototype.strokeJoin=function(c){return c!==u.ROUND&&c!==u.BEVEL&&c!==u.MITER||(this.drawingContext.lineJoin=c),this},i.default.Renderer2D.prototype.strokeWeight=function(c){return this.drawingContext.lineWidth=c===void 0||c===0?1e-4:c,this},i.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},i.default.Renderer2D.prototype._setFill=function(c){c!==this._cachedFillStyle&&(this.drawingContext.fillStyle=c,this._cachedFillStyle=c)},i.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},i.default.Renderer2D.prototype._setStroke=function(c){c!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=c,this._cachedStrokeStyle=c)},i.default.Renderer2D.prototype.bezier=function(c,d,p,g,y,v,_,x){return this._pInst.beginShape(),this._pInst.vertex(c,d),this._pInst.bezierVertex(p,g,y,v,_,x),this._pInst.endShape(),this},i.default.Renderer2D.prototype.curve=function(c,d,p,g,y,v,_,x){return this._pInst.beginShape(),this._pInst.curveVertex(c,d),this._pInst.curveVertex(p,g),this._pInst.curveVertex(y,v),this._pInst.curveVertex(_,x),this._pInst.endShape(),this},i.default.Renderer2D.prototype._doFillStrokeClose=function(c){c&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},i.default.Renderer2D.prototype.applyMatrix=function(c,d,p,g,y,v){this.drawingContext.transform(c,d,p,g,y,v)},i.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},i.default.Renderer2D.prototype.rotate=function(c){this.drawingContext.rotate(c)},i.default.Renderer2D.prototype.scale=function(c,d){return this.drawingContext.scale(c,d),this},i.default.Renderer2D.prototype.translate=function(c,d){return c instanceof i.default.Vector&&(d=c.y,c=c.x),this.drawingContext.translate(c,d),this},i.default.Renderer2D.prototype.text=function(c,d,p,_,y){_!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(v=!0,this.drawingContext.textBaseline=u.TOP);var v,_=i.default.Renderer.prototype.text.apply(this,arguments);return v&&(this.drawingContext.textBaseline=u.BASELINE),_},i.default.Renderer2D.prototype._renderText=function(c,d,p,g,y,v){if(!(g<v||y<=g))return c.push(),this._isOpenType()?this._textFont._renderPath(d,p,g,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(d,p,g),this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(d,p,g))),c.pop(),c},i.default.Renderer2D.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):this.drawingContext.measureText(c).width},i.default.Renderer2D.prototype._applyTextProperties=function(){var c,d=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),c=this._textFont,this._isOpenType()&&(c=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(c||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,d},i.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),i.default.Renderer.prototype.push.apply(this)},i.default.Renderer2D.prototype.pop=function(c){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i.default.Renderer.prototype.pop.call(this,c)},i.default.Renderer2D);l.default=a},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(t=t("./main"))&&t.__esModule?t:{default:t};s.default.prototype._promisePreloads=[];function n(){return{}}var i=!(s.default.prototype.registerPromisePreload=function(u){s.default.prototype._promisePreloads.push(u)});s.default.prototype._setupPromisePreloads=function(){var u=!0,f=!1,m=void 0;try{for(var a,c=this._promisePreloads[Symbol.iterator]();!(u=(a=c.next()).done);u=!0){var d=a.value,p=this,g=d.method,y=d.addCallbacks,v=d.legacyPreloadSetup,_=d.target||this,x=_[g].bind(_);if(_===s.default.prototype){if(i)continue;p=null,x=_[g]}_[g]=this._wrapPromisePreload(p,x,y),v&&(_[v.method]=this._legacyPreloadGenerator(p,v,_[g]))}}catch(w){f=!0,m=w}finally{try{u||c.return==null||c.return()}finally{if(f)throw m}}i=!0},s.default.prototype._wrapPromisePreload=function(u,f,m){var a=function(){for(var c=this,d=(this._incrementPreload(),null),p=null,g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(m)for(var _=y.length-1;0<=_&&!p&&typeof y[_]=="function";_--)p=d,d=y.pop();var x=Promise.resolve(f.apply(this,y));return d&&x.then(d),p&&x.catch(p),x.then(function(){return c._decrementPreload()}),x};return a=u?a.bind(u):a},s.default.prototype._legacyPreloadGenerator=function(u,c,m){var a=c.createBaseObject||n,c=function(){var d=this,p=(this._incrementPreload(),a.apply(this,arguments));return m.apply(this,arguments).then(function(g){Object.assign(p,g),d._decrementPreload()}),p};return c=u?c.bind(u):c}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(a=t("./main"))&&a.__esModule?a:{default:a},i=function(c){if(c&&c.__esModule)return c;if(c===null||f(c)!=="object"&&typeof c!="function")return{default:c};var d=u();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("./constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function f(c){return(f=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",a=(n.default.prototype.createCanvas=function(c,d,_){n.default._validateParameters("createCanvas",arguments);var g,y,v,_=_||i.P2D;if(_===i.WEBGL)(y=document.getElementById(m))&&(y.parentNode.removeChild(y),g=this._renderer,this._elements=this._elements.filter(function(w){return w!==g})),(y=document.createElement("canvas")).id=m,y.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)y=this.canvas;else{y=document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;m="defaultCanvas".concat(x),y.id=m,y.classList.add("p5Canvas")}return this._setupDone||(y.dataset.hidden=!0,y.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(v=document.createElement("main"),document.body.appendChild(v)),document.getElementsByTagName("main")[0])).appendChild(y),_===i.WEBGL?(this._setProperty("_renderer",new n.default.RendererGL(y,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new n.default.Renderer2D(y,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(c,d),this._renderer._applyDefaults(),this._renderer},n.default.prototype.resizeCanvas=function(c,d,p){if(n.default._validateParameters("resizeCanvas",arguments),this._renderer){var g,y,v={};for(g in this.drawingContext){var _=this.drawingContext[g];f(_)!=="object"&&typeof _!="function"&&(v[g]=_)}for(y in this._renderer.resize(c,d),this.width=c,this.height=d,v)try{this.drawingContext[y]=v[y]}catch{}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},n.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},n.default.prototype.createGraphics=function(c,d,p){return n.default._validateParameters("createGraphics",arguments),new n.default.Graphics(c,d,p,this)},n.default.prototype.blendMode=function(c){n.default._validateParameters("blendMode",arguments),c===i.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),c=i.BLEND),this._renderer.blendMode(c)},n.default);l.default=a},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function n(c){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=a(t("../main")),u=function(c){if(c&&c.__esModule)return c;if(c===null||n(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("../constants")),f=a(t("../helpers"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}function a(c){return c&&c.__esModule?c:{default:c}}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(c,d,p,g,y){var v;return c-=u.TWO_PI*Math.floor(c/u.TWO_PI),d-=u.TWO_PI*Math.floor(d/u.TWO_PI),v=Math.min(Math.abs(c-d),u.TWO_PI-Math.abs(c-d)),y&&(c=c<=u.HALF_PI?Math.atan(p/g*Math.tan(c)):c>u.HALF_PI&&c<=3*u.HALF_PI?Math.atan(p/g*Math.tan(c))+u.PI:Math.atan(p/g*Math.tan(c))+u.TWO_PI,d=d<=u.HALF_PI?Math.atan(p/g*Math.tan(d)):d>u.HALF_PI&&d<=3*u.HALF_PI?Math.atan(p/g*Math.tan(d))+u.PI:Math.atan(p/g*Math.tan(d))+u.TWO_PI),d<c&&(d+=u.TWO_PI),{start:c,stop:d,correspondToSamePoint:v<1e-5}},i.default.prototype.arc=function(c,d,p,g,y,v,_,x){return i.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&y!==v&&(y=this._toRadians(y),v=this._toRadians(v),p=Math.abs(p),g=Math.abs(g),c=f.default.modeAdjust(c,d,p,g,this._renderer._ellipseMode),(d=this._normalizeArcAngles(y,v,c.w,c.h,!0)).correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,x]):(this._renderer.arc(c.x,c.y,c.w,c.h,d.start,d.stop,_,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[c.x,c.y,c.w,c.h,d.start,d.stop,_]))),this},i.default.prototype.ellipse=function(c,d,p,g,y){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){i.default._validateParameters("circle",arguments);var c=Array.prototype.slice.call(arguments,0,2);return c.push(arguments[2]),c.push(arguments[2]),this._renderEllipse.apply(this,c)},i.default.prototype._renderEllipse=function(c,d,p,g,y){return(this._renderer._doStroke||this._renderer._doFill)&&(p<0&&(p=Math.abs(p)),g===void 0?g=p:g<0&&(g=Math.abs(g)),c=f.default.modeAdjust(c,d,p,g,this._renderer._ellipseMode),this._renderer.ellipse([c.x,c.y,c.w,c.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[c.x,c.y,c.w,c.h])),this},i.default.prototype.line=function(){for(var c,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return i.default._validateParameters("line",p),this._renderer._doStroke&&(c=this._renderer).line.apply(c,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",p),this},i.default.prototype.point=function(){for(var c,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return i.default._validateParameters("point",p),this._renderer._doStroke&&(p.length===1&&p[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,p[0].x,p[0].y,p[0].z):((c=this._renderer).point.apply(c,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",p))),this},i.default.prototype.quad=function(){for(var c,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return i.default._validateParameters("quad",p),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&p.length<=12?this._renderer.quad.call(this._renderer,p[0],p[1],0,p[2],p[3],0,p[4],p[5],0,p[6],p[7],0,p[8],p[9]):((c=this._renderer).quad.apply(c,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",p))),this},i.default.prototype.rect=function(){return i.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},i.default.prototype.square=function(c,d,p,g,y,v,_){return i.default._validateParameters("square",arguments),this._renderRect.call(this,c,d,p,p,g,y,v,_)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var c=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[c.x,c.y,c.w,c.h],p=4;p<arguments.length;p++)d[p]=arguments[p];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[c.x,c.y,c.w,c.h])}return this},i.default.prototype.triangle=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return i.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},t=i.default,l.default=t},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.prototype.ellipseMode=function(a){return i.default._validateParameters("ellipseMode",arguments),a!==u.CORNER&&a!==u.CORNERS&&a!==u.RADIUS&&a!==u.CENTER||(this._renderer._ellipseMode=a),this},i.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},i.default.prototype.rectMode=function(a){return i.default._validateParameters("rectMode",arguments),a!==u.CORNER&&a!==u.CORNERS&&a!==u.RADIUS&&a!==u.CENTER||(this._renderer._rectMode=a),this},i.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},i.default.prototype.strokeCap=function(a){return i.default._validateParameters("strokeCap",arguments),a!==u.ROUND&&a!==u.SQUARE&&a!==u.PROJECT||this._renderer.strokeCap(a),this},i.default.prototype.strokeJoin=function(a){return i.default._validateParameters("strokeJoin",arguments),a!==u.ROUND&&a!==u.BEVEL&&a!==u.MITER||this._renderer.strokeJoin(a),this},i.default.prototype.strokeWeight=function(a){return i.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var m=i.default;l.default=m},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(n=t("../main"))&&n.__esModule?n:{default:n};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype.bezier=function(){for(var i,u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];return s.default._validateParameters("bezier",f),(this._renderer._doStroke||this._renderer._doFill)&&(i=this._renderer).bezier.apply(i,f),this},s.default.prototype.bezierDetail=function(i){return s.default._validateParameters("bezierDetail",arguments),this._bezierDetail=i,this},s.default.prototype.bezierPoint=function(i,u,f,m,a){s.default._validateParameters("bezierPoint",arguments);var c=1-a;return Math.pow(c,3)*i+3*Math.pow(c,2)*a*u+3*c*Math.pow(a,2)*f+Math.pow(a,3)*m},s.default.prototype.bezierTangent=function(i,u,f,m,a){s.default._validateParameters("bezierTangent",arguments);var c=1-a;return 3*m*Math.pow(a,2)-3*f*Math.pow(a,2)+6*f*c*a-6*u*c*a+3*u*Math.pow(c,2)-3*i*Math.pow(c,2)},s.default.prototype.curve=function(){for(var i,u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];return s.default._validateParameters("curve",f),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,f),this},s.default.prototype.curveDetail=function(i){return s.default._validateParameters("curveDetail",arguments),this._curveDetail=i<3?3:i,this},s.default.prototype.curveTightness=function(i){return s.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=i,this},s.default.prototype.curvePoint=function(i,u,f,m,a){s.default._validateParameters("curvePoint",arguments);var c=a*a*a,d=a*a;return i*(-.5*c+d-.5*a)+u*(1.5*c-2.5*d+1)+f*(-1.5*c+2*d+.5*a)+m*(.5*c-.5*d)},s.default.prototype.curveTangent=function(i,u,f,m,a){s.default._validateParameters("curveTangent",arguments);var c=a*a;return i*(-3*c/2+2*a-.5)+u*(9*c/2-5*a)+f*(-9*c/2+4*a+.5)+m*(3*c/2-a)};var n=s.default;l.default=n},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(t,o,l){function s(x){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function n(x){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(w){return s(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":s(w)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(_=t("../main"))&&_.__esModule?_:{default:_},u=function(x){if(x&&x.__esModule)return x;if(x===null||n(x)!=="object"&&typeof x!="function")return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var E,T={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in x){var j;Object.prototype.hasOwnProperty.call(x,E)&&((j=M?Object.getOwnPropertyDescriptor(x,E):null)&&(j.get||j.set)?Object.defineProperty(T,E,j):T[E]=x[E])}return T.default=x,w&&w.set(x,T),T}(t("../constants"));function f(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,f=function(){return x},x)}var m=null,a=[],c=[],d=!1,p=!1,g=!1,y=!1,v=!0,_=(i.default.prototype.beginContour=function(){return c=[],y=!0,this},i.default.prototype.beginShape=function(x){var w;return i.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(w=this._renderer).beginShape.apply(w,arguments):(m=x===u.POINTS||x===u.LINES||x===u.TRIANGLES||x===u.TRIANGLE_FAN||x===u.TRIANGLE_STRIP||x===u.QUADS||x===u.QUAD_STRIP?x:null,a=[],c=[]),this},i.default.prototype.bezierVertex=function(){for(var x,w=arguments.length,E=new Array(w),T=0;T<w;T++)E[T]=arguments[T];if(i.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(x=this._renderer).bezierVertex.apply(x,E);else if(a.length===0)i.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var M=[],j=0;j<E.length;j++)M[j]=E[j];M.isVert=!1,(y?c:a).push(M)}return this},i.default.prototype.curveVertex=function(){for(var x,w=arguments.length,E=new Array(w),T=0;T<w;T++)E[T]=arguments[T];return i.default._validateParameters("curveVertex",E),this._renderer.isP3D?(x=this._renderer).curveVertex.apply(x,E):(p=!0,this.vertex(E[0],E[1])),this},i.default.prototype.endContour=function(){var x=c[0].slice();x.isVert=c[0].isVert,x.moveTo=!1,c.push(x),v&&(a.push(a[0]),v=!1);for(var w=0;w<c.length;w++)a.push(c[w]);return this},i.default.prototype.endShape=function(x){if(i.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(x,p,d,g,y,m);else{if(a.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var w=x===u.CLOSE;w&&!y&&a.push(a[0]),this._renderer.endShape(x,a,p,d,g,y,m),v=!(y=g=d=p=!1),w&&a.pop()}return this},i.default.prototype.quadraticVertex=function(){for(var x,w=arguments.length,E=new Array(w),T=0;T<w;T++)E[T]=arguments[T];if(i.default._validateParameters("quadraticVertex",E),this._renderer.isP3D)(x=this._renderer).quadraticVertex.apply(x,E);else{if(this._contourInited)return(x={}).x=E[0],x.y=E[1],x.x3=E[2],x.y3=E[3],x.type=u.QUADRATIC,this._contourVertices.push(x),this;if(0<a.length){g=!0;for(var M=[],j=0;j<E.length;j++)M[j]=E[j];M.isVert=!1,(y?c:a).push(M)}else i.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.default.prototype.vertex=function(x,w,E,T,M){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=x,j[1]=w,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),E&&(j.moveTo=E),(y?(c.length===0&&(j.moveTo=!0),c):a).push(j)),this},i.default.prototype.normal=function(x,w,E){var T;return this._assert3d("normal"),i.default._validateParameters("normal",arguments),(T=this._renderer).normal.apply(T,arguments),this},i.default);l.default=_},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(t,o,l){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(m)}function n(m){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(m)}var i,u,f;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m,a){window.setTimeout(m,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(i=Object.keys,t=Object.defineProperty,u=typeof Symbol=="function"&&n(Symbol())==="symbol",f=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(m,a){if(m==null)throw new TypeError("target must be an object");for(var c,d,p,g=Object(m),y=1;y<arguments.length;++y)for(c=Object(arguments[y]),p=i(c),u&&Object.getOwnPropertySymbols&&p.push.apply(p,Object.getOwnPropertySymbols(c).filter(function(v){return function(_){return f.call(v,_)}}(c))),d=0;d<p.length;++d)g[p[d]]=c[p[d]];return g},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(t,o,l){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var s=this._styles.pop();s?(this._renderer.pop(s.renderer),Object.assign(this,s.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(s){if(!this._inUserDraw&&this._setupDone){var n=parseInt(s),i=((isNaN(n)||n<1)&&(n=1),this._isGlobal?window:this);if(typeof i.draw=="function"){i.setup===void 0&&i.scale(i._pixelDensity,i._pixelDensity);for(var u=function(m){m.call(i)},f=0;f<n;f++){i.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),i._registeredMethods.pre.forEach(u),this._inUserDraw=!0;try{i.draw()}finally{this._inUserDraw=!1}i._registeredMethods.post.forEach(u)}}}},t=t.default,l.default=t},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function n(i){return function(u){if(Array.isArray(u)){for(var f=0,m=new Array(u.length);f<u.length;f++)m[f]=u[f];return m}}(i)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.applyMatrix=function(){var i=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||i?(i=this._renderer).applyMatrix.apply(i,n(arguments[0])):(i=this._renderer).applyMatrix.apply(i,arguments),this},s.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},s.default.prototype.rotate=function(i,u){return s.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(i),u),this},s.default.prototype.rotateX=function(i){return this._assert3d("rotateX"),s.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(i)),this},s.default.prototype.rotateY=function(i){return this._assert3d("rotateY"),s.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(i)),this},s.default.prototype.rotateZ=function(i){return this._assert3d("rotateZ"),s.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(i)),this},s.default.prototype.scale=function(i,u,f){var m;return s.default._validateParameters("scale",arguments),i instanceof s.default.Vector?(i=(m=i).x,u=m.y,f=m.z):i instanceof Array&&(i=(m=i)[0],u=m[1],f=m[2]||1),isNaN(u)?u=f=i:isNaN(f)&&(f=1),this._renderer.scale.call(this._renderer,i,u,f),this},s.default.prototype.shearX=function(i){return s.default._validateParameters("shearX",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},s.default.prototype.shearY=function(i){return s.default._validateParameters("shearY",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},s.default.prototype.translate=function(i,u,f){return s.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(i,u,f):this._renderer.translate(i,u),this},t=s.default,l.default=t},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(t,o,l){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(f){return function(m){if(Array.isArray(m)){for(var a=0,c=new Array(m.length);a<m.length;a++)c[a]=m[a];return c}}(f)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(f){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(f)}n.default.prototype.storeItem=function(f,m){typeof f!="string"&&console.log("The argument that you passed to storeItem() - ".concat(f," is not a string.")),f.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(f," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var a=u(m);switch(a){case"number":case"boolean":m=m.toString();break;case"object":m instanceof n.default.Color?a="p5.Color":m instanceof n.default.Vector&&(a="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(f,m),f="".concat(f,"p5TypeID"),localStorage.setItem(f,a)},n.default.prototype.getItem=function(f){var m=localStorage.getItem(f),a=localStorage.getItem("".concat(f,"p5TypeID"));if(a===void 0)console.log("Unable to determine type of item stored under ".concat(f,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(a){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,i(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,i(m))}return m},n.default.prototype.clearStorage=function(){localStorage.clear()},n.default.prototype.removeItem=function(f){typeof f!="string"&&console.log("The argument that you passed to removeItem() - ".concat(f," is not a string.")),localStorage.removeItem(f),localStorage.removeItem("".concat(f,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.createStringDict=function(n,i){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(n,i)},s.default.prototype.createNumberDict=function(n,i){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(n,i)},s.default.TypedDict=function(n,i){return n instanceof Object?this.data=n:(this.data={},this.data[n]=i),this},s.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},s.default.TypedDict.prototype.hasKey=function(n){return this.data.hasOwnProperty(n)},s.default.TypedDict.prototype.get=function(n){if(this.data.hasOwnProperty(n))return this.data[n];console.log("".concat(n," does not exist in this Dictionary"))},s.default.TypedDict.prototype.set=function(n,i){this._validate(i)?this.data[n]=i:console.log("Those values dont work for this dictionary type.")},s.default.TypedDict.prototype._addObj=function(n){for(var i in n)this.set(i,n[i])},s.default.TypedDict.prototype.create=function(n,i){n instanceof Object&&i===void 0?this._addObj(n):n!==void 0?this.set(n,i):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},s.default.TypedDict.prototype.clear=function(){this.data={}},s.default.TypedDict.prototype.remove=function(n){if(!this.data.hasOwnProperty(n))throw new Error("".concat(n," does not exist in this Dictionary"));delete this.data[n]},s.default.TypedDict.prototype.print=function(){for(var n in this.data)console.log("key:".concat(n," value:").concat(this.data[n]))},s.default.TypedDict.prototype.saveTable=function(n){var i,u="";for(i in this.data)u+="".concat(i,",").concat(this.data[i],`
`);var f=new Blob([u],{type:"text/csv"});s.default.prototype.downloadFile(f,n||"mycsv","csv")},s.default.TypedDict.prototype.saveJSON=function(n,i){s.default.prototype.saveJSON(this.data,n,i)},s.default.TypedDict.prototype._validate=function(n){return!0},s.default.StringDict=function(){for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];s.default.TypedDict.apply(this,i)},s.default.StringDict.prototype=Object.create(s.default.TypedDict.prototype),s.default.StringDict.prototype._validate=function(n){return typeof n=="string"},s.default.NumberDict=function(){for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];s.default.TypedDict.apply(this,i)},s.default.NumberDict.prototype=Object.create(s.default.TypedDict.prototype),s.default.NumberDict.prototype._validate=function(n){return typeof n=="number"},s.default.NumberDict.prototype.add=function(n,i){this.data.hasOwnProperty(n)?this.data[n]+=i:console.log("The key - ".concat(n," does not exist in this dictionary."))},s.default.NumberDict.prototype.sub=function(n,i){this.add(n,-i)},s.default.NumberDict.prototype.mult=function(n,i){this.data.hasOwnProperty(n)?this.data[n]*=i:console.log("The key - ".concat(n," does not exist in this dictionary."))},s.default.NumberDict.prototype.div=function(n,i){this.data.hasOwnProperty(n)?this.data[n]/=i:console.log("The key - ".concat(n," does not exist in this dictionary."))},s.default.NumberDict.prototype._valueTest=function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var i,u=this.data[Object.keys(this.data)[0]];for(i in this.data)this.data[i]*n<u*n&&(u=this.data[i]);return u},s.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},s.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},s.default.NumberDict.prototype._keyTest=function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var i=Object.keys(this.data)[0],u=1;u<Object.keys(this.data).length;u++)Object.keys(this.data)[u]*n<i*n&&(i=Object.keys(this.data)[u]);return i},s.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},s.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t=s.default.TypedDict,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(a){return(i=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}function u(a,c,d){return(c._userNode||document.body).appendChild(a),d=new(d?n.default.MediaElement:n.default.Element)(a,c),c._elements.push(d),d}function f(a,v,d,p){var g=document.createElement(v),y=(typeof(d=d||"")=="string"&&(d=[d]),!0),v=!1,_=void 0;try{for(var x,w=d[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var E=x.value,T=document.createElement("source");T.setAttribute("src",E),g.appendChild(T)}}catch(j){v=!0,_=j}finally{try{y||w.return==null||w.return()}finally{if(v)throw _}}typeof p=="function"&&g.addEventListener("canplaythrough",function j(){p(),g.removeEventListener("canplaythrough",j)});var M=u(g,a,!0);return M.loadedmetadata=!1,g.addEventListener("loadedmetadata",function(){M.width=g.videoWidth,M.height=g.videoHeight,M.elt.width===0&&(M.elt.width=g.videoWidth),M.elt.height===0&&(M.elt.height=g.videoHeight),M.presetPlaybackRate&&(M.elt.playbackRate=M.presetPlaybackRate,delete M.presetPlaybackRate),M.loadedmetadata=!0}),M}n.default.prototype.select=function(a,c){return n.default._validateParameters("select",arguments),c=this._getContainer(c).querySelector(a),c?this._wrapElement(c):null},n.default.prototype.selectAll=function(a,c){n.default._validateParameters("selectAll",arguments);var d=[],p=this._getContainer(c).querySelectorAll(a);if(p)for(var g=0;g<p.length;g++){var y=this._wrapElement(p[g]);d.push(y)}return d},n.default.prototype._getContainer=function(a){var c=document;return typeof a=="string"?c=document.querySelector(a)||document:a instanceof n.default.Element?c=a.elt:a instanceof HTMLElement&&(c=a),c},n.default.prototype._wrapElement=function(a){var c,d=Array.prototype.slice.call(a.children);return a.tagName==="INPUT"&&a.type==="checkbox"?((c=new n.default.Element(a,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},c):a.tagName==="VIDEO"||a.tagName==="AUDIO"?new n.default.MediaElement(a,this):a.tagName==="SELECT"?this.createSelect(new n.default.Element(a,this)):0<d.length&&d.every(function(p){return p.tagName==="INPUT"||p.tagName==="LABEL"})?this.createRadio(new n.default.Element(a,this)):new n.default.Element(a,this)},n.default.prototype.removeElements=function(a){n.default._validateParameters("removeElements",arguments),this._elements.filter(function(c){return!(c.elt instanceof HTMLCanvasElement)}).map(function(c){return c.remove()})},n.default.Element.prototype.changed=function(a){return n.default.Element._adjustListener("change",a,this),this},n.default.Element.prototype.input=function(a){return n.default.Element._adjustListener("input",a,this),this},n.default.prototype.createDiv=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("div");return c.innerHTML=a,u(c,this)},n.default.prototype.createP=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("p");return c.innerHTML=a,u(c,this)},n.default.prototype.createSpan=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("span");return c.innerHTML=a,u(c,this)},n.default.prototype.createImg=function(){n.default._validateParameters("createImg",arguments);var a,c=document.createElement("img"),d=arguments;return 1<d.length&&typeof d[1]=="string"&&(c.alt=d[1]),2<d.length&&typeof d[2]=="string"&&(c.crossOrigin=d[2]),c.src=d[0],a=u(c,this),c.addEventListener("load",function(){a.width=c.offsetWidth||c.width,a.height=c.offsetHeight||c.height;var p=d[d.length-1];typeof p=="function"&&p(a)}),a},n.default.prototype.createA=function(a,c,d){n.default._validateParameters("createA",arguments);var p=document.createElement("a");return p.href=a,p.innerHTML=c,d&&(p.target=d),u(p,this)},n.default.prototype.createSlider=function(a,c,d,p){n.default._validateParameters("createSlider",arguments);var g=document.createElement("input");return g.type="range",g.min=a,g.max=c,p===0?g.step=1e-18:p&&(g.step=p),typeof d=="number"&&(g.value=d),u(g,this)},n.default.prototype.createButton=function(a,c){n.default._validateParameters("createButton",arguments);var d=document.createElement("button");return d.innerHTML=a,c&&(d.value=c),u(d,this)},n.default.prototype.createCheckbox=function(){n.default._validateParameters("createCheckbox",arguments);var a=document.createElement("div"),c=document.createElement("input"),d=(c.type="checkbox",document.createElement("label")),p=(d.appendChild(c),a.appendChild(d),u(a,this));return p.checked=function(){var g=p.elt.firstElementChild.getElementsByTagName("input")[0];if(g){if(arguments.length===0)return g.checked;g.checked=!!arguments[0]}return p},this.value=function(g){return p.value=g,this},arguments[0]&&(p.value(arguments[0]),(a=document.createElement("span")).innerHTML=arguments[0],d.appendChild(a)),arguments[1]&&(c.checked=!0),p},n.default.prototype.createSelect=function(){n.default._validateParameters("createSelect",arguments);var a,c,d=arguments[0];return d instanceof n.default.Element&&d.elt instanceof HTMLSelectElement?this.elt=(a=d).elt:d instanceof HTMLSelectElement?(a=u(d,this),this.elt=d):(c=document.createElement("select"),d&&typeof d=="boolean"&&c.setAttribute("multiple","true"),a=u(c,this),this.elt=c),a.option=function(p,g){var y;if(p!==void 0){for(var v,_=0;_<this.elt.length;_+=1)if(this.elt[_].textContent===p){y=_;break}y!==void 0?g===!1?this.elt.remove(y):this.elt[y].value=g:((v=document.createElement("option")).textContent=p,v.value=g===void 0?p:g,this.elt.appendChild(v),this._pInst._elements.push(v))}},a.selected=function(p){if(p!==void 0){for(var g=0;g<this.elt.length;g+=1)this.elt[g].value.toString()===p.toString()&&(this.elt.selectedIndex=g);return this}if(this.elt.getAttribute("multiple")){var y=[],v=!0,_=!1,x=void 0;try{for(var w,E=this.elt.selectedOptions[Symbol.iterator]();!(v=(w=E.next()).done);v=!0){var T=w.value;y.push(T.value)}}catch(M){_=!0,x=M}finally{try{v||E.return==null||E.return()}finally{if(_)throw x}}return y}return this.elt.value},a.disable=function(p){if(typeof p=="string")for(var g=0;g<this.elt.length;g++)this.elt[g].value.toString()===p&&(this.elt[g].disabled=!0,this.elt[g].selected=!1);else this.elt.disabled=!0;return this},a},n.default.prototype.createRadio=function(){function a(v){return v instanceof HTMLInputElement&&v.type==="radio"}function c(v){return v instanceof HTMLLabelElement}var d,p,g,y=arguments[0];return y instanceof n.default.Element&&(y.elt instanceof HTMLDivElement||y.elt instanceof HTMLSpanElement)?(d=y,this.elt=y.elt):y instanceof HTMLDivElement||y instanceof HTMLSpanElement?(d=u(y,this),p=this.elt=y,typeof arguments[1]=="string"&&(g=arguments[1])):(typeof y=="string"&&(g=y),p=document.createElement("div"),d=u(p,this),this.elt=p),d._name=g||"radioOption",d._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(v){return a(v)||c(v)&&a(v.firstElementChild)}).map(function(v){return a(v)?v:v.firstElementChild})},d.option=function(v,_){var x,w,E,T=!0,M=!1,j=void 0;try{for(var P,L=d._getOptionsArray()[Symbol.iterator]();!(T=(P=L.next()).done);T=!0){var N=P.value;if(N.value===v){x=N;break}}}catch(O){M=!0,j=O}finally{try{T||L.return==null||L.return()}finally{if(M)throw j}}return x===void 0&&((x=document.createElement("input")).setAttribute("type","radio"),x.setAttribute("value",v)),x.setAttribute("name",d._name),c(x.parentElement)?w=x.parentElement:(w=document.createElement("label")).insertAdjacentElement("afterbegin",x),w.lastElementChild instanceof HTMLSpanElement?E=w.lastElementChild:(E=document.createElement("span"),x.insertAdjacentElement("afterend",E)),E.innerHTML=_===void 0?v:_,this.elt.appendChild(w),x},d.remove=function(v){var _=!0,x=!1,w=void 0;try{for(var E,T=d._getOptionsArray()[Symbol.iterator]();!(_=(E=T.next()).done);_=!0){var M=E.value;if(M.value===v)return void(c(M.parentElement)?M.parentElement:M).remove()}}catch(j){x=!0,w=j}finally{try{_||T.return==null||T.return()}finally{if(x)throw w}}},d.value=function(){var v="",_=!0,x=!1,w=void 0;try{for(var E,T=d._getOptionsArray()[Symbol.iterator]();!(_=(E=T.next()).done);_=!0){var M=E.value;if(M.checked){v=M.value;break}}}catch(j){x=!0,w=j}finally{try{_||T.return==null||T.return()}finally{if(x)throw w}}return v},d.selected=function(v){var _=null;if(v===void 0){var x=!0,w=!1,E=void 0;try{for(var T,M=d._getOptionsArray()[Symbol.iterator]();!(x=(T=M.next()).done);x=!0){var j=T.value;if(j.checked){_=j;break}}}catch(k){w=!0,E=k}finally{try{x||M.return==null||M.return()}finally{if(w)throw E}}}else{d._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var P=!0,w=!1,E=void 0;try{for(var L,N=d._getOptionsArray()[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var O=L.value;O.value===v&&(O.setAttribute("checked",!0),O.checked=!0,_=O)}}catch(Y){w=!0,E=Y}finally{try{P||N.return==null||N.return()}finally{if(w)throw E}}}return _},d.disable=function(){var v=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],_=!0,x=!1,w=void 0;try{for(var E,T=d._getOptionsArray()[Symbol.iterator]();!(_=(E=T.next()).done);_=!0)E.value.setAttribute("disabled",v)}catch(M){x=!0,w=M}finally{try{_||T.return==null||T.return()}finally{if(x)throw w}}},d},n.default.prototype.createColorPicker=function(a){n.default._validateParameters("createColorPicker",arguments);var c=document.createElement("input");return c.type="color",a?a instanceof n.default.Color?c.value=a.toString("#rrggbb"):(n.default.prototype._colorMode="rgb",n.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},c.value=n.default.prototype.color(a).toString("#rrggbb")):c.value="#000000",(c=u(c,this)).color=function(){return a&&(a.mode&&(n.default.prototype._colorMode=a.mode),a.maxes&&(n.default.prototype._colorMaxes=a.maxes)),n.default.prototype.color(this.elt.value)},c},n.default.prototype.createInput=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",d=(n.default._validateParameters("createInput",arguments),document.createElement("input"));return d.setAttribute("value",a),d.setAttribute("type",c),u(d,this)},n.default.prototype.createFileInput=function(a){var c,d=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(n.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(c=document.createElement("input")).setAttribute("type","file"),d&&c.setAttribute("multiple",!0),c.addEventListener("change",function(p){var g=!0,y=!1,v=void 0;try{for(var _,x=p.target.files[Symbol.iterator]();!(g=(_=x.next()).done);g=!0){var w=_.value;n.default.File._load(w,a)}}catch(E){y=!0,v=E}finally{try{g||x.return==null||x.return()}finally{if(y)throw v}}},!1),u(c,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},n.default.prototype.createVideo=function(a,c){return n.default._validateParameters("createVideo",arguments),f(this,"video",a,c)},n.default.prototype.createAudio=function(a,c){return n.default._validateParameters("createAudio",arguments),f(this,"audio",a,c)},n.default.prototype.VIDEO="video",n.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(a){var c=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return c?new Promise(function(d,p){c.call(navigator,a,d,p)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),n.default.prototype.createCapture=function(){if(n.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var a,c=!0,d=!0,p=!0,g=!1,y=void 0;try{for(var v,_=arguments[Symbol.iterator]();!(p=(v=_.next()).done);p=!0){var x=v.value;x===n.default.prototype.VIDEO?d=!1:x===n.default.prototype.AUDIO?c=!1:i(x)==="object"?w=x:typeof x=="function"&&(a=x)}}catch(M){g=!0,y=M}finally{try{p||_.return==null||_.return()}finally{if(g)throw y}}var w=w||{video:c,audio:d},E=document.createElement("video"),T=(E.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(w).then(function(M){try{"srcObject"in E?E.srcObject=M:E.src=window.URL.createObjectURL(M)}catch{E.src=M}},console.log),u(E,this,!0));return T.loadedmetadata=!1,E.addEventListener("loadedmetadata",function(){E.play(),E.width?(T.width=E.width,T.height=E.height):(T.width=T.elt.width=E.videoWidth,T.height=T.elt.height=E.videoHeight),T.loadedmetadata=!0,a&&a(E.srcObject)}),T},n.default.prototype.createElement=function(a,c){return n.default._validateParameters("createElement",arguments),a=document.createElement(a),c!==void 0&&(a.innerHTML=c),u(a,this)},n.default.Element.prototype.addClass=function(a){return this.elt.className?this.hasClass(a)||(this.elt.className=this.elt.className+" "+a):this.elt.className=a,this},n.default.Element.prototype.removeClass=function(a){return this.elt.classList.remove(a),this},n.default.Element.prototype.hasClass=function(a){return this.elt.classList.contains(a)},n.default.Element.prototype.toggleClass=function(a){return this.elt.classList.contains(a)?this.elt.classList.remove(a):this.elt.classList.add(a),this},n.default.Element.prototype.child=function(a){return a===void 0?this.elt.childNodes:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof n.default.Element&&(a=a.elt),a instanceof HTMLElement&&this.elt.appendChild(a),this)},n.default.Element.prototype.center=function(a){var c=this.elt.style.display,d=this.elt.style.display==="none",p=this.parent().style.display==="none",g={x:this.elt.offsetLeft,y:this.elt.offsetTop},y=(d&&this.show(),p&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),v=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return a==="both"||a===void 0?this.position(y/2+this.parent().offsetLeft,v/2+this.parent().offsetTop):a==="horizontal"?this.position(y/2+this.parent().offsetLeft,g.y):a==="vertical"&&this.position(g.x,v/2+this.parent().offsetTop),this.style("display",c),d&&this.hide(),p&&this.parent().hide(),this},n.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},n.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},n.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=a,this},n.default.Element.prototype._rotate=function(){var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=a,this},n.default.Element.prototype.style=function(a,c){if((c=c instanceof n.default.Color?"rgba("+c.levels[0]+","+c.levels[1]+","+c.levels[2]+","+c.levels[3]/255+")":c)===void 0){if(a.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(a);for(var d=a.split(";"),p=0;p<d.length;p++){var g=d[p].split(":");g[0]&&g[1]&&(this.elt.style[g[0].trim()]=g[1].trim())}}else this.elt.style[a]=c,a!=="width"&&a!=="height"&&a!=="left"&&a!=="top"||(c=window.getComputedStyle(this.elt).getPropertyValue(a).replace(/[^\d.]/g,""),this[a]=Math.round(parseFloat(c,10)));return this},n.default.Element.prototype.attribute=function(a,c){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return c===void 0?this.elt.getAttribute(a):(this.elt.setAttribute(a,c),this);if(c===void 0)return this.elt.firstChild.getAttribute(a);for(var d=0;d<this.elt.childNodes.length;d++)this.elt.childNodes[d].setAttribute(a,c)},n.default.Element.prototype.removeAttribute=function(a){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var c=0;c<this.elt.childNodes.length;c++)this.elt.childNodes[c].removeAttribute(a);return this.elt.removeAttribute(a),this},n.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},n.default.Element.prototype.show=function(){return this.elt.style.display="block",this},n.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},n.default.Element.prototype.size=function(a,c){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var d=a,p=c,g=n.default.prototype.AUTO;if(d!==g||p!==g){if(d===g?d=c*this.width/this.height:p===g&&(p=a*this.height/this.width),this.elt instanceof HTMLCanvasElement){var y,v={},_=this.elt.getContext("2d");for(y in _)v[y]=_[y];for(y in this.elt.setAttribute("width",d*this._pInst._pixelDensity),this.elt.setAttribute("height",p*this._pInst._pixelDensity),this.elt.style.width=d+"px",this.elt.style.height=p+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),v)this.elt.getContext("2d")[y]=v[y]}else this.elt.style.width=d+"px",this.elt.style.height=p+"px",this.elt.width=d,this.elt.height=p;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},n.default.Element.prototype.remove=function(){this instanceof n.default.MediaElement&&(this.stop(),(c=this.elt.srcObject)!==null&&c.getTracks().forEach(function(d){d.stop()}));var a,c=this._pInst._elements.indexOf(this);for(a in c!==-1&&this._pInst._elements.splice(c,1),this._events)this.elt.removeEventListener(a,this._events[a]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},n.default.Element.prototype.drop=function(a,c){var d;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",d=function(p){p.preventDefault()}),this.elt.addEventListener("dragleave",d)),n.default.Element._attachListener("drop",function(p){p.preventDefault(),typeof c=="function"&&c.call(this,p);for(var g=p.dataTransfer.files,y=0;y<g.length;y++){var v=g[y];n.default.File._load(v,a)}},this)):console.log("The File APIs are not fully supported in this browser."),this},n.default.MediaElement=function(a,c){n.default.Element.call(this,a,c);var d=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(d,"src",{get:function(){var p=d.elt.children[0].src,g=d.elt.src===window.location.href?"":d.elt.src;return p===window.location.href?g:p},set:function(p){for(var g=0;g<d.elt.children.length;g++)d.elt.removeChild(d.elt.children[g]);var y=document.createElement("source");y.src=p,a.appendChild(y),d.elt.src=p,d.modified=!0}}),d._onended=function(){},d.elt.onended=function(){d._onended(d)}},n.default.MediaElement.prototype=Object.create(n.default.Element.prototype),n.default.MediaElement.prototype.play=function(){var a,c=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(a=this.elt.play())&&a.catch&&a.catch(function(d){d.name==="NotAllowedError"?n.default._friendlyAutoplayError(c.src):console.error("Media play method encountered an unexpected error",d)}),this},n.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},n.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},n.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},n.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},n.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var a=this,c=setTimeout(function(){return n.default._friendlyAutoplayError(a.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(c)},{passive:!0,once:!0})},n.default.MediaElement.prototype.autoplay=function(a){var c=this,d=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",a),a&&!d&&(a=function(){return c._setupAutoplayFailDetection()},this.elt.readyState===4?a():this.elt.addEventListener("canplay",a,{passive:!0,once:!0})),this},n.default.MediaElement.prototype.volume=function(a){if(a===void 0)return this.elt.volume;this.elt.volume=a},n.default.MediaElement.prototype.speed=function(a){if(a===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=a:this.presetPlaybackRate=a},n.default.MediaElement.prototype.time=function(a){return a===void 0?this.elt.currentTime:(this.elt.currentTime=a,this)},n.default.MediaElement.prototype.duration=function(){return this.elt.duration},n.default.MediaElement.prototype.pixels=[],n.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},n.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},n.default.MediaElement.prototype.updatePixels=function(a,c,d,p){return this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.updatePixels.call(this,a,c,d,p)),this.setModified(!0),this},n.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),n.default.Renderer2D.prototype._getPixel.apply(this,arguments)},n.default.MediaElement.prototype.set=function(a,c,d){this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.set.call(this,a,c,d),this.setModified(!0))},n.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),n.default.prototype.copy.apply(this,arguments)},n.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),n.default.Image.prototype.mask.apply(this,arguments)},n.default.MediaElement.prototype.isModified=function(){return this._modified},n.default.MediaElement.prototype.setModified=function(a){this._modified=a},n.default.MediaElement.prototype.onended=function(a){return this._onended=a,this},n.default.MediaElement.prototype.connect=function(a){var c,d;if(typeof n.default.prototype.getAudioContext=="function")c=n.default.prototype.getAudioContext(),d=n.default.soundOut.input;else try{d=(c=a.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=c.createMediaElementSource(this.elt),this.audioSourceNode.connect(d)),a?a.input?this.audioSourceNode.connect(a.input):this.audioSourceNode.connect(a):this.audioSourceNode.connect(d)},n.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},n.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},n.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function m(a,c,d,p){this.callback=a,this.time=c,this.id=d,this.val=p}n.default.MediaElement.prototype.addCue=function(a,g,d){var p=this._cueIDCounter++,g=new m(g,a,p,d);return this._cues.push(g),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),p},n.default.MediaElement.prototype.removeCue=function(a){for(var c=0;c<this._cues.length;c++)this._cues[c].id===a&&(console.log(a),this._cues.splice(c,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},n.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},n.default.MediaElement.prototype._onTimeUpdate=function(){for(var a=this.time(),c=0;c<this._cues.length;c++){var d=this._cues[c].time,p=this._cues[c].val;this._prevTime<d&&d<=a&&this._cues[c].callback(p)}this._prevTime=a},n.default.File=function(a,c){this.file=a,this._pInst=c,c=a.type.split("/"),this.type=c[0],this.subtype=c[1],this.name=a.name,this.size=a.size,this.data=void 0},n.default.File._createLoader=function(a,c){var d=new FileReader;return d.onload=function(p){var g,y=new n.default.File(a);y.file.type==="application/json"?y.data=JSON.parse(p.target.result):y.file.type==="text/xml"?(g=new DOMParser().parseFromString(p.target.result,"text/xml"),y.data=new n.default.XML(g.documentElement)):y.data=p.target.result,c(y)},d},n.default.File._load=function(a,c){var d;/^text\//.test(a.type)||a.type==="application/json"?n.default.File._createLoader(a,c).readAsText(a):/^(video|audio)\//.test(a.type)?((d=new n.default.File(a)).data=URL.createObjectURL(a),c(d)):n.default.File._createLoader(a,c).readAsDataURL(a)},t=n.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(t,o,l){function s(x){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function n(x){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(w){return s(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":s(w)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(_=t("../core/main"))&&_.__esModule?_:{default:_},u=function(x){if(x&&x.__esModule)return x;if(x===null||n(x)!=="object"&&typeof x!="function")return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var E,T={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in x){var j;Object.prototype.hasOwnProperty.call(x,E)&&((j=M?Object.getOwnPropertyDescriptor(x,E):null)&&(j.get||j.set)?Object.defineProperty(T,E,j):T[E]=x[E])}return T.default=x,w&&w.set(x,T),T}(t("../core/constants"));function f(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,f=function(){return x},x)}i.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",i.default.prototype.accelerationX=0,i.default.prototype.accelerationY=0,i.default.prototype.accelerationZ=0,i.default.prototype.pAccelerationX=0,i.default.prototype.pAccelerationY=0,i.default.prototype.pAccelerationZ=0,i.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},i.default.prototype.rotationX=0,i.default.prototype.rotationY=0,i.default.prototype.rotationZ=0,i.default.prototype.pRotationX=0,i.default.prototype.pRotationY=0;var m=i.default.prototype.pRotationZ=0,a=0,c=0,d="clockwise",p="clockwise",g="clockwise",y=(i.default.prototype.pRotateDirectionX=void 0,i.default.prototype.pRotateDirectionY=void 0,i.default.prototype.pRotateDirectionZ=void 0,i.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},i.default.prototype.turnAxis=void 0,.5),v=30,_=(i.default.prototype.setMoveThreshold=function(x){i.default._validateParameters("setMoveThreshold",arguments),y=x},i.default.prototype.setShakeThreshold=function(x){i.default._validateParameters("setShakeThreshold",arguments),v=x},i.default.prototype._ondeviceorientation=function(x){this._updatePRotations(),this._angleMode===u.radians&&(x.beta=x.beta*(_PI/180),x.gamma=x.gamma*(_PI/180),x.alpha=x.alpha*(_PI/180)),this._setProperty("rotationX",x.beta),this._setProperty("rotationY",x.gamma),this._setProperty("rotationZ",x.alpha),this._handleMotion()},i.default.prototype._ondevicemotion=function(x){this._updatePAccelerations(),this._setProperty("accelerationX",2*x.acceleration.x),this._setProperty("accelerationY",2*x.acceleration.y),this._setProperty("accelerationZ",2*x.acceleration.z),this._handleMotion()},i.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var x,w,E,T,M,j=this._isGlobal?window:this;typeof j.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&j.deviceMoved(),typeof j.deviceTurned=="function"&&(w=this.rotationX+180,x=this.pRotationX+180,E=m+180,0<w-x&&w-x<270||w-x<-270?d="clockwise":(w-x<0||270<w-x)&&(d="counter-clockwise"),d!==this.pRotateDirectionX&&(E=w),90<Math.abs(w-E)&&Math.abs(w-E)<270&&(E=w,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=d,m=E-180,x=this.rotationY+180,w=this.pRotationY+180,E=a+180,0<x-w&&x-w<270||x-w<-270?p="clockwise":(x-w<0||270<x-this.pRotationY)&&(p="counter-clockwise"),p!==this.pRotateDirectionY&&(E=x),90<Math.abs(x-E)&&Math.abs(x-E)<270&&(E=x,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=p,a=E-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?g="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(g="counter-clockwise"),g!==this.pRotateDirectionZ&&(c=this.rotationZ),90<Math.abs(this.rotationZ-c)&&Math.abs(this.rotationZ-c)<270&&(c=this.rotationZ,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=g,this._setProperty("turnAxis",void 0)),typeof j.deviceShaken=="function"&&(this.pAccelerationX!==null&&(T=Math.abs(this.accelerationX-this.pAccelerationX),M=Math.abs(this.accelerationY-this.pAccelerationY)),v<T+M&&j.deviceShaken())},i.default);l.default=_},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.isKeyPressed=!1,s.default.prototype.keyIsPressed=!1,s.default.prototype.key="",s.default.prototype.keyCode=0,s.default.prototype._onkeydown=function(n){var i;this._downKeys[n.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",n.which),this._downKeys[n.which]=!0,this._setProperty("key",n.key||String.fromCharCode(n.which)||n.which),typeof(i=this._isGlobal?window:this).keyPressed!="function"||n.charCode||i.keyPressed(n)===!1&&n.preventDefault())},s.default.prototype._onkeyup=function(n){this._downKeys[n.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",n.key||String.fromCharCode(n.which)||n.which),this._setProperty("keyCode",n.which);var i=this._isGlobal?window:this;typeof i.keyReleased=="function"&&i.keyReleased(n)===!1&&n.preventDefault()},s.default.prototype._onkeypress=function(n){var i;n.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",n.which),this._setProperty("key",n.key||String.fromCharCode(n.which)||n.which),typeof(i=this._isGlobal?window:this).keyTyped=="function"&&i.keyTyped(n)===!1&&n.preventDefault())},s.default.prototype._onblur=function(n){this._downKeys={}},s.default.prototype.keyIsDown=function(n){return s.default._validateParameters("keyIsDown",arguments),this._downKeys[n]||!1},s.default.prototype._areDownKeys=function(){for(var n in this._downKeys)if(this._downKeys.hasOwnProperty(n)&&this._downKeys[n]===!0)return!0;return!1},t=s.default,l.default=t},{"../core/main":267}],286:[function(t,o,l){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(m)}function n(m){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(i=t("../core/main"))&&i.__esModule?i:{default:i},u=function(m){if(m&&m.__esModule)return m;if(m===null||n(m)!=="object"&&typeof m!="function")return{default:m};var a=f();if(a&&a.has(m))return a.get(m);var c,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var g;Object.prototype.hasOwnProperty.call(m,c)&&((g=p?Object.getOwnPropertyDescriptor(m,c):null)&&(g.get||g.set)?Object.defineProperty(d,c,g):d[c]=m[c])}return d.default=m,a&&a.set(m,d),d}(t("../core/constants"));function f(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,f=function(){return m},m)}i.default.prototype.movedX=0,i.default.prototype.movedY=0,i.default.prototype._hasMouseInteracted=!1,i.default.prototype.mouseX=0,i.default.prototype.mouseY=0,i.default.prototype.pmouseX=0,i.default.prototype.pmouseY=0,i.default.prototype.winMouseX=0,i.default.prototype.winMouseY=0,i.default.prototype.pwinMouseX=0,i.default.prototype.pwinMouseY=0,i.default.prototype.mouseButton=0,i.default.prototype.mouseIsPressed=!1,i.default.prototype._updateNextMouseCoords=function(m){var a,c,d,p,g;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(a=this._curElement.elt,c=this.width,d=this.height,(p=m)&&!p.clientX&&(p.touches?p=p.touches[0]:p.changedTouches&&(p=p.changedTouches[0])),g=a.getBoundingClientRect(),c=a.scrollWidth/c||1,a=a.scrollHeight/d||1,d={x:(p.clientX-g.left)/c,y:(p.clientY-g.top)/a,winX:p.clientX,winY:p.clientY,id:p.identifier},this._setProperty("movedX",m.movementX),this._setProperty("movedY",m.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",u.CENTER):m.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},i.default.prototype._onmousemove=function(m){var a=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof a.mouseDragged=="function"?a.mouseDragged(m)===!1&&m.preventDefault():typeof a.touchMoved=="function"&&a.touchMoved(m)===!1&&m.preventDefault():typeof a.mouseMoved=="function"&&a.mouseMoved(m)===!1&&m.preventDefault()},i.default.prototype._onmousedown=function(m){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),typeof a.mousePressed=="function"?a.mousePressed(m)===!1&&m.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.touchStarted=="function"&&a.touchStarted(m)===!1&&m.preventDefault()},i.default.prototype._onmouseup=function(m){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof a.mouseReleased=="function"?a.mouseReleased(m)===!1&&m.preventDefault():typeof a.touchEnded=="function"&&a.touchEnded(m)===!1&&m.preventDefault()},i.default.prototype._ondragend=i.default.prototype._onmouseup,i.default.prototype._ondragover=i.default.prototype._onmousemove,i.default.prototype._onclick=function(m){var a=this._isGlobal?window:this;typeof a.mouseClicked=="function"&&a.mouseClicked(m)===!1&&m.preventDefault()},i.default.prototype._ondblclick=function(m){var a=this._isGlobal?window:this;typeof a.doubleClicked=="function"&&a.doubleClicked(m)===!1&&m.preventDefault()},i.default.prototype._mouseWheelDeltaY=0,i.default.prototype._pmouseWheelDeltaY=0,i.default.prototype._onwheel=function(m){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof a.mouseWheel=="function"&&(m.delta=m.deltaY,a.mouseWheel(m)===!1&&m.preventDefault())},i.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},i.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=i.default,l.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(t,o,l){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(s){if(this._curElement!==null){for(var n=[],i=0;i<s.touches.length;i++)n[i]=function(g,p,y,a){var c=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,d=g.getBoundingClientRect(),p=g.scrollWidth/p||1,g=g.scrollHeight/y||1,y=a.touches[c]||a.changedTouches[c];return{x:(y.clientX-d.left)/p,y:(y.clientY-d.top)/g,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,s,i);this._setProperty("touches",n)}},t.default.prototype._ontouchstart=function(s){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(s),this._updateNextMouseCoords(s),this._updateMouseCoords(),typeof n.touchStarted=="function"?n.touchStarted(s)===!1&&s.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof n.mousePressed=="function"&&n.mousePressed(s)===!1&&s.preventDefault()},t.default.prototype._ontouchmove=function(s){var n=this._isGlobal?window:this;this._updateTouchCoords(s),this._updateNextMouseCoords(s),typeof n.touchMoved=="function"?n.touchMoved(s)===!1&&s.preventDefault():typeof n.mouseDragged=="function"&&n.mouseDragged(s)===!1&&s.preventDefault()},t.default.prototype._ontouchend=function(s){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(s),this._updateNextMouseCoords(s);var n=this._isGlobal?window:this;typeof n.touchEnded=="function"?n.touchEnded(s)===!1&&s.preventDefault():typeof n.mouseReleased=="function"&&n.mouseReleased(s)===!1&&s.preventDefault()},t=t.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(t,o,l){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s,n,i,u,f={};function m(a,c){for(var d,p,g,y,v,_,x,w,E,T,M=f._toPixels(a),j=a.width,P=a.height,L=j*P,N=new Int32Array(L),O=0;O<L;O++)N[O]=f._getARGB(M,O);var k,X,Y,q=new Int32Array(L),H=new Int32Array(L),z=new Int32Array(L),W=new Int32Array(L),$=0,se=3.5*c|0;if(s!==(se=se<1?1:se<248?se:248)){n=1+(s=se)<<1,i=new Int32Array(n),u=new Array(n);for(var R,I,U=0;U<n;U++)u[U]=new Int32Array(256);for(var G=1,ee=se-1;G<se;G++){i[se+G]=i[ee]=I=ee*ee;for(var ue=u[se+G],fe=u[ee--],pe=0;pe<256;pe++)ue[pe]=fe[pe]=I*pe}R=i[se]=se*se,ue=u[se];for(var ce=0;ce<256;ce++)ue[ce]=R*ce}for(X=0;X<P;X++){for(k=0;k<j;k++){if(y=g=p=v=d=0,(_=k-s)<0)T=-_,_=0;else{if(j<=_)break;T=0}for(Y=T;Y<n&&!(j<=_);Y++){var ie,V=N[_+$];v+=(ie=u[Y])[(-16777216&V)>>>24],p+=ie[(16711680&V)>>16],g+=ie[(65280&V)>>8],y+=ie[255&V],d+=i[Y],_++}q[x=$+k]=v/d,H[x]=p/d,z[x]=g/d,W[x]=y/d}$+=j}for(E=(w=-s)*j,X=$=0;X<P;X++){for(k=0;k<j;k++){if(w<(y=g=p=v=d=0))T=x=-w,_=k;else{if(P<=w)break;T=0,x=w,_=k+E}for(Y=T;Y<n&&!(P<=x);Y++)v+=(ie=u[Y])[q[_]],p+=ie[H[_]],g+=ie[z[_]],y+=ie[W[_]],d+=i[Y],x++,_+=j;N[k+$]=v/d<<24|p/d<<16|g/d<<8|y/d}$+=j,E+=j,w++}f._setPixels(M,N)}f._toPixels=function(a){var c,d;return a instanceof ImageData?a.data:a.getContext("2d")?a.getContext("2d").getImageData(0,0,a.width,a.height).data:a.getContext("webgl")?(d=(c=a.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,d=new Uint8Array(d),c.readPixels(0,0,a.width,a.height,c.RGBA,c.UNSIGNED_BYTE,d),d):void 0},f._getARGB=function(a,c){return c*=4,a[3+c]<<24&4278190080|a[c]<<16&16711680|a[1+c]<<8&65280|255&a[2+c]},f._setPixels=function(a,c){for(var d,p=0,g=a.length;p<g;p++)a[0+(d=4*p)]=(16711680&c[p])>>>16,a[1+d]=(65280&c[p])>>>8,a[2+d]=255&c[p],a[3+d]=(4278190080&c[p])>>>24},f._toImageData=function(a){return a instanceof ImageData?a:a.getContext("2d").getImageData(0,0,a.width,a.height)},f._createImageData=function(a,c){return f._tmpCanvas=document.createElement("canvas"),f._tmpCtx=f._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(a,c)},f.apply=function(a,y,d){var p=a.getContext("2d"),g=p.getImageData(0,0,a.width,a.height),y=y(g,d);y instanceof ImageData?p.putImageData(y,0,0,0,0,a.width,a.height):p.putImageData(g,0,0,0,0,a.width,a.height)},f.threshold=function(a,c){for(var d=f._toPixels(a),p=(c===void 0&&(c=.5),Math.floor(255*c)),g=0;g<d.length;g+=4){var y=void 0,y=p<=.2126*d[g]+.7152*d[g+1]+.0722*d[g+2]?255:0;d[g]=d[g+1]=d[g+2]=y}},f.gray=function(a){for(var c=f._toPixels(a),d=0;d<c.length;d+=4){var p=c[d],g=c[d+1],y=c[d+2];c[d]=c[d+1]=c[d+2]=.2126*p+.7152*g+.0722*y}},f.opaque=function(a){for(var c=f._toPixels(a),d=0;d<c.length;d+=4)c[d+3]=255;return c},f.invert=function(a){for(var c=f._toPixels(a),d=0;d<c.length;d+=4)c[d]=255-c[d],c[d+1]=255-c[d+1],c[d+2]=255-c[d+2]},f.posterize=function(a,c){var d=f._toPixels(a);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=c-1,g=0;g<d.length;g+=4){var y=d[g],v=d[g+1],_=d[g+2];d[g]=255*(y*c>>8)/p,d[g+1]=255*(v*c>>8)/p,d[g+2]=255*(_*c>>8)/p}},f.dilate=function(a){for(var c,d,p,g,y,v,_,x,w,E=f._toPixels(a),T=0,M=E.length?E.length/4:0,j=new Int32Array(M);T<M;)for(d=(c=T)+a.width;T<d;)g=p=f._getARGB(E,T),(w=T-1)<c&&(w=T),d<=(x=T+1)&&(x=T),(y=T-a.width)<0&&(y=0),M<=(v=T+a.width)&&(v=T),y=f._getARGB(E,y),w=f._getARGB(E,w),v=f._getARGB(E,v),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(_=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(p=w,g=_),g<(_=77*((w=f._getARGB(E,x))>>16&255)+151*(w>>8&255)+28*(255&w))&&(p=w,g=_),g<(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(p=y,g=x),g<(w=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(p=v,g=w),j[T++]=p;f._setPixels(E,j)},f.erode=function(a){for(var c,d,p,g,y,v,_,x,w,E=f._toPixels(a),T=0,M=E.length?E.length/4:0,j=new Int32Array(M);T<M;)for(d=(c=T)+a.width;T<d;)g=p=f._getARGB(E,T),(w=T-1)<c&&(w=T),d<=(x=T+1)&&(x=T),(y=T-a.width)<0&&(y=0),M<=(v=T+a.width)&&(v=T),y=f._getARGB(E,y),w=f._getARGB(E,w),v=f._getARGB(E,v),(_=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(p=w,g=_),(_=77*((w=f._getARGB(E,x))>>16&255)+151*(w>>8&255)+28*(255&w))<g&&(p=w,g=_),(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<g&&(p=y,g=x),(w=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<g&&(p=v,g=w),j[T++]=p;f._setPixels(E,j)},f.blur=function(a,c){m(a,c)},l.default=f},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=i(t("../core/main")),n=i(t("omggif"));function i(f){return f&&f.__esModule?f:{default:f}}function u(f){return function(m){if(Array.isArray(m)){for(var a=0,c=new Array(m.length);a<m.length;a++)c[a]=m[a];return c}}(f)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.createImage=function(f,m){return s.default._validateParameters("createImage",arguments),new s.default.Image(f,m)},s.default.prototype.saveCanvas=function(){s.default._validateParameters("saveCanvas",arguments);var f,m,a,c,d=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(f=arguments[0],d.shift()):arguments[0]instanceof s.default.Element?(f=arguments[0].elt,d.shift()):f=this._curElement&&this._curElement.elt,1<=d.length&&(m=d[0]),a=(a=2<=d.length?d[1]:a)||s.default.prototype._checkFileExtension(m,a)[1]||"png"){default:c="image/png";break;case"jpeg":case"jpg":c="image/jpeg"}f.toBlob(function(p){s.default.prototype.downloadFile(p,m,a)},c)},s.default.prototype.encodeAndDownloadGif=function(f,m){for(var a=f.gifProperties,c=a.loopLimit,d=(c===1?c=null:c===null&&(c=0),new Uint8Array(f.width*f.height*a.numFrames)),p=[],g={},y=0;y<a.numFrames;y++){for(var v=new Set,_=a.frames[y].image.data,x=_.length,w=new Uint32Array(f.width*f.height),E=0,T=0;E<x;E+=4,T++){var M=_[E+0]<<16|_[E+1]<<8|_[E+2]<<0;v.add(M),w[T]=M}var j=u(v).sort().toString();g[j]===void 0?g[j]={freq:1,frames:[y]}:(g[j].freq+=1,g[j].frames.push(y)),p.push(w)}for(var N=[],P=Object.keys(g).sort(function(R,I){return g[I].freq-g[R].freq}),L=P[0].split(",").map(function(R){return parseInt(R)}),N=N.concat(g[L].frames),O=new Set(L),k=1;k<P.length;k++){var X=P[k].split(",").map(function(R){return parseInt(R)}).filter(function(R){return!O.has(R)});if(L.length+X.length<=256){for(var Y=0;Y<X.length;Y++)L.push(X[Y]),O.add(X[Y]);N=N.concat(g[P[k]].frames)}}N=new Set(N);for(var q={},H=0;H<L.length;H++)q[L[H]]||(q[L[H]]=H);for(var z=1;z<L.length;)z<<=1;L.length=z;for(var c={loop:c,palette:new Uint32Array(L)},W=new n.default.GifWriter(d,f.width,f.height,c),$={},se=0;se<a.numFrames;se++)(function(I){for(var U=!N.has(I),G=U?[]:L,ee=new Uint8Array(f.width*f.height),ue={},fe=new Set,pe=0;pe<p[I].length;pe++){var ce=p[I][pe];U?(ue[ce]===void 0&&(ue[ce]=G.length,G.push(ce)),ee[pe]=ue[ce]):ee[pe]=q[ce],0<I&&p[I-1][pe]!==ce&&fe.add(ce)}var ie={},V=G.filter(function(he){return!fe.has(he)});if(0<V.length){var V=V[0],F=(U?ue:q)[V];if(0<I){for(var re=0;re<p[I].length;re++)p[I-1][re]===p[I][re]&&(ee[re]=F);ie.transparent=F,$.frameOpts.disposal=1}}if(ie.delay=a.frames[I].delay/10,U){for(var ae=1;ae<G.length;)ae<<=1;G.length=ae,ie.palette=new Uint32Array(G)}0<I&&W.addFrame(0,0,f.width,f.height,$.pixelPaletteIndex,$.frameOpts),$={pixelPaletteIndex:ee,frameOpts:ie}})(se);$.frameOpts.disposal=1,W.addFrame(0,0,f.width,f.height,$.pixelPaletteIndex,$.frameOpts),c=new Blob([d.slice(0,W.end())],{type:"image/gif"}),s.default.prototype.downloadFile(c,m,"gif")},s.default.prototype.saveFrames=function(f,m,a,p,d){s.default._validateParameters("saveFrames",arguments),a=s.default.prototype.constrain(a=a||3,0,15),a*=1e3;var p=s.default.prototype.constrain(p||15,0,22),g=0,y=s.default.prototype._makeFrame,v=this._curElement.elt,_=[],x=setInterval(function(){_.push(y(f+g,m,v)),g++},1e3/p);setTimeout(function(){if(clearInterval(x),d)d(_);else{var w=!0,E=!1,T=void 0;try{for(var M,j=_[Symbol.iterator]();!(w=(M=j.next()).done);w=!0){var P=M.value;s.default.prototype.downloadFile(P.imageData,P.filename,P.ext)}}catch(L){E=!0,T=L}finally{try{w||j.return==null||j.return()}finally{if(E)throw T}}}_=[]},.01+a)},s.default.prototype._makeFrame=function(f,m,d){var c,d=this?this._curElement.elt:d;if(m)switch(m.toLowerCase()){case"png":c="image/png";break;case"jpeg":case"jpg":c="image/jpeg";break;default:c="image/png"}else m="png",c="image/png";var d=(d=d.toDataURL(c)).replace(c,"image/octet-stream"),p={};return p.imageData=d,p.filename=f,p.ext=m,p},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(t,o,l){function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function n(v){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("regenerator-runtime/runtime");var i=d(t("../core/main")),u=d(t("../core/helpers")),f=function(v){if(v&&v.__esModule)return v;if(v===null||n(v)!=="object"&&typeof v!="function")return{default:v};var _=c();if(_&&_.has(v))return _.get(v);var x,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var T;Object.prototype.hasOwnProperty.call(v,x)&&((T=E?Object.getOwnPropertyDescriptor(v,x):null)&&(T.get||T.set)?Object.defineProperty(w,x,T):w[x]=v[x])}return w.default=v,_&&_.set(v,w),w}(t("../core/constants")),m=d(t("omggif")),a=t("gifenc");function c(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,c=function(){return v},v)}function d(v){return v&&v.__esModule?v:{default:v}}function p(v,_,x,w,E,T,M){try{var j=v[T](M),P=j.value}catch(L){return void x(L)}j.done?_(P):Promise.resolve(P).then(w,E)}function g(v,_,x,w,E,T,M,j,P,L,N){var O,k,X,Y,q,H,z,W,$;return v===f.COVER&&(O=_,X=x,z=T,W=M,H=j,$=P,k=L,Y=N,q=Math.max(z/k,W/Y),z/=q,W/=q,q=H,H=$,O===f.CENTER?q+=(k-z)/2:O===f.RIGHT&&(q+=k-z),X===f.CENTER?H+=(Y-W)/2:X===f.BOTTOM&&(H+=Y-W),j=($={x:q,y:H,w:z,h:W}).x,P=$.y,L=$.w,N=$.h),v===f.CONTAIN&&(O=_,k=x,X=w,Y=E,q=T,H=M,z=L,W=N,$=Math.max(z/q,W/H),z/=$,W/=$,$=X,X=Y,O===f.CENTER?$+=(q-z)/2:O===f.RIGHT&&($+=q-z),k===f.CENTER?X+=(H-W)/2:k===f.BOTTOM&&(X+=H-W),w=(v={x:$,y:X,w:z,h:W}).x,E=v.y,T=v.w,M=v.h),{sx:j,sy:P,sw:L,sh:N,dx:w,dy:E,dw:T,dh:M}}function y(v,_){return 0<v&&v<_?v:_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(v,_,x){i.default._validateParameters("loadImage",arguments);var w=new i.default.Image(1,1,this),E=this,T=new Request(v,{method:"GET",mode:"cors"});return fetch(v,T).then(function(M){var j,P=M.headers.get("content-type");P===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),P&&P.includes("image/gif")?M.arrayBuffer().then(function(L){if(L){var L=new Uint8Array(L),N=w,O=_,k=x,X=(function(U){E._decrementPreload()}).bind(E),Y=new m.default.GifReader(L),q=(N.width=N.canvas.width=Y.width,N.height=N.canvas.height=Y.height,[]),H=Y.numFrames(),z=new Uint8ClampedArray(N.width*N.height*4);if(1<H){for(var W=0;W<H;W++){var $=Y.frameInfo(W),se=N.drawingContext.getImageData(0,0,N.width,N.height),R=(z=se.data.slice(),function(U,G){try{G.decodeAndBlitFrameRGBA(U,z)}catch(ee){i.default._friendlyFileLoadError(8,N.src),typeof k=="function"?k(ee):console.error(ee)}}(W,Y),new ImageData(z,N.width,N.height)),R=(N.drawingContext.putImageData(R,0,0),$.delay);R===0&&(R=10),q.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*R}),$.disposal===2?N.drawingContext.clearRect($.x,$.y,$.width,$.height):$.disposal===3&&N.drawingContext.putImageData(se,0,0,$.x,$.y,$.width,$.height)}L=Y.loopCount(),L===null?L=1:L===0&&(L=null),N.drawingContext.putImageData(q[0].image,0,0),N.gifProperties={displayIndex:0,loopLimit:L,loopCount:0,frames:q,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof O=="function"&&O(N),X()}},function(L){typeof x=="function"?x(L):console.error(L)}):((j=new Image).onload=function(){w.width=w.canvas.width=j.width,w.height=w.canvas.height=j.height,w.drawingContext.drawImage(j,0,0),w.modified=!0,typeof _=="function"&&_(w),E._decrementPreload()},j.onerror=function(L){i.default._friendlyFileLoadError(0,j.src),typeof x=="function"?x(L):console.error(L)},v.indexOf("data:image/")!==0&&(j.crossOrigin="Anonymous"),j.src=v),w.modified=!0}).catch(function(M){i.default._friendlyFileLoadError(0,v),typeof x=="function"?x(M):console.error(M)}),w},i.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function x(w,E){var T,M,j,P,L,N,O,k,X,Y,q,H,z,W,$,se,R,I,U,G,ee,ue,fe,pe,ce,ie=arguments;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(T=2<ie.length&&ie[2]!==void 0?ie[2]:{delay:0,units:"seconds"},typeof w!="string")throw TypeError("fileName parameter must be a string");V.next=3;break;case 3:if(typeof E!="number")throw TypeError("Duration parameter must be a number");V.next=5;break;case 5:if(typeof T.delay!="number")throw TypeError("Delay parameter must be a number");V.next=7;break;case 7:if(T.units!=="seconds"&&T.units!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');V.next=9;break;case 9:N=T.units,L=T.delay,P=this._targetFrameRate,M=(M=1/(P=P!==1/0&&P!==void 0&&P!==0?P:60)*1e3)<20?20:M,P=(j=N==="seconds"?E*P:E)+(N=N==="seconds"?L*P:L),L=N,this.frameCount=L,N=this._pixelDensity,this.pixelDensity(1),O=[],k="p5.gif.progressBar",document.getElementById(k)!==null&&document.getElementById(k).remove(),(k=this.createP("")).id("progressBar"),k.style("font-size","16px"),k.style("font-family","Montserrat"),k.style("background-color","#ffffffa0"),k.style("padding","8px"),k.style("border-radius","10px"),k.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(Y=document.getElementById("defaultCanvas0").getContext("webgl"),X=new Uint8Array(Y.drawingBufferWidth*Y.drawingBufferHeight*4)),this.noLoop();case 35:if(L<P)return this.redraw(),$=void 0,$=this.drawingContext instanceof WebGLRenderingContext?(X=new Uint8Array(Y.drawingBufferWidth*Y.drawingBufferHeight*4),Y.readPixels(0,0,Y.drawingBufferWidth,Y.drawingBufferHeight,Y.RGBA,Y.UNSIGNED_BYTE,X),function(F){for(var re=parseInt(height/2),ae=4*width,he=new Uint8Array(4*width),de=0;de<re;++de){var Me=de*ae,Se=(height-de-1)*ae;he.set(F.subarray(Me,Me+ae)),F.copyWithin(Me,Se,Se+ae),F.set(he,Se)}return F}(X)):this.drawingContext.getImageData(0,0,this.width,this.height).data,O.push($),L++,k.html("Saved frame <b>"+O.length.toString()+"</b> out of "+j.toString()),V.next=44,new Promise(function(F){return setTimeout(F,0)});V.next=46;break;case 44:V.next=35;break;case 46:k.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(N),q=(0,a.GIFEncoder)(),H=function(F){for(var re=new Uint8Array(F.length*F[0].length),ae=0;ae<F.length;ae++)re.set(F[0],ae*F[0].length);var he=(0,a.quantize)(re,256,{format:"rgba444",oneBitAlpha:!0});return he.length===256?he[he.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:he.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),he}(O),z=H.length-1,W=0;case 53:if(W<O.length){if(W===0)return $=(0,a.applyPalette)(O[W],H,{format:"rgba4444"}),q.writeFrame($,this.width,this.height,{palette:H,delay:M,dispose:1}),V.abrupt("continue",68);V.next=58}else V.next=71;break;case 58:for(se=O[W],R=O[W-1],I=[],U=0;U<se.length;U+=4)G=[se[U],se[U+1],se[U+2],se[U+3]],ee=[R[U],R[U+1],R[U+2],R[U+3]],!function(F,re){return Array.isArray(F)&&Array.isArray(re)&&F.length===re.length&&F.every(function(ae,he){return ae===re[he]})}(G,ee)||I.push(U/4);for(ue=(0,a.applyPalette)(se,H,{format:"rgba4444"}),fe=0;fe<I.length;fe++)pe=I[fe],ue[pe]=z;return q.writeFrame(ue,this.width,this.height,{delay:M,transparent:!0,transparentIndex:z,dispose:1}),k.html("Rendered frame <b>"+W.toString()+"</b> out of "+j.toString()),V.next=68,new Promise(function(F){return setTimeout(F,0)});case 68:W++,V.next=53;break;case 71:q.finish(),ce=q.bytesView(),ce=new Blob([ce],{type:"image/gif"}),O=[],this.loop(),k.html("Done. Downloading your gif!🌸"),i.default.prototype.downloadFile(ce,w,"gif");case 79:case"end":return V.stop()}},x,this)});var v,_=function(){var x=this,w=arguments;return new Promise(function(E,T){var M=v.apply(x,w);function j(L){p(M,E,T,j,P,"next",L)}function P(L){p(M,E,T,j,P,"throw",L)}j(void 0)})};return function(x,w){return _.apply(this,arguments)}}(),i.default.prototype.image=function(v,_,x,w,Y,q,H,z,$,L,N,O){i.default._validateParameters("image",arguments);var W=v.width,k=v.height,X=(O=O||f.CENTER,N=N||f.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(W=v.elt.videoWidth,k=v.elt.videoHeight),w||W),Y=Y||k,q=q||0,H=H||0,z=y(z||W,W),W=y($||k,k),$=1;v.elt&&!v.canvas&&v.elt.style.width&&($=v.elt.videoWidth&&!w?v.elt.videoWidth:v.elt.width,$/=parseInt(v.elt.style.width,10)),q*=$,H*=$,W*=$,z*=$,k=g(L,N,O,(k=u.default.modeAdjust(_,x,X,Y,this._renderer._imageMode)).x,k.y,k.w,k.h,q,H,z,W),this._renderer.image(v,k.sx,k.sy,k.sw,k.sh,k.dx,k.dy,k.dw,k.dh)},i.default.prototype.tint=function(){for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];i.default._validateParameters("tint",_);var w=this.color.apply(this,_);this._renderer._tint=w.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=i.default.Renderer2D.prototype._getTintedImageCanvas,i.default.prototype.imageMode=function(v){i.default._validateParameters("imageMode",arguments),v!==f.CORNER&&v!==f.CORNERS&&v!==f.CENTER||(this._renderer._imageMode=v)},t=i.default,l.default=t},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.every":151,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=i(t("../core/main")),n=i(t("./filters"));function i(u){return u&&u.__esModule?u:{default:u}}s.default.Image=function(u,f){this.width=u,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},s.default.Image.prototype._animateGif=function(a){var f,m=this.gifProperties,a=a._lastFrameTime;m.lastChangeTime===0&&(m.lastChangeTime=a),m.playing&&(m.timeDisplayed=a-m.lastChangeTime,f=m.frames[m.displayIndex].delay,m.timeDisplayed>=f&&(f=Math.floor(m.timeDisplayed/f),m.timeDisplayed=0,m.lastChangeTime=a,m.displayIndex+=f,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit?m.playing=!1:(a=m.displayIndex%m.numFrames,this.drawingContext.putImageData(m.frames[a].image,0,0),m.displayIndex=a,this.setModified(!0))))},s.default.Image.prototype._setProperty=function(u,f){this[u]=f,this.setModified(!0)},s.default.Image.prototype.loadPixels=function(){s.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},s.default.Image.prototype.updatePixels=function(u,f,m,a){s.default.Renderer2D.prototype.updatePixels.call(this,u,f,m,a),this.setModified(!0)},s.default.Image.prototype.get=function(u,f,m,a){return s.default._validateParameters("p5.Image.get",arguments),s.default.Renderer2D.prototype.get.apply(this,arguments)},s.default.Image.prototype._getPixel=s.default.Renderer2D.prototype._getPixel,s.default.Image.prototype.set=function(u,f,m){s.default.Renderer2D.prototype.set.call(this,u,f,m),this.setModified(!0)},s.default.Image.prototype.resize=function(u,f){u===0&&f===0?(u=this.canvas.width,f=this.canvas.height):u===0?u=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*u/this.canvas.width),u=Math.floor(u),f=Math.floor(f);var m=document.createElement("canvas");if(m.width=u,m.height=f,this.gifProperties)for(var a=this.gifProperties,c=0;c<a.numFrames;c++){for(var d=this.drawingContext.createImageData(u,f),p=(x=x=_=v=y=void 0,a.frames[c].image),g=d,y=0,v=0;v<g.height;v++)for(var _=0;_<g.width;_++){var x=Math.floor(_*p.width/g.width),x=4*(Math.floor(v*p.height/g.height)*p.width+x);g.data[y++]=p.data[x++],g.data[y++]=p.data[x++],g.data[y++]=p.data[x++],g.data[y++]=p.data[+x]}a.frames[c].image=d}m.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,m.width,m.height),this.canvas.width=this.width=u,this.canvas.height=this.height=f,this.drawingContext.drawImage(m,0,0,u,f,0,0,u,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},s.default.Image.prototype.copy=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];s.default.prototype.copy.apply(this,f)},s.default.Image.prototype.mask=function(u){var f=this.drawingContext.globalCompositeOperation,m=1,a=[u=u===void 0?this:u,0,0,(m=u instanceof s.default.Renderer?u._pInst._pixelDensity:m)*u.width,m*u.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var c=0;c<this.gifProperties.frames.length;c++)this.drawingContext.putImageData(this.gifProperties.frames[c].image,0,0),s.default.Image.prototype.copy.apply(this,a),this.gifProperties.frames[c].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else s.default.Image.prototype.copy.apply(this,a);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)},s.default.Image.prototype.filter=function(u,f){n.default.apply(this.canvas,n.default[u],f),this.setModified(!0)},s.default.Image.prototype.blend=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];s.default._validateParameters("p5.Image.blend",arguments),s.default.prototype.blend.apply(this,f),this.setModified(!0)},s.default.Image.prototype.setModified=function(u){this._modified=u},s.default.Image.prototype.isModified=function(){return this._modified},s.default.Image.prototype.save=function(u,f){this.gifProperties?s.default.prototype.encodeAndDownloadGif(this,u):s.default.prototype.saveCanvas(this.canvas,u,f)},s.default.Image.prototype.reset=function(){var u;this.gifProperties&&((u=this.gifProperties).playing=!0,u.timeSinceStart=0,u.timeDisplayed=0,u.lastChangeTime=0,u.loopCount=0,u.displayIndex=0,this.drawingContext.putImageData(u.frames[0].image,0,0))},s.default.Image.prototype.getCurrentFrame=function(){var u;if(this.gifProperties)return(u=this.gifProperties).displayIndex%u.numFrames},s.default.Image.prototype.setFrame=function(u){var f;this.gifProperties&&(u<(f=this.gifProperties).numFrames&&0<=u?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=u,this.drawingContext.putImageData(f.frames[u].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},s.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},s.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},s.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},s.default.Image.prototype.delay=function(u,f){if(this.gifProperties){var m=this.gifProperties;if(f<m.numFrames&&0<=f)m.frames[f].delay=u;else{var a=!0,f=!1,c=void 0;try{for(var d,p=m.frames[Symbol.iterator]();!(a=(d=p.next()).done);a=!0)d.value.delay=u}catch(y){f=!0,c=y}finally{try{a||p.return==null||p.return()}finally{if(f)throw c}}}}},t=s.default.Image,l.default=t},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(t,o,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=i(t("../core/main")),n=i(t("./filters"));function i(u){return u&&u.__esModule?u:{default:u}}t("../color/p5.Color"),s.default.prototype.pixels=[],s.default.prototype.blend=function(){for(var u,f=arguments.length,m=new Array(f),a=0;a<f;a++)m[a]=arguments[a];s.default._validateParameters("blend",m),this._renderer?(u=this._renderer).blend.apply(u,m):s.default.Renderer2D.prototype.blend.apply(this,m)},s.default.prototype.copy=function(){for(var u,f,m,a,c,d,p,g,y,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];if(s.default._validateParameters("copy",_),_.length===9)u=_[0],f=_[1],m=_[2],a=_[3],c=_[4],d=_[5],p=_[6],g=_[7],y=_[8];else{if(_.length!==8)throw new Error("Signature not supported");u=this,f=_[0],m=_[1],a=_[2],c=_[3],d=_[4],p=_[5],g=_[6],y=_[7]}s.default.prototype._copyHelper(this,u,f,m,a,c,d,p,g,y)},s.default.prototype._copyHelper=function(u,f,m,a,c,d,p,g,y,v){f.loadPixels();var _=f.canvas.width/f.width,x=0,w=0;f._renderer&&f._renderer.isP3D&&(x=f.width/2,w=f.height/2),u._renderer&&u._renderer.isP3D?s.default.RendererGL.prototype.image.call(u._renderer,f,m+x,a+w,c,d,p,g,y,v):u.drawingContext.drawImage(f.canvas,_*(m+x),_*(a+w),_*c,_*d,p,g,y,v)},s.default.prototype.filter=function(u,f){s.default._validateParameters("filter",arguments),this.canvas!==void 0?n.default.apply(this.canvas,n.default[u],f):n.default.apply(this.elt,n.default[u],f)},s.default.prototype.get=function(u,f,m,a){var c;return s.default._validateParameters("get",arguments),(c=this._renderer).get.apply(c,arguments)},s.default.prototype.loadPixels=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];s.default._validateParameters("loadPixels",f),this._renderer.loadPixels()},s.default.prototype.set=function(u,f,m){this._renderer.set(u,f,m)},s.default.prototype.updatePixels=function(u,f,m,a){s.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,f,m,a)},t=s.default,l.default=t},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(t,o,l){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=f(t("../core/main")),i=(t("whatwg-fetch"),t("es6-promise/auto"),f(t("fetch-jsonp"))),u=f(t("file-saver"));function f(d){return d&&d.__esModule?d:{default:d}}function m(d){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}function a(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(d,p){p&&p!==!0&&p!=="true"||(p="");var g="";return(d=d||"untitled")&&d.includes(".")&&(g=d.split(".").pop()),p&&g!==p&&(g=p,d="".concat(d,".").concat(g)),[d,g]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.loadJSON=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];n.default._validateParameters("loadJSON",p);for(var y,v,_,x=p[0],w={},E="json",T=1;T<p.length;T++){var M=p[T];typeof M=="string"?M!=="jsonp"&&M!=="json"||(E=M):typeof M=="function"?y?v=M:y=M:m(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(E="jsonp",_=M)}var j=this;return this.httpDo(x,"GET",_,E,function(P){for(var L in P)w[L]=P[L];y!==void 0&&y(P),j._decrementPreload()},function(P){if(n.default._friendlyFileLoadError(5,x),!v)throw P;v(P)}),w},n.default.prototype.loadStrings=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];n.default._validateParameters("loadStrings",p);for(var y,v,_=[],x=1;x<p.length;x++){var w=p[x];typeof w=="function"&&(y===void 0?y=w:v===void 0&&(v=w))}var E=this;return n.default.prototype.httpDo.call(this,p[0],"GET","text",function(T){for(var M=T.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,P=M.length;j<P;j+=32768)Array.prototype.push.apply(_,M.slice(j,Math.min(j+32768,P)));y!==void 0&&y(_),E._decrementPreload()},function(T){if(n.default._friendlyFileLoadError(3,T),!v)throw T;v(T)}),_},n.default.prototype.loadTable=function(d){var p,g,y,v=!1,_=d.substring(d.lastIndexOf(".")+1,d.length);_==="csv"?y=",":_==="ssv"?y=";":_==="tsv"&&(y="	");for(var x=1;x<arguments.length;x++)typeof arguments[x]=="function"?p===void 0?p=arguments[x]:g===void 0&&(g=arguments[x]):typeof arguments[x]=="string"&&(arguments[x]==="header"&&(v=!0),arguments[x]==="csv"?y=",":arguments[x]==="ssv"?y=";":arguments[x]==="tsv"&&(y="	"));var w=new n.default.Table,E=this;return this.httpDo(d,"GET","table",function(T){for(var M,j,P={},L=0,N=[],O=0,k=null,X=function(){P.currentState=L,P.token=""},Y=function(){k.push(P.token),X()},q=function(){P.currentState=4,N.push(k),k=null};;){if((M=T[O++])==null){if(P.escaped)throw new Error("Unclosed quote in file.");if(k){Y(),q();break}}if(k===null&&(P.escaped=!1,k=[],X()),P.currentState===L){if(M==='"'){P.escaped=!0,P.currentState=1;continue}P.currentState=1}if(P.currentState===1&&P.escaped)if(M==='"')T[O]==='"'?(P.token+='"',O++):(P.escaped=!1,P.currentState=2);else{if(M==="\r")continue;P.token+=M}else M==="\r"?(T[O]===`
`&&O++,Y(),q()):M===`
`?(Y(),q()):M===y?Y():P.currentState===1&&(P.token+=M)}if(v)w.columns=N.shift();else for(var H=0;H<N[0].length;H++)w.columns[H]="null";for(var z=0;z<N.length;z++)(N[z].length!==1||N[z][0]!=="undefined"&&N[z][0]!=="")&&((j=new n.default.TableRow).arr=N[z],j.obj=function(W,$){var se={};if(($=$||[])===void 0)for(var R=0;R<W.length;R++)$[R.toString()]=R;for(var I=0;I<$.length;I++){var U=$[I],G=W[I];se[U]=G}return se}(N[z],w.columns),w.addRow(j));typeof p=="function"&&p(w),E._decrementPreload()},function(T){n.default._friendlyFileLoadError(2,d),g?g(T):console.error(T)}),w},n.default.prototype.loadXML=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];for(var y,v,_=new n.default.XML,x=1;x<p.length;x++){var w=p[x];typeof w=="function"&&(y===void 0?y=w:v===void 0&&(v=w))}var E=this;return this.httpDo(p[0],"GET","xml",function(T){for(var M in T)_[M]=T[M];y!==void 0&&y(_),E._decrementPreload()},function(T){if(n.default._friendlyFileLoadError(1,T),!v)throw T;v(T)}),_},n.default.prototype.loadBytes=function(d,p,g){var y={},v=this;return this.httpDo(d,"GET","arrayBuffer",function(_){y.bytes=new Uint8Array(_),typeof p=="function"&&p(y),v._decrementPreload()},function(_){if(n.default._friendlyFileLoadError(6,d),!g)throw _;g(_)}),y},n.default.prototype.httpGet=function(){n.default._validateParameters("httpGet",arguments);var d=Array.prototype.slice.call(arguments);return d.splice(1,0,"GET"),n.default.prototype.httpDo.apply(this,d)},n.default.prototype.httpPost=function(){n.default._validateParameters("httpPost",arguments);var d=Array.prototype.slice.call(arguments);return d.splice(1,0,"POST"),n.default.prototype.httpDo.apply(this,d)},n.default.prototype.httpDo=function(){for(var d,p,g,y={},v=0,_="text/plain",x=arguments.length-1;0<x&&typeof(x<0||arguments.length<=x?void 0:arguments[x])=="function";x--)v++;var w=arguments.length-v,E=arguments.length<=0?void 0:arguments[0];if(w==2&&typeof E=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")N=new Request(E,arguments.length<=1?void 0:arguments[1]),p=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3];else{for(var T,M="GET",j=1;j<arguments.length;j++){var P=j<0||arguments.length<=j?void 0:arguments[j];if(typeof P=="string")P==="GET"||P==="POST"||P==="PUT"||P==="DELETE"?M=P:P==="json"||P==="jsonp"||P==="binary"||P==="arrayBuffer"||P==="xml"||P==="text"||P==="table"?d=P:T=P;else if(typeof P=="number")T=P.toString();else if(m(P)==="object")if(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))for(var L in P)y[L]=P[L];else _=P instanceof n.default.XML?(T=P.serialize(),"application/xml"):(T=JSON.stringify(P),"application/json");else typeof P=="function"&&(p?g=P:p=P)}var w=M==="GET"?new Headers:new Headers({"Content-Type":_}),N=new Request(E,{method:M,mode:"cors",body:T,headers:w})}return(w=(w=(d=d||(E.includes("json")?"json":E.includes("xml")?"xml":"text"))==="jsonp"?(0,i.default)(E,y):fetch(N)).then(function(O){if(!O.ok)throw(k=new Error(O.body)).status=O.status,k.ok=!1,k;var k=0;switch((k=d!=="jsonp"?O.headers.get("content-length"):k)&&64e6<k&&n.default._friendlyFileLoadError(7,E),d){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(X){return X=new DOMParser().parseFromString(X,"text/xml"),new n.default.XML(X.documentElement)});default:return O.text()}})).then(p||function(){}),w.catch(g||console.error),w},window.URL=window.URL||window.webkitURL,n.default.prototype._pWriters=[],n.default.prototype.createWriter=function(d,p){var g,y;for(y in n.default.prototype._pWriters)if(n.default.prototype._pWriters[y].name===d)return g=new n.default.PrintWriter(d+this.millis(),p),n.default.prototype._pWriters.push(g),g;return g=new n.default.PrintWriter(d,p),n.default.prototype._pWriters.push(g),g},n.default.PrintWriter=function(d,p){var g=this;this.name=d,this.content="",this.write=function(y){this.content+=y},this.print=function(y){this.content+="".concat(y,`
`)},this.clear=function(){this.content=""},this.close=function(){var y,v=[];for(y in v.push(this.content),n.default.prototype.writeFile(v,d,p),n.default.prototype._pWriters)n.default.prototype._pWriters[y].name===this.name&&n.default.prototype._pWriters.splice(y,1);g.clear(),g={}}},n.default.prototype.save=function(d,p,g){var y=arguments,v=(this._curElement||this).elt;if(y.length===0)n.default.prototype.saveCanvas(v);else if(y[0]instanceof n.default.Renderer||y[0]instanceof n.default.Graphics)n.default.prototype.saveCanvas(y[0].elt,y[1],y[2]);else if(y.length===1&&typeof y[0]=="string")n.default.prototype.saveCanvas(v,y[0]);else switch(c(y[1],y[2])[1]){case"json":return void n.default.prototype.saveJSON(y[0],y[1],y[2]);case"txt":return void n.default.prototype.saveStrings(y[0],y[1],y[2]);default:y[0]instanceof Array?n.default.prototype.saveStrings(y[0],y[1],y[2]):y[0]instanceof n.default.Table?n.default.prototype.saveTable(y[0],y[1],y[2]):y[0]instanceof n.default.Image?n.default.prototype.saveCanvas(y[0].canvas,y[1]):y[0]instanceof n.default.SoundFile&&n.default.prototype.saveSound(y[0],y[1],y[2],y[3])}},n.default.prototype.saveJSON=function(d,p,g){n.default._validateParameters("saveJSON",arguments),g=g?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(g.split(`
`),p,"json")},n.default.prototype.saveJSONObject=n.default.prototype.saveJSON,n.default.prototype.saveJSONArray=n.default.prototype.saveJSON,n.default.prototype.saveStrings=function(d,p,g,y){n.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(p,g||"txt"),_=0;_<d.length;_++)y?v.write(d[_]+`\r
`):v.write(d[_]+`
`);v.close(),v.clear()},n.default.prototype.saveTable=function(d,p,g){n.default._validateParameters("saveTable",arguments),y=g===void 0?p.substring(p.lastIndexOf(".")+1,p.length):g;var y,v=this.createWriter(p,y),_=d.columns,x=y==="tsv"?"	":",";if(y!=="html"){if(_[0]!=="0"){for(var w=0;w<_.length;w++)w<_.length-1?v.write(_[w]+x):v.write(_[w]);v.write(`
`)}for(var E=0;E<d.rows.length;E++){for(var T=void 0,T=0;T<d.rows[E].arr.length;T++)T<d.rows[E].arr.length-1?y==="csv"&&String(d.rows[E].arr[T]).includes(",")?v.write('"'+d.rows[E].arr[T]+'"'+x):v.write(d.rows[E].arr[T]+x):y==="csv"&&String(d.rows[E].arr[T]).includes(",")?v.write('"'+d.rows[E].arr[T]+'"'):v.write(d.rows[E].arr[T]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),_[0]!=="0"){v.print("    <tr>");for(var M=0;M<_.length;M++){var j=a(_[M]);v.print("      <td>".concat(j)),v.print("      </td>")}v.print("    </tr>")}for(var P=0;P<d.rows.length;P++){v.print("    <tr>");for(var L=0;L<d.columns.length;L++){var N=a(d.rows[P].getString(L));v.print("      <td>".concat(N)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},n.default.prototype.writeFile=function(v,p,g){var y="application/octet-stream",v=(n.default.prototype._isSafari()&&(y="text/plain"),new Blob(v,{type:y}));n.default.prototype.downloadFile(v,p,g)},n.default.prototype.downloadFile=function(d,v,_){var y,v=c(v,_),_=v[0];d instanceof Blob?u.default.saveAs(d,_):((y=document.createElement("a")).href=d,y.download=_,y.onclick=function(x){document.body.removeChild(x.target),x.stopPropagation()},y.style.display="none",document.body.appendChild(y),n.default.prototype._isSafari()&&(d=(d=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(d)),y.click())},n.default.prototype._checkFileExtension=c,n.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=n.default,l.default=t},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.Table=function(n){this.columns=[],this.rows=[]},s.default.Table.prototype.addRow=function(n){if(n=n||new s.default.TableRow,n.arr===void 0||n.obj===void 0)throw new Error("invalid TableRow: ".concat(n));return(n.table=this).rows.push(n),n},s.default.Table.prototype.removeRow=function(n){this.rows[n].table=null,n=this.rows.splice(n+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(n)},s.default.Table.prototype.getRow=function(n){return this.rows[n]},s.default.Table.prototype.getRows=function(){return this.rows},s.default.Table.prototype.findRow=function(n,i){if(typeof i=="string"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[i]===n)return this.rows[u]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[i]===n)return this.rows[f];return null},s.default.Table.prototype.findRows=function(n,i){var u=[];if(typeof i=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[i]===n&&u.push(this.rows[f]);else for(var m=0;m<this.rows.length;m++)this.rows[m].arr[i]===n&&u.push(this.rows[m]);return u},s.default.Table.prototype.matchRow=function(n,i){if(typeof i=="number"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[i].match(n))return this.rows[u]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[i].match(n))return this.rows[f];return null},s.default.Table.prototype.matchRows=function(n,i){var u=[];if(typeof i=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[i].match(n)&&u.push(this.rows[f]);else for(var m=0;m<this.rows.length;m++)this.rows[m].obj[i].match(n)&&u.push(this.rows[m]);return u},s.default.Table.prototype.getColumn=function(n){var i=[];if(typeof n=="string")for(var u=0;u<this.rows.length;u++)i.push(this.rows[u].obj[n]);else for(var f=0;f<this.rows.length;f++)i.push(this.rows[f].arr[n]);return i},s.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},s.default.Table.prototype.addColumn=function(n){this.columns.push(n||null)},s.default.Table.prototype.getColumnCount=function(){return this.columns.length},s.default.Table.prototype.getRowCount=function(){return this.rows.length},s.default.Table.prototype.removeTokens=function(n,i){for(var u=[],f=0;f<n.length;f++)u.push(n.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var m=new RegExp(u.join("|"),"g");if(i===void 0)for(var a=0;a<this.columns.length;a++)for(var c=0;c<this.rows.length;c++){var d=(d=this.rows[c].arr[a]).replace(m,"");this.rows[c].arr[a]=d,this.rows[c].obj[this.columns[a]]=d}else if(typeof i=="string")for(var p=0;p<this.rows.length;p++){var g=(g=this.rows[p].obj[i]).replace(m,""),y=(this.rows[p].obj[i]=g,this.columns.indexOf(i));this.rows[p].arr[y]=g}else for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].arr[i]).replace(m,"");this.rows[v].arr[i]=_,this.rows[v].obj[this.columns[i]]=_}},s.default.Table.prototype.trim=function(n){var i=new RegExp(" ","g");if(n===void 0)for(var u=0;u<this.columns.length;u++)for(var f=0;f<this.rows.length;f++){var m=(m=this.rows[f].arr[u]).replace(i,"");this.rows[f].arr[u]=m,this.rows[f].obj[this.columns[u]]=m}else if(typeof n=="string")for(var a=0;a<this.rows.length;a++){var c=(c=this.rows[a].obj[n]).replace(i,""),d=(this.rows[a].obj[n]=c,this.columns.indexOf(n));this.rows[a].arr[d]=c}else for(var p=0;p<this.rows.length;p++){var g=(g=this.rows[p].arr[n]).replace(i,"");this.rows[p].arr[n]=g,this.rows[p].obj[this.columns[n]]=g}},s.default.Table.prototype.removeColumn=function(f){typeof f=="string"?u=this.columns.indexOf(i=f):i=this.columns[u=f];var i,u,f=this.columns.splice(u+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var m=0;m<this.rows.length;m++){var a=this.rows[m].arr,c=a.splice(u+1,a.length);a.pop(),this.rows[m].arr=a.concat(c),delete this.rows[m].obj[i]}},s.default.Table.prototype.set=function(n,i,u){this.rows[n].set(i,u)},s.default.Table.prototype.setNum=function(n,i,u){this.rows[n].setNum(i,u)},s.default.Table.prototype.setString=function(n,i,u){this.rows[n].setString(i,u)},s.default.Table.prototype.get=function(n,i){return this.rows[n].get(i)},s.default.Table.prototype.getNum=function(n,i){return this.rows[n].getNum(i)},s.default.Table.prototype.getString=function(n,i){return this.rows[n].getString(i)},s.default.Table.prototype.getObject=function(n){for(var i,u={},f=0;f<this.rows.length;f++)if(i=this.rows[f].obj,typeof n=="string"){if(!(0<=this.columns.indexOf(n)))throw new Error('This table has no column named "'.concat(n,'"'));u[i[n]]=i}else u[f]=this.rows[f].obj;return u},s.default.Table.prototype.getArray=function(){for(var n=[],i=0;i<this.rows.length;i++)n.push(this.rows[i].arr);return n},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(t,o,l){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.TableRow=function(s,n){var i=[],u={};s&&(i=s.split(n=n||","));for(var f=0;f<i.length;f++){var m=f,a=i[f];u[m]=a}this.arr=i,this.obj=u,this.table=null},t.default.TableRow.prototype.set=function(s,n){if(typeof s=="string"){var i=this.table.columns.indexOf(s);if(!(0<=i))throw new Error('This table has no column named "'.concat(s,'"'));this.obj[s]=n,this.arr[i]=n}else{if(!(s<this.table.columns.length))throw new Error("Column #".concat(s," is out of the range of this table"));this.arr[s]=n,i=this.table.columns[s],this.obj[i]=n}},t.default.TableRow.prototype.setNum=function(s,n){n=parseFloat(n),this.set(s,n)},t.default.TableRow.prototype.setString=function(s,n){n=n.toString(),this.set(s,n)},t.default.TableRow.prototype.get=function(s){return(typeof s=="string"?this.obj:this.arr)[s]},t.default.TableRow.prototype.getNum=function(s){var n=parseFloat(typeof s=="string"?this.obj[s]:this.arr[s]);if(n.toString()==="NaN")throw"Error: ".concat(this.obj[s]," is NaN (Not a Number)");return n},t.default.TableRow.prototype.getString=function(s){return(typeof s=="string"?this.obj:this.arr)[s].toString()},t=t.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(i){for(var u=[],f=0;f<i.length;f++)u.push(new s.default.XML(i[f]));return u}s.default.XML=function(i){i?this.DOM=i:(i=document.implementation.createDocument(null,"doc"),this.DOM=i.createElement("root"))},s.default.XML.prototype.getParent=function(){return new s.default.XML(this.DOM.parentElement)},s.default.XML.prototype.getName=function(){return this.DOM.tagName},s.default.XML.prototype.setName=function(i){var u=this.DOM.innerHTML,f=this.DOM.attributes,m=document.implementation.createDocument(null,"default").createElement(i);m.innerHTML=u;for(var a=0;a<f.length;a++)m.setAttribute(f[a].nodeName,f.nodeValue);this.DOM=m},s.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},s.default.XML.prototype.listChildren=function(){for(var i=[],u=0;u<this.DOM.childNodes.length;u++)i.push(this.DOM.childNodes[u].nodeName);return i},s.default.XML.prototype.getChildren=function(i){return n(i?this.DOM.getElementsByTagName(i):this.DOM.children)},s.default.XML.prototype.getChild=function(i){if(typeof i!="string")return new s.default.XML(this.DOM.children[i]);var u=!0,f=!1,m=void 0;try{for(var a,c=this.DOM.children[Symbol.iterator]();!(u=(a=c.next()).done);u=!0){var d=a.value;if(d.tagName===i)return new s.default.XML(d)}}catch(p){f=!0,m=p}finally{try{u||c.return==null||c.return()}finally{if(f)throw m}}},s.default.XML.prototype.addChild=function(i){i instanceof s.default.XML&&this.DOM.appendChild(i.DOM)},s.default.XML.prototype.removeChild=function(i){var u=-1;if(typeof i=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===i){u=f;break}}else u=i;u!==-1&&this.DOM.removeChild(this.DOM.children[u])},s.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},s.default.XML.prototype.listAttributes=function(){var i=[],u=!0,f=!1,m=void 0;try{for(var a,c=this.DOM.attributes[Symbol.iterator]();!(u=(a=c.next()).done);u=!0){var d=a.value;i.push(d.nodeName)}}catch(p){f=!0,m=p}finally{try{u||c.return==null||c.return()}finally{if(f)throw m}}return i},s.default.XML.prototype.hasAttribute=function(i){var u={},f=!0,m=!1,a=void 0;try{for(var c,d=this.DOM.attributes[Symbol.iterator]();!(f=(c=d.next()).done);f=!0){var p=c.value;u[p.nodeName]=p.nodeValue}}catch(g){m=!0,a=g}finally{try{f||d.return==null||d.return()}finally{if(m)throw a}}return!!u[i]},s.default.XML.prototype.getNum=function(i,u){var f={},m=!0,a=!1,c=void 0;try{for(var d,p=this.DOM.attributes[Symbol.iterator]();!(m=(d=p.next()).done);m=!0){var g=d.value;f[g.nodeName]=g.nodeValue}}catch(y){a=!0,c=y}finally{try{m||p.return==null||p.return()}finally{if(a)throw c}}return Number(f[i])||u||0},s.default.XML.prototype.getString=function(i,u){var f={},m=!0,a=!1,c=void 0;try{for(var d,p=this.DOM.attributes[Symbol.iterator]();!(m=(d=p.next()).done);m=!0){var g=d.value;f[g.nodeName]=g.nodeValue}}catch(y){a=!0,c=y}finally{try{m||p.return==null||p.return()}finally{if(a)throw c}}return f[i]?String(f[i]):u||null},s.default.XML.prototype.setAttribute=function(i,u){this.DOM.setAttribute(i,u)},s.default.XML.prototype.getContent=function(i){var u=this.DOM.textContent;return(u=u.replace(/\s\s+/g,","))||i||null},s.default.XML.prototype.setContent=function(i){this.DOM.children.length||(this.DOM.textContent=i)},s.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(t,o,l){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var i=arguments.length,u=[],f=0,m=0;m<i;m++){var a=arguments[m];if((a=+a)==1/0||a===-1/0)return 1/0;f<(a=Math.abs(a))&&(f=a),u[m]=a}f===0&&(f=1);for(var y=0,g=0,c=0;c<i;c++)var d=u[c]/f,d=d*d-g,p=y+d,g=p-y-d,y=p;return Math.sqrt(y)*f}s.default.prototype.abs=Math.abs,s.default.prototype.ceil=Math.ceil,s.default.prototype.constrain=function(i,u,f){return s.default._validateParameters("constrain",arguments),Math.max(Math.min(i,f),u)},s.default.prototype.dist=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return s.default._validateParameters("dist",u),u.length===4?n(u[2]-u[0],u[3]-u[1]):u.length===6?n(u[3]-u[0],u[4]-u[1],u[5]-u[2]):void 0},s.default.prototype.exp=Math.exp,s.default.prototype.floor=Math.floor,s.default.prototype.lerp=function(i,u,f){return s.default._validateParameters("lerp",arguments),f*(u-i)+i},s.default.prototype.log=Math.log,s.default.prototype.mag=function(i,u){return s.default._validateParameters("mag",arguments),n(i,u)},s.default.prototype.map=function(i,u,f,m,a,c){return s.default._validateParameters("map",arguments),i=(i-u)/(f-u)*(a-m)+m,c?m<a?this.constrain(i,m,a):this.constrain(i,a,m):i},s.default.prototype.max=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return u[0]instanceof Array?Math.max.apply(null,u[0]):Math.max.apply(null,u)},s.default.prototype.min=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return u[0]instanceof Array?Math.min.apply(null,u[0]):Math.min.apply(null,u)},s.default.prototype.norm=function(i,u,f){return s.default._validateParameters("norm",arguments),this.map(i,u,f,0,1)},s.default.prototype.pow=Math.pow,s.default.prototype.round=function(i,u){return u?(u=Math.pow(10,u),Math.round(i*u)/u):Math.round(i)},s.default.prototype.sq=function(i){return i*i},s.default.prototype.sqrt=Math.sqrt,s.default.prototype.fract=function(m){s.default._validateParameters("fract",arguments);var u,f=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,f=1),String(m).includes(".")&&!String(m).includes("e")?(u=String(m),u=+("0"+u.slice(u.indexOf("."))),Math.abs(f-u)):m<1?Math.abs(f-m):0)},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(u,f,m){return(n=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,c,d){var p=[null];return p.push.apply(p,c),c=new(Function.bind.apply(a,p)),d&&i(c,d.prototype),c}).apply(null,arguments)}function i(u,f){return(i=Object.setPrototypeOf||function(m,a){return m.__proto__=a,m})(u,f)}s.default.prototype.createVector=function(u,f,m){return this instanceof s.default?n(s.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new s.default.Vector(u,f,m)},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(m,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function s(a){return .5*(1-Math.cos(a*Math.PI))}var n,i=4095,u=4,f=.5,m=(m.default.prototype.noise=function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(n==null){n=new Array(4096);for(var p=0;p<4096;p++)n[p]=Math.random()}a<0&&(a=-a),c<0&&(c=-c),d<0&&(d=-d);for(var g,y,v=Math.floor(a),_=Math.floor(c),x=Math.floor(d),w=a-v,E=c-_,T=d-x,M=0,j=.5,P=0;P<u;P++){var L=v+(_<<4)+(x<<8),N=s(w),O=s(E),k=n[L&i];k+=N*(n[L+1&i]-k),g=n[L+16&i],k+=O*((g+=N*(n[L+16+1&i]-g))-k),g=n[(L+=256)&i],g+=N*(n[L+1&i]-g),y=n[L+16&i],g+=O*((y+=N*(n[L+16+1&i]-y))-g),M+=(k+=s(T)*(g-k))*j,j*=f,v<<=1,_<<=1,x<<=1,1<=(w*=2)&&(v++,w--),1<=(E*=2)&&(_++,E--),1<=(T*=2)&&(x++,T--)}return M},m.default.prototype.noiseDetail=function(a,c){0<a&&(u=a),0<c&&(f=c)},m.default.prototype.noiseSeed=function(a){p=4294967296;var c,d,p,g={setSeed:function(v){d=c=(v??Math.random()*p)>>>0},getSeed:function(){return c},rand:function(){return(d=(1664525*d+1013904223)%p)/p}};g.setSeed(a),n=new Array(4096);for(var y=0;y<4096;y++)n[y]=g.rand()},m.default);l.default=m},{"../core/main":267}],300:[function(t,o,l){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function n(d){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=function(d){if(d&&d.__esModule)return d;if(d===null||n(d)!=="object"&&typeof d!="function")return{default:d};var p=f();if(p&&p.has(d))return p.get(d);var g,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var _;Object.prototype.hasOwnProperty.call(d,g)&&((_=v?Object.getOwnPropertyDescriptor(d,g):null)&&(_.get||_.set)?Object.defineProperty(y,g,_):y[g]=d[g])}return y.default=d,p&&p.set(d,y),y}(t("../core/constants"));function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}i.default.Vector=function(){var d,p,g={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],d=arguments[2]||0,p=arguments[3]||0,arguments[4]||0):(d=arguments[0]||0,p=arguments[1]||0,arguments[2]||0);this.x=d,this.y=p,this.z=g},i.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},i.default.Vector.prototype.set=function(d,p,g){return d instanceof i.default.Vector?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):d instanceof Array?(this.x=d[0]||0,this.y=d[1]||0,this.z=d[2]||0):(this.x=d||0,this.y=p||0,this.z=g||0),this},i.default.Vector.prototype.copy=function(){return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new i.default.Vector(this.x,this.y,this.z)},i.default.Vector.prototype.add=function(d,p,g){return d instanceof i.default.Vector?(this.x+=d.x||0,this.y+=d.y||0,this.z+=d.z||0):d instanceof Array?(this.x+=d[0]||0,this.y+=d[1]||0,this.z+=d[2]||0):(this.x+=d||0,this.y+=p||0,this.z+=g||0),this};function m(d,p){return d!==0&&(this.x=this.x%d),p!==0&&(this.y=this.y%p),this}function a(d,p,g){return d!==0&&(this.x=this.x%d),p!==0&&(this.y=this.y%p),g!==0&&(this.z=this.z%g),this}i.default.Vector.prototype.rem=function(d,p,g){var y;if(d instanceof i.default.Vector){if(Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z))return v=parseFloat(d.x),_=parseFloat(d.y),y=parseFloat(d.z),a.call(this,v,_,y)}else if(d instanceof Array){if(d.every(function(x){return Number.isFinite(x)}))return d.length===2?m.call(this,d[0],d[1]):d.length===3?a.call(this,d[0],d[1],d[2]):void 0}else if(arguments.length===1){if(Number.isFinite(d)&&d!==0)return this.x=this.x%d,this.y=this.y%d,this.z=this.z%d,this}else if(arguments.length===2){var v=Array.prototype.slice.call(arguments);if(v.every(function(x){return Number.isFinite(x)})&&v.length===2)return m.call(this,v[0],v[1])}else if(arguments.length===3){var _=Array.prototype.slice.call(arguments);if(_.every(function(x){return Number.isFinite(x)})&&_.length===3)return a.call(this,_[0],_[1],_[2])}},i.default.Vector.prototype.sub=function(d,p,g){return d instanceof i.default.Vector?(this.x-=d.x||0,this.y-=d.y||0,this.z-=d.z||0):d instanceof Array?(this.x-=d[0]||0,this.y-=d[1]||0,this.z-=d[2]||0):(this.x-=d||0,this.y-=p||0,this.z-=g||0),this},i.default.Vector.prototype.mult=function(d,p,g){var y;return d instanceof i.default.Vector?Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)&&typeof d.x=="number"&&typeof d.y=="number"&&typeof d.z=="number"?(this.x*=d.x,this.y*=d.y,this.z*=d.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):d instanceof Array?d.every(function(v){return Number.isFinite(v)})&&d.every(function(v){return typeof v=="number"})?d.length===1?(this.x*=d[0],this.y*=d[0],this.z*=d[0]):d.length===2?(this.x*=d[0],this.y*=d[1]):d.length===3&&(this.x*=d[0],this.y*=d[1],this.z*=d[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=Array.prototype.slice.call(arguments)).every(function(v){return Number.isFinite(v)})&&y.every(function(v){return typeof v=="number"})?(arguments.length===1&&(this.x*=d,this.y*=d,this.z*=d),arguments.length===2&&(this.x*=d,this.y*=p),arguments.length===3&&(this.x*=d,this.y*=p,this.z*=g)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},i.default.Vector.prototype.div=function(d,p,g){if(d instanceof i.default.Vector)if(Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)&&typeof d.x=="number"&&typeof d.y=="number"&&typeof d.z=="number"){if(d.x===0||d.y===0||d.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=d.x,this.y/=d.y,this.z/=d.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(d instanceof Array)if(d.every(function(v){return Number.isFinite(v)})&&d.every(function(v){return typeof v=="number"})){if(d.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;d.length===1?(this.x/=d[0],this.y/=d[0],this.z/=d[0]):d.length===2?(this.x/=d[0],this.y/=d[1]):d.length===3&&(this.x/=d[0],this.y/=d[1],this.z/=d[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{var y=Array.prototype.slice.call(arguments);if(y.every(function(v){return Number.isFinite(v)})&&y.every(function(v){return typeof v=="number"})){if(y.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=d,this.y/=d,this.z/=d),arguments.length===2&&(this.x/=d,this.y/=p),arguments.length===3&&(this.x/=d,this.y/=p,this.z/=g)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this},i.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},i.default.Vector.prototype.magSq=function(){var d=this.x,p=this.y,g=this.z;return d*d+p*p+g*g},i.default.Vector.prototype.dot=function(d,p,g){return d instanceof i.default.Vector?this.dot(d.x,d.y,d.z):this.x*(d||0)+this.y*(p||0)+this.z*(g||0)},i.default.Vector.prototype.cross=function(y){var p=this.y*y.z-this.z*y.y,g=this.z*y.x-this.x*y.z,y=this.x*y.y-this.y*y.x;return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,p,g,y):new i.default.Vector(p,g,y)},i.default.Vector.prototype.dist=function(d){return d.copy().sub(this).mag()},i.default.Vector.prototype.normalize=function(){var d=this.mag();return d!==0&&this.mult(1/d),this},i.default.Vector.prototype.limit=function(d){var p=this.magSq();return d*d<p&&this.div(Math.sqrt(p)).mult(d),this},i.default.Vector.prototype.setMag=function(d){return this.normalize().mult(d)},i.default.Vector.prototype.heading=function(){var d=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(d):d},i.default.Vector.prototype.setHeading=function(d){this.isPInst&&(d=this._toRadians(d));var p=this.mag();return this.x=p*Math.cos(d),this.y=p*Math.sin(d),this},i.default.Vector.prototype.rotate=function(p){var p=this.heading()+p,g=(this.isPInst&&(p=this._toRadians(p)),this.mag());return this.x=Math.cos(p)*g,this.y=Math.sin(p)*g,this},i.default.Vector.prototype.angleBetween=function(d){var p=this.dot(d)/(this.mag()*d.mag()),p=Math.acos(Math.min(1,Math.max(-1,p)));return p*=Math.sign(this.cross(d).z||1),p=this.isPInst?this._fromRadians(p):p},i.default.Vector.prototype.lerp=function(d,p,g,y){return d instanceof i.default.Vector?this.lerp(d.x,d.y,d.z,p):(this.x+=(d-this.x)*y||0,this.y+=(p-this.y)*y||0,this.z+=(g-this.z)*y||0,this)},i.default.Vector.prototype.reflect=function(d){return d.normalize(),this.sub(d.mult(2*this.dot(d)))},i.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},i.default.Vector.prototype.equals=function(_,p,g){var y,v,_=_ instanceof i.default.Vector?(y=_.x||0,v=_.y||0,_.z||0):_ instanceof Array?(y=_[0]||0,v=_[1]||0,_[2]||0):(y=_||0,v=p||0,g||0);return this.x===y&&this.y===v&&this.z===_},i.default.Vector.fromAngle=function(d,p){return new i.default.Vector((p=p===void 0?1:p)*Math.cos(d),p*Math.sin(d),0)},i.default.Vector.fromAngles=function(x,v,g){g===void 0&&(g=1);var y=Math.cos(v),v=Math.sin(v),_=Math.cos(x),x=Math.sin(x);return new i.default.Vector(g*x*v,-g*_,g*x*y)},i.default.Vector.random2D=function(){return this.fromAngle(Math.random()*u.TWO_PI)},i.default.Vector.random3D=function(){var d=Math.random()*u.TWO_PI,p=2*Math.random()-1,y=Math.sqrt(1-p*p),g=y*Math.cos(d),y=y*Math.sin(d);return new i.default.Vector(g,y,p)},i.default.Vector.add=function(d,p,g){return g?g.set(d):(g=d.copy(),arguments.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),g.add(p),g},i.default.Vector.rem=function(d,p){if(d instanceof i.default.Vector&&p instanceof i.default.Vector)return(d=d.copy()).rem(p),d},i.default.Vector.sub=function(d,p,g){return g?g.set(d):(g=d.copy(),arguments.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),g.sub(p),g},i.default.Vector.mult=function(d,p,g){return g?g.set(d):(g=d.copy(),arguments.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),g.mult(p),g},i.default.Vector.rotate=function(d,p,g){return arguments.length===2?g=d.copy():(g instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),g.set(d)),g.rotate(p),g},i.default.Vector.div=function(d,p,g){return g?g.set(d):(g=d.copy(),arguments.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),g.div(p),g},i.default.Vector.dot=function(d,p){return d.dot(p)},i.default.Vector.cross=function(d,p){return d.cross(p)},i.default.Vector.dist=function(d,p){return d.dist(p)},i.default.Vector.lerp=function(d,p,g,y){return y?y.set(d):(y=d.copy(),arguments.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(p,g),y},i.default.Vector.mag=function(y){var p=y.x,g=y.y,y=y.z;return Math.sqrt(p*p+g*g+y*y)},i.default.Vector.normalize=function(d,p){return arguments.length<2?p=d.copy():(p instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),p.set(d)),p.normalize()};var c=i.default.Vector;l.default=c},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(f,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(f=f("../core/main"))&&f.__esModule?f:{default:f},n="_lcg_random_state",i=4294967296,u=0,f=(s.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%i,this[m]/i},s.default.prototype._lcgSetSeed=function(m,a){this[m]=(a??Math.random()*i)>>>0},s.default.prototype.randomSeed=function(m){this._lcgSetSeed(n,m),this._gaussian_previous=!1},s.default.prototype.random=function(m,a){var c,d;return s.default._validateParameters("random",arguments),c=this[n]!=null?this._lcg(n):Math.random(),m===void 0?c:a===void 0?m instanceof Array?m[Math.floor(c*m.length)]:c*m:(a<m&&(d=m,m=a,a=d),c*(a-m)+m)},s.default.prototype.randomGaussian=function(m){var a,c,d,p,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)a=u,this._gaussian_previous=!1;else{for(;1<=(p=(c=this.random(2)-1)*c+(d=this.random(2)-1)*d););a=c*(p=Math.sqrt(-2*Math.log(p)/p)),u=d*p,this._gaussian_previous=!0}return a*g+(m||0)},s.default);l.default=f},{"../core/main":267}],302:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.prototype._angleMode=u.RADIANS,i.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},i.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},i.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},i.default.prototype.atan2=function(a,c){return this._fromRadians(Math.atan2(a,c))},i.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},i.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},i.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},i.default.prototype.degrees=function(a){return a*u.RAD_TO_DEG},i.default.prototype.radians=function(a){return a*u.DEG_TO_RAD},i.default.prototype.angleMode=function(a){if(i.default._validateParameters("angleMode",arguments),a===void 0)return this._angleMode;a!==u.DEGREES&&a!==u.RADIANS||(this._angleMode=a)},i.default.prototype._toRadians=function(a){return this._angleMode===u.DEGREES?a*u.DEG_TO_RAD:a},i.default.prototype._toDegrees=function(a){return this._angleMode===u.RADIANS?a*u.RAD_TO_DEG:a},i.default.prototype._fromRadians=function(a){return this._angleMode===u.DEGREES?a*u.RAD_TO_DEG:a};var m=i.default;l.default=m},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.textAlign=function(n,i){var u;return s.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},s.default.prototype.textLeading=function(n){var i;return s.default._validateParameters("textLeading",arguments),(i=this._renderer).textLeading.apply(i,arguments)},s.default.prototype.textSize=function(n){var i;return s.default._validateParameters("textSize",arguments),(i=this._renderer).textSize.apply(i,arguments)},s.default.prototype.textStyle=function(n){var i;return s.default._validateParameters("textStyle",arguments),(i=this._renderer).textStyle.apply(i,arguments)},s.default.prototype.textWidth=function(){for(var n,i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return u[0]+="",s.default._validateParameters("textWidth",u),u[0].length===0?0:(n=this._renderer).textWidth.apply(n,u)},s.default.prototype.textAscent=function(){for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return s.default._validateParameters("textAscent",i),this._renderer.textAscent()},s.default.prototype.textDescent=function(){for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return s.default._validateParameters("textDescent",i),this._renderer.textDescent()},s.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},s.default.prototype.textWrap=function(n){if(n!=="WORD"&&n!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(n)},t=s.default,l.default=t},{"../core/main":267}],304:[function(t,o,l){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function n(d){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=a(t("../core/constants")),f=a(t("opentype.js"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}function a(d){if(d&&d.__esModule)return d;if(d===null||n(d)!=="object"&&typeof d!="function")return{default:d};var p=m();if(p&&p.has(d))return p.get(d);var g,y,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&((y=_?Object.getOwnPropertyDescriptor(d,g):null)&&(y.get||y.set)?Object.defineProperty(v,g,y):v[g]=d[g]);return v.default=d,p&&p.set(d,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadFont=function(d,p,g){i.default._validateParameters("loadFont",arguments);var y=new i.default.Font(this),v=this;return f.load(d,function(w,E){if(w)return i.default._friendlyFileLoadError(4,d),g!==void 0?g(w):void console.error(w,d);y.font=E,p!==void 0&&p(y),v._decrementPreload();var w=d.split("\\").pop().split("/").pop(),E=w.lastIndexOf("."),T=E<1?null:w.slice(E+1);["ttf","otf","woff","woff2"].includes(T)&&(T=w.slice(0,E!==-1?E:0),(w=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(T,`;
src: url(`).concat(d,`);
}
`))),document.head.appendChild(w))}),y},i.default.prototype.text=function(d,p,g,y,v){var _;return i.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},i.default.prototype.textFont=function(d,p){if(i.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",p*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var c=i.default;l.default=c},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(t,o,l){function s(T){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(T){if(T&&T.__esModule)return T;if(T===null||f(T)!=="object"&&typeof T!="function")return{default:T};var M=u();if(M&&M.has(T))return M.get(T);var j,P={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in T){var N;Object.prototype.hasOwnProperty.call(T,j)&&((N=L?Object.getOwnPropertyDescriptor(T,j):null)&&(N.get||N.set)?Object.defineProperty(P,j,N):P[j]=T[j])}return P.default=T,M&&M.set(T,P),P}(t("../core/constants"));function u(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,u=function(){return T},T)}function f(T){return(f=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(M){return s(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":s(M)})(T)}function m(T,M){var j=T.length;return T[M<0?M%j+j:M%j]}function a(T,M,j,P){var L,N,O;return P?(a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]),N=a.tmpPoint1,O=a.tmpPoint2,N.x=M.x-T.x,N.y=M.y-T.y,O.x=j.x-M.x,O.y=j.y-M.y,L=N.x*O.x+N.y*O.y,N=Math.sqrt(N.x*N.x+N.y*N.y),O=Math.sqrt(O.x*O.x+O.y*O.y),Math.acos(L/(N*O))<P):(M[0]-T[0])*(j[1]-T[1])-(j[0]-T[0])*(M[1]-T[1])==0}function c(R,U,I,G,ee,N,O,k,X){var Y=1-X,H=Math.pow(Y,3),z=Math.pow(Y,2),se=X*X,W=se*X,q=H*R+3*z*X*I+3*Y*X*X*ee+W*O,H=H*U+3*z*X*G+3*Y*X*X*N+W*k,z=R+2*X*(I-R)+se*(ee-2*I+R),W=U+2*X*(G-U)+se*(N-2*G+U),$=I+2*X*(ee-I)+se*(O-2*ee+I),se=G+2*X*(N-G)+se*(k-2*N+G),R=Y*R+X*I,I=Y*U+X*G,U=Y*ee+X*O,G=Y*N+X*k,ee=90-180*Math.atan2(z-$,W-se)/Math.PI;return($<z||W<se)&&(ee+=180),{x:q,y:H,m:{x:z,y:W},n:{x:$,y:se},start:{x:R,y:I},end:{x:U,y:G},alpha:ee}}function d(T,M,j,P,L,N,O,k,X){return X==null?w(T,M,j,P,L,N,O,k):c(T,M,j,P,L,N,O,k,function(Y,q,H,z,W,$,se,R,I){if(!(I<0||w(Y,q,H,z,W,$,se,R)<I)){var U,G=.5,ee=1-G;for(U=w(Y,q,H,z,W,$,se,R,ee);.01<Math.abs(U-I);)U=w(Y,q,H,z,W,$,se,R,ee+=(U<I?1:-1)*(G/=2));return ee}}(T,M,j,P,L,N,O,k,X))}function p(T,M,j){for(var P,L,N,O,k,X=0,Y=0,q=(T=function(H,z){function W(he,de,Me){var Se,je;if(!he)return["C",de.x,de.y,de.x,de.y,de.x,de.y];switch(he[0]in{T:1,Q:1}||(de.qx=de.qy=null),he[0]){case"M":de.X=he[1],de.Y=he[2];break;case"A":he=["C"].concat(y.apply(0,[de.x,de.y].concat(he.slice(1))));break;case"S":je=Me==="C"||Me==="S"?(Se=2*de.x-de.bx,2*de.y-de.by):(Se=de.x,de.y),he=["C",Se,je].concat(he.slice(1));break;case"T":Me==="Q"||Me==="T"?(de.qx=2*de.x-de.qx,de.qy=2*de.y-de.qy):(de.qx=de.x,de.qy=de.y),he=["C"].concat(x(de.x,de.y,de.qx,de.qy,he[1],he[2]));break;case"Q":de.qx=he[1],de.qy=he[2],he=["C"].concat(x(de.x,de.y,he[1],he[2],he[3],he[4]));break;case"L":he=["C"].concat(_(de.x,de.y,he[1],he[2]));break;case"H":he=["C"].concat(_(de.x,de.y,he[1],de.y));break;case"V":he=["C"].concat(_(de.x,de.y,de.x,he[1]));break;case"Z":he=["C"].concat(_(de.x,de.y,de.X,de.Y))}return he}function $(he,de){if(7<he[de].length){he[de].shift();for(var Me=he[de];Me.length;)ue[de]="A",U&&(fe[de]="A"),he.splice(de++,0,["C"].concat(Me.splice(0,6)));he.splice(de,1),R=Math.max(I.length,U&&U.length||0)}}function se(he,de,Me,Se,je){he&&de&&he[je][0]==="M"&&de[je][0]!=="M"&&(de.splice(je,0,["M",Se.x,Se.y]),Me.bx=0,Me.by=0,Me.x=he[je][1],Me.y=he[je][2],R=Math.max(I.length,U&&U.length||0))}var R,I=g(H),U=z&&g(z),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue=[],fe=[],pe="",ce="";R=Math.max(I.length,U&&U.length||0);for(var ie=0;ie<R;ie++){(pe=I[ie]?I[ie][0]:pe)!=="C"&&(ue[ie]=pe,ie&&(ce=ue[ie-1])),I[ie]=W(I[ie],G,ce),ue[ie]!=="A"&&pe==="C"&&(ue[ie]="C"),$(I,ie),U&&((pe=U[ie]?U[ie][0]:pe)!=="C"&&(fe[ie]=pe,ie&&(ce=fe[ie-1])),U[ie]=W(U[ie],ee,ce),fe[ie]!=="A"&&pe==="C"&&(fe[ie]="C"),$(U,ie)),se(I,U,G,ee,ie),se(U,I,ee,G,ie);var V=I[ie],F=U&&U[ie],re=V.length,ae=U&&F.length;G.x=V[re-2],G.y=V[re-1],G.bx=parseFloat(V[re-4])||G.x,G.by=parseFloat(V[re-3])||G.y,ee.bx=U&&(parseFloat(F[ae-4])||ee.x),ee.by=U&&(parseFloat(F[ae-3])||ee.y),ee.x=U&&F[ae-2],ee.y=U&&F[ae-1]}return U?[I,U]:I}(T)).length;Y<q;Y++){if((N=T[Y])[0]==="M")P=+N[1],L=+N[2];else{if(M<X+(O=d(P,L,N[1],N[2],N[3],N[4],N[5],N[6]))&&!j)return{x:(k=d(P,L,N[1],N[2],N[3],N[4],N[5],N[6],M-X)).x,y:k.y,alpha:k.alpha};X+=O,P=+N[5],L=+N[6]}N.shift()}return k=(k=j?X:c(P,L,N[0],N[1],N[2],N[3],N[4],N[5],1)).alpha?{x:k.x,y:k.y,alpha:k.alpha}:k}function g(T){var M=[],j=0,P=0,L=0,N=0,O=0;if(T){T[0][0]==="M"&&(L=j=+T[0][1],N=P=+T[0][2],O++,M[0]=["M",j,P]);for(var k,X,Y=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",q=O,H=T.length;q<H;q++){if(M.push(k=[]),(X=T[q])[0]!==String.prototype.toUpperCase.call(X[0]))switch(k[0]=String.prototype.toUpperCase.call(X[0]),k[0]){case"A":k[1]=X[1],k[2]=X[2],k[3]=X[3],k[4]=X[4],k[5]=X[5],k[6]=+(X[6]+j),k[7]=+(X[7]+P);break;case"V":k[1]=+X[1]+P;break;case"H":k[1]=+X[1]+j;break;case"R":for(var z,W=2,$=(z=[j,P].concat(X.slice(1))).length;W<$;W++)z[W]=+z[W]+j,z[++W]=+z[W]+P;M.pop(),M=M.concat(v(z,Y));break;case"M":L=+X[1]+j,N=+X[2]+P;break;default:for(var se=1,R=X.length;se<R;se++)k[se]=+X[se]+(se%2?j:P)}else if(X[0]==="R")z=[j,P].concat(X.slice(1)),M.pop(),M=M.concat(v(z,Y)),k=["R"].concat(X.slice(-2));else for(var I=0,U=X.length;I<U;I++)k[I]=X[I];switch(k[0]){case"Z":j=L,P=N;break;case"H":j=k[1];break;case"V":P=k[1];break;case"M":L=k[k.length-2],N=k[k.length-1];break;default:j=k[k.length-2],P=k[k.length-1]}}}return M}function y(T,M,j,P,U,ue,G,k,X,Y){function q(ae,he,de){return{x:ae*Math.cos(de)-he*Math.sin(de),y:ae*Math.sin(de)+he*Math.cos(de)}}var H,R=Math.PI,I=120*R/180,z=R/180*(+U||0),W=[],$=(Y?(ie=Y[0],H=Y[1],pe=Y[2],ce=Y[3]):(T=(ee=q(T,M,-z)).x,M=ee.y,1<($=(se=(T-(k=(ee=q(k,X,-z)).x))/2)*se/(j*j)+(ee=(M-(X=ee.y))/2)*ee/(P*P))&&(j*=$=Math.sqrt($),P*=$),$=j*j,fe=P*P,pe=(ue=(ue===G?-1:1)*Math.sqrt(Math.abs(($*fe-$*ee*ee-fe*se*se)/($*ee*ee+fe*se*se))))*j*ee/P+(T+k)/2,ce=ue*-P*se/j+(M+X)/2,ie=Math.asin(((M-ce)/P).toFixed(9)),H=Math.asin(((X-ce)/P).toFixed(9)),(ie=T<pe?R-ie:ie)<0&&(ie=2*R+ie),(H=k<pe?R-H:H)<0&&(H=2*R+H),G&&H<ie&&(ie-=2*R),!G&&ie<H&&(H-=2*R)),H-ie),se=(Math.abs($)>I&&(fe=H,ee=k,ue=X,H=ie+I*(G&&ie<H?1:-1),W=y(k=pe+j*Math.cos(H),X=ce+P*Math.sin(H),j,P,U,0,G,ee,ue,[H,fe,pe,ce])),$=H-ie,Math.cos(ie)),R=Math.sin(ie),I=Math.cos(H),U=Math.sin(H),G=Math.tan($/4),ee=4/3*j*G,ue=4/3*P*G,fe=[T,M],pe=[T+ee*R,M-ue*se],ce=[k+ee*U,X-ue*I],ie=[k,X];if(pe[0]=2*fe[0]-pe[0],pe[1]=2*fe[1]-pe[1],Y)return[pe,ce,ie].concat(W);for(var V=[],F=0,re=(W=[pe,ce,ie].concat(W).join().split(",")).length;F<re;F++)V[F]=F%2?q(W[F-1],W[F],z).y:q(W[F],W[F+1],z).x;return V}function v(T,M){for(var j=[],P=0,L=T.length;P<L-2*!M;P+=2){var N=[{x:+T[P-2],y:+T[P-1]},{x:+T[P],y:+T[P+1]},{x:+T[P+2],y:+T[P+3]},{x:+T[P+4],y:+T[P+5]}];M?P?L-4===P?N[3]={x:+T[0],y:+T[1]}:L-2===P&&(N[2]={x:+T[0],y:+T[1]},N[3]={x:+T[2],y:+T[3]}):N[0]={x:+T[L-2],y:+T[L-1]}:L-4===P?N[3]=N[2]:P||(N[0]={x:+T[P],y:+T[P+1]}),j.push(["C",(-N[0].x+6*N[1].x+N[2].x)/6,(-N[0].y+6*N[1].y+N[2].y)/6,(N[1].x+6*N[2].x-N[3].x)/6,(N[1].y+6*N[2].y-N[3].y)/6,N[2].x,N[2].y])}return j}function _(T,M,j,P){return[T,M,j,P,j,P]}function x(T,M,j,P,L,N){return[1/3*T+2/3*j,1/3*M+2/3*P,1/3*L+2/3*j,1/3*N+2/3*P,L,N]}function w(T,M,j,P,L,N,O,k,X){for(var Y=(X=1<(X=X??1)?1:X<0?0:X)/2,q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0;W<12;W++){var se=Y*q[W]+Y,$=E(se,T,j,L,O),se=E(se,M,P,N,k);H+=z[W]*Math.sqrt($*$+se*se)}return Y*H}function E(T,M,j,P,L){return T*(T*(-3*M+9*j-9*P+3*L)+6*M-12*j+6*P)-3*M+3*j}n.default.Font=function(T){this.parent=T,this.cache={},this.font=void 0},n.default.Font.prototype.textBounds=function(T){var M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,O=3<arguments.length?arguments[3]:void 0,P=4<arguments.length?arguments[4]:void 0,L=P&&P.renderer&&P.renderer._pInst||this.parent,N=L._renderer.drawingContext,O=(N.textAlign||i.LEFT,N.textBaseline||i.BASELINE,O||L._renderer._textSize);if(!I){for(var k=[],X=[],Y=[],q=(Y[0]=[],[]),H=this._scale(O),z=L._renderer.textLeading(),W=0,$=(this.font.forEachGlyph(T,M,j,O,P,function(ee,ue,fe,pe){var ce=ee.getMetrics();ee.index===0||ee.index===10?Y[W+=1]=[]:(Y[W].push(ue+ce.xMin*H),Y[W].push(ue+ce.xMax*H),q.push(fe+W*z+-ce.yMin*H),q.push(fe+W*z+-ce.yMax*H))}),0<Y[W].length&&(k[W]=Math.min.apply(null,Y[W]),X[W]=Math.max.apply(null,Y[W])),0),se=0;se<=W;se++){k[se]=Math.min.apply(null,Y[se]),X[se]=Math.max.apply(null,Y[se]);var R=X[se]-k[se];$<R&&($=R)}var N=Math.min.apply(null,k),I={x:N,y:j=Math.min.apply(null,q),h:Math.max.apply(null,q)-j,w:$,advance:N-M},O=this._handleAlignment(L._renderer,T,I.x,I.y,I.w+I.advance);I.x=O.x,I.y=O.y}return I},n.default.Font.prototype.textToPoints=function(T,M,j,P,L){var N=0,O=[],k=this._getGlyphs(T);P=P||this.parent._renderer._textSize;for(var X,Y=0;Y<k.length;Y++){if(!(k[X=Y].name&&k[X].name==="space"||T.length===k.length&&T[X]===" "))for(var q=function($){for(var se,R=[],I=0;I<$.length;I++)$[I].type==="M"&&(se&&R.push(se),se=[]),se.push(function(U){var G=[U.type];return U.type==="M"||U.type==="L"?G.push(U.x,U.y):U.type==="C"?G.push(U.x1,U.y1,U.x2,U.y2,U.x,U.y):U.type==="Q"&&G.push(U.x1,U.y1,U.x,U.y),G}($[I]));return R.push(se),R}(k[Y].getPath(M,j,P).commands),H=0;H<q.length;H++)for(var z=function($,se){for(var se=function(ue,fe){if(f(ue)!=="object")ue=fe;else for(var pe in fe)ue[pe]===void 0&&(ue[pe]=fe[pe]);return ue}(se,{sampleFactor:.1,simplifyThreshold:0}),R=p($,0,1),I=R/(R*se.sampleFactor),U=[],G=0;G<R;G+=I)U.push(p($,G));return se.simplifyThreshold&&function(ee){for(var ue=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,fe=0,pe=ee.length-1;3<ee.length&&0<=pe;--pe)a(m(ee,pe-1),m(ee,pe),m(ee,pe+1),ue)&&(ee.splice(pe%ee.length,1),fe++)}(U,se.simplifyThreshold),U}(q[H],L),W=0;W<z.length;W++)z[W].x+=N,O.push(z[W]);N+=k[Y].advanceWidth*this._scale(P)}return O},n.default.Font.prototype._getGlyphs=function(T){return this.font.stringToGlyphs(T)},n.default.Font.prototype._getPath=function(T,N,j,P){var L=(P&&P.renderer&&P.renderer._pInst||this.parent)._renderer,N=this._handleAlignment(L,T,N,j);return this.font.getPath(T,N.x,N.y,L._textSize,P)},n.default.Font.prototype._getPathData=function(T,M,j,P){var L=3;return typeof T=="string"&&2<arguments.length?T=this._getPath(T,M,j,P):f(M)==="object"&&(P=M),P&&typeof P.decimals=="number"&&(L=P.decimals),T.toPathData(L)},n.default.Font.prototype._getSVG=function(T,M,j,P){var L=3;return typeof T=="string"&&2<arguments.length?T=this._getPath(T,M,j,P):f(M)==="object"&&(P=M),P&&(typeof P.decimals=="number"&&(L=P.decimals),typeof P.strokeWidth=="number"&&(T.strokeWidth=P.strokeWidth),P.fill!==void 0&&(T.fill=P.fill),P.stroke!==void 0&&(T.stroke=P.stroke)),T.toSVG(L)},n.default.Font.prototype._renderPath=function(O,X,Y,P){var L=P&&P.renderer||this.parent._renderer,N=L.drawingContext,O=(f(O)==="object"&&O.commands?O:this._getPath(O,X,Y,P)).commands,k=(N.beginPath(),!0),X=!1,Y=void 0;try{for(var q,H=O[Symbol.iterator]();!(k=(q=H.next()).done);k=!0){var z=q.value;z.type==="M"?N.moveTo(z.x,z.y):z.type==="L"?N.lineTo(z.x,z.y):z.type==="C"?N.bezierCurveTo(z.x1,z.y1,z.x2,z.y2,z.x,z.y):z.type==="Q"?N.quadraticCurveTo(z.x1,z.y1,z.x,z.y):z.type==="Z"&&N.closePath()}}catch(W){X=!0,Y=W}finally{try{k||H.return==null||H.return()}finally{if(X)throw Y}}return L._doStroke&&L._strokeSet&&N.stroke(),L._doFill&&(L._fillSet||L._setFill(i._DEFAULT_TEXT_FILL),N.fill()),this},n.default.Font.prototype._textWidth=function(T,M){return this.font.getAdvanceWidth(T,M)},n.default.Font.prototype._textAscent=function(T){return this.font.ascender*this._scale(T)},n.default.Font.prototype._textDescent=function(T){return-this.font.descender*this._scale(T)},n.default.Font.prototype._scale=function(T){return 1/this.font.unitsPerEm*(T||this.parent._renderer._textSize)},n.default.Font.prototype._handleAlignment=function(T,M,j,P,L){var N=T._textSize;switch(L===void 0&&(L=this._textWidth(M,N)),T._textAlign){case i.CENTER:j-=L/2;break;case i.RIGHT:j-=L}switch(T._textBaseline){case i.TOP:P+=this._textAscent(N);break;case i.CENTER:P+=this._textAscent(N)/2;break;case i.BOTTOM:P-=this._textDescent(N)}return{x:j,y:P}},t=n.default,l.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(s,n){return s.push(n),s},t.default.prototype.arrayCopy=function(s,n,i,u,f){var m,a;s=f!==void 0?(a=Math.min(f,s.length),m=u,s.slice(n,a+n)):(a=i!==void 0?(a=i,Math.min(a,s.length)):s.length,i=n,s.slice(m=0,a)),Array.prototype.splice.apply(i,[m,a].concat(s))},t.default.prototype.concat=function(s,n){return s.concat(n)},t.default.prototype.reverse=function(s){return s.reverse()},t.default.prototype.shorten=function(s){return s.pop(),s},t.default.prototype.shuffle=function(s,n){for(var i,u,f=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(s),m=(s=n||f?s:s.slice()).length;1<m;)i=this.random(0,1)*m|0,u=s[--m],s[m]=s[i],s[i]=u;return s},t.default.prototype.sort=function(s,u){var i=u?s.slice(0,Math.min(u,s.length)):s,u=u?s.slice(Math.min(u,s.length)):[];return(i=typeof i[0]=="string"?i.sort():i.sort(function(f,m){return f-m})).concat(u)},t.default.prototype.splice=function(s,n,i){return Array.prototype.splice.apply(s,[i,0].concat(n)),s},t.default.prototype.subset=function(s,n,i){return i!==void 0?s.slice(n,n+i):s.slice(n,s.length)},t=t.default,l.default=t},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(t,o,l){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.float=function(n){return n instanceof Array?n.map(parseFloat):parseFloat(n)},s.default.prototype.int=function(n){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return n===1/0||n==="Infinity"?1/0:n===-1/0||n==="-Infinity"?-1/0:typeof n=="string"?parseInt(n,i):typeof n=="number"?0|n:typeof n=="boolean"?n?1:0:n instanceof Array?n.map(function(u){return s.default.prototype.int(u,i)}):void 0},s.default.prototype.str=function(n){return n instanceof Array?n.map(s.default.prototype.str):String(n)},s.default.prototype.boolean=function(n){return typeof n=="number"?n!==0:typeof n=="string"?n.toLowerCase()==="true":typeof n=="boolean"?n:n instanceof Array?n.map(s.default.prototype.boolean):void 0},s.default.prototype.byte=function(n){return n=s.default.prototype.int(n,10),typeof n=="number"?(n+128)%256-128:n instanceof Array?n.map(s.default.prototype.byte):void 0},s.default.prototype.char=function(n){return typeof n!="number"||isNaN(n)?n instanceof Array?n.map(s.default.prototype.char):typeof n=="string"?s.default.prototype.char(parseInt(n,10)):void 0:String.fromCharCode(n)},s.default.prototype.unchar=function(n){return typeof n=="string"&&n.length===1?n.charCodeAt(0):n instanceof Array?n.map(s.default.prototype.unchar):void 0},s.default.prototype.hex=function(n,i){if(i=i??8,n instanceof Array)return n.map(function(f){return s.default.prototype.hex(f,i)});if(n===1/0||n===-1/0)return(n===1/0?"F":"0").repeat(i);if(typeof n=="number"){n<0&&(n=4294967295+n+1);for(var u=Number(n).toString(16).toUpperCase();u.length<i;)u="0".concat(u);return u=u.length>=i?u.substring(u.length-i,u.length):u}},s.default.prototype.unhex=function(n){return n instanceof Array?n.map(s.default.prototype.unhex):parseInt("0x".concat(n),16)},t=s.default,l.default=t},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(t,o,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m};function n(g,c,d){var p=g<0,g=p?g.toString().substring(1):g.toString(),y=g.indexOf("."),v=y!==-1?g.substring(0,y):g,_=y!==-1?g.substring(y+1):"",x=p?"-":"";if(d!==void 0){p="",(y!==-1||0<d-_.length)&&(p="."),_.length>d&&(_=_.substring(0,d));for(var w=0;w<c-v.length;w++)x+="0";for(var x=(x+=v)+p+_,E=0;E<d-_.length;E++)x+="0";return x}for(var T=0;T<Math.max(c-v.length,0);T++)x+="0";return x+=g}function i(g,c){var d=(g=g.toString()).indexOf("."),p=d!==-1?g.substring(d):"",g=(g=d!==-1?g.substring(0,d):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(c===0)p="";else if(c!==void 0)if(c>p.length)for(var y=c-(p+=d===-1?".":"").length+1,v=0;v<y;v++)p+="0";else p=p.substring(0,c+1);return g+p}function u(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function f(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.join=function(a,c){return s.default._validateParameters("join",arguments),a.join(c)},s.default.prototype.match=function(a,c){return s.default._validateParameters("match",arguments),a.match(c)},s.default.prototype.matchAll=function(a,c){s.default._validateParameters("matchAll",arguments);for(var d=new RegExp(c,"g"),p=d.exec(a),g=[];p!==null;)g.push(p),p=d.exec(a);return g},s.default.prototype.nf=function(a,c,d){return s.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(p){return n(p,c,d)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):n(a,c,d)},s.default.prototype.nfc=function(a,c){return s.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(d){return i(d,c)}):i(a,c)},s.default.prototype.nfp=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];s.default._validateParameters("nfp",c);var p=s.default.prototype.nf.apply(this,c);return p instanceof Array?p.map(u):u(p)},s.default.prototype.nfs=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];s.default._validateParameters("nfs",c);var p=s.default.prototype.nf.apply(this,c);return p instanceof Array?p.map(f):f(p)},s.default.prototype.split=function(a,c){return s.default._validateParameters("split",arguments),a.split(c)},s.default.prototype.splitTokens=function(a,c){var d,p;return s.default._validateParameters("splitTokens",arguments),p=c!==void 0?(p=/\]/g.exec(c=c),(d=/\[/g.exec(c))&&p?(c=c.slice(0,p.index)+c.slice(p.index+1),d=/\[/g.exec(c),c=c.slice(0,d.index)+c.slice(d.index+1),new RegExp("[\\[".concat(c,"\\]]"),"g")):p?(c=c.slice(0,p.index)+c.slice(p.index+1),new RegExp("[".concat(c,"\\]]"),"g")):d?(c=c.slice(0,d.index)+c.slice(d.index+1),new RegExp("[".concat(c,"\\[]"),"g")):new RegExp("[".concat(c,"]"),"g")):/\s/g,a.split(p).filter(function(g){return g})},s.default.prototype.trim=function(a){return s.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var m=s.default;l.default=m},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,l.default=t},{"../core/main":267}],310:[function(t,o,l){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function n(c){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(a=t("../core/main"))&&a.__esModule?a:{default:a},u=(t("./p5.Geometry"),function(c){if(c&&c.__esModule)return c;if(c===null||n(c)!=="object"&&typeof c!="function")return{default:c};var d=f();if(d&&d.has(c))return d.get(c);var p,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var v;Object.prototype.hasOwnProperty.call(c,p)&&((v=y?Object.getOwnPropertyDescriptor(c,p):null)&&(v.get||v.set)?Object.defineProperty(g,p,v):g[p]=c[p])}return g.default=c,d&&d.set(c,g),g}(t("../core/constants")));function f(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,f=function(){return c},c)}i.default.prototype.plane=function(c,d,p,g){this._assert3d("plane"),i.default._validateParameters("plane",arguments),c===void 0&&(c=50),d===void 0&&(d=c),g===void 0&&(g=1);var y,v="plane|".concat(p=p===void 0?1:p,"|").concat(g);return this._renderer.geometryInHash(v)||((y=new i.default.Geometry(p,g,function(){for(var _,x,w=0;w<=this.detailY;w++)for(var E=w/this.detailY,T=0;T<=this.detailX;T++)_=T/this.detailX,x=new i.default.Vector(_-.5,E-.5,0),this.vertices.push(x),this.uvs.push(_,E)})).computeFaces().computeNormals(),p<=1&&g<=1?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,y)),this._renderer.drawBuffersScaled(v,c,d,1),this},i.default.prototype.box=function(c,d,p,g,y){this._assert3d("box"),i.default._validateParameters("box",arguments),c===void 0&&(c=50),d===void 0&&(d=c),p===void 0&&(p=d);var v,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,_=(y===void 0&&(y=_?1:4),"box|".concat(g=g===void 0?_?1:4:g,"|").concat(y));return this._renderer.geometryInHash(_)||((v=new i.default.Geometry(g,y,function(){var x=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var w=0;w<x.length;w++){for(var E=x[w],T=4*w,M=0;M<4;M++){var j=E[M],j=new i.default.Vector((2*(1&j)-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);this.vertices.push(j),this.uvs.push(1&M,(2&M)/2)}this.faces.push([T,1+T,2+T]),this.faces.push([2+T,1+T,3+T])}})).computeNormals(),g<=4&&y<=4?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,c,d,p),this},i.default.prototype.sphere=function(c,d,p){return this._assert3d("sphere"),i.default._validateParameters("sphere",arguments),this.ellipsoid(c=c===void 0?50:c,c,c,d=d===void 0?24:d,p=p===void 0?16:p),this};function m(c,d,p,g,y,v,_){c=c<=0?1:c,d=d<0?0:d,p=p<=0?c:p,g=g<3?3:g;for(var x,w,E=(v=v===void 0||v)?-2:0,T=(y=y<1?1:y)+((_=_===void 0?d!==0:_)?2:0),M=Math.atan2(c-d,p),j=Math.sin(M),P=Math.cos(M),L=E;L<=T;++L){var N=L/y,O=p*N,k=void 0,k=L<0?(N=O=0,c):y<L?(O=p,N=1,d):c+(d-c)*N;for(L!==-2&&L!==y+2||(k=0),O-=p/2,x=0;x<g;++x){var X=x/(g-1),q=2*Math.PI*X,Y=Math.sin(q),q=Math.cos(q),H=(this.vertices.push(new i.default.Vector(Y*k,O,q*k)),void 0),H=L<0?new i.default.Vector(0,-1,0):y<L&&d?new i.default.Vector(0,1,0):new i.default.Vector(Y*P,j,q*P);this.vertexNormals.push(H),this.uvs.push(X,N)}}var z=0;if(v){for(w=0;w<g;++w)this.faces.push([z+w,z+g+(w+1)%g,z+g+w]);z+=2*g}for(L=0;L<y;++L){for(x=0;x<g;++x){var W=(x+1)%g;this.faces.push([z+x,z+W,z+g+W]),this.faces.push([z+x,z+g+W,z+g+x])}z+=g}if(_)for(z+=g,x=0;x<g;++x)this.faces.push([z+x,z+(x+1)%g,z+g])}i.default.prototype.cylinder=function(c,d,p,g,y,v){this._assert3d("cylinder"),i.default._validateParameters("cylinder",arguments),c===void 0&&(c=50),d===void 0&&(d=c),g===void 0&&(g=1),v===void 0&&(v=!0),y===void 0&&(y=!0);var _,x="cylinder|".concat(p=p===void 0?24:p,"|").concat(g,"|").concat(y,"|").concat(v);return this._renderer.geometryInHash(x)||(_=new i.default.Geometry(p,g),m.call(_,1,1,1,p,g,y,v),p<=24&&g<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,_)),this._renderer.drawBuffersScaled(x,c,d,c),this},i.default.prototype.cone=function(c,d,p,g,y){this._assert3d("cone"),i.default._validateParameters("cone",arguments),c===void 0&&(c=50),d===void 0&&(d=c),g===void 0&&(g=1),y===void 0&&(y=!0);var v,_="cone|".concat(p=p===void 0?24:p,"|").concat(g,"|").concat(y);return this._renderer.geometryInHash(_)||(v=new i.default.Geometry(p,g),m.call(v,1,0,1,p,g,y,!1),p<=24&&g<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,c,d,c),this},i.default.prototype.ellipsoid=function(c,d,p,g,y){this._assert3d("ellipsoid"),i.default._validateParameters("ellipsoid",arguments),c===void 0&&(c=50),d===void 0&&(d=c),p===void 0&&(p=c),y===void 0&&(y=16);var v,_="ellipsoid|".concat(g=g===void 0?24:g,"|").concat(y);return this._renderer.geometryInHash(_)||((v=new i.default.Geometry(g,y,function(){for(var x=0;x<=this.detailY;x++)for(var w=x/this.detailY,E=Math.PI*w-Math.PI/2,T=Math.cos(E),M=Math.sin(E),j=0;j<=this.detailX;j++){var P=j/this.detailX,N=2*Math.PI*P,L=Math.cos(N),N=Math.sin(N),N=new i.default.Vector(T*N,M,T*L);this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(P,w)}})).computeFaces(),g<=24&&y<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,c,d,p),this},i.default.prototype.torus=function(c,_,p,g){if(this._assert3d("torus"),i.default._validateParameters("torus",arguments),c===void 0)c=50;else if(!c)return;if(_===void 0)_=10;else if(!_)return;p===void 0&&(p=24),g===void 0&&(g=16);var y,v=(_/c).toPrecision(4),_="torus|".concat(v,"|").concat(p,"|").concat(g);return this._renderer.geometryInHash(_)||((y=new i.default.Geometry(p,g,function(){for(var x=0;x<=this.detailY;x++)for(var w=x/this.detailY,E=2*Math.PI*w,T=Math.cos(E),M=Math.sin(E),j=1+v*T,P=0;P<=this.detailX;P++){var L=P/this.detailX,N=2*Math.PI*L,k=Math.cos(N),N=Math.sin(N),O=new i.default.Vector(j*k,j*N,v*M),k=new i.default.Vector(T*k,T*N,M);this.vertices.push(O),this.vertexNormals.push(k),this.uvs.push(L,w)}})).computeFaces(),p<=24&&g<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,y)),this._renderer.drawBuffersScaled(_,c,c,c),this},i.default.RendererGL.prototype.point=function(c,d,p){var g=[];return g.push(new i.default.Vector(c,d,p=p===void 0?0:p)),this._drawPoints(g,this.immediateMode.buffers.point),this},i.default.RendererGL.prototype.triangle=function(_){var d=_[0],p=_[1],g=_[2],y=_[3],v=_[4],_=_[5],x=(this.geometryInHash("tri")||((x=new i.default.Geometry(1,1,function(){var E=[];E.push(new i.default.Vector(0,0,0)),E.push(new i.default.Vector(0,1,0)),E.push(new i.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]}))._makeTriangleEdges()._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)),this.uMVMatrix.copy());try{var w=new i.default.Matrix([g-d,y-p,0,0,v-d,_-p,0,0,0,0,1,0,d,p,0,1]).mult(this.uMVMatrix);this.uMVMatrix=w,this.drawBuffers("tri")}finally{this.uMVMatrix=x}return this},i.default.RendererGL.prototype.ellipse=function(c){this.arc(c[0],c[1],c[2],c[3],0,u.TWO_PI,u.OPEN,c[4])},i.default.RendererGL.prototype.arc=function(c){var d,p=arguments[1],g=arguments[2],y=arguments[3],v=arguments[4],_=arguments[5],x=arguments[6],w=arguments[7]||25,E=(Math.abs(_-v)>=u.TWO_PI?"".concat(T="ellipse","|"):"".concat(T="arc","|").concat(v,"|").concat(_,"|").concat(x,"|")).concat(w,"|"),T=(this.geometryInHash(E)||((d=new i.default.Geometry(w,1,function(){if(this.strokeIndices=[],v.toFixed(10)!==_.toFixed(10)){x!==u.PIE&&x!==void 0||(this.vertices.push(new i.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=w;M++){var P=(_-v)*(M/w)+v,j=.5+Math.cos(P)/2,P=.5+Math.sin(P)/2;this.vertices.push(new i.default.Vector(j,P,0)),this.uvs.push([j,P]),M<w-1&&(this.faces.push([0,M+1,M+2]),this.strokeIndices.push([M+1,M+2]))}switch(x){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case u.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case u.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),w<=50?d._makeTriangleEdges()._edgesToVertices(d):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(T," with more than 50 detail")),this.createBuffers(E,d)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([c,p,0]),this.uMVMatrix.scale(g,y,1),this.drawBuffers(E)}finally{this.uMVMatrix=T}return this},i.default.RendererGL.prototype.rect=function(c){var d=c[0],p=c[1],g=c[2],y=c[3];if(c[4]===void 0){var x=this._pInst._glAttributes.perPixelLighting,v=c[4]||(x?1:24),_=c[5]||(x?1:16),x="rect|".concat(v,"|").concat(_),w=(this.geometryInHash(x)||((w=new i.default.Geometry(v,_,function(){for(var H=0;H<=this.detailY;H++)for(var z=H/this.detailY,W=0;W<=this.detailX;W++){var $=W/this.detailX,se=new i.default.Vector($,z,0);this.vertices.push(se),this.uvs.push($,z)}0<v&&0<_&&(this.strokeIndices=[[0,v],[v,(v+1)*(_+1)-1],[(v+1)*(_+1)-1,(v+1)*_],[(v+1)*_,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(x,w)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,p,0]),this.uMVMatrix.scale(g,y,1),this.drawBuffers(x)}finally{this.uMVMatrix=w}}else{var x=c[4],w=c[5]===void 0?x:c[5],E=c[6]===void 0?w:c[6],c=c[7]===void 0?E:c[7],N=g,T=y,P=((N+=d)<d&&(P=d,d=N,N=P),(T+=p)<p&&(P=p,p=T,T=P),Math.min((N-d)/2,(T-p)/2)),M=(P<x&&(x=P),P<w&&(w=P),P<E&&(E=P),P<c&&(c=P),d),j=p,P=N,d=T,L=(this.beginShape(),w!==0?(this.vertex(P-w,j),this.quadraticVertex(P,j,P,j+w)):this.vertex(P,j),E!==0?(this.vertex(P,d-E),this.quadraticVertex(P,d,P-E,d)):this.vertex(P,d),c!==0?(this.vertex(M+c,d),this.quadraticVertex(M,d,M,d-c)):this.vertex(M,d),x!==0?(this.vertex(M,j+x),this.quadraticVertex(M,j,M+x,j)):this.vertex(M,j),!(this.immediateMode.geometry.uvs.length=0)),p=!1,N=void 0;try{for(var O,k=this.immediateMode.geometry.vertices[Symbol.iterator]();!(L=(O=k.next()).done);L=!0){var X=O.value,Y=(X.x-M)/g,q=(X.y-j)/y;this.immediateMode.geometry.uvs.push(Y,q)}}catch(R){p=!0,N=R}finally{try{L||k.return==null||k.return()}finally{if(p)throw N}}this.endShape(u.CLOSE)}return this},i.default.RendererGL.prototype.quad=function(c,d,p,g,y,v,_,x,w,E,T,M,j,P){j===void 0&&(j=2),P===void 0&&(P=2);var L="quad|".concat(c,"|").concat(d,"|").concat(p,"|").concat(g,"|").concat(y,"|").concat(v,"|").concat(_,"|").concat(x,"|").concat(w,"|").concat(E,"|").concat(T,"|").concat(M,"|").concat(j,"|").concat(P);if(!this.geometryInHash(L)){var N=new i.default.Geometry(j,P,function(){for(var H=1/(this.detailX-1),z=1/(this.detailY-1),W=0;W<this.detailY;W++)for(var $=0;$<this.detailX;$++){var se=$*H,R=W*z;this.vertices.push(new i.default.Vector((1-se)*((1-R)*c+R*E)+se*((1-R)*g+R*_),(1-se)*((1-R)*d+R*T)+se*((1-R)*y+R*x),(1-se)*((1-R)*p+R*M)+se*((1-R)*v+R*w))),this.uvs.push([se,R])}});N.faces=[];for(var O=0;O<P-1;O++)for(var k=0;k<j-1;k++){var X=k+O*j,Y=k+1+(O+1)*j,q=k+(O+1)*j;N.faces.push([X,k+1+O*j,Y]),N.faces.push([X,Y,q])}N.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,N)}return this.drawBuffers(L),this},i.default.RendererGL.prototype.bezier=function(c,d,p,g,y,v,_,x,w,E,T,M){arguments.length===8&&(T=x,E=_,x=v,_=y,y=g,g=p,p=v=w=M=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var P=0;P<=j;P++){var L=Math.pow(1-P/j,3),N=P/j*3*Math.pow(1-P/j,2),O=3*Math.pow(P/j,2)*(1-P/j),k=Math.pow(P/j,3);this.vertex(c*L+g*N+_*O+E*k,d*L+y*N+x*O+T*k,p*L+v*N+w*O+M*k)}return this.endShape(),this},i.default.RendererGL.prototype.curve=function(c,d,p,g,y,v,_,x,w,E,T,M){arguments.length===8&&(E=_,T=x,_=y,x=g,y=g=p,p=v=w=M=0);var j=this._pInst._curveDetail;this.beginShape();for(var P=0;P<=j;P++){var L=.5*Math.pow(P/j,3),N=.5*Math.pow(P/j,2),O=P/j*.5;this.vertex(L*(3*g-c-3*_+E)+N*(2*c-5*g+4*_-E)+O*(-c+_)+2*g*.5,L*(3*y-d-3*x+T)+N*(2*d-5*y+4*x-T)+O*(-d+x)+2*y*.5,L*(3*v-p-3*w+M)+N*(2*p-5*v+4*w-M)+O*(-p+w)+2*v*.5)}return this.endShape(),this},i.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},i.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var c,d,p,g,y,v,_=[],x=[],w=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,T=0,M=1,j=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(v),M.toFixed(6)===E.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(T.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(v);break}T+=E,M-=E,++j}}var P=this._lookUpTableBezier.length;if(w===6){for(this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],y=0;y<P;y++)d=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],p=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(d,p);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(w===9){for(this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],c=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=0;y<P;y++)d=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],p=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],g=c[0]*this._lookUpTableBezier[y][0]+c[1]*this._lookUpTableBezier[y][1]+c[2]*this._lookUpTableBezier[y][2]+c[3]*this._lookUpTableBezier[y][3],this.vertex(d,p,g);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},i.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var c,d,p,g,y,v,_=[],x=[],w=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,T=0,M=1,j=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(v),M.toFixed(6)===E.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(T.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(v);break}T+=E,M-=E,++j}}var P=this._lookUpTableQuadratic.length;if(w===4){for(this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],y=0;y<P;y++)d=_[0]*this._lookUpTableQuadratic[y][0]+_[1]*this._lookUpTableQuadratic[y][1]+_[2]*this._lookUpTableQuadratic[y][2],p=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],this.vertex(d,p);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(w===6){for(this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],c=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],y=0;y<P;y++)d=_[0]*this._lookUpTableQuadratic[y][0]+_[1]*this._lookUpTableQuadratic[y][1]+_[2]*this._lookUpTableQuadratic[y][2],p=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],g=c[0]*this._lookUpTableQuadratic[y][0]+c[1]*this._lookUpTableQuadratic[y][1]+c[2]*this._lookUpTableQuadratic[y][2],this.vertex(d,p,g);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},i.default.RendererGL.prototype.curveVertex=function(){var c,d,p,g,y,v,_=[],x=[],w=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,T=0,M=1,j=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(v),M.toFixed(6)===E.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(T.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(v);break}T+=E,M-=E,++j}}var P=this._lookUpTableBezier.length;if(w===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<P;y++)d=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],p=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(d,p);for(y=0;y<w;y++)this.immediateMode._curveVertex.shift()}}else if(w===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<P;y++)d=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],p=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],g=c[0]*this._lookUpTableBezier[y][0]+c[1]*this._lookUpTableBezier[y][1]+c[2]*this._lookUpTableBezier[y][2]+c[3]*this._lookUpTableBezier[y][3],this.vertex(d,p,g);for(y=0;y<w;y++)this.immediateMode._curveVertex.shift()}},i.default.RendererGL.prototype.image=function(c,M,p,j,y,v,_,x,w){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(c),this._pInst.textureMode(u.NORMAL);var E=0,T=(M<=c.width&&(E=M/c.width),1),M=(M+j<=c.width&&(T=(M+j)/c.width),0),j=(p<=c.height&&(M=p/c.height),1);p+y<=c.height&&(j=(p+y)/c.height),this.beginShape(),this.vertex(v,_,0,E,M),this.vertex(v+x,_,0,T,M),this.vertex(v+x,_+w,0,T,j),this.vertex(v,_+w,0,E,j),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var a=i.default;l.default=a},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.prototype.orbitControl=function(a,c,d){var p,g;if(this._assert3d("orbitControl"),i.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return p=this._renderer._curCamera,a===void 0&&(a=1),c===void 0&&(c=a),d===void 0&&(d=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),g=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,d*g):this._renderer._curCamera._orbit(0,0,-d*g)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(d=-a*(this.mouseX-this.pmouseX)/g,g=c*(this.mouseY-this.pmouseY)/g,this._renderer._curCamera._orbit(d,g,0)):this.mouseButton===this.RIGHT&&(d=p._getLocalAxes(),(g=Math.sqrt(d.x[0]*d.x[0]+d.x[2]*d.x[2]))!==0&&(d.x[0]/=g,d.x[2]/=g),(g=Math.sqrt(d.y[0]*d.y[0]+d.y[2]*d.y[2]))!==0&&(d.y[0]/=g,d.y[2]/=g),g=-1*a*(this.mouseX-this.pmouseX),a=-1*c*(this.mouseY-this.pmouseY),p.setPosition(p.eyeX+g*d.x[0]+a*d.z[0],p.eyeY,p.eyeZ+g*d.x[2]+a*d.z[2]))),this},i.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];i.default._validateParameters("debugMode",c);for(var p=this._registeredMethods.post.length-1;0<=p;p--)this._registeredMethods.post[p].toString()!==this._grid().toString()&&this._registeredMethods.post[p].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(p,1);c[0]===u.GRID?this.registerMethod("post",this._grid.call(this,c[1],c[2],c[3],c[4],c[5])):c[0]===u.AXES?this.registerMethod("post",this._axesIcon.call(this,c[1],c[2],c[3],c[4])):(this.registerMethod("post",this._grid.call(this,c[0],c[1],c[2],c[3],c[4])),this.registerMethod("post",this._axesIcon.call(this,c[5],c[6],c[7],c[8])))},i.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},i.default.prototype._grid=function(a,c,d,p,g){a===void 0&&(a=this.width/2),c===void 0&&(c=Math.round(a/30)<4?4:Math.round(a/30)),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0);var y=a/c,v=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var _=0;_<=c;_++)this.beginShape(this.LINES),this.vertex(-v+d,p,_*y-v+g),this.vertex(v+d,p,_*y-v+g),this.endShape();for(var x=0;x<=c;x++)this.beginShape(this.LINES),this.vertex(x*y-v+d,p,-v+g),this.vertex(x*y-v+d,p,v+g),this.endShape();this.pop()}},i.default.prototype._axesIcon=function(a,c,d,p){return a===void 0&&(a=40<this.width/20?this.width/20:40),c===void 0&&(c=-this.width/4),d===void 0&&(d=c),p===void 0&&(p=c),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(c,d,p),this.vertex(c+a,d,p),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(c,d,p),this.vertex(c,d+a,p),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(c,d,p),this.vertex(c,d,p+a),this.endShape(),this.pop()}};var m=i.default;l.default=m},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.prototype.ambientLight=function(a,c,d,p){this._assert3d("ambientLight"),i.default._validateParameters("ambientLight",arguments);var g=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(g._array[0],g._array[1],g._array[2]),this._renderer._enableLighting=!0,this},i.default.prototype.specularColor=function(a,c,d){this._assert3d("specularColor"),i.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},i.default.prototype.directionalLight=function(a,w,x,p,g,y){this._assert3d("directionalLight"),i.default._validateParameters("directionalLight",arguments),a=a instanceof i.default.Color?a:this.color(a,w,x);var v,_,w=arguments[arguments.length-1],x=typeof w=="number"?(v=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(v=w.x,_=w.y,w.z),w=Math.sqrt(v*v+_*_+x*x);return this._renderer.directionalLightDirections.push(v/w,_/w,x/w),this._renderer.directionalLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.pointLight=function(a,x,w,p,g,y){this._assert3d("pointLight"),i.default._validateParameters("pointLight",arguments),a=a instanceof i.default.Color?a:this.color(a,x,w);var v,_,x=arguments[arguments.length-1],w=typeof x=="number"?(v=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(v=x.x,_=x.y,x.z);return this._renderer.pointLightPositions.push(v,_,w),this._renderer.pointLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.lights=function(){var a;return this._assert3d("lights"),this._colorMode===u.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(a=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,a),this.directionalLight(0,0,a,0,0,-1)),this},i.default.prototype.lightFalloff=function(a,c,d){return this._assert3d("lightFalloff"),i.default._validateParameters("lightFalloff",arguments),a<0&&(a=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),a===0&&c===0&&d===0&&(a=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=a,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=d,this},i.default.prototype.spotLight=function(a,c,d,p,g,y,v,_,x,w,E){this._assert3d("spotLight"),i.default._validateParameters("spotLight",arguments);var T,M,j,P=arguments.length;switch(P){case 11:case 10:T=this.color(a,c,d),M=new i.default.Vector(p,g,y),j=new i.default.Vector(v,_,x);break;case 9:a instanceof i.default.Color?(T=a,M=new i.default.Vector(c,d,p),j=new i.default.Vector(g,y,v),w=_,E=x):p instanceof i.default.Vector?(T=this.color(a,c,d),M=p,j=new i.default.Vector(g,y,v),w=_,E=x):v instanceof i.default.Vector?(T=this.color(a,c,d),M=new i.default.Vector(p,g,y),j=v,w=_,E=x):(T=this.color(a,c,d),M=new i.default.Vector(p,g,y),j=new i.default.Vector(v,_,x));break;case 8:w=(j=a instanceof i.default.Color?(T=a,M=new i.default.Vector(c,d,p),new i.default.Vector(g,y,v)):p instanceof i.default.Vector?(T=this.color(a,c,d),M=p,new i.default.Vector(g,y,v)):(T=this.color(a,c,d),M=new i.default.Vector(p,g,y),v),_);break;case 7:a instanceof i.default.Color&&c instanceof i.default.Vector?(T=a,M=c,j=new i.default.Vector(d,p,g),w=y,E=v):a instanceof i.default.Color&&g instanceof i.default.Vector?(T=a,M=new i.default.Vector(c,d,p),j=g,w=y,E=v):p instanceof i.default.Vector&&g instanceof i.default.Vector?(T=this.color(a,c,d),M=p,j=g,w=y,E=v):j=a instanceof i.default.Color?(T=a,M=new i.default.Vector(c,d,p),new i.default.Vector(g,y,v)):p instanceof i.default.Vector?(T=this.color(a,c,d),M=p,new i.default.Vector(g,y,v)):(T=this.color(a,c,d),M=new i.default.Vector(p,g,y),v);break;case 6:p instanceof i.default.Vector&&g instanceof i.default.Vector?(T=this.color(a,c,d),M=p,j=g,w=y):a instanceof i.default.Color&&g instanceof i.default.Vector?(T=a,M=new i.default.Vector(c,d,p),j=g,w=y):a instanceof i.default.Color&&c instanceof i.default.Vector&&(T=a,M=c,j=new i.default.Vector(d,p,g),w=y);break;case 5:a instanceof i.default.Color&&c instanceof i.default.Vector&&d instanceof i.default.Vector?(T=a,M=c,j=d,w=p,E=g):p instanceof i.default.Vector&&g instanceof i.default.Vector?(T=this.color(a,c,d),M=p,j=g):a instanceof i.default.Color&&g instanceof i.default.Vector?(T=a,M=new i.default.Vector(c,d,p),j=g):a instanceof i.default.Color&&c instanceof i.default.Vector&&(T=a,M=c,j=new i.default.Vector(d,p,g));break;case 4:T=a,M=c,j=d,w=p;break;case 3:T=a,M=c,j=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(P<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(T._array[0],T._array[1],T._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(M.x,M.y,M.z),j.normalize(),this._renderer.spotLightDirections.push(j.x,j.y,j.z),w===void 0&&(w=Math.PI/3),E!==void 0&&E<1?(E=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):E===void 0&&(E=100),w=this._renderer._pInst._toRadians(w),this._renderer.spotLightAngle.push(Math.cos(w)),this._renderer.spotLightConc.push(E),this._renderer._enableLighting=!0,this},i.default.prototype.noLights=function(){return this._assert3d("noLights"),i.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var m=i.default;l.default=m},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(t,o,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n};t("./p5.Geometry"),s.default.prototype.loadModel=function(i){s.default._validateParameters("loadModel",arguments);var u,f,m,a=i.slice(-4),c=(typeof arguments[1]=="boolean"?(u=arguments[1],f=arguments[2],m=arguments[3],arguments[4]!==void 0&&(a=arguments[4])):(u=!1,f=arguments[1],m=arguments[2],arguments[3]!==void 0&&(a=arguments[3])),new s.default.Geometry),d=(c.gid="".concat(i,"|").concat(u),this);return a.match(/\.stl$/i)?this.httpDo(i,"GET","arrayBuffer",function(p){(function(g,y){if(function(v){for(var _=new DataView(v),x=[115,111,108,105,100],w=0;w<5;w++)if(function(E,T,M){for(var j=0,P=E.length;j<P;j++)if(E[j]!==T.getUint8(M+j,!1))return;return 1}(x,_,w))return;return 1}(y))(function(v,_){for(var x,w,E,T,M,j,P,L=new DataView(_),N=L.getUint32(80,!0),O=!1,k=0;k<70;k++)L.getUint32(k,!1)===1129270351&&L.getUint8(k+4)===82&&L.getUint8(k+5)===61&&(O=!0,T=[],M=L.getUint8(k+6)/255,j=L.getUint8(k+7)/255,P=L.getUint8(k+8)/255);for(var X=0;X<N;X++){for(var Y,q=84+50*X,H=L.getFloat32(q,!0),z=L.getFloat32(4+q,!0),W=L.getFloat32(8+q,!0),$=(O&&(Y=L.getUint16(48+q,!0),E=32768&Y?(x=M,w=j,P):(x=(31&Y)/31,w=(Y>>5&31)/31,(Y>>10&31)/31)),new s.default.Vector(H,z,W)),se=1;se<=3;se++){var R=q+12*se,R=new s.default.Vector(L.getFloat32(R,!0),L.getFloat32(4+R,!0),L.getFloat32(8+R,!0));v.vertices.push(R),v.vertexNormals.push($),O&&T.push(x,w,E)}v.faces.push([3*X,3*X+1,3*X+2]),v.uvs.push([0,0],[0,0],[0,0])}})(g,y);else{if(y=new DataView(y),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");y=new TextDecoder("utf-8").decode(y).split(`
`),function(v,_){for(var x,w,E="",T=[],M=0;M<_.length;++M){for(var j=_[M].trim(),P=j.split(" "),L=0;L<P.length;++L)P[L]===""&&P.splice(L,1);if(P.length!==0)switch(E){case"":if(P[0]!=="solid")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "solid"'));E="solid";break;case"solid":if(P[0]!=="facet"||P[1]!=="normal")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "facet normal"'));x=new s.default.Vector(parseFloat(P[2]),parseFloat(P[3]),parseFloat(P[4])),v.vertexNormals.push(x,x,x),E="facet normal";break;case"facet normal":if(P[0]!=="outer"||P[1]!=="loop")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "outer loop"'));E="vertex";break;case"vertex":if(P[0]==="vertex")w=new s.default.Vector(parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3])),v.vertices.push(w),v.uvs.push([0,0]),T.push(v.vertices.indexOf(w));else{if(P[0]!=="endloop")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "vertex" or "endloop"'));v.faces.push(T),T=[],E="endloop"}break;case"endloop":if(P[0]!=="endfacet")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "endfacet"'));E="endfacet";break;case"endfacet":if(P[0]!=="endsolid"){if(P[0]!=="facet"||P[1]!=="normal")return console.error(j),console.error('Invalid state "'.concat(P[0],'", should be "endsolid" or "facet normal"'));x=new s.default.Vector(parseFloat(P[2]),parseFloat(P[3]),parseFloat(P[4])),v.vertexNormals.push(x,x,x),E="facet normal"}break;default:console.error('Invalid state "'.concat(E,'"'))}}}(g,y)}})(c,p),u&&c.normalize(),d._decrementPreload(),typeof f=="function"&&f(c)},m):a.match(/\.obj$/i)?this.loadStrings(i,function(p){for(var g=c,y=p,v={v:[],vt:[],vn:[]},_={},x=0;x<y.length;++x){var w=y[x].trim().split(/\b\s+/);if(0<w.length){if(w[0]==="v"||w[0]==="vn"){var E=new s.default.Vector(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3]));v[w[0]].push(E)}else if(w[0]==="vt")E=[parseFloat(w[1]),1-parseFloat(w[2])],v[w[0]].push(E);else if(w[0]==="f")for(var T=3;T<w.length;++T){for(var M=[],j=[1,T-1,T],P=0;P<j.length;++P){var L=w[j[P]],N=0;if(_[L]!==void 0)N=_[L];else{for(var O=L.split("/"),k=0;k<O.length;k++)O[k]=parseInt(O[k])-1;N=_[L]=g.vertices.length,g.vertices.push(v.v[O[0]].copy()),v.vt[O[1]]?g.uvs.push(v.vt[O[1]].slice()):g.uvs.push([0,0]),v.vn[O[2]]&&g.vertexNormals.push(v.vn[O[2]].copy())}M.push(N)}M[0]!==M[1]&&M[0]!==M[2]&&M[1]!==M[2]&&g.faces.push(M)}}}g.vertexNormals.length===0&&g.computeNormals(),u&&c.normalize(),d._decrementPreload(),typeof f=="function"&&f(c)},m):(s.default._friendlyFileLoadError(3,i),m?m():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),c},s.default.prototype.model=function(i){this._assert3d("model"),s.default._validateParameters("model",arguments),0<i.vertices.length&&(this._renderer.geometryInHash(i.gid)||(i._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(i.gid,i)),this._renderer.drawBuffers(i.gid))};var n=s.default;l.default=n},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.join"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}t("./p5.Texture"),i.default.prototype.loadShader=function(a,c,d,p){i.default._validateParameters("loadShader",arguments),p=p||console.error;function g(){v._decrementPreload(),d&&d(y)}var y=new i.default.Shader,v=this,_=!1,x=!1;return this.loadStrings(a,function(w){y._vertSrc=w.join(`
`),x=!0,_&&g()},p),this.loadStrings(c,function(w){y._fragSrc=w.join(`
`),_=!0,x&&g()},p),y},i.default.prototype.createShader=function(a,c){return this._assert3d("createShader"),i.default._validateParameters("createShader",arguments),new i.default.Shader(this._renderer,a,c)},i.default.prototype.shader=function(a){return this._assert3d("shader"),i.default._validateParameters("shader",arguments),a._renderer===void 0&&(a._renderer=this._renderer),a.init(),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},i.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},i.default.prototype.texture=function(a){return this._assert3d("texture"),i.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.textureMode=function(a){a!==u.IMAGE&&a!==u.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},i.default.prototype.textureWrap=function(a){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,d=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=c,this._renderer.textures),p=0;p<d.length;p++)d[p].setWrapMode(a,c)},i.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return i.default._validateParameters("normalMaterial",c),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},i.default.prototype.ambientMaterial=function(a,c,d){this._assert3d("ambientMaterial"),i.default._validateParameters("ambientMaterial",arguments);var p=i.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=p._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.emissiveMaterial=function(a,c,d,p){this._assert3d("emissiveMaterial"),i.default._validateParameters("emissiveMaterial",arguments);var g=i.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=g._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},i.default.prototype.specularMaterial=function(a,c,d,p){this._assert3d("specularMaterial"),i.default._validateParameters("specularMaterial",arguments);var g=i.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=g._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},i.default.prototype.shininess=function(a){return this._assert3d("shininess"),i.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},i.default.RendererGL.prototype._applyColorBlend=function(a){var c=this.GL,d=this.drawMode===u.TEXTURE||this.curBlendMode!==u.BLEND||a[a.length-1]<1||this._isErasing;return d!==this._isBlending&&(d||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?c.enable(c.BLEND):c.disable(c.BLEND),c.depthMask(!0),this._isBlending=d),this._applyBlendMode(),a},i.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case u.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA);break;case u.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE);break;case u.REMOVE:a.blendEquation(a.FUNC_REVERSE_SUBTRACT),a.blendFunc(a.SRC_ALPHA,a.DST_ALPHA);break;case u.MULTIPLY:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ONE,a.ONE);break;case u.SCREEN:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE,a.ONE,a.ONE);break;case u.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case u.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case u.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE,a.ONE,a.ONE);break;case u.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=i.default;l.default=m},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(t,o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.camera=function(){var n;this._assert3d("camera");for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return s.default._validateParameters("camera",u),(n=this._renderer._curCamera).camera.apply(n,u),this},s.default.prototype.perspective=function(){var n;this._assert3d("perspective");for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return s.default._validateParameters("perspective",u),(n=this._renderer._curCamera).perspective.apply(n,u),this},s.default.prototype.ortho=function(){var n;this._assert3d("ortho");for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return s.default._validateParameters("ortho",u),(n=this._renderer._curCamera).ortho.apply(n,u),this},s.default.prototype.frustum=function(){var n;this._assert3d("frustum");for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return s.default._validateParameters("frustum",u),(n=this._renderer._curCamera).frustum.apply(n,u),this},s.default.prototype.createCamera=function(){this._assert3d("createCamera");var n=new s.default.Camera(this._renderer);return n._computeCameraDefaultSettings(),n._setDefaultCamera(),this._renderer._curCamera=n},s.default.Camera=function(n){this._renderer=n,this.cameraType="default",this.cameraMatrix=new s.default.Matrix,this.projMatrix=new s.default.Matrix},s.default.Camera.prototype.perspective=function(m,i,u,f){this.cameraType=0<arguments.length?"custom":"default",m===void 0?(m=this.defaultCameraFOV,this.cameraFOV=m):this.cameraFOV=this._renderer._pInst._toRadians(m),i===void 0&&(i=this.defaultAspectRatio),u===void 0&&(u=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),u<=1e-4&&(u=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<u&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=i,this.cameraNear=u,this.cameraFar=f,this.projMatrix=s.default.Matrix.identity();var m=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(m/i,0,0,0,0,-m,0,0,0,0,(f+u)*a,-1,0,0,2*f*u*a,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},s.default.Camera.prototype.ortho=function(_,v,u,f,m,a){_===void 0&&(_=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),m===void 0&&(m=0);var x=v-_,c=(f=f===void 0?+this._renderer.height/2:f)-u,d=(a=a===void 0?Math.max(this._renderer.width,this._renderer.height):a)-m,p=2/x,g=2/c,y=-2/d,v=-(v+_)/x,_=-(f+u)/c,x=-(a+m)/d;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-g,0,0,0,0,y,0,v,_,x,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},s.default.Camera.prototype.frustum=function(_,v,u,f,m,a){_===void 0&&(_=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),m===void 0&&(m=0);var x=v-_,c=(f=f===void 0?+this._renderer.height/2:f)-u,d=(a=a===void 0?Math.max(this._renderer.width,this._renderer.height):a)-m,p=2*m/x,g=2*m/c,y=-2*a*m/d,v=(v+_)/x,_=(f+u)/c,x=-(a+m)/d;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,g,0,0,v,_,x,-1,0,0,y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},s.default.Camera.prototype._rotateView=function(p,i,u,f){var m=this.centerX,a=this.centerY,c=this.centerZ,d=(m-=this.eyeX,a-=this.eyeY,c-=this.eyeZ,s.default.Matrix.identity(this._renderer._pInst)),p=(d.rotate(this._renderer._pInst._toRadians(p),i,u,f),[m*d.mat4[0]+a*d.mat4[4]+c*d.mat4[8],m*d.mat4[1]+a*d.mat4[5]+c*d.mat4[9],m*d.mat4[2]+a*d.mat4[6]+c*d.mat4[10]]);p[0]+=this.eyeX,p[1]+=this.eyeY,p[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,p[0],p[1],p[2],this.upX,this.upY,this.upZ)},s.default.Camera.prototype.pan=function(n){var i=this._getLocalAxes();this._rotateView(n,i.y[0],i.y[1],i.y[2])},s.default.Camera.prototype.tilt=function(n){var i=this._getLocalAxes();this._rotateView(n,i.x[0],i.x[1],i.x[2])},s.default.Camera.prototype.lookAt=function(n,i,u){this.camera(this.eyeX,this.eyeY,this.eyeZ,n,i,u,this.upX,this.upY,this.upZ)},s.default.Camera.prototype.camera=function(n,i,u,f,m,a,c,d,p){return n===void 0&&(n=this.defaultEyeX,i=this.defaultEyeY,u=this.defaultEyeZ,f=n,m=i,d=1,p=c=a=0),this.eyeX=n,this.eyeY=i,this.eyeZ=u,f!==void 0&&(this.centerX=f,this.centerY=m,this.centerZ=a),c!==void 0&&(this.upX=c,this.upY=d,this.upZ=p),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),m=-n,this.cameraMatrix.translate([m,-i,-u]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},s.default.Camera.prototype.move=function(f,m,u){var a=this._getLocalAxes(),f=[a.x[0]*f,a.x[1]*f,a.x[2]*f],m=[a.y[0]*m,a.y[1]*m,a.y[2]*m],a=[a.z[0]*u,a.z[1]*u,a.z[2]*u];this.camera(this.eyeX+f[0]+m[0]+a[0],this.eyeY+f[1]+m[1]+a[1],this.eyeZ+f[2]+m[2]+a[2],this.centerX+f[0]+m[0]+a[0],this.centerY+f[1]+m[1]+a[1],this.centerZ+f[2]+m[2]+a[2],0,1,0)},s.default.Camera.prototype.setPosition=function(n,i,u){var f=n-this.eyeX,m=i-this.eyeY,a=u-this.eyeZ;this.camera(n,i,u,this.centerX+f,this.centerY+m,this.centerZ+a,0,1,0)},s.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},s.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},s.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},s.default.Camera.prototype.copy=function(){var n=new s.default.Camera(this._renderer);return n.cameraFOV=this.cameraFOV,n.aspectRatio=this.aspectRatio,n.eyeX=this.eyeX,n.eyeY=this.eyeY,n.eyeZ=this.eyeZ,n.centerX=this.centerX,n.centerY=this.centerY,n.centerZ=this.centerZ,n.cameraNear=this.cameraNear,n.cameraFar=this.cameraFar,n.cameraType=this.cameraType,n.cameraMatrix=this.cameraMatrix.copy(),n.projMatrix=this.projMatrix.copy(),n},s.default.Camera.prototype._getLocalAxes=function(){var n=this.eyeX-this.centerX,i=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,c=Math.sqrt(n*n+i*i+u*u),c=(c!==0&&(n/=c,i/=c,u/=c),this.upX),f=(d=this.upY)*u-(p=this.upZ)*i,m=-c*u+p*n,a=c*i-d*n,c=i*a-u*m,d=-n*a+u*f,p=n*m-i*f,g=Math.sqrt(f*f+m*m+a*a),g=(g!==0&&(f/=g,m/=g,a/=g),Math.sqrt(c*c+d*d+p*p));return g!==0&&(c/=g,d/=g,p/=g),{x:[f,m,a],y:[c,d,p],z:[n,i,u]}},s.default.Camera.prototype._orbit=function(d,i,p){var m=this.eyeX-this.centerX,c=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,f=Math.sqrt(m*m+c*c+a*a),m=Math.atan2(m,a),a=Math.acos(Math.max(-1,Math.min(1,c/f))),c=(m+=d,(f+=p)<0&&(f=.1),(a+=i)>Math.PI?a=Math.PI:a<=0&&(a=.001),Math.sin(a)*f*Math.sin(m)),d=Math.cos(a)*f,p=Math.sin(a)*f*Math.cos(m);this.camera(c+this.centerX,d+this.centerY,p+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},s.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},s.default.prototype.setCamera=function(n){this._renderer._curCamera=n,this._renderer.uPMatrix.set(n.projMatrix.mat4[0],n.projMatrix.mat4[1],n.projMatrix.mat4[2],n.projMatrix.mat4[3],n.projMatrix.mat4[4],n.projMatrix.mat4[5],n.projMatrix.mat4[6],n.projMatrix.mat4[7],n.projMatrix.mat4[8],n.projMatrix.mat4[9],n.projMatrix.mat4[10],n.projMatrix.mat4[11],n.projMatrix.mat4[12],n.projMatrix.mat4[13],n.projMatrix.mat4[14],n.projMatrix.mat4[15])},t=s.default.Camera,l.default=t},{"../core/main":267}],316:[function(t,o,l){t("core-js/modules/es.string.sub"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.Geometry=function(n,i,u){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=n!==void 0?n:1,this.detailY=i!==void 0?i:1,this.dirtyFlags={},u instanceof Function&&u.call(this),this},s.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},s.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var n,i,u,f=this.detailX+1,m=0;m<this.detailY;m++)for(var a=0;a<this.detailX;a++)i=(m+1)*f+a+1,this.faces.push([m*f+a,n=m*f+a+1,u=(m+1)*f+a]),this.faces.push([u,n,i]);return this},s.default.Geometry.prototype._getFaceNormal=function(i){var i=this.faces[i],u=this.vertices[i[0]],m=this.vertices[i[1]],i=this.vertices[i[2]],m=s.default.Vector.sub(m,u),i=s.default.Vector.sub(i,u),u=s.default.Vector.cross(m,i),f=s.default.Vector.mag(u),m=f/(s.default.Vector.mag(m)*s.default.Vector.mag(i));return m===0||isNaN(m)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(1<m&&(m=1),u.mult(Math.asin(m)/f))},s.default.Geometry.prototype.computeNormals=function(){for(var n=this.vertexNormals,i=this.vertices,u=this.faces,f=n.length=0;f<i.length;++f)n.push(new s.default.Vector);for(var m=0;m<u.length;++m)for(var a=u[m],c=this._getFaceNormal(m),d=0;d<3;++d)n[a[d]].add(c);for(f=0;f<i.length;++f)n[f].normalize();return this},s.default.Geometry.prototype.averageNormals=function(){for(var n=0;n<=this.detailY;n++){var i=this.detailX+1,u=s.default.Vector.add(this.vertexNormals[n*i],this.vertexNormals[n*i+this.detailX]),u=s.default.Vector.div(u,2);this.vertexNormals[n*i]=u,this.vertexNormals[n*i+this.detailX]=u}return this},s.default.Geometry.prototype.averagePoleNormals=function(){for(var n=new s.default.Vector(0,0,0),i=0;i<this.detailX;i++)n.add(this.vertexNormals[i]);for(var n=s.default.Vector.div(n,this.detailX),u=0;u<this.detailX;u++)this.vertexNormals[u]=n;n=new s.default.Vector(0,0,0);for(var f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)n.add(this.vertexNormals[f]);n=s.default.Vector.div(n,this.detailX);for(var m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)this.vertexNormals[m]=n;return this},s.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var n=0,i=this.strokeIndices.length;n<i;n++)this.edges.push(this.strokeIndices[n]);else for(var u=0;u<this.faces.length;u++)this.edges.push([this.faces[u][0],this.faces[u][1]]),this.edges.push([this.faces[u][1],this.faces[u][2]]),this.edges.push([this.faces[u][2],this.faces[u][0]]);return this},s.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var n=this.lineNormals.length=0;n<this.edges.length;n++){var u=this.vertices[this.edges[n][0]],m=this.vertices[this.edges[n][1]],c=m.copy().sub(u).normalize(),i=u.array(),u=u.array(),f=m.array(),m=m.array(),a=c.array(),c=c.array();a.push(1),c.push(-1),this.lineNormals.push(a,c,a,a,c,c),this.lineVertices.push(i,u,f,f,u,m)}return this},s.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var n=this.vertices[0].copy(),i=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)n.x=Math.max(n.x,this.vertices[u].x),i.x=Math.min(i.x,this.vertices[u].x),n.y=Math.max(n.y,this.vertices[u].y),i.y=Math.min(i.y,this.vertices[u].y),n.z=Math.max(n.z,this.vertices[u].z),i.z=Math.min(i.z,this.vertices[u].z);for(var f=s.default.Vector.lerp(n,i,.5),m=s.default.Vector.sub(n,i),a=200/Math.max(Math.max(m.x,m.y),m.z),c=0;c<this.vertices.length;c++)this.vertices[c].sub(f),this.vertices[c].mult(a)}return this},t=s.default.Geometry,l.default=t},{"../core/main":267,"core-js/modules/es.string.sub":192}],317:[function(u,o,l){u("core-js/modules/es.array.iterator"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.typed-array.float32-array"),u("core-js/modules/es.typed-array.copy-within"),u("core-js/modules/es.typed-array.every"),u("core-js/modules/es.typed-array.fill"),u("core-js/modules/es.typed-array.filter"),u("core-js/modules/es.typed-array.find"),u("core-js/modules/es.typed-array.find-index"),u("core-js/modules/es.typed-array.for-each"),u("core-js/modules/es.typed-array.includes"),u("core-js/modules/es.typed-array.index-of"),u("core-js/modules/es.typed-array.iterator"),u("core-js/modules/es.typed-array.join"),u("core-js/modules/es.typed-array.last-index-of"),u("core-js/modules/es.typed-array.map"),u("core-js/modules/es.typed-array.reduce"),u("core-js/modules/es.typed-array.reduce-right"),u("core-js/modules/es.typed-array.reverse"),u("core-js/modules/es.typed-array.set"),u("core-js/modules/es.typed-array.slice"),u("core-js/modules/es.typed-array.some"),u("core-js/modules/es.typed-array.sort"),u("core-js/modules/es.typed-array.subarray"),u("core-js/modules/es.typed-array.to-locale-string"),u("core-js/modules/es.typed-array.to-string"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.typed-array.float32-array"),u("core-js/modules/es.typed-array.copy-within"),u("core-js/modules/es.typed-array.every"),u("core-js/modules/es.typed-array.fill"),u("core-js/modules/es.typed-array.filter"),u("core-js/modules/es.typed-array.find"),u("core-js/modules/es.typed-array.find-index"),u("core-js/modules/es.typed-array.for-each"),u("core-js/modules/es.typed-array.includes"),u("core-js/modules/es.typed-array.index-of"),u("core-js/modules/es.typed-array.iterator"),u("core-js/modules/es.typed-array.join"),u("core-js/modules/es.typed-array.last-index-of"),u("core-js/modules/es.typed-array.map"),u("core-js/modules/es.typed-array.reduce"),u("core-js/modules/es.typed-array.reduce-right"),u("core-js/modules/es.typed-array.reverse"),u("core-js/modules/es.typed-array.set"),u("core-js/modules/es.typed-array.slice"),u("core-js/modules/es.typed-array.some"),u("core-js/modules/es.typed-array.sort"),u("core-js/modules/es.typed-array.subarray"),u("core-js/modules/es.typed-array.to-locale-string"),u("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(u=u("../core/main"))&&u.__esModule?u:{default:u},n=Array,i=function(f){return f instanceof Array},u=(typeof Float32Array<"u"&&(n=Float32Array,i=function(f){return f instanceof Array||f instanceof Float32Array}),s.default.Matrix=function(){for(var f=new Array(arguments.length),m=0;m<f.length;++m)f[m]=arguments[m];return f.length&&f[f.length-1]instanceof s.default&&(this.p5=f[f.length-1]),f[0]==="mat3"?this.mat3=Array.isArray(f[1])?f[1]:new n([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(f[0])?f[0]:new n([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},s.default.Matrix.prototype.set=function(f){return f instanceof s.default.Matrix?this.mat4=f.mat4:i(f)?this.mat4=f:arguments.length===16&&(this.mat4[0]=f,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},s.default.Matrix.prototype.get=function(){return new s.default.Matrix(this.mat4,this.p5)},s.default.Matrix.prototype.copy=function(){var f=new s.default.Matrix(this.p5);return f.mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15],f},s.default.Matrix.identity=function(f){return new s.default.Matrix(f)},s.default.Matrix.prototype.transpose=function(f){var m,a,c,d,p,g;return f instanceof s.default.Matrix?(m=f.mat4[1],a=f.mat4[2],c=f.mat4[3],d=f.mat4[6],p=f.mat4[7],g=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=m,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=a,this.mat4[9]=d,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=c,this.mat4[13]=p,this.mat4[14]=g,this.mat4[15]=f.mat4[15]):i(f)&&(m=f[1],a=f[2],c=f[3],d=f[6],p=f[7],g=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=m,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=a,this.mat4[9]=d,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=c,this.mat4[13]=p,this.mat4[14]=g,this.mat4[15]=f[15]),this},s.default.Matrix.prototype.invert=function(L){L instanceof s.default.Matrix?(m=L.mat4[0],a=L.mat4[1],c=L.mat4[2],d=L.mat4[3],p=L.mat4[4],g=L.mat4[5],y=L.mat4[6],v=L.mat4[7],_=L.mat4[8],x=L.mat4[9],w=L.mat4[10],E=L.mat4[11],T=L.mat4[12],M=L.mat4[13],j=L.mat4[14],P=L.mat4[15]):i(L)&&(m=L[0],a=L[1],c=L[2],d=L[3],p=L[4],g=L[5],y=L[6],v=L[7],_=L[8],x=L[9],w=L[10],E=L[11],T=L[12],M=L[13],j=L[14],P=L[15]);var m,a,c,d,p,g,y,v,_,x,w,E,T,M,j,P,L=m*g-a*p,N=m*y-c*p,O=m*v-d*p,k=a*y-c*g,X=a*v-d*g,Y=c*v-d*y,q=_*M-x*T,H=_*j-w*T,z=_*P-E*T,W=x*j-w*M,$=x*P-E*M,se=w*P-E*j,R=L*se-N*$+O*W+k*z-X*H+Y*q;return R?(this.mat4[0]=(g*se-y*$+v*W)*(R=1/R),this.mat4[1]=(c*$-a*se-d*W)*R,this.mat4[2]=(M*Y-j*X+P*k)*R,this.mat4[3]=(w*X-x*Y-E*k)*R,this.mat4[4]=(y*z-p*se-v*H)*R,this.mat4[5]=(m*se-c*z+d*H)*R,this.mat4[6]=(j*O-T*Y-P*N)*R,this.mat4[7]=(_*Y-w*O+E*N)*R,this.mat4[8]=(p*$-g*z+v*q)*R,this.mat4[9]=(a*z-m*$-d*q)*R,this.mat4[10]=(T*X-M*O+P*L)*R,this.mat4[11]=(x*O-_*X-E*L)*R,this.mat4[12]=(g*H-p*W-y*q)*R,this.mat4[13]=(m*W-a*H+c*q)*R,this.mat4[14]=(M*N-T*k-j*L)*R,this.mat4[15]=(_*k-x*N+w*L)*R,this):null},s.default.Matrix.prototype.invert3x3=function(){var f=this.mat3[0],m=this.mat3[1],a=this.mat3[2],c=this.mat3[3],d=this.mat3[4],p=this.mat3[5],g=this.mat3[6],y=this.mat3[7],v=this.mat3[8],_=v*d-p*y,x=-v*c+p*g,w=y*c-d*g,E=f*_+m*x+a*w;return E?(this.mat3[0]=_*(E=1/E),this.mat3[1]=(-v*m+a*y)*E,this.mat3[2]=(p*m-a*d)*E,this.mat3[3]=x*E,this.mat3[4]=(v*f-a*g)*E,this.mat3[5]=(-p*f+a*c)*E,this.mat3[6]=w*E,this.mat3[7]=(-y*f+m*g)*E,this.mat3[8]=(d*f-m*c)*E,this):null},s.default.Matrix.prototype.transpose3x3=function(f){var m=f[1],a=f[2],c=f[5];return this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=m,this.mat3[5]=f[7],this.mat3[6]=a,this.mat3[7]=c,this},s.default.Matrix.prototype.inverseTranspose=function(f){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=f.mat4[0],this.mat3[1]=f.mat4[1],this.mat3[2]=f.mat4[2],this.mat3[3]=f.mat4[4],this.mat3[4]=f.mat4[5],this.mat3[5]=f.mat4[6],this.mat3[6]=f.mat4[8],this.mat3[7]=f.mat4[9],this.mat3[8]=f.mat4[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this},s.default.Matrix.prototype.determinant=function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],a=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],c=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],d=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],p=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],g=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],y=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],v=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],_=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],x=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*x+a*_+c*v-d*y+p*g},s.default.Matrix.prototype.mult=function(a){var m;if(a===this||a===this.mat4)m=this.copy().mat4;else if(a instanceof s.default.Matrix)m=a.mat4;else if(i(a))m=a;else{if(arguments.length!==16)return;m=arguments}var a=this.mat4[0],c=this.mat4[1],d=this.mat4[2],p=this.mat4[3];return this.mat4[0]=a*m[0]+c*m[4]+d*m[8]+p*m[12],this.mat4[1]=a*m[1]+c*m[5]+d*m[9]+p*m[13],this.mat4[2]=a*m[2]+c*m[6]+d*m[10]+p*m[14],this.mat4[3]=a*m[3]+c*m[7]+d*m[11]+p*m[15],a=this.mat4[4],c=this.mat4[5],d=this.mat4[6],p=this.mat4[7],this.mat4[4]=a*m[0]+c*m[4]+d*m[8]+p*m[12],this.mat4[5]=a*m[1]+c*m[5]+d*m[9]+p*m[13],this.mat4[6]=a*m[2]+c*m[6]+d*m[10]+p*m[14],this.mat4[7]=a*m[3]+c*m[7]+d*m[11]+p*m[15],a=this.mat4[8],c=this.mat4[9],d=this.mat4[10],p=this.mat4[11],this.mat4[8]=a*m[0]+c*m[4]+d*m[8]+p*m[12],this.mat4[9]=a*m[1]+c*m[5]+d*m[9]+p*m[13],this.mat4[10]=a*m[2]+c*m[6]+d*m[10]+p*m[14],this.mat4[11]=a*m[3]+c*m[7]+d*m[11]+p*m[15],a=this.mat4[12],c=this.mat4[13],d=this.mat4[14],p=this.mat4[15],this.mat4[12]=a*m[0]+c*m[4]+d*m[8]+p*m[12],this.mat4[13]=a*m[1]+c*m[5]+d*m[9]+p*m[13],this.mat4[14]=a*m[2]+c*m[6]+d*m[10]+p*m[14],this.mat4[15]=a*m[3]+c*m[7]+d*m[11]+p*m[15],this},s.default.Matrix.prototype.apply=function(a){var m;if(a===this||a===this.mat4)m=this.copy().mat4;else if(a instanceof s.default.Matrix)m=a.mat4;else if(i(a))m=a;else{if(arguments.length!==16)return;m=arguments}var a=this.mat4,c=a[0],d=a[4],p=a[8],g=a[12],c=(a[0]=m[0]*c+m[1]*d+m[2]*p+m[3]*g,a[4]=m[4]*c+m[5]*d+m[6]*p+m[7]*g,a[8]=m[8]*c+m[9]*d+m[10]*p+m[11]*g,a[12]=m[12]*c+m[13]*d+m[14]*p+m[15]*g,a[1]),d=a[5],p=a[9],g=a[13],c=(a[1]=m[0]*c+m[1]*d+m[2]*p+m[3]*g,a[5]=m[4]*c+m[5]*d+m[6]*p+m[7]*g,a[9]=m[8]*c+m[9]*d+m[10]*p+m[11]*g,a[13]=m[12]*c+m[13]*d+m[14]*p+m[15]*g,a[2]),d=a[6],p=a[10],g=a[14],c=(a[2]=m[0]*c+m[1]*d+m[2]*p+m[3]*g,a[6]=m[4]*c+m[5]*d+m[6]*p+m[7]*g,a[10]=m[8]*c+m[9]*d+m[10]*p+m[11]*g,a[14]=m[12]*c+m[13]*d+m[14]*p+m[15]*g,a[3]),d=a[7],p=a[11],g=a[15];return a[3]=m[0]*c+m[1]*d+m[2]*p+m[3]*g,a[7]=m[4]*c+m[5]*d+m[6]*p+m[7]*g,a[11]=m[8]*c+m[9]*d+m[10]*p+m[11]*g,a[15]=m[12]*c+m[13]*d+m[14]*p+m[15]*g,this},s.default.Matrix.prototype.scale=function(f,m,a){return f instanceof s.default.Vector?(m=f.y,a=f.z,f=f.x):f instanceof Array&&(m=f[1],a=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=a,this.mat4[9]*=a,this.mat4[10]*=a,this.mat4[11]*=a,this},s.default.Matrix.prototype.rotate=function(L,$,W,c){$ instanceof s.default.Vector?(W=$.y,c=$.z,$=$.x):$ instanceof Array&&(W=$[1],c=$[2],$=$[0]);var d=Math.sqrt($*$+W*W+c*c),d=($*=1/d,W*=1/d,c*=1/d,this.mat4[0]),p=this.mat4[1],g=this.mat4[2],y=this.mat4[3],v=this.mat4[4],_=this.mat4[5],x=this.mat4[6],w=this.mat4[7],E=this.mat4[8],T=this.mat4[9],M=this.mat4[10],j=this.mat4[11],P=Math.sin(L),L=Math.cos(L),N=1-L,O=$*$*N+L,k=W*$*N+c*P,X=c*$*N-W*P,Y=$*W*N-c*P,q=W*W*N+L,H=c*W*N+$*P,z=$*c*N+W*P,W=W*c*N-$*P,$=c*c*N+L;return this.mat4[0]=d*O+v*k+E*X,this.mat4[1]=p*O+_*k+T*X,this.mat4[2]=g*O+x*k+M*X,this.mat4[3]=y*O+w*k+j*X,this.mat4[4]=d*Y+v*q+E*H,this.mat4[5]=p*Y+_*q+T*H,this.mat4[6]=g*Y+x*q+M*H,this.mat4[7]=y*Y+w*q+j*H,this.mat4[8]=d*z+v*W+E*$,this.mat4[9]=p*z+_*W+T*$,this.mat4[10]=g*z+x*W+M*$,this.mat4[11]=y*z+w*W+j*$,this},s.default.Matrix.prototype.translate=function(c){var m=c[0],a=c[1],c=c[2]||0;this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*a+this.mat4[8]*c,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*a+this.mat4[9]*c,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*a+this.mat4[10]*c,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*a+this.mat4[11]*c},s.default.Matrix.prototype.rotateX=function(f){this.rotate(f,1,0,0)},s.default.Matrix.prototype.rotateY=function(f){this.rotate(f,0,1,0)},s.default.Matrix.prototype.rotateZ=function(f){this.rotate(f,0,0,1)},s.default.Matrix.prototype.perspective=function(d,m,a,c){var d=1/Math.tan(d/2),p=1/(a-c);return this.mat4[0]=d/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=d,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(c+a)*p,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*c*a*p,this.mat4[15]=0,this},s.default.Matrix.prototype.ortho=function(f,m,a,c,d,p){var g=1/(f-m),y=1/(a-c),v=1/(d-p);return this.mat4[0]=-2*g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*y,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*v,this.mat4[11]=0,this.mat4[12]=(f+m)*g,this.mat4[13]=(c+a)*y,this.mat4[14]=(p+d)*v,this.mat4[15]=1,this},s.default.Matrix);l.default=u},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(t,o,l){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.RenderBuffer=function(s,n,i,u,f,m){this.size=s,this.src=n,this.dst=i,this.attr=u,this._renderer=f,this.map=m},t.default.RenderBuffer.prototype._prepareBuffer=function(s,n){var i,u,f,c=n.attributes,m=this._renderer.GL,a=s.model||s,c=c[this.attr];c&&(i=s[this.dst],0<(u=a[this.src]).length&&((f=!i)&&(s[this.dst]=i=m.createBuffer()),m.bindBuffer(m.ARRAY_BUFFER,i),!f&&a.dirtyFlags[this.src]===!1||(f=(s=this.map)?s(u):u,this._renderer._bindBuffer(i,m.ARRAY_BUFFER,f),a.dirtyFlags[this.src]=!1),n.enableAttrib(c,this.size)))},t=t.default.RenderBuffer,l.default=t},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(t,o,l){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function n(d){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=function(d){if(d&&d.__esModule)return d;if(d===null||n(d)!=="object"&&typeof d!="function")return{default:d};var p=f();if(p&&p.has(d))return p.get(d);var g,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var _;Object.prototype.hasOwnProperty.call(d,g)&&((_=v?Object.getOwnPropertyDescriptor(d,g):null)&&(_.get||_.set)?Object.defineProperty(y,g,_):y[g]=d[g])}return y.default=d,p&&p.set(d,y),y}(t("../core/constants"));function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}function m(d){return function(p){if(Array.isArray(p)){for(var g=0,y=new Array(p.length);g<p.length;g++)y[g]=p[g];return y}}(d)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),i.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=d!==void 0?d:u.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this};var a={vertices:1,vertexNormals:1,vertexColors:4,uvs:2},c=(i.default.RendererGL.prototype.vertex=function(d,p){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var g in a){var y=a[g],g=this.immediateMode.geometry[g];g.push.apply(g,m(g.slice(g.length-3*y,g.length-2*y)).concat(m(g.slice(g.length-y,g.length))))}var v,_,x=v=_=0,w=(arguments.length===3?x=arguments[2]:arguments.length===4?(v=arguments[2],_=arguments[3]):arguments.length===5&&(x=arguments[2],v=arguments[3],_=arguments[4]),new i.default.Vector(d,p,x)),w=(this.immediateMode.geometry.vertices.push(w),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===u.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,_/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,_),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=p,this.immediateMode._bezierVertex[2]=x,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=p,this.immediateMode._quadraticVertex[2]=x,this},i.default.RendererGL.prototype.normal=function(d,p,g){return d instanceof i.default.Vector?this._currentNormal=d:this._currentNormal=new i.default.Vector(d,p,g),this},i.default.RendererGL.prototype.endShape=function(d,p,g,y,v,_){return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},i.default.RendererGL.prototype._processVertices=function(d){var p;this.immediateMode.geometry.vertices.length!==0&&(p=this._doStroke&&this.drawMode!==u.TEXTURE,d=d===u.CLOSE,p&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.immediateMode.geometry._edgesToVertices()),p=this.immediateMode.shapeMode===u.TESS,(this.isBezier||this.isQuadratic||this.isCurve||p)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},i.default.RendererGL.prototype._calculateEdges=function(d,p,g){var y=[],v=0;switch(d){case u.TRIANGLE_STRIP:for(v=0;v<p.length-2;v++)y.push([v,v+1]),y.push([v,v+2]);y.push([v,v+1]);break;case u.TRIANGLES:for(v=0;v<p.length-2;v+=3)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+2,v]);break;case u.LINES:for(v=0;v<p.length-1;v+=2)y.push([v,v+1]);break;case u.QUADS:for(v=0;v<p.length-5;v+=6)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+3,v+5]),y.push([v+4,v+5]);break;case u.QUAD_STRIP:for(v=0;v<p.length-2;v+=2)y.push([v,v+1]),y.push([v,v+2]),y.push([v+1,v+3]);y.push([v,v+1]);break;default:for(v=0;v<p.length-1;v++)y.push([v,v+1])}return g&&y.push([p.length-1,0]),y},i.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,p=(this.immediateMode.shapeMode=u.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(x,w){return[x.x,x.y,x.z,d.immediateMode.geometry.uvs[2*w],d.immediateMode.geometry.uvs[2*w+1],d.immediateMode.geometry.vertexColors[4*w],d.immediateMode.geometry.vertexColors[4*w+1],d.immediateMode.geometry.vertexColors[4*w+2],d.immediateMode.geometry.vertexColors[4*w+3],d.immediateMode.geometry.vertexNormals[w].x,d.immediateMode.geometry.vertexNormals[w].y,d.immediateMode.geometry.vertexNormals[w].z]}))]),g=this._triangulate(p),y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,_=g.length;v<_;v+=12)y.push.apply(y,m(g.slice(v+5,v+9))),this.normal.apply(this,m(g.slice(v+9,v+12))),this.vertex.apply(this,m(g.slice(v,v+5)));this.immediateMode.geometry.vertexColors=y},i.default.RendererGL.prototype._drawImmediateFill=function(){var d=this.GL,p=this._getImmediateFillShader(),g=(this._setFillUniforms(p),!0),y=!1,v=void 0;try{for(var _,x=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(_=x.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,p)}catch(w){y=!0,v=w}finally{try{g||x.return==null||x.return()}finally{if(y)throw v}}this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),d.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),p.unbindShader()},i.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,p=this._getImmediateStrokeShader(),g=(this._setStrokeUniforms(p),!0),y=!1,v=void 0;try{for(var _,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(g=(_=x.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,p)}catch(w){y=!0,v=w}finally{try{g||x.return==null||x.return()}finally{if(y)throw v}}this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),p.unbindShader()},i.default.RendererGL);l.default=c},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(i=t("../core/main"))&&i.__esModule?i:{default:i};t("./p5.RendererGL"),t("./p5.RenderBuffer");var n=0,i=(s.default.RendererGL.prototype._initBufferDefaults=function(u){var f;return this._freeBuffers(u),1e3<++n&&(f=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[f],n--),this.retainedMode.geometry[u]={}},s.default.RendererGL.prototype._freeBuffers=function(u){var f,m=this.retainedMode.geometry[u];function a(c){var d=!0,p=!1,g=void 0;try{for(var y,v=c[Symbol.iterator]();!(d=(y=v.next()).done);d=!0){var _=y.value;m[_.dst]&&(f.deleteBuffer(m[_.dst]),m[_.dst]=null)}}catch(x){p=!0,g=x}finally{try{d||v.return==null||v.return()}finally{if(p)throw g}}}m&&(delete this.retainedMode.geometry[u],n--,f=this.GL,m.indexBuffer&&f.deleteBuffer(m.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(p,f){var m,a,c,d=this.GL,p=this._initBufferDefaults(p),g=(p.model=f,p.indexBuffer);return f.faces.length?(g=g||(p.indexBuffer=d.createBuffer()),c=(a=(m=s.default.RendererGL.prototype._flatten(f.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(g,d.ELEMENT_ARRAY_BUFFER,m,c),p.indexBufferType=a?d.UNSIGNED_INT:d.UNSIGNED_SHORT,p.vertexCount=3*f.faces.length):(g&&(d.deleteBuffer(g),p.indexBuffer=null),p.vertexCount=f.vertices?f.vertices.length:0),p.lineVertexCount=f.lineVertices?f.lineVertices.length:0,p},s.default.RendererGL.prototype.drawBuffers=function(u){var f=this.GL,m=this.retainedMode.geometry[u];if(this._doStroke&&0<m.lineVertexCount){var a=this._getRetainedStrokeShader(),c=(this._setStrokeUniforms(a),!0),d=!1,p=void 0;try{for(var g,y=this.retainedMode.buffers.stroke[Symbol.iterator]();!(c=(g=y.next()).done);c=!0)g.value._prepareBuffer(m,a)}catch(E){d=!0,p=E}finally{try{c||y.return==null||y.return()}finally{if(d)throw p}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(f.TRIANGLES,u),a.unbindShader()}if(this._doFill){var v=this._getRetainedFillShader(),_=(this._setFillUniforms(v),!0),d=!1,p=void 0;try{for(var x,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(x=w.next()).done);_=!0)x.value._prepareBuffer(m,v)}catch(M){d=!0,p=M}finally{try{_||w.return==null||w.return()}finally{if(d)throw p}}m.indexBuffer&&this._bindBuffer(m.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(f.TRIANGLES,u),v.unbindShader()}return this},s.default.RendererGL.prototype.drawBuffersScaled=function(u,f,m,a){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(f,m,a),this.drawBuffers(u)}finally{this.uMVMatrix=c}},s.default.RendererGL.prototype._drawArrays=function(u,f){return this.GL.drawArrays(u,0,this.retainedMode.geometry[f].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(u,m){var m=this.retainedMode.geometry[m],a=this.GL;if(m.indexBuffer){if(m.indexBufferType===a.UNSIGNED_INT&&!a.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");a.drawElements(a.TRIANGLES,m.vertexCount,m.indexBufferType,0)}else a.drawArrays(u||a.TRIANGLES,0,m.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(u,f){var m=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(f,m.ARRAY_BUFFER,this._vToNArray(u),Float32Array,m.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),m.drawArrays(m.Points,0,u.length),a.unbindShader()},s.default.RendererGL);l.default=i},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(p,o,l){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function n(g){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.filter"),p("core-js/modules/es.array.from"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.assign"),p("core-js/modules/es.object.get-own-property-descriptor"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.float64-array"),p("core-js/modules/es.typed-array.int16-array"),p("core-js/modules/es.typed-array.uint8-array"),p("core-js/modules/es.typed-array.uint16-array"),p("core-js/modules/es.typed-array.uint32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.weak-map"),p("core-js/modules/web.dom-collections.iterator"),p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.filter"),p("core-js/modules/es.array.from"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.assign"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.float64-array"),p("core-js/modules/es.typed-array.int16-array"),p("core-js/modules/es.typed-array.uint8-array"),p("core-js/modules/es.typed-array.uint16-array"),p("core-js/modules/es.typed-array.uint32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=a(p("../core/main")),u=function(g){if(g&&g.__esModule)return g;if(g===null||n(g)!=="object"&&typeof g!="function")return{default:g};var y=m();if(y&&y.has(g))return y.get(g);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in g){var w;Object.prototype.hasOwnProperty.call(g,v)&&((w=x?Object.getOwnPropertyDescriptor(g,v):null)&&(w.get||w.set)?Object.defineProperty(_,v,w):_[v]=g[v])}return _.default=g,y&&y.set(g,_),_}(p("../core/constants")),f=a(p("libtess"));p("./p5.Shader"),p("./p5.Camera"),p("../core/p5.Renderer"),p("./p5.Matrix"),p("path");function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}function a(g){return g&&g.__esModule?g:{default:g}}function c(g){return function(y){if(Array.isArray(y)){for(var v=0,_=new Array(y.length);v<y.length;v++)_[v]=y[v];return _}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,d={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:p+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:p+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
  gl_FragColor.rgb = diffuse * gl_FragColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb;
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`},p=(i.default.RendererGL=function(g,y,v,_){return i.default.Renderer.call(this,g,y,v),this._setAttributeDefaults(y),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=u.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[0,0,0,0],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=u.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new i.default.Matrix,this.uPMatrix=new i.default.Matrix,this.uNMatrix=new i.default.Matrix("mat3"),this._currentNormal=new i.default.Vector(0,0,1),this._curCamera=new i.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new i.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new i.default.Geometry,shapeMode:u.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new i.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new i.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=u.IMAGE,this.textureWrapX=u.CLAMP,this.textureWrapY=u.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},i.default.RendererGL.prototype=Object.create(i.default.Renderer.prototype),i.default.RendererGL.prototype._setAttributeDefaults=function(g){var y={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};g._glAttributes===null?g._glAttributes=y:g._glAttributes=Object.assign(y,g._glAttributes)},i.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var g=this.drawingContext;g.enable(g.DEPTH_TEST),g.depthFunc(g.LEQUAL),g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},i.default.RendererGL.prototype._resetContext=function(g,y){var v,_=this.width,x=this.height,E=this.canvas.id,w=this._pInst instanceof i.default.Graphics,E=(w?((v=this._pInst).canvas.parentNode.removeChild(v.canvas),v.canvas=document.createElement("canvas"),(v._pInst._userNode||document.body).appendChild(v.canvas),i.default.Element.call(v,v.canvas,v._pInst),v.width=_,v.height=x):((v=this.canvas)&&v.parentNode.removeChild(v),(v=document.createElement("canvas")).id=E,(this._pInst._userNode||document.body).appendChild(v),this._pInst.canvas=v,this.canvas=v),new i.default.RendererGL(this._pInst.canvas,this._pInst,!w));this._pInst._setProperty("_renderer",E),E.resize(_,x),E._applyDefaults(),w||this._pInst._elements.push(E),typeof y=="function"&&setTimeout(function(){y.apply(window._renderer,g)},0)},i.default.prototype.setAttributes=function(g,y){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var v=!0;if(y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[g]!==y&&(this._glAttributes[g]=y,v=!1)):g instanceof Object&&this._glAttributes!==g&&(this._glAttributes=g,v=!1),this._renderer.isP3D&&!v){if(!this._setupDone){for(var _ in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(_))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},i.default.RendererGL.prototype.background=function(){var _=(_=this._pInst).color.apply(_,arguments),g=_.levels[0]/255,y=_.levels[1]/255,v=_.levels[2]/255,_=_.levels[3]/255;this.GL.clearColor(g,y,v,_),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},i.default.RendererGL.prototype.fill=function(g,y,v,_){var x=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=x._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null},i.default.RendererGL.prototype.stroke=function(g,y,v,_){arguments[3]=255;var x=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=x._array},i.default.RendererGL.prototype.strokeCap=function(g){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},i.default.RendererGL.prototype.strokeJoin=function(g){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},i.default.RendererGL.prototype.filter=function(g){console.error("filter() does not work in WEBGL mode")},i.default.RendererGL.prototype.blendMode=function(g){g===u.DARKEST||g===u.LIGHTEST||g===u.ADD||g===u.BLEND||g===u.SUBTRACT||g===u.SCREEN||g===u.EXCLUSION||g===u.REPLACE||g===u.MULTIPLY||g===u.REMOVE?this.curBlendMode=g:g!==u.BURN&&g!==u.OVERLAY&&g!==u.HARD_LIGHT&&g!==u.SOFT_LIGHT&&g!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},i.default.RendererGL.prototype.erase=function(g,y){this._isErasing||(this._applyBlendMode(u.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,g/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,y/255])},i.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},i.default.RendererGL.prototype.strokeWeight=function(g){this.curStrokeWeight!==g&&(this.pointSize=g,this.curStrokeWeight=g)},i.default.RendererGL.prototype._getPixel=function(g,y){var v=new Uint8Array(4);return this.drawingContext.readPixels(g,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,v),[v[0],v[1],v[2],v[3]]},i.default.RendererGL.prototype.loadPixels=function(){var g,y=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(y=y.pixels,g=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,y instanceof Uint8Array&&y.length===g||(y=new Uint8Array(g),this._pixelsState._setProperty("pixels",y)),g=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*g,this.height*g,this.GL.RGBA,this.GL.UNSIGNED_BYTE,y))},i.default.RendererGL.prototype.geometryInHash=function(g){return this.retainedMode.geometry[g]!==void 0},i.default.RendererGL.prototype.resize=function(g,y){i.default.Renderer.prototype.resize.call(this,g,y),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),g=this._pixelsState,g.pixels!==void 0&&g._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},i.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},i.default.RendererGL.prototype.applyMatrix=function(g,y,v,_,x,w){arguments.length===16?i.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([g,y,0,0,v,_,0,0,0,0,1,0,x,w,0,1])},i.default.RendererGL.prototype.translate=function(g,y,v){return g instanceof i.default.Vector&&(v=g.z,y=g.y,g=g.x),this.uMVMatrix.translate([g,y,v]),this},i.default.RendererGL.prototype.scale=function(g,y,v){return this.uMVMatrix.scale(g,y,v),this},i.default.RendererGL.prototype.rotate=function(g,y){return y===void 0?this.rotateZ(g):(i.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},i.default.RendererGL.prototype.rotateX=function(g){return this.rotate(g,1,0,0),this},i.default.RendererGL.prototype.rotateY=function(g){return this.rotate(g,0,1,0),this},i.default.RendererGL.prototype.rotateZ=function(g){return this.rotate(g,0,0,1),this},i.default.RendererGL.prototype.push=function(){var g=i.default.Renderer.prototype.push.apply(this),y=g.properties;return y.uMVMatrix=this.uMVMatrix.copy(),y.uPMatrix=this.uPMatrix.copy(),y._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),y.ambientLightColors=this.ambientLightColors.slice(),y.specularColors=this.specularColors.slice(),y.directionalLightDirections=this.directionalLightDirections.slice(),y.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),y.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),y.pointLightPositions=this.pointLightPositions.slice(),y.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),y.pointLightSpecularColors=this.pointLightSpecularColors.slice(),y.spotLightPositions=this.spotLightPositions.slice(),y.spotLightDirections=this.spotLightDirections.slice(),y.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),y.spotLightSpecularColors=this.spotLightSpecularColors.slice(),y.spotLightAngle=this.spotLightAngle.slice(),y.spotLightConc=this.spotLightConc.slice(),y.userFillShader=this.userFillShader,y.userStrokeShader=this.userStrokeShader,y.userPointShader=this.userPointShader,y.pointSize=this.pointSize,y.curStrokeWeight=this.curStrokeWeight,y.curStrokeColor=this.curStrokeColor,y.curFillColor=this.curFillColor,y.curAmbientColor=this.curAmbientColor,y.curSpecularColor=this.curSpecularColor,y.curEmissiveColor=this.curEmissiveColor,y._useSpecularMaterial=this._useSpecularMaterial,y._useEmissiveMaterial=this._useEmissiveMaterial,y._useShininess=this._useShininess,y.constantAttenuation=this.constantAttenuation,y.linearAttenuation=this.linearAttenuation,y.quadraticAttenuation=this.quadraticAttenuation,y._enableLighting=this._enableLighting,y._useNormalMaterial=this._useNormalMaterial,y._tex=this._tex,y.drawMode=this.drawMode,y._currentNormal=this._currentNormal,y.curBlendMode=this.curBlendMode,g},i.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=i.default.Matrix.identity(this._pInst),this},i.default.RendererGL.prototype._getImmediateStrokeShader=function(){var g=this.userStrokeShader;return g&&g.isStrokeShader()?g:this._getLineShader()},i.default.RendererGL.prototype._getRetainedStrokeShader=i.default.RendererGL.prototype._getImmediateStrokeShader,i.default.RendererGL.prototype._getImmediateFillShader=function(){var g=this.userFillShader;if(this._useNormalMaterial&&(!g||!g.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!g||!g.isLightShader())return this._getLightShader()}else if(this._tex){if(!g||!g.isTextureShader())return this._getLightShader()}else if(!g)return this._getImmediateModeShader();return g},i.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var g=this.userFillShader;if(this._enableLighting){if(!g||!g.isLightShader())return this._getLightShader()}else if(this._tex){if(!g||!g.isTextureShader())return this._getLightShader()}else if(!g)return this._getColorShader();return g},i.default.RendererGL.prototype._getImmediatePointShader=function(){var g=this.userPointShader;return g&&g.isPointShader()?g:this._getPointShader()},i.default.RendererGL.prototype._getRetainedLineShader=i.default.RendererGL.prototype._getImmediateLineShader,i.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,d.phongVert,d.phongFrag):this._defaultLightShader=new i.default.Shader(this,d.lightVert,d.lightTextureFrag)),this._defaultLightShader},i.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,d.immediateVert,d.vertexColorFrag)),this._defaultImmediateModeShader},i.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,d.normalVert,d.normalFrag)),this._defaultNormalShader},i.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,d.normalVert,d.basicFrag)),this._defaultColorShader},i.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,d.pointVert,d.pointFrag)),this._defaultPointShader},i.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,d.lineVert,d.lineFrag)),this._defaultLineShader},i.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,d.fontVert,d.fontFrag)),this._defaultFontShader},i.default.RendererGL.prototype._getEmptyTexture=function(){var g;return this._emptyTexture||((g=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,g)),this._emptyTexture},i.default.RendererGL.prototype.getTexture=function(g){var y=this.textures,v=!0,_=!1,x=void 0;try{for(var w,E=y[Symbol.iterator]();!(v=(w=E.next()).done);v=!0){var T=w.value;if(T.src===g)return T}}catch(M){_=!0,x=M}finally{try{v||E.return==null||E.return()}finally{if(_)throw x}}return _=new i.default.Texture(this,g),y.push(_),_},i.default.RendererGL.prototype._setStrokeUniforms=function(g){g.bindShader(),g.setUniform("uMaterialColor",this.curStrokeColor),g.setUniform("uStrokeWeight",this.curStrokeWeight)},i.default.RendererGL.prototype._setFillUniforms=function(g){g.bindShader(),g.setUniform("uMaterialColor",this.curFillColor),g.setUniform("isTexture",!!this._tex),this._tex&&g.setUniform("uSampler",this._tex),g.setUniform("uTint",this._tint),g.setUniform("uAmbientMatColor",this.curAmbientColor),g.setUniform("uSpecularMatColor",this.curSpecularColor),g.setUniform("uEmissiveMatColor",this.curEmissiveColor),g.setUniform("uSpecular",this._useSpecularMaterial),g.setUniform("uEmissive",this._useEmissiveMaterial),g.setUniform("uShininess",this._useShininess),g.setUniform("uUseLighting",this._enableLighting);var y=this.pointLightDiffuseColors.length/3,y=(g.setUniform("uPointLightCount",y),g.setUniform("uPointLightLocation",this.pointLightPositions),g.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),g.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),y=(g.setUniform("uDirectionalLightCount",y),g.setUniform("uLightingDirection",this.directionalLightDirections),g.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),g.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),y=(g.setUniform("uAmbientLightCount",y),g.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);g.setUniform("uSpotLightCount",y),g.setUniform("uSpotLightAngle",this.spotLightAngle),g.setUniform("uSpotLightConc",this.spotLightConc),g.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),g.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),g.setUniform("uSpotLightLocation",this.spotLightPositions),g.setUniform("uSpotLightDirection",this.spotLightDirections),g.setUniform("uConstantAttenuation",this.constantAttenuation),g.setUniform("uLinearAttenuation",this.linearAttenuation),g.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),g.bindTextures()},i.default.RendererGL.prototype._setPointUniforms=function(g){g.bindShader(),g.setUniform("uMaterialColor",this.curStrokeColor),g.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},i.default.RendererGL.prototype._bindBuffer=function(g,y,v,_,x){y=y||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(y,g),v!==void 0&&(g=new(_||Float32Array)(v),this.GL.bufferData(y,g,x||this.GL.STATIC_DRAW))},i.default.RendererGL.prototype._arraysEqual=function(g,y){var v=g.length;if(v!==y.length)return!1;for(var _=0;_<v;_++)if(g[_]!==y[_])return!1;return!0},i.default.RendererGL.prototype._isTypedArray=function(g){return g instanceof Uint32Array},i.default.RendererGL.prototype._flatten=function(g){if(g.length===0)return[];var y;if(2e4<g.length){for(var v=Object.prototype.toString,_=[],x=g.slice(),w=x.pop();v.call(w)==="[object Array]"?x.push.apply(x,c(w)):_.push(w),x.length&&(w=x.pop())!==void 0;);return _.reverse(),_}return(y=[]).concat.apply(y,c(g))},i.default.RendererGL.prototype._vToNArray=function(g){var y=[],v=!0,_=!1,x=void 0;try{for(var w,E=g[Symbol.iterator]();!(v=(w=E.next()).done);v=!0){var T=w.value;y.push(T.x,T.y,T.z)}}catch(M){_=!0,x=M}finally{try{v||E.return==null||E.return()}finally{if(_)throw x}}return y},i.default.prototype._assert3d=function(g){if(!this._renderer.isP3D)throw new Error("".concat(g,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype._initTessy=function(){var g=new f.default.GluTesselator;return g.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(y,v){for(var _=0;_<y.length;_++)v[v.length]=y[_]}),g.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(y){y!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(y))}),g.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(y){console.log("error callback"),console.log("error number: ".concat(y))}),g.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(y,v,_){for(var x=[0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<_.length;w++)for(var E=0;E<x.length;E++)_[w]!==0&&v[w]&&(x[E]+=v[w][E]*_[w]);return x}),g.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(y){}),g},i.default.RendererGL.prototype._triangulate=function(g){this._tessy.gluTessNormal(0,0,1);var y=[];this._tessy.gluTessBeginPolygon(y);for(var v=0;v<g.length;v++){this._tessy.gluTessBeginContour();for(var _=g[v],x=0;x<_.length;x+=12){var w=_.slice(x,x+12);this._tessy.gluTessVertex(w,w)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),y},i.default.RendererGL.prototype._bezierCoefficients=function(g){var y=g*g,v=1-g,_=v*v;return[_*v,3*_*g,3*v*y,y*g]},i.default.RendererGL.prototype._quadraticCoefficients=function(g){var y=1-g;return[y*y,2*y*g,g*g]},i.default.RendererGL.prototype._bezierToCatmull=function(g){return[g[1],g[1]+(g[2]-g[0])/this._curveTightness,g[2]-(g[3]-g[1])/this._curveTightness,g[2]]},i.default.RendererGL);l.default=p},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(t,o,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.Shader=function(n,i,u){this._renderer=n,this._vertSrc=i,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},s.default.Shader.prototype.init=function(){if(this._glProgram===0){var n=this._renderer.GL;if(this._vertShader=n.createShader(n.VERTEX_SHADER),n.shaderSource(this._vertShader,this._vertSrc),n.compileShader(this._vertShader),!n.getShaderParameter(this._vertShader,n.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(n.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(this._fragShader,this._fragSrc),n.compileShader(this._fragShader),!n.getShaderParameter(this._fragShader,n.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(n.getShaderInfoLog(this._fragShader))),null;this._glProgram=n.createProgram(),n.attachShader(this._glProgram,this._vertShader),n.attachShader(this._glProgram,this._fragShader),n.linkProgram(this._glProgram),n.getProgramParameter(this._glProgram,n.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(n.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},s.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var n=this._renderer.GL,i=n.getProgramParameter(this._glProgram,n.ACTIVE_ATTRIBUTES),u=0;u<i;++u){var f=n.getActiveAttrib(this._glProgram,u),m=f.name,a=n.getAttribLocation(this._glProgram,m),c={};c.name=m,c.location=a,c.index=u,c.type=f.type,c.size=f.size,this.attributes[m]=c}this._loadedAttributes=!0}},s.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var n=this._renderer.GL,i=n.getProgramParameter(this._glProgram,n.ACTIVE_UNIFORMS),u=0,f=0;f<i;++f){var m=n.getActiveUniform(this._glProgram,f),a={},c=(a.location=n.getUniformLocation(this._glProgram,m.name),a.size=m.size,m.name);1<m.size&&(c=c.substring(0,c.indexOf("[0]"))),a.name=c,a.type=m.type,a._cachedData=void 0,a.type===n.SAMPLER_2D&&(a.samplerIndex=u,u++,this.samplers.push(a)),a.isArray=1<m.size||a.type===n.FLOAT_MAT3||a.type===n.FLOAT_MAT4||a.type===n.FLOAT_VEC2||a.type===n.FLOAT_VEC3||a.type===n.FLOAT_VEC4||a.type===n.INT_VEC2||a.type===n.INT_VEC4||a.type===n.INT_VEC3,this.uniforms[c]=a}this._loadedUniforms=!0}},s.default.Shader.prototype.compile=function(){},s.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},s.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},s.default.Shader.prototype.bindTextures=function(){var n=this._renderer.GL,i=!0,u=!1,f=void 0;try{for(var m,a=this.samplers[Symbol.iterator]();!(i=(m=a.next()).done);i=!0){var c=m.value,d=c.texture;d===void 0&&(d=this._renderer._getEmptyTexture()),n.activeTexture(n.TEXTURE0+c.samplerIndex),d.bindTexture(),d.update(),n.uniform1i(c.location,c.samplerIndex)}}catch(p){u=!0,f=p}finally{try{i||a.return==null||a.return()}finally{if(u)throw f}}},s.default.Shader.prototype.updateTextures=function(){var n=!0,i=!1,u=void 0;try{for(var f,m=this.samplers[Symbol.iterator]();!(n=(f=m.next()).done);n=!0){var a=f.value.texture;a&&a.update()}}catch(c){i=!0,u=c}finally{try{n||m.return==null||m.return()}finally{if(i)throw u}}},s.default.Shader.prototype.unbindTextures=function(){},s.default.Shader.prototype._setMatrixUniforms=function(){var n=this._renderer._curCamera.cameraMatrix,i=this._renderer.uPMatrix,u=this._renderer.uMVMatrix,f=u.copy();f.mult(i),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",n.mat4),this.setUniform("uProjectionMatrix",i.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},s.default.Shader.prototype.useProgram=function(){var n=this._renderer.GL;return this._renderer._curShader!==this&&(n.useProgram(this._glProgram),this._renderer._curShader=this),this},s.default.Shader.prototype.setUniform=function(n,i){var u=this.uniforms[n];if(u){var f=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,i))return;u._cachedData=i.slice(0)}else{if(u._cachedData&&u._cachedData===i)return;Array.isArray(i)?u._cachedData=i.slice(0):u._cachedData=i}var m=u.location;switch(this.useProgram(),u.type){case f.BOOL:i===!0?f.uniform1i(m,1):f.uniform1i(m,0);break;case f.INT:1<u.size?i.length&&f.uniform1iv(m,i):f.uniform1i(m,i);break;case f.FLOAT:1<u.size?i.length&&f.uniform1fv(m,i):f.uniform1f(m,i);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(m,!1,i);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(m,!1,i);break;case f.FLOAT_VEC2:1<u.size?i.length&&f.uniform2fv(m,i):f.uniform2f(m,i[0],i[1]);break;case f.FLOAT_VEC3:1<u.size?i.length&&f.uniform3fv(m,i):f.uniform3f(m,i[0],i[1],i[2]);break;case f.FLOAT_VEC4:1<u.size?i.length&&f.uniform4fv(m,i):f.uniform4f(m,i[0],i[1],i[2],i[3]);break;case f.INT_VEC2:1<u.size?i.length&&f.uniform2iv(m,i):f.uniform2i(m,i[0],i[1]);break;case f.INT_VEC3:1<u.size?i.length&&f.uniform3iv(m,i):f.uniform3i(m,i[0],i[1],i[2]);break;case f.INT_VEC4:1<u.size?i.length&&f.uniform4iv(m,i):f.uniform4i(m,i[0],i[1],i[2],i[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+u.samplerIndex),u.texture=i instanceof s.default.Texture?i:this._renderer.getTexture(i),f.uniform1i(m,u.samplerIndex)}return this}},s.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},s.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},s.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},s.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},s.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},s.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},s.default.Shader.prototype.enableAttrib=function(n,i,u,f,m,a){var c,d;return n&&(c=n.location)!==-1&&(d=this._renderer.GL,n.enabled||(d.enableVertexAttribArray(c),n.enabled=!0),this._renderer.GL.vertexAttribPointer(c,i,u||d.FLOAT,f||!1,m||0,a||0)),this},t=s.default.Shader,l.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(t,o,l){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var c=f();if(c&&c.has(a))return c.get(a);var d,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var y;Object.prototype.hasOwnProperty.call(a,d)&&((y=g?Object.getOwnPropertyDescriptor(a,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=a[d])}return p.default=a,c&&c.set(a,p),p}(t("../core/constants"));function f(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,f=function(){return a},a)}i.default.Texture=function(a,c,d){return this._renderer=a,a=this._renderer.GL,(d=d||{}).dataType===a.FLOAT&&(a.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),a.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=c,this.glTex=void 0,this.glTarget=a.TEXTURE_2D,this.glFormat=d.format||a.RGBA,this.mipmaps=!1,this.glMinFilter=d.minFilter||a.LINEAR,this.glMagFilter=d.magFilter||a.LINEAR,this.glWrapS=d.wrapS||a.CLAMP_TO_EDGE,this.glWrapT=d.wrapT||a.CLAMP_TO_EDGE,this.glDataType=d.dataType||a.UNSIGNED_BYTE,this.isSrcMediaElement=i.default.MediaElement!==void 0&&c instanceof i.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=i.default.Element!==void 0&&c instanceof i.default.Element&&!(c instanceof i.default.Graphics)&&!(c instanceof i.default.Renderer),this.isSrcP5Image=c instanceof i.default.Image,this.isSrcP5Graphics=c instanceof i.default.Graphics,this.isSrcP5Renderer=c instanceof i.default.Renderer,this.isImageData=typeof ImageData<"u"&&c instanceof ImageData,d=this._getTextureDataFromSource(),this.width=d.width,this.height=d.height,this.init(d),this},i.default.Texture.prototype._getTextureDataFromSource=function(){var a;return this.isSrcP5Image?a=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?a=this.src.elt:this.isImageData&&(a=this.src),a},i.default.Texture.prototype.init=function(a){var c,d=this._renderer.GL;this.glTex=d.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,this.glMagFilter),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(c=new Uint8Array([1,1,1,1]),d.texImage2D(this.glTarget,0,d.RGBA,1,1,0,this.glFormat,this.glDataType,c)):d.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,a)},i.default.Texture.prototype.update=function(){var a,c,d,p=this.src;return p.width!==0&&p.height!==0&&(a=this._getTextureDataFromSource(),c=!1,d=this._renderer.GL,a.width!==this.width||a.height!==this.height?(c=!0,this.width=a.width,this.height=a.height,this.isSrcP5Image?p.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&p.setModified(!0)):this.isSrcP5Image?p.isModified()&&p.setModified(!(c=!0)):this.isSrcMediaElement?p.isModified()?p.setModified(!(c=!0)):p.loadedmetadata&&this._videoPrevUpdateTime!==p.time()&&(this._videoPrevUpdateTime=p.time(),c=!0):this.isImageData?p._dirty&&(c=!(p._dirty=!1)):c=!0,c&&(this.bindTexture(),d.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,a)),c)},i.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},i.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},i.default.Texture.prototype.setInterpolation=function(a,c){var d=this._renderer.GL;a===u.NEAREST?this.glMinFilter=d.NEAREST:this.glMinFilter=d.LINEAR,c===u.NEAREST?this.glMagFilter=d.NEAREST:this.glMagFilter=d.LINEAR,this.bindTexture(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.glMinFilter),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},i.default.Texture.prototype.setWrapMode=function(a,c){function d(v){return(v&v-1)==0}var p=this._renderer.GL,g=d(this.width),y=d(this.height);a===u.REPEAT?g&&y?this.glWrapS=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):a===u.MIRROR?g&&y?this.glWrapS=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):this.glWrapS=p.CLAMP_TO_EDGE,c===u.REPEAT?g&&y?this.glWrapT=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):c===u.MIRROR?g&&y?this.glWrapT=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):this.glWrapT=p.CLAMP_TO_EDGE,this.bindTexture(),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.glWrapS),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var m=i.default.Texture;l.default=m},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(t,o,l){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function n(g){return(n=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var i,u=(i=t("../core/main"))&&i.__esModule?i:{default:i},f=function(g){if(g&&g.__esModule)return g;if(g===null||n(g)!=="object"&&typeof g!="function")return{default:g};var y=m();if(y&&y.has(g))return y.get(g);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in g){var w;Object.prototype.hasOwnProperty.call(g,v)&&((w=x?Object.getOwnPropertyDescriptor(g,v):null)&&(w.get||w.set)?Object.defineProperty(_,v,w):_[v]=g[v])}return _.default=g,y&&y.set(g,_),_}(t("../core/constants"));function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){},u.default.RendererGL.prototype.textWidth=function(g){return this._isOpenType()?this._textFont._textWidth(g,this._textSize):0};function a(g,y){this.width=g,this.height=y,this.infos=[],this.findImage=function(v){var _,x,w=this.width*this.height;if(w<v)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var T=this.infos[E];if(T.index+v<w){x=(_=T).imageData;break}}if(!_){try{x=new ImageData(this.width,this.height)}catch{var M=document.getElementsByTagName("canvas")[0],j=!M,P=(M||((M=document.createElement("canvas")).style.display="none",document.body.appendChild(M)),M.getContext("2d"));P&&(x=P.createImageData(this.width,this.height)),j&&document.body.removeChild(M)}this.infos.push(_={index:0,imageData:x})}return P=_.index,_.index+=v,x._dirty=!0,{imageData:x,index:P}}}function c(E,y,v,_,x){var w=E.imageData.data,E=4*E.index++;w[E++]=y,w[E++]=v,w[E++]=_,w[+E]=x}function d(g){this.font=g,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={},this.getGlyphInfo=function(y){var v=this.glyphInfos[y.index];if(!v){var _=y.getBoundingBox(),x=_.x1,w=_.y1,E=_.x2-x,T=_.y2-w,M=y.path.commands;if(E==0||T==0||!M.length)return this.glyphInfos[y.index]={};for(var j,P,L,N,O=[],k=[],X=[],Y=8;0<=Y;--Y)X.push([]);for(Y=8;0<=Y;--Y)k.push([]);var q=!0,H=!1,z=void 0;try{for(var W,$=M[Symbol.iterator]();!(q=(W=$.next()).done);q=!0){var se=W.value,R=(se.x-x)/E,I=(se.y-w)/T;if(!Me(j,P,R,I)){switch(se.type){case"M":L=R,N=I;break;case"L":de(j,P,R,I);break;case"Q":var U=(se.x1-x)/E,G=(se.y1-w)/T;re([j,R,U],[P,I,G],{x:j,y:P,cx:U,cy:G});break;case"Z":Me(j,P,L,N)?O.push({x:j,y:P}):(de(j,P,L,N),O.push({x:L,y:N}));break;case"C":for(var ee=function(Le,K,oe,Te,Pe,Oe,ke,we){var Le=new he(new u.default.Vector(Le,K),new u.default.Vector(oe,Te),new u.default.Vector(Pe,Oe),new u.default.Vector(ke,we)).splitInflections(),me=[],Q=30/p,ne=!0,K=!1,oe=void 0;try{for(var xe,Ce=Le[Symbol.iterator]();!(ne=(xe=Ce.next()).done);ne=!0){for(var Ne=xe.value,Ze=[],be=void 0;!(.125<=(be=Q/Ne.quadError()));){var De=Math.pow(be,.3333333333333333),ze=Ne.split(De),et=Ne.split(1-De/(1-De));me.push(ze),Ze.push(Ne),Ne=et}be<1&&me.push(Ne.split(.5)),me.push(Ne),Array.prototype.push.apply(me,Ze.reverse())}}catch(rt){K=!0,oe=rt}finally{try{ne||Ce.return==null||Ce.return()}finally{if(K)throw oe}}return me}(j,P,(se.x1-x)/E,(se.y1-w)/T,(se.x2-x)/E,(se.y2-w)/T,R,I),ue=0;ue<ee.length;ue++){var fe=ee[ue].toQuadratic();re([fe.x,fe.x1,fe.cx],[fe.y,fe.y1,fe.cy],fe)}break;default:throw new Error("unknown command type: ".concat(se.type))}j=R,P=I}}}catch(je){H=!0,z=je}finally{try{q||$.return==null||$.return()}finally{if(H)throw z}}for(var pe=O.length,ce=this.strokeImageInfos.findImage(pe),ie=ce.index,V=0;V<pe;++V){var F=O[V];c(ce,ae(F.x),ae(F.y),ae(F.cx),ae(F.cy))}(v=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[_.x1,-_.y1,_.x2,-_.y2],strokeImageInfo:ce,strokes:O,colInfo:Se(X,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Se(k,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset]}return v;function re(je,J,te){var Te=O.length;function Pe(me,Q,ne){for(var K=me.length;0<K--;){var oe=me[K];oe<Q&&(Q=oe),ne<oe&&(ne=oe)}return{min:Q,max:ne}}O.push(te);for(var te=Pe(je,1,0),je=Math.max(Math.floor(9*te.min),0),Oe=Math.min(Math.ceil(9*te.max),9),ke=je;ke<Oe;++ke)X[ke].push(Te);for(var te=Pe(J,1,0),je=Math.max(Math.floor(9*te.min),0),we=Math.min(Math.ceil(9*te.max),9),Le=je;Le<we;++Le)k[Le].push(Te)}function ae(je){return(je=(te=255)*je)<(J=0)?J:te<je?te:je;var J,te}function he(je,J,te,Te){this.p0=je,this.c0=J,this.c1=te,this.p1=Te,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var Oe=u.default.Vector.lerp(this.p0,this.c0,Le),we=u.default.Vector.lerp(this.c0,this.c1,Le),ke=u.default.Vector.lerp(Oe,we,Le),we=(this.c1=u.default.Vector.lerp(this.c1,this.p1,Le),this.c0=u.default.Vector.lerp(we,this.c1,Le),u.default.Vector.lerp(ke,this.c0,Le)),Le=new he(this.p0,Oe,ke,we);return this.p0=we,Le},this.splitInflections=function(){var Pe=u.default.Vector.sub(this.c0,this.p0),Oe=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),Pe),ke=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),Pe),u.default.Vector.mult(Oe,2)),we=[],Le=Oe.x*ke.y-Oe.y*ke.x;return Le!==0&&0<=(Pe=(ke=Pe.x*ke.y-Pe.y*ke.x)*ke-4*Le*(Pe.x*Oe.y-Pe.y*Oe.x))&&(Le<0&&(Le=-Le,ke=-ke),Pe=(-ke+(Oe=Math.sqrt(Pe)))/(2*Le),0<(ke=(-ke-Oe)/(2*Le))&&ke<1&&(we.push(this.split(ke)),Pe=1-(1-Pe)/(1-ke)),0<Pe&&Pe<1&&we.push(this.split(Pe))),we.push(this),we}}function de(je,J,te,Te){re([je,te],[J,Te],{x:je,y:J,cx:(je+te)/2,cy:(J+Te)/2})}function Me(je,J,te,Te){return Math.abs(te-je)<1e-5&&Math.abs(Te-J)<1e-5}function Se(je,J,te){for(var Te=je.length,Pe=J.findImage(Te),J=Pe.index,Oe=0,ke=0;ke<Te;++ke)Oe+=je[ke].length;for(var we=te.findImage(Oe),Le=0;Le<Te;++Le){var me=je[Le],Q=me.length,ne=we.index;c(Pe,ne>>7,127&ne,Q>>7,127&Q);for(var K=0;K<Q;++K){var oe=me[K]+ie;c(we,oe>>7,127&oe,0,0)}}return{cellImageInfo:we,dimOffset:J,dimImageInfo:Pe}}}}var p=Math.sqrt(3);u.default.RendererGL.prototype._renderText=function(g,y,v,_,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=_)&&this._doFill){if(this._isOpenType()){g.push();var x=this._doStroke,w=this.drawMode,E=(this._doStroke=!1,this.drawMode=f.TEXTURE,this._textFont.font),T=(T=this._textFont._fontInfo)||(this._textFont._fontInfo=new d(E)),v=this._textFont._handleAlignment(this,y,v,_),_=this._textSize/E.unitsPerEm,M=(this.translate(v.x,v.y,0),this.scale(_,_,1),this.GL),v=!this._defaultFontShader,j=this._getFontShader(),P=(j.init(),j.bindShader(),v&&(j.setUniform("uGridImageSize",[64,64]),j.setUniform("uCellsImageSize",[64,64]),j.setUniform("uStrokeImageSize",[64,64]),j.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),L=(P||((_=this._textGeom=new u.default.Geometry(1,1,function(){for(var fe=0;fe<=1;fe++)for(var pe=0;pe<=1;pe++)this.vertices.push(new u.default.Vector(pe,fe,0)),this.uvs.push(pe,fe)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",_)),!0),v=!1,_=void 0;try{for(var N,O=this.retainedMode.buffers.text[Symbol.iterator]();!(L=(N=O.next()).done);L=!0)N.value._prepareBuffer(P,j)}catch(fe){v=!0,_=fe}finally{try{L||O.return==null||O.return()}finally{if(v)throw _}}this._bindBuffer(P.indexBuffer,M.ELEMENT_ARRAY_BUFFER),j.setUniform("uMaterialColor",this.curFillColor);try{var k=0,X=null,Y=E.stringToGlyphs(y),q=!0,H=!1,z=void 0;try{for(var W,$=Y[Symbol.iterator]();!(q=(W=$.next()).done);q=!0){var se,R,I=W.value,U=(X&&(k+=E.getKerningValue(X,I)),T.getGlyphInfo(I));U.uGlyphRect&&(se=U.rowInfo,R=U.colInfo,j.setUniform("uSamplerStrokes",U.strokeImageInfo.imageData),j.setUniform("uSamplerRowStrokes",se.cellImageInfo.imageData),j.setUniform("uSamplerRows",se.dimImageInfo.imageData),j.setUniform("uSamplerColStrokes",R.cellImageInfo.imageData),j.setUniform("uSamplerCols",R.dimImageInfo.imageData),j.setUniform("uGridOffset",U.uGridOffset),j.setUniform("uGlyphRect",U.uGlyphRect),j.setUniform("uGlyphOffset",k),j.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),k+=I.advanceWidth,X=I}}catch(fe){H=!0,z=fe}finally{try{q||$.return==null||$.return()}finally{if(H)throw z}}}finally{j.unbindShader(),this._doStroke=x,this.drawMode=w,g.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return g}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(Iv);var Yj=Iv.exports;const sC=Xj(Yj),{floor:Kd,random:Jd}=Math;function Zj(h,e){if(typeof h=="number"&&e===void 0)return Kd(Jd()*h);if(typeof h=="number"&&typeof e=="number")return Kd(Jd()*(e-h))+h;if(Array.isArray(h)){const r=Zj(h.length);return h[r]}}function oC(h){const e=[];for(let r=0;r<h;r++)e.push(r);return function(){if(e.length===0)return;const r=Kd(Jd()*e.length);return e.splice(r,1)[0]}}function aC(h,e,r,t,o){return h<=e?t:h>=r?o:(h-e)/(r-e)*(o-t)+t}function Kj(h,e,r){if(h instanceof nt&&e instanceof nt&&r instanceof nt)return new nt().copy(h).add(e).add(r).multiplyScalar(1/3);if(h instanceof Ae&&e instanceof Ae&&r instanceof Ae)return new Ae().copy(h).add(e).add(r).multiplyScalar(1/3);throw new Error("类型错误")}function lC(h,e,r){return(e-h)*r+h}const Cg="/nova/assets/disco_communism-Dyloc6Kz.jpg",Jj={class:"w-full h-full flex justify-center bg-#c23616 overflow-hidden"},$j=["src"],Qj=["src"],Pg=30,e3=Ho({__name:"crushPic",setup(h){const{random:e,sqrt:r,floor:t,ceil:o}=Math,l=Gi([]),s=Gi(),n=Gi(),i=Gi([]),u=[];function f(){return new Promise(m=>{n.value.onload=()=>{const{width:a,height:c}=n.value.getBoundingClientRect();m({width:a,height:c})}})}return fh(async()=>{if(!s.value)return;const{width:m,height:a}=await f(),c=new nt(m/2,a/2);d(),setTimeout(()=>{p()},1e3);function d(){const g=[],y=t(r(Pg)),v=o(Pg/y),_=m/y,x=a/v;for(let T=0;T<y;T+=1)for(let M=0;M<v;M+=1){const j=new nt((T+e())*_,(M+e())*x);g.push(j)}const E=xh.from(g.map(T=>[T.x,T.y])).triangles;for(let T=0;T<E.length;T+=3){const M=g[E[T]],j=g[E[T+1]],P=g[E[T+2]],L=`clip-path: polygon(${M.x}px ${M.y}px,${j.x}px ${j.y}px,${P.x}px ${P.y}px)`;l.value.push(L);const O=Kj(M,j,P).sub(c),k=O.length()/new nt(m/2,a/2).length(),X=new nt().copy(O.normalize()).multiply(new nt(.3,.3)),Y=X.x*m/2,q=X.y*a/2,H=k*-200,z=e()>.8,W=z?X.x*200:0,$=z?X.y*200:0;u.push({x:Y,y:q,z:H,rx:W,ry:$})}}function p(){const g=z0.timeline({repeat:-1});u.forEach((y,v)=>{const{x:_,y:x,z:w,rx:E,ry:T}=y,M=i.value[v];g.to(M,{x:_,y:x,z:w,rotateX:E,rotateY:T,duration:1,ease:"bounce.out"},"<")}),u.forEach((y,v)=>{const{x:_,y:x,z:w,rx:E,ry:T}=y,M=i.value[v];g.to(M,{x:_,y:x,z:w,rotateX:E,rotateY:T,duration:1},v===0?">":"<")}),u.forEach((y,v)=>{const _=i.value[v];g.to(_,{x:0,y:0,z:0,rotateX:0,rotateY:0,duration:.3,ease:"bounce.out"},">")}),u.forEach((y,v)=>{const _=i.value[v];g.to(_,{x:0,y:0,z:0,rotateX:0,rotateY:0,duration:1},v===0?">":"<")})}}),(m,a)=>(fn(),kn("div",Jj,[en("div",{ref_key:"picCon",ref:s,class:"pic-con relative h-full"},[en("img",{ref_key:"img",ref:n,class:"relative z--1 invisible block h-full",src:Zi(Cg)},null,8,$j),(fn(!0),kn(Qr,null,dd(l.value,(c,d)=>(fn(),kn("img",{ref_for:!0,ref_key:"imgs",ref:i,key:d,style:qa([c]),class:"absolute top-0 left-0 block h-full",src:Zi(Cg)},null,12,Qj))),128))],512)]))}}),kv=vh(e3,[["__scopeId","data-v-b01db4b7"]]),t3=Object.freeze(Object.defineProperty({__proto__:null,default:kv},Symbol.toStringTag,{value:"Module"})),r3={path:"/three",meta:{name:"three.js"},component:Fs,children:[{path:"threeTemplate",meta:{type:"threejs",name:"threejs模板",visable:!1},component:()=>lt(()=>import("./THREE-template-BjlvCKrm.js"),__vite__mapDeps([56,6,57,58,59]))},{path:"cubeLine",meta:{type:"threejs",name:"cubeLine",visable:!1},component:()=>lt(()=>import("./CubeLine-CEnTb45h.js"),__vite__mapDeps([60,57,58,6,61]))},{path:"allBufferGeo",meta:{type:"threejs",name:"allBufferGeo",visable:!1},component:()=>lt(()=>import("./AllBufferGeo-BE-rD65w.js"),__vite__mapDeps([62,57,58,63]))},{path:"threeTextPoint",meta:{type:"threejs",name:"threeTextPoint",visable:!1},component:()=>lt(()=>import("./ThreeTextPoint-CKo9JWFS.js"),__vite__mapDeps([64,57,58,65]))},{path:"threeText",meta:{type:"threejs",name:"threeText",visable:!1},component:()=>lt(()=>import("./TextGeo-Bv0UUbUZ.js"),__vite__mapDeps([66,57,67,6,68]))},{path:"solarSystem",meta:{type:"threejs",name:"threejs太阳系",visable:!1},component:()=>lt(()=>import("./SolarSystem-MdJemXym.js"),__vite__mapDeps([69,70,71,57,58,5,6]))},{path:"glowBall",meta:{type:"threejs",name:"glowBall",visable:!1},component:()=>lt(()=>import("./GlowBall-DIUi_1kD.js"),__vite__mapDeps([72,6,58,70,71]))},{path:"atom",meta:{type:"threejs",name:"原子",visable:!1},component:()=>lt(()=>import("./Atom-D8XsG3p_.js"),__vite__mapDeps([73,57,58,70,71,5,6,74]))},{path:"lavaBall",meta:{type:"threejs",name:"lavaBall",visable:!1},component:()=>lt(()=>import("./LavaBall-DfECpfHc.js"),__vite__mapDeps([75,6,57,58,70,76]))},{path:"lensFlares",meta:{type:"threejs",name:"透镜光线",visable:!1},component:()=>lt(()=>import("./LensFlares-Be56a4pW.js"),__vite__mapDeps([77,6,57,67,78]))},{path:"crush-pic",meta:{type:"threejs",name:"破碎图片-threejs",visable:!0},component:kv},{path:"flowfield-point-3d",meta:{type:"threejs",name:"flowField-粒子-3D",visable:!0},component:()=>lt(()=>import("./flowFieldPoint3D-DumuFmeb.js"),__vite__mapDeps([79,30,41,80,58,35,81]))},{path:"particle-life",meta:{type:"threejs",name:"粒子生命模拟",visable:!0},component:()=>lt(()=>import("./particleLife-juKwnRom.js"),__vite__mapDeps([82,41,80,58,35,81]))}]},n3={path:"/p5",meta:{name:"p5"},component:Fs,children:[{path:"flowFieldLine2",meta:{name:"flowFieldLine2",visable:!1},component:()=>lt(()=>import("./FlowFieldLine2-DfMQnyMF.js"),__vite__mapDeps([83,3,4,84,85,26,86,33]))},{path:"maze",meta:{name:"随机迷宫",visable:!0},component:()=>lt(()=>import("./Maze-ClIoahjR.js"),__vite__mapDeps([87,3,4,84,85]))},{path:"gradientLine",meta:{name:"gradientLine",visable:!1},component:()=>lt(()=>import("./GradientLine-CS1BoDdU.js"),__vite__mapDeps([88,3,4,84,85,86,33]))},{path:"codeRain",meta:{name:"codeRain",visable:!1},component:()=>lt(()=>import("./CodeRain-DZFVpyEC.js"),__vite__mapDeps([89,3,4,84,85]))},{path:"cross",meta:{name:"cross",visable:!1},component:()=>lt(()=>import("./Cross-D4Na7TVn.js"),__vite__mapDeps([90,3,4,84,85]))},{path:"musicRect",meta:{name:"musicRect",visable:!1},component:()=>lt(()=>import("./MusicRect-CgNJoNA8.js"),__vite__mapDeps([91,92,45,93,84,85,94]))},{path:"musicCircle",meta:{name:"musicCircle",visable:!1},component:()=>lt(()=>import("./MusicCircle-M5qSEdcC.js"),__vite__mapDeps([95,84,85,92,45,93,94]))},{path:"bore",meta:{name:"般若心经",visable:!0},component:()=>lt(()=>import("./BoRe-BITaBrjh.js"),__vite__mapDeps([96,84,85,97]))},{path:"tangram",meta:{name:"七巧板",visable:!0},component:()=>lt(()=>import("./Tangram-B1k_KyGl.js"),__vite__mapDeps([98,84,85]))},{path:"terrain",meta:{name:"terrain",visable:!1},component:()=>lt(()=>import("./Terrain-DroWuABV.js"),__vite__mapDeps([99,100,101,102]))},{path:"disperseParticle",meta:{name:"disperseParticle",visable:!1},component:()=>lt(()=>import("./DisperseParticle-B-qZWyzU.js"),__vite__mapDeps([103,100,101,104]))},{path:"disperseParticle2",meta:{name:"disperseParticle2",visable:!1},component:()=>lt(()=>import("./DisperseParticle2-luXW0rna.js"),__vite__mapDeps([105,100,101,106]))},{path:"snake",meta:{name:"贪吃蛇",visable:!0},component:()=>lt(()=>import("./Snake-BbtwJrx6.js"),__vite__mapDeps([107,100,101]))},{path:"lightBall",meta:{name:"lightBall",visable:!1},component:()=>lt(()=>import("./LightBall-jV2cXG9m.js"),__vite__mapDeps([108,100,101,109]))},{path:"flappyBird",meta:{name:"像素鸟(canvas)",visable:!0},component:()=>lt(()=>import("./FlappyBird-CMHmxjh1.js"),__vite__mapDeps([110,100,101,111]))},{path:"fireWork",meta:{name:"fireWork",visable:!1},component:()=>lt(()=>import("./Firework-DBdIpsSR.js"),__vite__mapDeps([112,100,101]))},{path:"pixelPicture",meta:{name:"图片像素化",visable:!0},component:()=>lt(()=>import("./PixelPicture-Dg0JAwWA.js"),__vite__mapDeps([113,5,6,100,101,114]))}]},i3={path:"/svg",meta:{name:"SVG"},component:Fs,children:[{path:"tiktok",meta:{name:"tiktok_anima",visable:!1,type:"svg"},component:()=>lt(()=>import("./index-CQ_PRp3J.js"),[])},{path:"circuit-board",meta:{name:"电路板-svg",visable:!0,type:"svg"},component:()=>lt(()=>import("./circuitBoard-BrXCEUxT.js"),__vite__mapDeps([115,116]))},{path:"circuit-board-2",meta:{name:"电路板-svg-蓝",visable:!0,type:"svg"},component:()=>lt(()=>import("./circuitBoard2-Dlnz0dv3.js"),__vite__mapDeps([117,118]))}]},s3={path:"/shader",meta:{name:"Shader"},component:Fs,children:[{path:"music-domainwrapping",meta:{name:"music-domainwrapping",visable:!1,type:"shader"},component:()=>lt(()=>import("./index-Ca_h0gXW.js"),__vite__mapDeps([119,80,58,35,92,45,93]))},{path:"texture-icon",meta:{name:"texture-icon",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-B-PRO443.js"),__vite__mapDeps([120,80,58,35]))},{path:"gamepad",meta:{name:"icon-gamepad",visable:!1,type:"shader"},component:()=>lt(()=>import("./index-DKELcOkz.js"),__vite__mapDeps([121,80,58,35]))},{path:"music",meta:{name:"音乐像素",visable:!1,type:"shader"},component:()=>lt(()=>import("./index-CTpKKmRf.js"),__vite__mapDeps([122,80,58,35,45,46,123]))},{path:"flow",meta:{name:"shader-flow",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-iFqs2Cbk.js"),__vite__mapDeps([124,80,58,35]))},{path:"flow2",meta:{name:"shader-flow2",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-D1wbxD2g.js"),__vite__mapDeps([125,80,58,35]))},{path:"flow-net",meta:{name:"shader-flow-net",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-C_uGbkhF.js"),__vite__mapDeps([126,127,80,58,35]))},{path:"shader-particle-force",meta:{name:"粒子斥力(shader绘制)",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-7pl_MY-w.js"),__vite__mapDeps([128,127,80,58,35]))},{path:"shader-voronoi-when-polar",meta:{name:"极坐标下的泰森图",visable:!0,type:"shader"},component:()=>lt(()=>import("./index-CBImuuV5.js"),__vite__mapDeps([129,127,80,58,35]))}]},o3={class:"h-full flex justify-center items-center"},a3=en("h1",{class:"text-6xl"},"NOT FOUND",-1),l3=[a3],u3=Ho({__name:"NotFound",setup(h){return(e,r)=>(fn(),kn("div",o3,l3))}}),c3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABcVBMVEUAAAD////+/v4BAQHIyMghISECAgJ0dHR6enre3t4EBAQDAwPX19fi4uKmpqaAgIDQ0NA7OzsGBgYRERG1tbWVlZXV1dVzc3OCgoJmZmb39/cWFhZlZWU/Pz+xsbGFhYWOjo6KiopsbGx7e3uYmJhgYGCNjY0PDw8tLS0oKChbW1txcXEXFxfExMTS0tL9/f3s7OyoqKirq6va2tpNTU3t7e1/f38FBQWtra1MTExFRUWjo6MjIyNUVFTMzMzJycltbW3h4eEeHh5CQkLKysp+fn53d3cyMjLl5eX5+fm+vr4vLy/R0dELCwvY2NgJCQlfX19paWk5OTkAAAD///8BAQECAgIMDAwmJib+/v7f399qampXV1cODg79/f3Nzc3AwMBra2u6urqwsLAGBgb09PSKiooWFhYZGRnExMQ3NzfX19eampqQkJBkZGSOjo7o6OhoaGgjIyOcnJwEBAT6+vp5eXni4uJmZmYDAwNdXV0Lv2DMAAAAU3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/kc3SeAAAAFISURBVHhetZPFkuswFET72g4zDDMzMzPje5KDMMzM8PXj8caJ7UxWOVp0laoXqqN7URimkj/B1FaeLEJBBmRdQXuU/Jv1DUwhoj0yG5sN8PYANRUwx1JahepyYKTTxIPoUuLugZX4WPLt1OhBRus50CYxyZ+iLuCyDBGdh+BxLVB3VklcAtY+miDrClY26m70cBJ4GM3+NEQTDy1EcaIMkdvoIdreEbt4fuRcEOKcH6Rjlu5ojoclcoR7iQQFoj4i6qcBZCGqMag01DM0rF7meHBaGbtKJDhRhvMX9uoc+9LPw/f4BCa5QHxq2jNj/E2L9AlgltMcn0dw4clQWAwxK7wlhwKOlgGcrEA2eli1I7UOthFyQQ6YzMP1DWO3m2D3yZyh1bBvAds+YGd3Dxo6F459AP/+Q0M3cu+Bv/dCLP5eGLPw8hbkB8nyeaUUhyruAAAAAElFTkSuQmCC",d3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACW1BMVEUAAAD///8CAgIPDw8BAQF1dXVsbGwLCwujo6NeXl43NzesrKzPz8+EhIQSEhIDAwNpaWnFxcXo6OhbW1vf398VFRU/Pz+YmJiXl5e7u7uUlJTi4uI2Njbn5+ccHBzQ0NApKSkwMDBSUlKDg4MeHh65ubmlpaVQUFB/f3+dnZ04ODgFBQUICAgtLS1XV1eqqqpRUVHd3d2Li4tOTk6GhobZ2dn8/Pz9/f14eHhaWlq3t7cHBweoqKgMDAzX19c7OztfX19FRUW+vr7s7OwvLy8KCgohISF5eXnU1NR6enqRkZF2dnbAwMB9fX1jY2Ourq6Ojo7g4OAQEBD09PSwsLANDQ0ZGRnIyMjS0tK4uLhdXV1KSkrl5eVnZ2fW1tZvb29NTU2FhYXw8PBUVFQUFBRAQEAuLi49PT3z8/PHx8cRERGnp6fExMTY2Nj39/cjIyNGRkbMzMxcXFyBgYGenp68vLyQkJC0tLQrKysJCQkbGxsODg5gYGCampp7e3s6Ojr5+fnOzs6/v78XFxdPT0/GxsampqbT09MgICAGBga2trYlJSU5OTm1tbWkpKQyMjKgoKDKyspwcHAkJCQYGBiSkpIAAAABAQERERE4ODhZWVkbGxtycnJlZWVTU1MUFBRISEiAgIBEREShoaEzMzNqamqXl5cmJibBwcHFxcWOjo5NTU0WFhYJCQkxMTGWlpYtLS2ZmZkvLy80NDSHh4fd3d1oaGgCAgILCwtUVFSUlJTDw8NiYmJYWFjGxsY7OzvExMRKSkoTExOKioqQkJCwsLC1tbU9PT3m5uZ5kJL/AAAAlnRSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v6TC5kUAAAB5klEQVR4XqWTU5MkURSE81ZV0zbGto21bdu2bfP0GEvbNn7WRk/09lRXd0w/7PeQFRmnHu7NmwcACGEIkPrIl/okjk8MESikFFIQST3EcBgIxXA1FDwHKIYCECCC+jRvhJaaZgH6ss8w5ogG9O/UzebWgut56NS2VDNd+BYiJQUyfg27W4THqa8b0idRMDJCWGVjk15ukm/JzVK9HaQqyYEgzWHIGH9jXYYDKeWDK4qVPGKZnW3xsSqoKxdp5dKgOHr29KbRd2v0nfvUMeU20NL27kl0UGkjR3lcQGaqTGkDxrnSx6f1h0Gon0aECRNvQGauuAryTi588DApeWrkNRdMn2Ga6QiwL845c0vmzb9XzEwLNR7r4sgPS+xLS5ctX7Hy0Srl6jVr5S/WmauK1m+Q+8V96P5YtlFNcDOWBdpcbpP0QUC+M9sOzqhJ2boN4LfXuHdE9yFIRLa695Xf6fefzPadu7p6rxEX3Yfde/aqAmwf9rMD1oM8wBkgRkD1ofzDJnYEyqPWY8fdQEwfTpysdz4/ZYHrtOyV13Mmpg9BMjh0b8724NyH85+SS71x+nDhouGr5hsu/cBPXchL+8AX2tFq4cBfRlvNFYQHImp5ILdWEADoC/SIC/efixOfxMubcP3/Anriqm2DBhxnAAAAAElFTkSuQmCC",h3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAChVBMVEUAAAD///8BAQECAgIDAwPExMS+vr4ZGRmxsbHLy8uampoSEhLIyMhnZ2eXl5dOTk7e3t4mJiY1NTVMTEwwMDCwsLAfHx9WVlYMDAzo6Oinp6cgICBmZmbPz8+EhISCgoKfn58LCwshISFCQkLf399VVVW4uLgkJCTFxcVFRUUJCQlNTU2pqakjIyMUFBTw8PCYmJiFhYWUlJRqampISEg4ODgPDw91dXU0NDSdnZ0RERGzs7OKiopERERubm7y8vKMjIzHx8fQ0NAODg6mpqY3NzeDg4OIiIjz8/Ovr6/V1dVYWFjg4OAuLi6Pj4+Li4vk5OQyMjJ/f3+srKyZmZlkZGTn5+dHR0eWlpZsbGwHBwcTExNJSUnGxsZKSkopKSnp6ekGBgYvLy/t7e3a2trJycksLCwtLS29vb1fX1+1tbWrq6scHBxTU1N6enphYWHc3Ny8vLwoKCiSkpJXV1fj4+P9/f1vb29BQUFoaGjx8fG6uroQEBDs7OwNDQ2BgYGTk5M6OjqOjo5lZWV9fX3b29srKyt7e3s8PDz6+vo9PT2qqqoEBAS/v79dXV0+Pj7R0dEWFhZ4eHgFBQUiIiKgoKAqKiptbW3v7+/Dw8N2dnZAQEBwcHAKCgoAAABDQ0Ojo6MODg4KCgoBAQFdXV03NzdISEgJCQlaWlq4uLgMDAxRUVE1NTXb29vDw8OJiYlFRUXJyckbGxtSUlIfHx97e3s4ODhoaGiNjY0aGhpYWFiFhYUSEhLOzs4oKCgUFBQVFRVAQEC7u7vv7+/y8vLMzMwDAwOenp6SkpIICAhXV1cjIyP6+vo6Ojqnp6dycnLq6uocHBxsbGw5OTm+vr6dnZ0CAgJ4QJ/JAAAAnnRSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/hQHg5sAAAH/SURBVHherZPTzyVBFMSru+can23b1tq2bdu2bZ7PXtu2/fdsOneSmdn7sA+7v3Q/VKWS6pOcxn+DyFt7G1wKoWpjXD1jfRyAZcJdVWsBmeEgBE+qgsPZ7xZA9dI24hfCMSsAPYPKFY44Q4Gnorq1rbnbEkRdJ6KYGuLS1wK1dXjU+rjZ1B+2Jnr1uuNnLeChx3o3hmYgplPWqK5jcreVqzNpj2x7mrqjsXPfhBFdStDhDkDtDuimqAdR6U3KquzN2HxkVte6Xl48rC9Quj8gLE0d59drRR/bsFOJ4QPu1xk6MPBhTW4UY2zQYAxhLAh4/801DzqU4QtGZo9mOaVAsC/LQ8F4uz0QHAYmxjI3JkOZkjh12vQZxjGUmf6z58wNMDuFNIsYy4ktW1isT1gXLY4UiGYhUixbXrjSZ5XZFAqN+CcErF7D1gJIYsnrUr4TT9sAHTfubczbtNnXumVrxXbGnPkvGoz7YPnxs+QC7XTBxiLhf+kyrlxNMOxD6DUCmqzYtTusyL2H7Ba6vbdYC6gDmZL27T9QmXHwUETBESDu6B/7cOzZc2o8jhMnqeXN27B35PF1gdMfWuijGYFl1PCJznz5qgY0IrIhKpIRnYn8cIiUdOgggOQ9a4rHuUKktavaa+3Pp0MAAvRLtXRIxeURAlxI/fev969w2SaA33EEtXR/l4bfAAAAAElFTkSuQmCC",f3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA51BMVEUAAAD////+/v4CAgIDAwMHBwc8PDzn5+ddXV1eXl7d3d1QUFBOTk79/f27u7vIyMiGhobu7u4BAQH6+vr5+fnl5eWNjY07OzuVlZUFBQWRkZH///8CAgIAAAABAQH+/v78/Pz9/f0EBAT4+PgGBgb5+fn6+vqqqqoFBQX7+/sDAwMKCgrLy8uJiYlLS0vi4uIHBwdUVFQyMjIhISHh4eF6enpnZ2eTk5P09PRjY2OOjo7m5uZHR0fr6+sgICANDQ3p6eksLCyFhYXT09PMzMwZGRmSkpIYGBjc3Nz19fVzc3OVlZWZmZkfCldNAAAAG3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7Q4gSTAAABRUlEQVR4Xo1Th3KsMAyUufTe20o2XC3pvfee9/7/ewIaLh4Dk8tio5G17KyNRSSUzhQaNIo+uqJRcoJ4CP28iwqaBgolhMsSRBnp19inZQ+Wu9ZKPfQQ2js+uT4TFo9AwfblCsBNqBBk2xdI0Am/9iZrRONmNjJzNMo0QHAOY/uubRCZifwcCoTJKSB2GfC2N22tP2qdVlZdCwokAE7FeoNEGWEGDnAuHS7uNT5Ku6jTDhQODgl2PSH30KV5LevAghzYogfSekaIcShc+t1Hi5FWYaKGkaXyNrG8oiYRmQTn1PTbzAmXxvTaTm30WlgTKSj0ZX3jNlNwEQCYO/EKHvcPCWJ0Hp+eX14lh784RJvyDoMtTTmdVbcanxAWZq681RkBX2QH7CqFf/+bHHZHSOiKsP2tcSzXuKpxfCylw1vvD909BN+Y2FBm4NfNwQAAAABJRU5ErkJggg==",p3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABWVBMVEUAAAD///8BAQECAgIDAwP9/f0FBQUGBgb8/Pzx8fEEBAT6+vp3d3cICAj39/cHBwcUFBRAQECHh4eysrLb29u3t7cJCQkNDQ3p6elYWFidnZ3+/v5ra2vX19eurq4tLS1ycnIoKCgsLCzJycny8vLc3NwKCgovLy9vb29ZWVl8fHyXl5eLi4sTExMhISG/v799fX3v7+9CQkJGRkYrKyv4+PjPz8/5+flqamoZGRkgICAbGxtmZmbU1NSoqKjLy8vHx8fr6+tdXV1/f3/e3t6hoaE2NjakpKTR0dGvr6+WlpY1NTVzc3Pm5uY3Nzft7e0fHx++vr5kZGRSUlLw8PA9PT3o6OgaGhqQkJAXFxdXV1cAAAD///8CAgIBAQEcHBwLCwv7+/u5ubnX19d8fHz29vYICAjh4eEkJCSXl5cDAwO2trZhYWEFBQUqKioEBAT39/dBQUEPDw8QXwTDAAAAW3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+yyiEIQAAAXhJREFUeF6tkwWP4zAUhGdsB8tdZsZjZmZmfE6X6RD+P5ySNlI3aVWddJ8URSPZmYnePAASP+krp3sjh29IVuOf0OiKKOyfGodpnlpeEQVpzyDSkB87nEkyRJPck5j2DLGY4ACMMnhHXpXsLwogs4X5KpSHo7w7FCFrIfJTHnATu7L0i08kylkoCJ6Sq5gqc7ppiRxF+pwLuLCIDMrEwkOdjk8yOIYYUzJpBqOPfzvStzVKx9LaMXviZO336TPrgNdoGZ0NznH4fIF0SPICEwJehEoDXlq7XJIrtT7rjPn+Bq9d37hx0966jQiH53/HOgU6diDVoWRGVSede+R9uBXPdd1Qq/Y+REDZPhR5ZB9Dd+qDQb/Dalga5LOhzl14zhcvYTRe8TVUhz6sDXMUIRTe8O3gl9ywIvlqOdLs5Htu5/ugcVAutr48wv58H7T6/gEVDUBpFD9K1iJBmcSiYZDtQ3b+SqW6J/9r9dweyxapT5//dFl/7f0FEbdYPB/yQuAAAAAASUVORK5CYII=",m3={class:"w-full h-full"},Lg=1e4,uo=1e3,g3=Ho({__name:"SnowyBg",setup(h){const{random:e}=Math,r=Gi(),t=Gi();let o,l,s,n,i;const u=new tr,f=[],m=new Float32Array(Lg*3),a=new Vj,c=a.load(c3),d=a.load(d3),p=a.load(h3),g=a.load(f3),y=a.load(p3),v=[[[1,.2,.5],d,20],[[.95,.1,.5],p,15],[[.9,.05,.5],c,10],[[.85,0,.5],y,8],[[.8,0,.5],g,5]];let _=0,x=0;fh(()=>{M(),T(),P()});function w(){const L=Date.now()*5e-5;n.position.x+=(_-n.position.x)*.05,n.position.y+=(-x-n.position.y)*.05,n.lookAt(s.position);for(let N=0;N<s.children.length;N++){const O=s.children[N];O instanceof yg&&(O.rotation.y=L*(N<4?N+1:-(N+1)))}for(let N=0;N<f.length;N++){const O=v[N][0],k=360*(O[0]+L)%360/360;f[N].color.setHSL(k,O[1],O[2])}}function E(L){L.isPrimary&&(_=L.clientX-o/2,x=L.clientY-l/2)}function T(){for(let L=0;L<Lg;L++)m[L*3]=e()*(2*uo)-uo,m[L*3+1]=e()*(2*uo)-uo,m[L*3+2]=e()*(2*uo)-uo;u.setAttribute("position",new Jr(m,3));for(let L=0;L<v.length;L++){const N=v[L][0],O=v[L][1],k=v[L][2];f[L]=new fv({color:new Lt().setHSL(N[0],N[1],N[2]),size:k,map:O,blending:kd,depthTest:!1,transparent:!0});const X=new yg(u,f[L]);X.rotation.set(e()*6,e()*6,e()*6),s.add(X)}}function M(){s=new ij;const{width:L,height:N}=t.value.getBoundingClientRect();o=L,l=N,n=new hn(75,o/l,1,2e3),n.position.z=1e3,i=new uv({canvas:r.value,antialias:!0}),i.setSize(o,l),i.setPixelRatio(window.devicePixelRatio),s.add(new qj(4210752))}let j=0;function P(){w(),i.render(s,n),j=requestAnimationFrame(P)}return ph(()=>{cancelAnimationFrame(j)}),(L,N)=>(fn(),kn("div",m3,[en("div",{ref_key:"canvasCon",ref:t,class:"w-full h-full",onPointermove:E},[en("canvas",{ref_key:"canvasDom",ref:r,class:"block w-full h-full"},null,512)],544)]))}}),y3={class:"bg-#b4286c relative w-full h-full overflow-hidden flex justify-center items-center"},v3={class:"w-full h-full absolute p-y-4rem z-2 overflow-y-scroll"},_3={class:"list-wrap"},b3=["onClick"],x3={class:"link"},w3=Ho({__name:"Home",setup(h){const e=Gi([]);e.value.push(...Nv.map(t=>({type:"",groupTitle:t.meta.name,links:t.children.reduce((l,s)=>(s.meta.visable&&l.push({isOut:!1,title:s.meta.name,path:`${t.path}/${s.path}`}),l),[])}))),e.value.push(M3.reduce((t,o)=>(o.meta.visable&&t.links.push({isOut:!0,title:o.meta.name,path:o.path}),t),{type:"outlink",groupTitle:"外链",links:[]}));function r(t){const{isOut:o,path:l}=t;if(o){window.open(l,"_blank");return}const s=Uv.resolve({path:l});window.open(s.href,"_blank")}return(t,o)=>(fn(),kn("div",y3,[Rr(g3,{class:"snowBg absolute z-1 top-0 left-0 pointer-events-none"}),en("div",v3,[(fn(!0),kn(Qr,null,dd(e.value,(l,s)=>(fn(),kn("div",{key:s,class:"nav-item"},[en("h1",null,Nf(l.groupTitle),1),en("div",_3,[(fn(!0),kn(Qr,null,dd(l.links,(n,i)=>(fn(),kn("div",{key:i,class:"link-wrap",onClick:u=>r(n)},[en("span",x3,Nf(n.title),1)],8,b3))),128))])]))),128))])]))}}),S3=vh(w3,[["__scopeId","data-v-32fc3db4"]]),M3=[{path:"https://yufengjie97.github.io/learning-phaser/#/flappyBird",meta:{type:"outlink",name:"像素鸟(phaser)",visable:!0}},{path:"https://codepen.io/Megalovania/pen/ZEVdJmL",meta:{type:"outlink",name:"排序可视化",visable:!0}},{path:"https://codepen.io/Megalovania/pen/XWOdXxZ",meta:{type:"outlink",name:"电流",visable:!0}},{path:"https://codepen.io/Megalovania/pen/wvRvWdZ",meta:{type:"outlink",name:"生命游戏",visable:!1}},{path:"https://codepen.io/Megalovania/pen/JjeaOJv",meta:{type:"outlink",name:"gsap动画",visable:!1}},{path:"https://codepen.io/Megalovania/pen/mdQqgdv",meta:{type:"outlink",name:"css 3D swiper",visable:!0}},{path:"https://www.shadertoy.com/view/dlGfDt",meta:{type:"outlink",name:"shader-noise-point",visable:!0}},{path:"https://www.shadertoy.com/view/lcfGzH",meta:{type:"outlink",name:"shader-domainWraping",visable:!1}},{path:"https://www.shadertoy.com/view/mtVBDD",meta:{type:"outlink",name:"shader-loading",visable:!0}},{path:"https://www.shadertoy.com/view/dtGBzy",meta:{type:"outlink",name:"shader-loading2",visable:!0}},{path:"https://www.shadertoy.com/view/mlKBzh",meta:{type:"outlink",name:"sdf_box_noise",visable:!0}},{path:"https://www.shadertoy.com/view/4cfGDH",meta:{type:"outlink",name:"shader-kunkun",visable:!0}}],E3={path:"/",meta:{name:"home",visable:!1},component:S3},T3={path:"/:path(.*)",meta:{name:"notfound",visable:!1},component:u3},Nv=[Ix,kx,n3,r3,s3,i3],Uv=Lx({history:Xb("/nova/"),routes:[E3,...Nv,T3]});bb(Fs).use(Uv).mount("#app");export{tr as $,Zi as A,aC as B,Xa as C,P3 as D,O3 as E,Qr as F,ph as G,Zj as H,iC as I,Yj as J,xh as K,Kj as L,lC as M,Lt as N,rC as O,hn as P,qj as Q,Ae as R,ij as S,Dl as T,el as U,nt as V,uv as W,tC as X,Bn as Y,kd as Z,vh as _,Zl as a,F3 as a$,Jr as a0,U3 as a1,fv as a2,yg as a3,Wh as a4,hv as a5,W3 as a6,qi as a7,_v as a8,bv as a9,I3 as aA,q3 as aB,B3 as aC,Ar as aD,zh as aE,cv as aF,K3 as aG,$h as aH,Y3 as aI,nC as aJ,eC as aK,X3 as aL,qh as aM,oj as aN,iv as aO,bt as aP,is as aQ,v2 as aR,Is as aS,J3 as aT,$0 as aU,Vj as aV,Bd as aW,z3 as aX,Un as aY,H3 as aZ,Q3 as a_,Kh as aa,xv as ab,G3 as ac,ja as ad,Ev as ae,Tv as af,vv as ag,Av as ah,Vh as ai,Yo as aj,jv as ak,Cv as al,Jh as am,Pv as an,Lv as ao,Rv as ap,Dv as aq,V3 as ar,ni as as,Z3 as at,L3 as au,Wo as av,k3 as aw,N3 as ax,Ja as ay,$3 as az,wn as b,dv as b0,nr as b1,sC as b2,D3 as b3,oC as b4,F_ as b5,j3 as b6,Wl as c,Ho as d,kn as e,en as f,Xj as g,F1 as h,Tu as i,fh as j,dd as k,Ey as l,B1 as m,qa as n,fn as o,Cg as p,Rr as q,Gi as r,K_ as s,Nf as t,A3 as u,U1 as v,C3 as w,Y_ as x,Z_ as y,R3 as z};
