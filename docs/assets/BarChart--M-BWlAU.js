import{d as f,c as A,y as x,b as n,e as t,F as h,i as m,u as y,z as B,A as k,t as d,n as u,s as b,v as C,o as c,_ as S,r as I,k as g}from"./index-d425_xPA.js";const w=s=>(b("data-v-268b34c6"),s=s(),C(),s),F={class:"barChart"},M={class:"chartCon"},N=["onMousemove"],z={class:"titleCon"},D=w(()=>t("div",{class:"point"},null,-1)),V={class:"val"},E={class:"childCon"},L=w(()=>t("div",{class:"point"},null,-1)),X={class:"val"},Y=f({__name:"BarChart",props:{dataArr:null},setup(s){const r=s,p=["#00b894","#00cec9","#0984e3","#6c5ce7","#b2bec3","#fdcb6e","#e17055","#d63031","#e84393","#2d3436"],_=A(()=>{const i=r.dataArr.reduce((e,o)=>({val:e.val+o.val}),{val:0}).val;return r.dataArr.map((e,o)=>(e.total=i,e.ratio=Number.parseFloat((e.val/e.total).toFixed(3)),e.color=p[o%p.length],e))}),a=x({isShow:!1,pos:{top:0,left:0},name:"",ratio:0,childs:[],color:"#fff"});function $(i,e){const o=r.dataArr[i];a.isShow=!0,a.name=o.name,a.ratio=o.ratio,a.childs=o.childs;const{clientX:l,clientY:v}=e;a.pos.top=v+15,a.pos.left=l+15,a.color=o.color}return(i,e)=>(c(),n("div",F,[t("div",M,[(c(!0),n(h,null,m(y(_),(o,l)=>(c(),n("div",{key:l,class:"item",style:u({background:o.color,width:`${o.ratio*100}%`}),onMousemove:v=>$(l,v),onMouseout:e[0]||(e[0]=v=>a.isShow=!1)},d(o.name),45,N))),128))]),B(t("div",{class:"pop",style:u({top:`${a.pos.top}px`,left:`${a.pos.left}px`,"--color":a.color})},[t("div",z,[D,t("div",V,d(a.name)+" "+d(a.ratio*100)+"% ",1)]),t("div",E,[(c(!0),n(h,null,m(a.childs,(o,l)=>(c(),n("div",{key:l,class:"child"},[L,t("div",X,d(o.name)+"--"+d(o.val),1)]))),128))])],4),[[k,a.isShow]])]))}}),j=S(Y,[["__scopeId","data-v-268b34c6"]]),q=s=>(b("data-v-95be7b7c"),s=s(),C(),s),G={class:"viewCon"},H=q(()=>t("h1",null,"鼠标移入查看详细信息",-1)),J=f({__name:"BarChart",setup(s){const r=I([{name:"村东头菜市场",val:800,childs:[{name:"黄瓜",val:11},{name:"西红柿",val:11},{name:"茄子",val:11},{name:"土豆",val:11}]},{name:"就坑你大酒店",val:200,childs:[{name:"黄瓜",val:110},{name:"西红柿",val:110},{name:"茄子",val:110},{name:"土豆",val:110}]},{name:"大学城",val:900,childs:[{name:"黄瓜",val:121},{name:"西红柿",val:131},{name:"茄子",val:11},{name:"土豆",val:11}]},{name:"狗剩批发超市",val:400,childs:[{name:"黄瓜",val:115},{name:"西红柿",val:151},{name:"茄子",val:111},{name:"土豆",val:121}]}]);return(p,_)=>(c(),n("div",G,[H,g(j,{dataArr:r.value},null,8,["dataArr"])]))}}),O=S(J,[["__scopeId","data-v-95be7b7c"]]);export{O as default};
