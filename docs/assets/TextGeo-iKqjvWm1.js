import{d as Q,b as L,e as Y,o as Z,c as ee,a as E,G as ne,O as D,M as k,a4 as te,ak as oe,A as ie,S as ae,C as se,al as re,P as le,V as de,W as ce,am as he,af as fe,_ as ue}from"./index-242-C2dX.js";import{S as me}from"./stats.module-nRd2dy6L.js";import{F as we,f as pe,T as ve}from"./TextGeometry-voaafcIu.js";import{G as ge}from"./dat.gui.module-PWGADmkp.js";const xe={class:"viewCon"},be=Q({__name:"TextGeo",setup(Se){const{PI:g,random:H,floor:Ce}=Math,y=L(),M=L();let r=window.innerWidth,c=window.innerHeight,x,o,l,u,b,m="Hello three.js!",z,i,S=0,G=0,s,C,w,h,p,P=40,v;function W(e){let t=e.key;console.log(t),t==="Backspace"?m=m.slice(0,-1):m+=t,a()}function A(){let e=H()*100;v.color.setHSL(e,1,.5)}let n={changeColor:function(){A()},fontSize:50,height:6,curveSegments:1,bevelEnabled:!0,bevelThickness:4,bevelSize:3.2,bevelSegments:1};function R(){const e=new ge({width:300});e.add(n,"changeColor").name("randomColor").listen(),e.add(n,"fontSize",20,100,1).onFinishChange(t=>{P=t*.8,a()}),e.add(n,"height",1,30,1).onFinishChange(a),e.add(n,"curveSegments",1,10,1).onFinishChange(a),e.add(n,"bevelEnabled").onChange(a),e.add(n,"bevelThickness",1,10,1).onFinishChange(a),e.add(n,"bevelSize",.1,5,.1).onFinishChange(a),e.add(n,"bevelSegments",1,10,1).onFinishChange(a)}function a(){i.remove(w),i.remove(h),T()}let _=!1;function I(e){_=!0,G=e.clientX}function U(e){_&&(S=(e.clientX-G)/b*g*.04)}function O(){_=!1,S=0}function V(){const e=new we;return new Promise((t,f)=>{e.load(pe,function(d){t(d)},void 0,function(d){f(d)})})}function T(){var f,d,B;i=new ne,o.add(i),s=new ve(m,{font:z,size:n.fontSize,height:n.height,curveSegments:n.curveSegments,bevelEnabled:n.bevelEnabled,bevelThickness:n.bevelThickness,bevelSize:n.bevelSize,bevelSegments:n.bevelSegments}),C=[new D({color:16777215,flatShading:!0}),new D({color:16777215})],w=new k(s,C),i.add(w),s.computeBoundingBox();const e=-.5*(((f=s.boundingBox)==null?void 0:f.max.x)-((d=s.boundingBox)==null?void 0:d.min.x)),t=((B=s.boundingBox)==null?void 0:B.min.y)+P;w.position.set(e,t,0),h=new k(s,C),h.position.set(e,-t,0),h.rotation.x=-g,i.add(h)}function X(){p=new k(new te(1e4,1e4),new oe({color:16777215,opacity:.5,transparent:!0})),p.position.y=0,p.rotation.x=-g/2,o.add(p)}function j(){x=me(),M.value.append(x.dom)}function q(){o.add(new ie(1e3))}function J(){r=window.innerWidth,c=window.innerHeight,b=r/2,l.aspect=r/c,l.updateProjectionMatrix(),u.setSize(r,c)}function N(){o=new ae,o.background=new se(0),o.fog=new re(0,250,1400),l=new le(75,r/c,1,4e3),l.position.set(0,100,300),l.lookAt(new de(0,50,0)),u=new ce({canvas:y.value,antialias:!0}),u.setSize(r,c),window.addEventListener("resize",J)}function $(){const e=new he(16777215,.125);e.position.set(0,-100,1).normalize(),o.add(e),v=new fe(7101671,1.5),v.position.set(0,-100,90),o.add(v)}function K(){i.rotation.y=i.rotation.y+S}function F(){requestAnimationFrame(F),x.update(),K(),u.render(o,l)}return Y(async()=>{document.addEventListener("keydown",W),b=window.innerWidth/2,N(),R(),$(),q(),j(),z=await V(),T(),X(),F()}),(e,t)=>(Z(),ee("div",xe,[E("div",{class:"canvasCon",ref_key:"canvasCon",ref:M},[E("canvas",{class:"canvas",ref_key:"canvasDom",ref:y,onPointerdown:I,onPointermove:U,onPointerup:O},null,544)],512)]))}}),ze=ue(be,[["__scopeId","data-v-ce59d162"]]);export{ze as default};
