var N=Object.defineProperty;var S=(r,e,o)=>e in r?N(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var s=(r,e,o)=>(S(r,typeof e!="symbol"?e+"":e,o),o);import{C as A}from"./Card.5b4532ff.js";import{P as M}from"./P5Con.281729c3.js";import{p as h}from"./p5.min.d6393d3c.js";import{n as T}from"./noise.16e764ed.js";import{d as j,c as E,e as _,w as $,o as q,_ as D}from"./index.ab4aeb8f.js";class G{constructor(e,o){s(this,"position");s(this,"size");s(this,"vec");this.position=e,this.size=o,this.vec=new h.Vector(0,0)}update(e){this.vec.set(e.x,e.y)}}class J{constructor(e){s(this,"$p");s(this,"prevPos",new h.Vector(0,0));s(this,"pos",new h.Vector(0,0));s(this,"rangeWidth",100);s(this,"rangeHeight",100);s(this,"vel",new h.Vector(0,0));s(this,"acc",new h.Vector(0,0));s(this,"maxSpeed",4);s(this,"r",1);s(this,"color","red");s(this,"h",0);this.$p=e.$p,this.rangeWidth=e.rangeWidth,this.rangeHeight=e.rangeHeight,this.pos=e.position,this.prevPos=this.pos.copy(),e.r&&(this.r=e.r),e.color&&(this.color=e.color)}draw(e=!0){e?(this.$p.stroke(this.h,255,255,30),this.h=this.h+1,this.h>255&&(this.h=0)):this.$p.stroke(this.color),this.$p.strokeWeight(this.r),this.$p.line(this.pos.x,this.pos.y,this.prevPos.x,this.prevPos.y)}update(){this.edges(),this.updatePrev(),this.vel.add(this.acc),this.vel.limit(this.maxSpeed),this.pos.add(this.vel),this.acc.mult(0)}applyForce(e){this.acc.add(e)}updatePrev(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}edges(){this.pos.x>this.rangeWidth&&(this.pos.x=0,this.updatePrev()),this.pos.x<0&&(this.pos.x=this.rangeWidth,this.updatePrev()),this.pos.y>this.rangeHeight&&(this.pos.y=0,this.updatePrev()),this.pos.y<0&&(this.pos.y=this.rangeHeight,this.updatePrev())}}const K={class:"flowFieldLine2 h-full flex justify-center items-center"},O=j({__name:"FlowFieldLine2",setup(r){const{random:e,floor:o,ceil:Q,cos:R,sin:U,PI:y}=Math;let d=800,a=600,l=40,w=a/l,f=a/l,F=w*f,g=[],P=y*8,c=[],m=500,b=.1,C=.1,V=3e-4,v=0,k=!0;function H(){for(let t=0;t<d;t+=l)for(let i=0;i<a;i+=l)g.push(new G({x:t,y:i},l))}function W(){let t=0;for(let i=0;i<w;i++){t+=b,v+=V;let u=0;for(let n=0;n<f;n++){u+=C;let x=T(t,u,v)*P,p=h.Vector.fromAngle(x),L=n+i*f;g[L].update(p)}}}function z(t){let i=0;for(;i<m;)c.push(new J({$p:t,rangeWidth:d,rangeHeight:a,position:new h.Vector(e()*d,e()*a),r:2,color:"rgba(0, 0, 0, 0.25)"})),i++}function I(){let t=0;for(;t<m;){let{x:i,y:u}=c[t].pos,n=o(i/l),p=o(u/l)*f+n;p>=0&&p<F&&c[t].applyForce(g[p].vec),c[t].update(),c[t].draw(k),t++}}function B(t){t.setup=function(){t.createCanvas(d,a),t.background("rgba(0,0,0,0.5)"),t.colorMode(t.HSB,255),H(),z(t)},t.draw=function(){W(),I()}}return(t,i)=>(q(),E("div",K,[_(A,{class:"card",bgColor:"transparent"},{default:$(()=>[_(M,{sketch:B})]),_:1})]))}});const ie=D(O,[["__scopeId","data-v-354b3bc6"]]);export{ie as default};
