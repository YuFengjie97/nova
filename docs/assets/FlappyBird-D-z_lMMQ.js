var V=Object.defineProperty;var W=(r,e,a)=>e in r?V(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a;var o=(r,e,a)=>(W(r,typeof e!="symbol"?e+"":e,a),a);import{d as D,r as v,e as N,f as p,q as z,C as g,D as b,A as F,t as M,o as U,_ as q}from"./index-BO-XTyUX.js";import{P as A}from"./P5-RhKFErAM.js";import{a as m}from"./p5.min-CSTknFkb.js";const E="/nova/assets/gameover-MU4fuh4x.png",G={class:"viewCon"},I={class:"canvasCon"},L=["src"],O={class:"score"},T={class:"info"},j=D({__name:"FlappyBird",setup(r){const{floor:e,min:a}=Math,u=v(!1),w=v(0),_=v(!1);let t,c=800,i=800,h,l=[],y=2,x=6,C=new m.Vector(0,.2);class k{constructor(n){o(this,"top");o(this,"bottom");o(this,"w");o(this,"x");o(this,"c","#0984e3");o(this,"cross",!1);this.top=e(t.random(60,i/2)),this.bottom=e(t.random(60,i/2)),this.w=e(t.random(30,70)),this.x=n}show(){t.noStroke(),t.fill(this.c),t.rect(this.x,0,this.w,this.top,0,0,this.w/2,this.w/2),t.rect(this.x,i-this.bottom,this.w,this.bottom,this.w/2,this.w/2,0,0)}update(){this.outCanvas(),this.x-=y}outCanvas(){this.x<-50&&(this.x=c,this.w=e(t.random(30,70)),this.c="#0984e3",this.cross=!1)}birdHit(n){let{pos:{x:d,y:f}}=n;d>=this.x&&d<=this.x+this.w&&(f<=this.top||f>=i-this.bottom)&&(this.c="#d63031",u.value=!0)}birdCross(n){if(this.cross)return;let{pos:{x:d,y:f}}=n;d>this.x+this.w&&(this.cross=!0,w.value++)}}class B{constructor(){o(this,"pos",new m.Vector(40,i/2));o(this,"vel",new m.Vector(0,1));o(this,"d",20)}show(){t.fill("#fdcb6e"),t.circle(this.pos.x,this.pos.y,this.d)}up(){this.vel.set(0,-4)}update(){this.pos.y+this.d/2>i?(this.vel.mult(0),this.pos.set(this.pos.x,i-this.d/2)):this.vel.add(C),this.pos.y<this.d/2&&(this.pos.y=this.d/2),this.pos.add(this.vel)}}function P(){for(let s=0;s<x;s++)l.push(new k(c+s*(c/x)))}function H(){for(let s=0;s<l.length;s++)l[s].birdHit(h),l[s].birdCross(h),l[s].update(),l[s].show()}function S(s){t=s,t.setup=function(){i=c=a(innerWidth,innerHeight),innerWidth<800?(t.createCanvas(innerWidth,innerHeight),c=innerWidth,i=innerHeight):t.createCanvas(c,i),h=new B,P(),setTimeout(()=>{_.value=!0},5e3)},t.draw=function(){t.touches.length>0&&h.up(),u.value||(t.background(50),h.update(),h.show(),H())},t.keyPressed=function(){t.keyCode===32&&h.up()}}return(s,n)=>(U(),N("div",G,[p("div",I,[z(A,{sketch:S}),g(p("img",{class:"gameover",src:F(E)},null,8,L),[[b,u.value]]),p("div",O,"Score: "+M(w.value),1),g(p("div",T,"Use space/touch to fly",512),[[b,!_.value]])])]))}}),X=q(j,[["__scopeId","data-v-a3304756"]]);export{X as default};
