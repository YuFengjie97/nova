import{C as v}from"./Card-D76Pik8w.js";import{P as E}from"./P5Con-DJd9bvJN.js";import{d as b,e as S,q as W,s as M,o as N}from"./index-CqfaNC88.js";import"./p5.min-WfQBoNak.js";const R={class:"viewCon",style:{height:"100%"}},e=20,z="#c0392b",A="#55efc4",B="#34495e",J=b({__name:"Maze",setup(C){const{floor:f,random:$}=Math;let d=0,g=0,c=0,p=0,h=[];class m{constructor(t,i,l){this.$p=t,this.x=i,this.y=l,this.isWall=[!0,!0,!0,!0],this.visited=!1}getNeighbor(){let t=[],i=[[0,1],[0,-1],[1,0],[-1,0]];for(let l=0;l<4;l++){let[u,y]=i[l],r=this.x+u,n=this.y+y;r<0||r>=c||n<0||n>=p||h[r][n].visited||t.push(h[r][n])}return t.length>0?t[f($()*t.length)]:null}highlight(){this.$p.fill(A),this.$p.noStroke(),this.$p.rect(this.x*e,this.y*e,e,e)}draw(){let t=this.x*e+2,i=this.y*e+2;this.$p.stroke(z),this.$p.strokeWeight(4),this.$p.strokeCap(this.$p.SQUARE),this.$p.strokeJoin(this.$p.MITER),this.isWall[0]&&this.$p.line(t,i,t+e,i),this.isWall[1]&&this.$p.line(t+e,i,t+e,i+e),this.isWall[2]&&this.$p.line(t+e,i+e,t,i+e),this.isWall[3]&&this.$p.line(t,i+e,t,i),this.visited&&(this.$p.noStroke(),this.$p.fill(B),this.$p.rect(t,i,e,e))}}function x(s){h=[];for(let t=0;t<c;t++){let i=[];for(let l=0;l<p;l++){const u=new m(s,t,l);i.push(u)}h.push(i)}}function w(s,t){let i=t.x-s.x,l=t.y-s.y;i>0?(s.isWall[1]=!1,t.isWall[3]=!1):i<0&&(s.isWall[3]=!1,t.isWall[1]=!1),l>0?(s.isWall[2]=!1,t.isWall[0]=!1):l<0&&(s.isWall[0]=!1,t.isWall[2]=!1)}let a=[],o;function _(s){d=s.width,g=s.height,c=f(d/e),p=f(g/e),s.frameRate(60),x(s),a.push(h[0][0])}function k(){if(h.forEach(s=>{s.forEach(t=>{t.draw()})}),a.length>0){o=a.pop(),o.highlight(),o.visited=!0;const s=o.getNeighbor();s&&(a.push(o),w(o,s),s.visited=!0,a.push(s))}}return(s,t)=>(N(),S("div",R,[W(v,null,{default:M(()=>[W(E,{setup:_,draw:k})]),_:1})]))}});export{J as default};
