import{c as B}from"./simplex-noise-CoJLqHZY.js";import"./p5.min-5fbo9jiI.js";import{v as M,i as D}from"./color-62uIJhqK.js";import{d as N,r as m,C as R,h as j,o as A,b as E,e as b}from"./index-Qb02CAS_.js";import"./math-xGOdA9b-.js";const F="/nova/assets/disco_kim-GV8PQNt_.jpg",K=N({__name:"canvasPoint",setup(V){const f=m(),s=m(),r=m(),k=B(),y=D([.5,0,.5],[.5,0,.5],[.5,0,.5],[0,0,.5]);let u=0;return R(()=>{cancelAnimationFrame(u)}),j(async()=>{var w,_;const{width:d}=f.value.getBoundingClientRect(),i=(w=s.value)==null?void 0:w.getContext("2d"),c=(_=r.value)==null?void 0:_.getContext("2d"),e=Math.floor(d/2);function x(){return new Promise(n=>{const t=new Image;t.src=F,t.onload=()=>{const a=t.height/t.width,o=Math.floor(e*a);s.value.width=e,s.value.height=o,r.value.width=e,r.value.height=o,i.drawImage(t,0,0,e,o),n(o)}})}const h=await x(),l=i.getImageData(0,0,e,h).data,g=6,p=[];for(let n=0;n<h;n+=g)for(let t=0;t<e;t+=g){const a=(n*e+t)*4,o=l[a]/255,P=l[a+1]/255,C=l[a+2]/255;.299*o+.578*P+.114*C>.4&&p.push({x:t,y:n})}function I(){const n=performance.now()/1e3;c.clearRect(0,0,e,e),p.forEach(({x:t,y:a})=>{c.fillStyle=M(y(k(t*.005,a*.001,n))),c.beginPath(),c.arc(t,a,2,0,Math.PI*2),c.fill()})}function v(){I(),u=requestAnimationFrame(v)}v()}),(d,i)=>(A(),E("div",{ref_key:"con",ref:f,class:"w-full min-h-full bg-#000 flex items-center justify-center"},[b("canvas",{ref_key:"canvas",ref:s,class:"block w-30%"},null,512),b("canvas",{ref_key:"canvas2",ref:r,class:"block w-30%"},null,512)],512))}});export{K as default};
