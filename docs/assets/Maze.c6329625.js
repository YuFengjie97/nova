var S=Object.defineProperty;var C=(n,o,a)=>o in n?S(n,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[o]=a;var c=(n,o,a)=>(C(n,typeof o!="symbol"?o+"":o,a),a);import{C as N}from"./Card.9ad018c2.js";import{P as R}from"./P5Con.1aaef413.js";import{d as j,c as A,e as m,w as B,o as I,_ as P}from"./index.879fec0e.js";import"./p5.min.4f8d41f2.js";const J={class:"maze flex justify-center items-center"},Q=j({__name:"Maze",setup(n){const{floor:o,random:a}=Math;let _=820,x=620;const e=20,g=o(_/e)-1,W=o(x/e)-1;let r=[];const v="#222f3e",y="#c0392b",$="#55efc4",k="#34495e";class w{constructor(t,s,l){c(this,"$p");c(this,"x");c(this,"y");c(this,"isWall");c(this,"visited");this.$p=t,this.x=s,this.y=l,this.isWall=[!0,!0,!0,!0],this.visited=!1}getNeighbor(){let t=[],s=[[0,1],[0,-1],[1,0],[-1,0]];for(let l=0;l<4;l++){let[u,M]=s[l],p=this.x+u,d=this.y+M;p<0||p>=g||d<0||d>=W||r[p][d].visited||t.push(r[p][d])}return t.length>0?t[o(a()*t.length)]:null}highlight(){this.$p.fill($),this.$p.noStroke(),this.$p.rect(this.x*e,this.y*e,e,e)}draw(){let t=this.x*e+2,s=this.y*e+2;this.$p.stroke(y),this.$p.strokeWeight(4),this.$p.strokeCap(this.$p.SQUARE),this.$p.strokeJoin(this.$p.MITER),this.isWall[0]&&this.$p.line(t,s,t+e,s),this.isWall[1]&&this.$p.line(t+e,s,t+e,s+e),this.isWall[2]&&this.$p.line(t+e,s+e,t,s+e),this.isWall[3]&&this.$p.line(t,s+e,t,s),this.visited&&(this.$p.noStroke(),this.$p.fill(k),this.$p.rect(t,s,e,e))}}function b(i){r=[];for(let t=0;t<g;t++){let s=[];for(let l=0;l<W;l++){const u=new w(i,t,l);s.push(u)}r.push(s)}}function z(i,t){let s=t.x-i.x,l=t.y-i.y;s>0?(i.isWall[1]=!1,t.isWall[3]=!1):s<0&&(i.isWall[3]=!1,t.isWall[1]=!1),l>0?(i.isWall[2]=!1,t.isWall[0]=!1):l<0&&(i.isWall[0]=!1,t.isWall[2]=!1)}let f=[],h;function E(i){i.setup=function(){i.createCanvas(_,x),i.background(v),i.frameRate(60),b(i),f.push(r[0][0])},i.draw=function(){if(r.forEach(t=>{t.forEach(s=>{s.draw()})}),f.length>0){h=f.pop(),h.highlight(),h.visited=!0;const t=h.getNeighbor();t&&(f.push(h),z(h,t),t.visited=!0,f.push(t))}}}return(i,t)=>(I(),A("div",J,[m(N,{class:"card"},{default:B(()=>[m(R,{sketch:E})]),_:1})]))}});const q=P(Q,[["__scopeId","data-v-5b8fc3f1"]]);export{q as default};
