import{d as f,b as w,z as A,e as l,f as e,A as B,F as u,k as _,B as x,t as c,n as h,o as n,_ as b,r as S,q as $}from"./index-CqfaNC88.js";const k={class:"barChart"},y={class:"chartCon"},g=["onMousemove"],F={class:"titleCon"},M={class:"val"},N={class:"childCon"},z={class:"val"},D=f({__name:"BarChart",props:{dataArr:{}},setup(p){const r=p,m=["#00b894","#00cec9","#0984e3","#6c5ce7","#b2bec3","#fdcb6e","#e17055","#d63031","#e84393","#2d3436"],d=w(()=>{const i=r.dataArr.reduce((a,s)=>({val:a.val+s.val}),{val:0}).val;return r.dataArr.map((a,s)=>(a.total=i,a.ratio=Number.parseFloat((a.val/a.total).toFixed(3)),a.color=m[s%m.length],a))}),o=A({isShow:!1,pos:{top:0,left:0},name:"",ratio:0,childs:[],color:"#fff"});function C(i,a){const s=r.dataArr[i];o.isShow=!0,o.name=s.name,o.ratio=s.ratio,o.childs=s.childs;const{clientX:t,clientY:v}=a;o.pos.top=v+15,o.pos.left=t+15,o.color=s.color}return(i,a)=>(n(),l("div",k,[e("div",y,[(n(!0),l(u,null,_(d.value,(s,t)=>(n(),l("div",{key:t,class:"item",style:h({background:s.color,width:`${s.ratio*100}%`}),onMousemove:v=>C(t,v),onMouseout:a[0]||(a[0]=v=>o.isShow=!1)},c(s.name),45,g))),128))]),B(e("div",{class:"pop",style:h({top:`${o.pos.top}px`,left:`${o.pos.left}px`,"--color":o.color})},[e("div",F,[a[1]||(a[1]=e("div",{class:"point"},null,-1)),e("div",M,c(o.name)+" "+c(o.ratio*100)+"% ",1)]),e("div",N,[(n(!0),l(u,null,_(o.childs,(s,t)=>(n(),l("div",{key:t,class:"child"},[a[2]||(a[2]=e("div",{class:"point"},null,-1)),e("div",z,c(s.name)+"--"+c(s.val),1)]))),128))])],4),[[x,o.isShow]])]))}}),I=b(D,[["__scopeId","data-v-268b34c6"]]),V={class:"viewCon"},q=f({__name:"BarChart",setup(p){const r=S([{name:"村东头菜市场",val:800,childs:[{name:"黄瓜",val:11},{name:"西红柿",val:11},{name:"茄子",val:11},{name:"土豆",val:11}]},{name:"就坑你大酒店",val:200,childs:[{name:"黄瓜",val:110},{name:"西红柿",val:110},{name:"茄子",val:110},{name:"土豆",val:110}]},{name:"大学城",val:900,childs:[{name:"黄瓜",val:121},{name:"西红柿",val:131},{name:"茄子",val:11},{name:"土豆",val:11}]},{name:"狗剩批发超市",val:400,childs:[{name:"黄瓜",val:115},{name:"西红柿",val:151},{name:"茄子",val:111},{name:"土豆",val:121}]}]);return(m,d)=>(n(),l("div",V,[d[0]||(d[0]=e("h1",null,"鼠标移入查看详细信息",-1)),$(I,{dataArr:r.value},null,8,["dataArr"])]))}}),L=b(q,[["__scopeId","data-v-95be7b7c"]]);export{L as default};
