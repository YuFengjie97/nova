import{d as w,r as d,j as g,e as m,f as t,A as c,B as i,i as f,o as D,_ as x}from"./index-CqfaNC88.js";import"./p5.min-WfQBoNak.js";import{m as C}from"./audio-sugarCrush-1d8eZUIK.js";class y{constructor(l,a=512){const r=window.AudioContext;this.fftSize=a,this.ctx=new r,this.source=null,this.audioDom=l,this.analyser=this.ctx.createAnalyser(),this.analyser.fftSize=a,this.updateSource();const o=this.analyser.frequencyBinCount;this.dataArray=new Uint8Array(o)}updateSource(){this.ctx.createMediaElementSource(this.audioDom).connect(this.analyser),this.analyser.connect(this.ctx.destination)}getAudioData(){return this.analyser.getByteFrequencyData(this.dataArray),this.dataArray}}const _="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M885.16%20648.57c0%2055.97-60.82%2091.05-109.33%2063.06l-118.29-68.29-118.29-68.29-18.28-10.45V459.38l18.28-10.45%20118.29-68.29%20118.29-68.29c48.51-27.99%20109.33%207.09%20109.33%2063.06v273.16z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M520.93%20648.57c0%2055.97-60.82%2091.05-108.96%2063.06l-118.66-68.29-118.29-68.29c-48.14-27.99-48.14-98.14%200-126.12l118.29-68.29%20118.66-68.29c48.14-27.99%20108.96%207.09%20108.96%2063.06v273.16z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",B="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20884.78c-205.88%200-372.78-166.9-372.78-372.78s166.9-372.78%20372.78-372.78S883.69%20306.12%20883.69%20512s-166.9%20372.78-372.78%20372.78z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M514.59%20383.77c-26.84-15.66-59.27-15.66-86.11%200-26.84%2015.66-42.87%2043.24-42.87%2074.56V583.2c0%2030.94%2016.03%2058.9%2042.87%2074.56%2013.42%207.83%2028.33%2011.56%2042.87%2011.56%2014.91%200%2029.45-3.73%2042.87-11.56l108.11-62.25c26.84-15.66%2042.87-43.24%2042.87-74.56%200.75-31.31-15.28-59.27-42.5-74.93l-108.11-62.25z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",S="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20885.15c-206.08%200-373.15-167.06-373.15-373.15s167.06-373.15%20373.15-373.15S884.05%20305.92%20884.05%20512%20716.99%20885.15%20510.91%20885.15z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M464.24%20398.93c0-17.91-7.46-25-26.49-25h-48.51c-19.03%200-26.49%207.09-26.49%2025v226.13c0%2017.91%207.46%2025%2026.49%2025h48.14c19.4%200%2026.87-7.09%2026.87-25V398.93zM661.22%20398.93c0-17.91-7.46-25-26.49-25h-48.14c-19.03%200-26.49%207.09-26.49%2025v226.13c0%2017.91%207.46%2025%2026.49%2025h48.14c19.03%200%2026.49-7.09%2026.49-25V398.93z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",A="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M510.91%20885.15c-206.08%200-373.15-167.06-373.15-373.15s167.06-373.15%20373.15-373.15S884.05%20305.92%20884.05%20512%20716.99%20885.15%20510.91%20885.15z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M557.88%20669.84c61.94%200%20111.94-50%20111.94-111.94v-91.8c0-61.94-50-111.94-111.94-111.94h-91.79c-61.94%200-111.94%2050-111.94%20111.94v91.79c0%2061.94%2050%20111.94%20111.94%20111.94h91.79z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",F="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.85%20648.57c0%2055.97%2060.82%2091.05%20109.33%2063.06l118.29-68.29%20118.29-68.29%2018.29-10.45V459.38l-18.29-10.45-118.29-68.29-118.29-68.29c-48.51-27.99-109.33%207.09-109.33%2063.06v273.16z'%20fill='%23A4D4FF'%20/%3e%3cpath%20d='M503.04%20648.57c0%2055.97%2060.82%2091.05%20108.96%2063.06l118.66-68.29%20118.29-68.29c48.14-27.99%2048.14-98.14%200-126.12l-118.29-68.29L612%20312.35c-48.14-27.99-108.96%207.09-108.96%2063.06v273.16z'%20fill='%232B8CF7'%20/%3e%3c/svg%3e",z={class:"con"},V={class:"houtui",src:_},G={class:"tingzhi",src:A},T={class:"kuaijin",src:F},M=w({__name:"AudioController",props:{showStop:{type:Boolean,default:!1},showForward:{type:Boolean,default:!1},showBackward:{type:Boolean,default:!1},audioSrc:{default:C},fftSize:{default:512}},emits:["backward","play","pause","stop","forward","initAudioAnalyser"],setup(h,{emit:l}){const a=h,r=l;let o;const n=d(!1),e=d(),p=d(!1);function u(){var s;n.value=!0,(s=e.value)==null||s.play(),o||(o=new y(e.value,a.fftSize),r("initAudioAnalyser",o))}function v(){var s;n.value=!1,(s=e.value)==null||s.pause()}return g(()=>{e.value&&(e.value.src=a.audioSrc,e.value.oncanplay=function(){p.value=!0})}),(s,E)=>(D(),m("div",z,[t("div",{class:f(["audioControlCon",{disable:!p.value}])},[c(t("img",V,null,512),[[i,s.showBackward]]),c(t("img",{class:"bofang",src:B,onClick:u},null,512),[[i,!n.value]]),c(t("img",{class:"zanting",src:S,onClick:v},null,512),[[i,n.value]]),c(t("img",G,null,512),[[i,s.showStop]]),c(t("img",T,null,512),[[i,s.showForward]])],2),t("audio",{ref_key:"audioDom",ref:e,loop:""},null,512)]))}}),I=x(M,[["__scopeId","data-v-d756832c"]]);export{I as A};
