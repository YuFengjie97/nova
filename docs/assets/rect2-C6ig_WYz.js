import{c as k}from"./chroma-DCKfFEcf.js";import{a as C}from"./simplex-noise-BtZ5wMFy.js";import{i as S}from"./audio2-Bh-ajUVZ.js";import{m as q}from"./audio-sugarCrush-1d8eZUIK.js";import{i as I}from"./initStats-C5VNgmNK.js";import"./p5.min-B-rUit5K.js";import{d as z,r,h as D,b as E,e as h,t as F,o as M,_ as N}from"./index-B4Kd1SlF.js";import"./_commonjsHelpers-BosuxZz1.js";const t=800,v=100,i=512,P=100,R=z({__name:"rect2",setup(T){C();const{min:y,max:$,PI:U,sin:V,cos:j,atan:G,random:H,abs:J,sqrt:K,floor:L}=Math,n=r(),a=r();let l;t/v,t/v;const _=i/2,g=["#d63031","#81ecec","#fdcb6e"];k.scale(g);const x=new Uint8Array(_);let s;const{audio:o,getAnalyser:b}=S(q,i),c=r(!1);function w(){o.paused?(o.play(),c.value=!0,s||(s=b().analyser)):(o.pause(),c.value=!1)}const u=[];return D(()=>{const{stats:f}=I(n.value),{width:p,height:A}=n.value.getBoundingClientRect(),d=y(p,A);a.value.width=t,a.value.height=t,a.value.style.cssText=`width:${d}px;height:${d}px`,l=a.value.getContext("2d");function B(){for(let e=0;e<i/2;e++);}B();function m(){l.clearRect(0,0,t,t),f.update(),u.forEach(e=>{e.update(),e.draw()}),requestAnimationFrame(m)}m(),setInterval(()=>{s&&s.getByteFrequencyData(x),u.forEach(e=>e.updateTarget())},P)}),(f,p)=>(M(),E("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[h("div",{class:"bt",onClick:w},F(c.value?"pause":"play"),1),h("canvas",{ref_key:"canvas",ref:a,class:"canvas",width:"400",height:"400"},null,512)],512))}}),ae=N(R,[["__scopeId","data-v-85bc8b97"]]);export{ae as default};
