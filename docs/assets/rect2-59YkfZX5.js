import{c as B}from"./chroma-4JohwW4J.js";import{a as k}from"./simplex-noise-CoJLqHZY.js";import{i as C}from"./audio2-GAo0SpJu.js";import{m as q}from"./audio-sugarCrush-sMDL0Z2H.js";import{i as I}from"./initStats-fFfChxOg.js";import"./p5.min-d3cgC_sk.js";import{d as S,r,h as D,o as E,b as z,e as h,t as F,_ as M}from"./index-Nwgo__yj.js";const N=S({__name:"rect2",setup(P){k();const{min:v,max:R,PI:T,sin:$,cos:U,atan:V,random:j,abs:G,sqrt:H,floor:J}=Math,n=r(),e=r();let i;const a=800,l=512,y=l/2,_=100,g=["#d63031","#81ecec","#fdcb6e"];B.scale(g);const x=new Uint8Array(y);let t;const{audio:o,getAnalyser:b}=C(q,l),c=r(!1);function w(){o.paused?(o.play(),c.value=!0,t||(t=b().analyser)):(o.pause(),c.value=!1)}const u=[];return D(()=>{const{stats:f}=I(n.value),{width:d,height:A}=n.value.getBoundingClientRect(),p=v(d,A);e.value.width=a,e.value.height=a,e.value.style.cssText=`width:${p}px;height:${p}px`,i=e.value.getContext("2d");function m(){i.clearRect(0,0,a,a),f.update(),u.forEach(s=>{s.update(),s.draw()}),requestAnimationFrame(m)}m(),setInterval(()=>{t&&t.getByteFrequencyData(x),u.forEach(s=>s.updateTarget())},_)}),(f,d)=>(E(),z("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[h("div",{class:"bt",onClick:w},F(c.value?"pause":"play"),1),h("canvas",{ref_key:"canvas",ref:e,class:"canvas",width:"400",height:"400"},null,512)],512))}}),Z=M(N,[["__scopeId","data-v-85bc8b97"]]);export{Z as default};
