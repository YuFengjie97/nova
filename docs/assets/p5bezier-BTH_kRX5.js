import{a as s}from"./p5.min-4aqVLu6D.js";const y=[.2,.1,.05,.04,.02,.01,.008,.002,.001,5e-4,1e-4];let l,o,c,d,b,u,_,w,p;function E(e,h=!1){if(l=e,o=l.drawingContext,s&&e instanceof s.Graphics)b=!0,c=o.constructor.name==="WebGLRenderingContext"?3:2,u=l.beginShape,_=l.vertex,w=l.vertex,p=l.endShape;else if(s&&e instanceof s.Renderer||e.drawingContext)!s||s&&!(e instanceof s.Renderer)?(window.console.warn("[p5.bezier] Support for non-p5 canvas is not tested."),c=e.isP3D?3:2):c=o.constructor.name==="WebGLRenderingContext"?3:2,b=!1,c=o.constructor.name==="WebGLRenderingContext"?3:2,u=o.beginPath.bind(o),_=o.moveTo.bind(o),w=o.lineTo.bind(o),p=o.closePath.bind(o);else throw new Error("[p5.bezier] Canvas is not supported.");d=h}function P(e,h="OPEN",g=6){if(d&&!Array.isArray(e))throw new Error(`[p5.bezier] newBezier() function expects an array, got ${typeof e}.`);const x=y[g];if(c!==0){if(d){for(let f of e)if(!Array.isArray(e)||f.length!==c)throw new Error("[p5.bezier] One or more points in the array are not input correctly.")}h==="CLOSE"&&e.push(e[0]);let t=e.length-1;if(u(),_(...e[0]),c===2){let f,a,n,r;for(n=0;n<=1;n+=x){for(f=0,a=0,r=0;r<=t;r++)f+=i(t)/(i(r)*i(t-r))*Math.pow(1-n,t-r)*Math.pow(n,r)*e[r][0],a+=i(t)/(i(r)*i(t-r))*Math.pow(1-n,t-r)*Math.pow(n,r)*e[r][1];w(f,a)}w(...e.slice(-1)[0])}else if(c===3){let f=[0,0,0],a,n,r;for(a=0;a<=1;a+=x){for(f=[0,0,0],n=0;n<=t;n++)for(r=0;r<3;r++)f[r]+=i(t)/(i(n)*i(t-n))*Math.pow(1-a,t-n)*Math.pow(a,n)*e[n][r];w(...f)}w(...e.slice(-1)[0])}if(b)p(h);else if(h==="CLOSE")p();else if(d&&h!=="OPEN")throw new Error("[p5.bezier] Close type error. A bezier curve can only be either OPEN or CLOSE.");z();return}}function i(e){return e>1?e*i(e-1):1}function z(){l._doFill&&o.fill(),l._doStroke&&o.stroke()}export{E as i,P as n};
