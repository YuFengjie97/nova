import{c as M}from"./simplex-noise-CoJLqHZY.js";import{m as N}from"./math-gP5oIIAK.js";import{d as P,r as C,C as S,h as B,o as F,b as A,e as w,_ as V}from"./index-ZaEf4npp.js";const $={class:"w-full min-h-full bg-#000 flex flex-col items-center gap-10px"},j=P({__name:"CanvasTextPoint",setup(q){const{PI:y}=Math,b=M();let c;const f=C();let e,s;const h=C();let l;const T="Verdana",d=100,k=`弱水三千
我只取一尿饮`;let m=[];function D(){f.value&&(c=f.value.getContext("2d"),e=f.value),h.value&&(s=h.value.getContext("2d"),l=h.value)}function I(){const a=k.split(`
`),i=a.map(t=>t.length).reduce((t,o)=>o>t?o:t,0),r=d*i+100,n=a.length*d+100;e.width=r,e.height=n,l.width=r,l.height=n;const g=a.length;c.font=`${d}px ${T}`,c.fillStyle="#fff";for(let t=0;t<g;t++)c.fillText(a[t],0,(t+.8)*n/g);m=[];const _=6;if(r>0){const t=c.getImageData(0,0,e.width,e.height);for(let o=0;o<e.height;o+=_)for(let u=0;u<e.width;u+=_)t.data[(u+o*e.width)*4]>0&&m.push({x:u,y:o})}}function x(){const a=performance.now()/1e3;for(let i=0,r=m.length;i<r;i++){const n=m[i];s.fillStyle="#fff",s.beginPath(),s.arc(n.x,n.y,N(b(n.x,n.y,Math.sin(a)),-1,1,0,1)*4+1,0,y*2),s.fill()}}let p=0;function v(){s.clearRect(0,0,l.width,l.height),x(),p=requestAnimationFrame(v)}return S(()=>{cancelAnimationFrame(p)}),B(()=>{D(),I(),x(),v()}),(a,i)=>(F(),A("div",$,[w("canvas",{ref_key:"canvas",ref:f,class:"canvas"},null,512),w("canvas",{ref_key:"canvas2",ref:h,class:"canvas"},null,512)]))}}),R=V(j,[["__scopeId","data-v-17103b37"]]);export{R as default};
