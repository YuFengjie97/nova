import{c as B}from"./chroma-Jl_dHttK.js";import{a as k}from"./simplex-noise-CoJLqHZY.js";import{i as C}from"./audio2-GAo0SpJu.js";import{m as q}from"./audio-sugarCrush-sMDL0Z2H.js";import{i as I}from"./initStats-1oN1fAIq.js";import"./p5.min-8Dsz88oV.js";import{d as S,r,h as D,b as E,e as h,t as z,o as F,_ as M}from"./index-d425_xPA.js";import"./_commonjsHelpers-4gQjN7DL.js";const N=S({__name:"rect2",setup(P){k();const{min:v,max:R,PI:T,sin:$,cos:U,atan:V,random:j,abs:G,sqrt:H,floor:J}=Math,n=r(),e=r();let i;const t=800,l=512,y=l/2,_=100,g=["#d63031","#81ecec","#fdcb6e"];B.scale(g);const x=new Uint8Array(y);let a;const{audio:o,getAnalyser:b}=C(q,l),c=r(!1);function w(){o.paused?(o.play(),c.value=!0,a||(a=b().analyser)):(o.pause(),c.value=!1)}const u=[];return D(()=>{const{stats:f}=I(n.value),{width:p,height:A}=n.value.getBoundingClientRect(),d=v(p,A);e.value.width=t,e.value.height=t,e.value.style.cssText=`width:${d}px;height:${d}px`,i=e.value.getContext("2d");function m(){i.clearRect(0,0,t,t),f.update(),u.forEach(s=>{s.update(),s.draw()}),requestAnimationFrame(m)}m(),setInterval(()=>{a&&a.getByteFrequencyData(x),u.forEach(s=>s.updateTarget())},_)}),(f,p)=>(F(),E("div",{ref_key:"con",ref:n,class:"con w-full h-full bg-#000"},[h("div",{class:"bt",onClick:w},z(c.value?"pause":"play"),1),h("canvas",{ref_key:"canvas",ref:e,class:"canvas",width:"400",height:"400"},null,512)],512))}}),ee=M(N,[["__scopeId","data-v-85bc8b97"]]);export{ee as default};
