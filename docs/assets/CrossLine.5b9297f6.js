var S=Object.defineProperty;var V=(n,r,t)=>r in n?S(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var o=(n,r,t)=>(V(n,typeof r!="symbol"?r+"":r,t),t);import{P as y}from"./P5.38d9b595.js";import{p}from"./p5.min.b3008bde.js";import{d as C,c as I,e as L,o as g,_ as P}from"./index.21e0aca7.js";const j={class:"viewCon"},E=C({__name:"CrossLine",setup(n){const{floor:r}=Math;let t,h=600,a=40,d=r(h/a),_=3,v=["#ff2020","#ffa202","#fff000","#2ffd32","#342def","#7221fd","#9820fc"];function x(k){t=k;let l=[],c=[];function m(){for(let s=0;s<d;s++)l.push(new b(new p.Vector(-h-a*s,a*s),"horizontal",v[(s+1)%7])),c.push(new b(new p.Vector(a*s,-h-a*s),"vertical",v[(s+2)%7]))}function z(){for(let s=0;s<d;s++){l[s].update(),c[s].update();for(let e=0;e<d;e++)!l[s].isStop&&!c[s].isStop&&(l[s].blocks[e].update(),c[s].blocks[e].update()),l[s].blocks[e].zIndex===c[e].blocks[s].zIndex?(l[s].blocks[e].draw(),c[e].blocks[s].draw()):(c[e].blocks[s].draw(),l[s].blocks[e].draw())}}class w{constructor(e,f,u,i,B){o(this,"pos");o(this,"vel");o(this,"c");o(this,"zIndex");o(this,"dir");this.pos=e,this.vel=f,this.c=u,this.zIndex=i,this.dir=B}update(){this.pos.add(this.vel)}draw(){t.noStroke(),t.fill(this.c),t.rect(this.pos.x,this.pos.y,a,a)}}class b{constructor(e,f,u){o(this,"pos");o(this,"dir");o(this,"vel");o(this,"c");o(this,"blocks",[]);o(this,"isStop",!1);if(this.pos=e,this.dir=f,this.c=u,this.dir==="horizontal"){this.vel=new p.Vector(_,0);for(let i=0;i<d;i++)this.blocks.push(new w(new p.Vector(this.pos.x+i*a,this.pos.y),this.vel,u,i%2,f))}else{this.vel=new p.Vector(0,_);for(let i=0;i<d;i++)this.blocks.push(new w(new p.Vector(this.pos.x,this.pos.y+i*a),this.vel,u,i%2,f))}}update(){return this.dir==="horizontal"?this.pos.x<0?this.pos.add(this.vel):this.isStop=!0:this.pos.y<0?this.pos.add(this.vel):this.isStop=!0,this.isStop}}t.setup=function(){t.createCanvas(h,h),m()},t.draw=function(){t.background("#2d3436"),z()}}return(k,l)=>(g(),I("div",j,[L(y,{sketch:x})]))}});const D=P(E,[["__scopeId","data-v-a5f0b0aa"]]);export{D as default};
