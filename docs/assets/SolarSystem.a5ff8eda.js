var re=Object.defineProperty;var le=(v,h,g)=>h in v?re(v,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):v[h]=g;var d=(v,h,g)=>(le(v,typeof h!="symbol"?h+"":h,g),g);import{c as de,V as he,A as ce,S as pe,C as ue,P as we,W as me,a as fe,U as ge,a4 as be,G as ve,y as Ce,a5 as ye,e as Me,a6 as _e,g as xe,L as Se,a7 as Ge}from"./three.module.c94f3e3c.js";import{R as Pe,U as Re,E as He}from"./UnrealBloomPass.d4fbf360.js";import{G as Le}from"./dat.gui.module.5aaed78b.js";import{S as Be}from"./stats.module.f23e5c82.js";import{O as Ee}from"./OrbitControls.d920b2db.js";import{d as ze,b as j,h as Ae,c as Ve,a as D,o as We,_ as ke}from"./index.dd42b8fd.js";const Fe={class:"viewCon"},Ie=ze({__name:"SolarSystem",setup(v){const{random:h,PI:g,floor:Te,ceil:Ue,min:je,max:De,sin:Oe,cos:qe}=Math,H=j(),L=j();let y=window.innerWidth,M=window.innerHeight,S,x,c,w,b,_,m,B,p;Ae(()=>{Z(),q(),Q(),$(),ee(),X(),K(),U()});let o,E,z,G,A,V,W,k,F,I,T,i=20,u=10*i,f=20;const P=[];let t={vBase:.001,showHelper:!1,lightVisible:!0,lightColor:15158332,intensity:5,distance:2e3,decay:.5,exposure:1,bloomStrength:1.5,bloomThreshold:0,bloomRadius:0};function O(){let n=new Le({width:300});n.add(t,"showHelper").onChange(e=>{P.forEach(r=>r.visible=e)}),n.add(t,"vBase",0,.03,.001);const s=n.addFolder("light");s.open(),s.add(t,"lightVisible").onChange(e=>{p.visible=e}),s.addColor(t,"lightColor").onChange(e=>{p.color.setHex(e)}),s.add(t,"intensity",0,7,.1).onChange(e=>{p.intensity=e}),s.add(t,"distance",0,4e3,1).onChange(e=>{p.distance=e}),s.add(t,"decay",0,10,.1).onChange(e=>{p.decay=e});const a=n.addFolder("glow");a.open(),a.add(t,"exposure",0,10,.1).onChange(e=>{b.toneMappingExposure=Math.pow(e,4)}),a.add(t,"bloomStrength",0,10,.1).onChange(e=>{m.threshold=e}),a.add(t,"bloomThreshold",0,10,.1).onChange(e=>{m.strength=e}),a.add(t,"bloomRadius",0,10,.1).onChange(e=>{m.radius=e})}O();class l{constructor(s=!1,a,e,r,R,C){d(this,"isGlow");d(this,"group");d(this,"targetPlanet");d(this,"planetMesh");d(this,"oribitCurve");d(this,"oribitMesh");d(this,"oribitR");d(this,"t",0);d(this,"vRatio");this.isGlow=s,this.targetPlanet=C,this.group=new ve;let te=new Ce(a,128,128),ne=new ye({color:e});if(this.planetMesh=new Me(te,ne),this.planetMesh.layers.enable(0),this.group.add(this.planetMesh),this.t=h(),this.vRatio=R,C){this.oribitR=r;const{x:se,y:oe}=C==null?void 0:C.planetMesh.position;C.group.add(this.group),this.oribitCurve=new _e(se,oe,r,r,0,2*Math.PI,!0,0);let ie=new xe().setFromPoints(this.oribitCurve.getPoints(300)),ae=new Se({color:e});this.oribitMesh=new Ge(ie,ae),this.oribitMesh.layers.enable(0),this.oribitMesh.rotation.x=g/2,this.group.add(this.oribitMesh)}}planetMoveByCurve(){if(this.t>=1&&(this.t=0),this.targetPlanet){let{x:s,y:a,z:e}=this.targetPlanet.planetMesh.position;this.group.position.set(s,a,e),this.t+=this.vRatio*t.vBase;const{x:r,y:R}=this.oribitCurve.getPoint(this.t);this.planetMesh.position.set(r,0,R)}}}function q(){B=new Pe(c,w),m=new Re(new de(window.innerWidth,window.innerHeight),1.5,.4,.85),m.threshold=t.bloomThreshold,m.strength=t.bloomStrength,m.radius=t.bloomRadius,_=new He(b),_.addPass(B),_.addPass(m)}function N(){w.layers.set(1),_.render(),w.layers.set(0)}function $(){o=new l(!0,u,15158332,0,0),c.add(o.group),E=new l(!1,.5*i,1752220,u+2*f,4.1,o),z=new l(!1,i,15965202,u+6*f,1.6,o),G=new l(!1,i,3447003,u+12*f,1,o),V=new l(!1,.8*i,12597547,u+16*f,.5,o),W=new l(!1,.3*i,2600544,u+20*f,.08,o),k=new l(!1,5*i,9807270,u+30*f,.03,o),F=new l(!1,4*i,9323693,u+50*f,.01,o),I=new l(!1,3*i,3447003,u+60*f,.006,o),A=new l(!1,.2*i,15528177,1.4*i,2,G),T=[E,z,G,V,W,k,F,I,A]}function J(){T.forEach(n=>{n.planetMoveByCurve()})}function K(){S=Be(),L.value.append(S.dom)}function Q(){x=new Ee(w,b.domElement),x.target=new he(0,0,0),x.object.position.set(300,400,800),x.update()}function X(){let n=new ce(1600);n.visible=t.showHelper,P.push(n),c.add(n)}function Y(){y=window.innerWidth,M=window.innerHeight,w.aspect=y/M,w.updateProjectionMatrix(),b.setSize(y,M)}function Z(){c=new pe,c.background=new ue(0),w=new we(75,y/M,1,4e4),b=new me({canvas:H.value,antialias:!0}),b.setSize(y,M),window.addEventListener("resize",Y)}function ee(){const n=new fe(4210752);c.add(n),p=new ge(15158332,5,2e3,.5);let{x:s,y:a,z:e}=o.planetMesh.position;p.position.set(s,a,e),c.add(p);const r=new be(p,1600);r.visible=t.showHelper,P.push(r),c.add(r)}function U(){requestAnimationFrame(U),S.update(),J(),N(),b.render(c,w),_.render()}return(n,s)=>(We(),Ve("div",Fe,[D("div",{class:"canvasCon",ref_key:"canvasCon",ref:L},[D("canvas",{class:"canvas",ref_key:"canvasDom",ref:H},null,512)],512)]))}});const Ze=ke(Ie,[["__scopeId","data-v-7e6f646a"]]);export{Ze as default};
