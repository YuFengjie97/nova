var V=Object.defineProperty;var W=(n,e,a)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var o=(n,e,a)=>(W(n,typeof e!="symbol"?e+"":e,a),a);import{d as z,r as v,b as N,e as d,k as D,z as g,A as b,x as F,t as M,o as U,_ as A}from"./index-Ct6ceUkE.js";import{P as E}from"./P5-vRtyn_Ip.js";import{a as m}from"./p5.min-B-rUit5K.js";import"./_commonjsHelpers-BosuxZz1.js";const G="/nova/assets/gameover-MU4fuh4x.png",I={class:"viewCon"},L={class:"canvasCon"},O=["src"],T={class:"score"},j={class:"info"},q=z({__name:"FlappyBird",setup(n){const{floor:e,min:a}=Math,u=v(!1),w=v(0),_=v(!1);let t,c=800,i=800,h,l=[],y=2,x=6,C=new m.Vector(0,.2);class k{constructor(r){o(this,"top");o(this,"bottom");o(this,"w");o(this,"x");o(this,"c","#0984e3");o(this,"cross",!1);this.top=e(t.random(60,i/2)),this.bottom=e(t.random(60,i/2)),this.w=e(t.random(30,70)),this.x=r}show(){t.noStroke(),t.fill(this.c),t.rect(this.x,0,this.w,this.top,0,0,this.w/2,this.w/2),t.rect(this.x,i-this.bottom,this.w,this.bottom,this.w/2,this.w/2,0,0)}update(){this.outCanvas(),this.x-=y}outCanvas(){this.x<-50&&(this.x=c,this.w=e(t.random(30,70)),this.c="#0984e3",this.cross=!1)}birdHit(r){let{pos:{x:p,y:f}}=r;p>=this.x&&p<=this.x+this.w&&(f<=this.top||f>=i-this.bottom)&&(this.c="#d63031",u.value=!0)}birdCross(r){if(this.cross)return;let{pos:{x:p,y:f}}=r;p>this.x+this.w&&(this.cross=!0,w.value++)}}class B{constructor(){o(this,"pos",new m.Vector(40,i/2));o(this,"vel",new m.Vector(0,1));o(this,"d",20)}show(){t.fill("#fdcb6e"),t.circle(this.pos.x,this.pos.y,this.d)}up(){this.vel.set(0,-4)}update(){this.pos.y+this.d/2>i?(this.vel.mult(0),this.pos.set(this.pos.x,i-this.d/2)):this.vel.add(C),this.pos.y<this.d/2&&(this.pos.y=this.d/2),this.pos.add(this.vel)}}function P(){for(let s=0;s<x;s++)l.push(new k(c+s*(c/x)))}function H(){for(let s=0;s<l.length;s++)l[s].birdHit(h),l[s].birdCross(h),l[s].update(),l[s].show()}function S(s){t=s,t.setup=function(){i=c=a(innerWidth,innerHeight),innerWidth<800?(t.createCanvas(innerWidth,innerHeight),c=innerWidth,i=innerHeight):t.createCanvas(c,i),h=new B,P(),setTimeout(()=>{_.value=!0},5e3)},t.draw=function(){t.touches.length>0&&h.up(),u.value||(t.background(50),h.update(),h.show(),H())},t.keyPressed=function(){t.keyCode===32&&h.up()}}return(s,r)=>(U(),N("div",I,[d("div",L,[D(E,{sketch:S}),g(d("img",{class:"gameover",src:F(G)},null,8,O),[[b,u.value]]),d("div",T,"Score: "+M(w.value),1),g(d("div",j,"Use space/touch to fly",512),[[b,!_.value]])])]))}}),Y=A(q,[["__scopeId","data-v-a3304756"]]);export{Y as default};
