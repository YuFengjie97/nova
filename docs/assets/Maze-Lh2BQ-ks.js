var N=Object.defineProperty;var R=(a,o,h)=>o in a?N(a,o,{enumerable:!0,configurable:!0,writable:!0,value:h}):a[o]=h;var f=(a,o,h)=>(R(a,typeof o!="symbol"?o+"":o,h),h);import{C as z}from"./Card-ZmZwIrhG.js";import{P as A}from"./P5Con-In-ZZoEX.js";import{d as B,b as C,k as x,l as P,o as j}from"./index-d425_xPA.js";import"./p5.min-8Dsz88oV.js";import"./_commonjsHelpers-4gQjN7DL.js";const I={class:"viewCon",style:{height:"100%"}},Y=B({__name:"Maze",setup(a){const{floor:o,random:h}=Math;let $=0,m=0;const e=20;let d=0,W=0,r=[];const k="#c0392b",w="#55efc4",y="#34495e";class _{constructor(t,s,l){f(this,"$p");f(this,"x");f(this,"y");f(this,"isWall");f(this,"visited");this.$p=t,this.x=s,this.y=l,this.isWall=[!0,!0,!0,!0],this.visited=!1}getNeighbor(){let t=[],s=[[0,1],[0,-1],[1,0],[-1,0]];for(let l=0;l<4;l++){let[g,M]=s[l],p=this.x+g,u=this.y+M;p<0||p>=d||u<0||u>=W||r[p][u].visited||t.push(r[p][u])}return t.length>0?t[o(h()*t.length)]:null}highlight(){this.$p.fill(w),this.$p.noStroke(),this.$p.rect(this.x*e,this.y*e,e,e)}draw(){let t=this.x*e+2,s=this.y*e+2;this.$p.stroke(k),this.$p.strokeWeight(4),this.$p.strokeCap(this.$p.SQUARE),this.$p.strokeJoin(this.$p.MITER),this.isWall[0]&&this.$p.line(t,s,t+e,s),this.isWall[1]&&this.$p.line(t+e,s,t+e,s+e),this.isWall[2]&&this.$p.line(t+e,s+e,t,s+e),this.isWall[3]&&this.$p.line(t,s+e,t,s),this.visited&&(this.$p.noStroke(),this.$p.fill(y),this.$p.rect(t,s,e,e))}}function v(i){r=[];for(let t=0;t<d;t++){let s=[];for(let l=0;l<W;l++){const g=new _(i,t,l);s.push(g)}r.push(s)}}function b(i,t){let s=t.x-i.x,l=t.y-i.y;s>0?(i.isWall[1]=!1,t.isWall[3]=!1):s<0&&(i.isWall[3]=!1,t.isWall[1]=!1),l>0?(i.isWall[2]=!1,t.isWall[0]=!1):l<0&&(i.isWall[0]=!1,t.isWall[2]=!1)}let c=[],n;function E(i){$=i.width,m=i.height,d=o($/e),W=o(m/e),i.frameRate(60),v(i),c.push(r[0][0])}function S(){if(r.forEach(i=>{i.forEach(t=>{t.draw()})}),c.length>0){n=c.pop(),n.highlight(),n.visited=!0;const i=n.getNeighbor();i&&(c.push(n),b(n,i),i.visited=!0,c.push(i))}}return(i,t)=>(j(),C("div",I,[x(z,null,{default:P(()=>[x(A,{setup:E,draw:S})]),_:1})]))}});export{Y as default};
