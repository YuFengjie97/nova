import{S as g,E as b,P as x,W as C,G as S,H as v,I as A,h as E,C as z}from"./index-q23ke8Ly.js";import{O as L}from"./OrbitControls-0wjantKm.js";import{i as P}from"./initStats-p6DZ8mcn.js";function k(s,u=!1,l=!1,c=!1){const{width:h,height:w}=s.getBoundingClientRect(),o=document.createElement("canvas");s.append(o);const n=new g;n.background=new b(0);const e=new x(75,h/w,.1,2e3);e.position.set(0,0,10);const r=new C({canvas:o,antialias:!0});m();function m(){const{width:a,height:t}=s.getBoundingClientRect();o.style.cssText=`display: block; width: ${a}px;height: ${t}px`,e.aspect=a/t,e.updateProjectionMatrix(),r.setSize(a,t)}window.addEventListener("resize",m),u&&n.add(new S(1e3)),l&&n.add(new v(16777215));const{stats:p}=P(s);let i;c&&(i=new L(e,r.domElement),i.target=new A(0,0,0),i.object.position.set(0,0,1e3),i.update());function f(a=()=>{}){let t=0;function d(){t=requestAnimationFrame(d),p.update(),c&&i.update(),a(),r.render(n,e)}return E(()=>{d()}),z(()=>{cancelAnimationFrame(t)}),d}return{scene:n,camera:e,renderer:r,stats:p,renderWrap:f}}export{k as i};
