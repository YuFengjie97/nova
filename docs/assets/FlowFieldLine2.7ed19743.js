var M=Object.defineProperty;var S=(i,t,l)=>t in i?M(i,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[t]=l;var u=(i,t,l)=>(S(i,typeof t!="symbol"?t+"":t,l),l);import{C as T}from"./Card.efef61b3.js";import{P as E}from"./P5Con.a9d972e3.js";import{p as h}from"./p5.min.b26d854d.js";import{n as W}from"./noise.16e764ed.js";import{P as j}from"./color.f1a09d2a.js";import{d as q,c as D,e as y,w as G,o as J}from"./index.494fae8f.js";import"./math.c1d1c73e.js";class K{constructor(t,l){u(this,"position");u(this,"size");u(this,"vec");this.position=t,this.size=l,this.vec=new h.Vector(0,0)}update(t){this.vec.set(t.x,t.y)}}const O={class:"flowFieldLine2 viewCon"},ie=q({__name:"FlowFieldLine2",setup(i){const{random:t,floor:l,ceil:Q,cos:R,sin:U,PI:C}=Math;let n,s,r=40,w,a,F,m=[],P=C*8,c=[],x=500,v=.1,z=.1,B=3e-4,g=0,I=!0;function N(){for(let e=0;e<n;e+=r)for(let o=0;o<s;o+=r)m.push(new K({x:e,y:o},r))}function V(){let e=0;for(let o=0;o<w;o++){e+=v,g+=B;let p=0;for(let f=0;f<a;f++){p+=z;let _=W(e,p,g)*P,d=h.Vector.fromAngle(_),L=f+o*a;m[L].update(d)}}}function b(e){let o=0;for(;o<x;)c.push(new j({$p:e,rangeWidth:n,rangeHeight:s,position:new h.Vector(t()*n,t()*s),r:2,color:"rgba(0, 0, 0, 0.25)"})),o++}function k(){let e=0;for(;e<x;){let{x:o,y:p}=c[e].pos,f=l(o/r),d=l(p/r)*a+f;d>=0&&d<F&&c[e].applyForce(m[d].vec),c[e].update(),c[e].draw(I),e++}}function A(e){n=e.width,s=e.height,w=l(n/r),a=l(s/r),F=w*a,e.background("rgba(0,0,0,0.5)"),e.colorMode(e.HSB,255),N(),b(e)}function H(e){V(),k()}return(e,o)=>(J(),D("div",O,[y(T,{class:"card"},{default:G(()=>[y(E,{setup:A,draw:H})]),_:1})]))}});export{ie as default};
