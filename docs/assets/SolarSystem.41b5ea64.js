var ee=Object.defineProperty;var te=(w,a,d)=>a in w?ee(w,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):w[a]=d;var l=(w,a,d)=>(te(w,typeof a!="symbol"?a+"":a,d),d);import{S as ne,V as se,A as ie,a as oe,C as ae,P as re,W as le,b as he,X as pe,a5 as ce,G as de,z as ue,a6 as we,f as ve,a7 as me,h as fe,L as _e,a8 as Me}from"./stats.module.385e824e.js";import{G as be}from"./dat.gui.module.5aaed78b.js";import{O as ge}from"./OrbitControls.833dfa3f.js";import{d as Ce,b as I,h as ye,c as xe,a as j,o as Se,_ as Le}from"./index.78dc058f.js";const He={class:"viewCon"},Be=Ce({__name:"SolarSystem",setup(w){const{random:a,PI:d,floor:Ge,ceil:Pe,min:Ee,max:Re,sin:ze,cos:ke}=Math,S=I(),L=I();let v=window.innerWidth,m=window.innerHeight,C,g,h,f,_;ye(()=>{U(),q(),D(),X(),N(),O(),W()});let n,H,B,y,G,P,E,R,z,k,A,s=20,r=10*s,p=20;const x=[];let M={vBase:.001,showHelper:!1};function V(){let e=new be({width:300});e.add(M,"showHelper").onChange(o=>{x.forEach(c=>c.visible=o)}),e.add(M,"vBase",0,.03,.001)}V();class i{constructor(o,c,u,b,t){l(this,"group");l(this,"targetPlanet");l(this,"planetMesh");l(this,"oribitCurve");l(this,"oribitMesh");l(this,"oribitR");l(this,"t",0);l(this,"vRatio");this.targetPlanet=t,this.group=new de;let $=new ue(o,64,64),J=new we({color:c});if(this.planetMesh=new ve($,J),this.group.add(this.planetMesh),this.t=a(),this.vRatio=b,t){this.oribitR=u;const{x:K,y:Q}=t==null?void 0:t.planetMesh.position;t.group.add(this.group),this.oribitCurve=new me(K,Q,u,u,0,2*Math.PI,!0,0);let Y=new fe().setFromPoints(this.oribitCurve.getPoints(100)),Z=new _e({color:c});this.oribitMesh=new Me(Y,Z),this.oribitMesh.rotation.x=d/2,this.group.add(this.oribitMesh)}}planetMoveByCurve(){if(this.t>=1&&(this.t=0),this.targetPlanet){let{x:o,y:c,z:u}=this.targetPlanet.planetMesh.position;this.group.position.set(o,c,u),this.t+=this.vRatio*M.vBase;const{x:b,y:t}=this.oribitCurve.getPoint(this.t);this.planetMesh.position.set(b,0,t)}}}function D(){n=new i(r,15158332,0,0),h.add(n.group),H=new i(.5*s,1752220,r+2*p,4.1,n),B=new i(s,15965202,r+6*p,1.6,n),y=new i(s,3447003,r+12*p,1,n),P=new i(.8*s,12597547,r+16*p,.5,n),E=new i(.3*s,2600544,r+20*p,.08,n),R=new i(5*s,9807270,r+30*p,.03,n),z=new i(4*s,9323693,r+50*p,.01,n),k=new i(3*s,3447003,r+60*p,.006,n),G=new i(.2*s,15528177,1.4*s,2,y),A=[H,B,y,P,E,R,z,k,G]}function F(){A.forEach(e=>{e.planetMoveByCurve()})}function O(){C=ne(),L.value.append(C.dom)}function q(){g=new ge(f,_.domElement),g.target=new se(0,0,0),g.object.position.set(300,300,300),g.update()}function N(){let e=new ie(1600);e.visible=M.showHelper,x.push(e),h.add(e)}function T(){v=window.innerWidth,m=window.innerHeight,f.aspect=v/m,f.updateProjectionMatrix(),_.setSize(v,m)}function U(){h=new oe,h.background=new ae(0),f=new re(75,v/m,1,4e4),_=new le({canvas:S.value,antialias:!0}),_.setSize(v,m),window.addEventListener("resize",T)}function X(){const e=new he(4210752);h.add(e);const o=new pe(15158332,5,2e3,.5);let{x:c,y:u,z:b}=n.planetMesh.position;o.position.set(c,u,b),h.add(o);const t=new ce(o,1600);t.visible=M.showHelper,x.push(t),h.add(t)}function W(){requestAnimationFrame(W),C.update(),F(),_.render(h,f)}return(e,o)=>(Se(),xe("div",He,[j("div",{class:"canvasCon",ref_key:"canvasCon",ref:L},[j("canvas",{class:"canvas",ref_key:"canvasDom",ref:S},null,512)],512)]))}});const De=Le(Be,[["__scopeId","data-v-11619ee1"]]);export{De as default};
