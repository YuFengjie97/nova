var D=Object.defineProperty;var E=(l,e,i)=>e in l?D(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;var s=(l,e,i)=>(E(l,typeof e!="symbol"?e+"":e,i),i);import{C as U}from"./Card.97eb83b0.js";import{p as r,n as q}from"./p5.min.46365519.js";import{d as I,b as k,h as G,l as J,o as m,c as y,a as K,t as O,p as Q,_ as H,e as V,w as X}from"./index.a132610e.js";class Y{constructor(e,i){s(this,"position");s(this,"size");s(this,"vec");this.position=e,this.size=i,this.vec=new r.Vector(0,0)}update(e){this.vec.set(e.x,e.y)}}class Z{constructor(e){s(this,"$p");s(this,"prevPos",new r.Vector(0,0));s(this,"pos",new r.Vector(0,0));s(this,"rangeWidth",100);s(this,"rangeHeight",100);s(this,"vel",new r.Vector(0,0));s(this,"acc",new r.Vector(0,0));s(this,"maxSpeed",4);s(this,"r",1);s(this,"color","red");s(this,"h",0);this.$p=e.$p,this.rangeWidth=e.rangeWidth,this.rangeHeight=e.rangeHeight,this.pos=e.position,this.prevPos=this.pos.copy(),e.r&&(this.r=e.r),e.color&&(this.color=e.color)}draw(e=!0){e?(this.$p.stroke(this.h,255,255,30),this.h=this.h+1,this.h>255&&(this.h=0)):this.$p.stroke(this.color),this.$p.strokeWeight(this.r),this.$p.line(this.pos.x,this.pos.y,this.prevPos.x,this.prevPos.y)}update(){this.edges(),this.updatePrev(),this.vel.add(this.acc),this.vel.limit(this.maxSpeed),this.pos.add(this.vel),this.acc.mult(0)}applyForce(e){this.acc.add(e)}updatePrev(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}edges(){this.pos.x>this.rangeWidth&&(this.pos.x=0,this.updatePrev()),this.pos.x<0&&(this.pos.x=this.rangeWidth,this.updatePrev()),this.pos.y>this.rangeHeight&&(this.pos.y=0,this.updatePrev()),this.pos.y<0&&(this.pos.y=this.rangeHeight,this.updatePrev())}}const ee={class:"p5Container"},te={key:0,class:"framRate"},se=I({__name:"P5Con",props:{sketch:{type:Function,default:l=>{}},showFps:{type:Boolean,default:!0}},setup(l){const e=l,i=k();let c;const g=k(0);let u;return G(()=>{c=new r(e.sketch,i.value),e.showFps&&(u=setInterval(()=>{g.value=c.floor(c.frameRate())},1e3))}),J(()=>{c.remove(),u&&clearInterval(u)}),(x,h)=>(m(),y("div",ee,[K("div",{class:"p5Con",ref_key:"p5Con",ref:i},null,512),l.showFps?(m(),y("div",te,"fps: "+O(g.value),1)):Q("",!0)]))}});const ie=H(se,[["__scopeId","data-v-7ebbcf1f"]]),oe={class:"flowFieldLine2 h-full flex justify-center items-center"},le=I({__name:"FlowFieldLine2",setup(l){const{random:e,floor:i,ceil:c,cos:g,sin:u,PI:x}=Math;let h=800,n=600,a=40,F=n/a,_=n/a,W=F*_,w=[],B=x*8,p=[],P=500,N=.1,z=.1,S=3e-4,C=0,$=!0;function L(){for(let t=0;t<h;t+=a)for(let o=0;o<n;o+=a)w.push(new Y({x:t,y:o},a))}function M(){let t=0;for(let o=0;o<F;o++){t+=N,C+=S;let v=0;for(let d=0;d<_;d++){v+=z;let b=q(t,v,C)*B,f=r.Vector.fromAngle(b),j=d+o*_;w[j].update(f)}}}function R(t){let o=0;for(;o<P;)p.push(new Z({$p:t,rangeWidth:h,rangeHeight:n,position:new r.Vector(e()*h,e()*n),r:2,color:"rgba(0, 0, 0, 0.25)"})),o++}function A(){let t=0;for(;t<P;){let{x:o,y:v}=p[t].pos,d=i(o/a),f=i(v/a)*_+d;f>=0&&f<W&&p[t].applyForce(w[f].vec),p[t].update(),p[t].draw($),t++}}function T(t){t.setup=function(){t.createCanvas(h,n),t.background("rgba(0,0,0,0.5)"),t.colorMode(t.HSB,255),L(),R(t)},t.draw=function(){M(),A()}}return(t,o)=>(m(),y("div",oe,[V(U,{class:"card",bgColor:"transparent"},{default:X(()=>[V(ie,{sketch:T})]),_:1})]))}});const he=H(le,[["__scopeId","data-v-354b3bc6"]]);export{he as default};
