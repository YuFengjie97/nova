import{c as B}from"./simplex-noise-BtZ5wMFy.js";import{d as D,r as w,G as I,j as M,e as N,f as C,B as P,o as S,_ as F}from"./index-Dk52mj26.js";const j={class:"w-full min-h-full bg-#000 flex flex-col items-center gap-10px"},A="Verdana",m=100,V=`弱水三千
我只取一尿饮`,$=D({__name:"CanvasTextPoint",setup(q){const{PI:y}=Math,T=B();let c;const f=w();let e,o;const h=w();let l,u=[];function b(){f.value&&(c=f.value.getContext("2d"),e=f.value),h.value&&(o=h.value.getContext("2d"),l=h.value)}function k(){const a=V.split(`
`),i=a.map(t=>t.length).reduce((t,s)=>s>t?s:t,0),r=m*i+100,n=a.length*m+100;e.width=r,e.height=n,l.width=r,l.height=n;const p=a.length;c.font=`${m}px ${A}`,c.fillStyle="#fff";for(let t=0;t<p;t++)c.fillText(a[t],0,(t+.8)*n/p);u=[];const _=6;if(r>0){const t=c.getImageData(0,0,e.width,e.height);for(let s=0;s<e.height;s+=_)for(let d=0;d<e.width;d+=_)t.data[(d+s*e.width)*4]>0&&u.push({x:d,y:s})}}function x(){const a=performance.now()/1e3;for(let i=0,r=u.length;i<r;i++){const n=u[i];o.fillStyle="#fff",o.beginPath(),o.arc(n.x,n.y,P(T(n.x,n.y,Math.sin(a)),-1,1,0,1)*4+1,0,y*2),o.fill()}}let v=0;function g(){o.clearRect(0,0,l.width,l.height),x(),v=requestAnimationFrame(g)}return I(()=>{cancelAnimationFrame(v)}),M(()=>{b(),k(),x(),g()}),(a,i)=>(S(),N("div",j,[C("canvas",{ref_key:"canvas",ref:f,class:"canvas"},null,512),C("canvas",{ref_key:"canvas2",ref:h,class:"canvas"},null,512)]))}}),G=F($,[["__scopeId","data-v-17103b37"]]);export{G as default};
