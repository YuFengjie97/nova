import{c as I}from"./simplex-noise-CoJLqHZY.js";import{m as M}from"./math-VmRyYR0N.js";import{d as N,r as w,B as P,h as S,b as F,e as C,o as A,_ as V}from"./index-buY-64hZ.js";const $={class:"w-full min-h-full bg-#000 flex flex-col items-center gap-10px"},j=N({__name:"CanvasTextPoint",setup(q){const{PI:y}=Math,b=I();let c;const f=w();let e,s;const h=w();let l;const T="Verdana",d=100,k=`弱水三千
我只取一尿饮`;let m=[];function B(){f.value&&(c=f.value.getContext("2d"),e=f.value),h.value&&(s=h.value.getContext("2d"),l=h.value)}function D(){const a=k.split(`
`),i=a.map(t=>t.length).reduce((t,o)=>o>t?o:t,0),r=d*i+100,n=a.length*d+100;e.width=r,e.height=n,l.width=r,l.height=n;const g=a.length;c.font=`${d}px ${T}`,c.fillStyle="#fff";for(let t=0;t<g;t++)c.fillText(a[t],0,(t+.8)*n/g);m=[];const _=6;if(r>0){const t=c.getImageData(0,0,e.width,e.height);for(let o=0;o<e.height;o+=_)for(let u=0;u<e.width;u+=_)t.data[(u+o*e.width)*4]>0&&m.push({x:u,y:o})}}function x(){const a=performance.now()/1e3;for(let i=0,r=m.length;i<r;i++){const n=m[i];s.fillStyle="#fff",s.beginPath(),s.arc(n.x,n.y,M(b(n.x,n.y,Math.sin(a)),-1,1,0,1)*4+1,0,y*2),s.fill()}}let p=0;function v(){s.clearRect(0,0,l.width,l.height),x(),p=requestAnimationFrame(v)}return P(()=>{cancelAnimationFrame(p)}),S(()=>{B(),D(),x(),v()}),(a,i)=>(A(),F("div",$,[C("canvas",{ref_key:"canvas",ref:f,class:"canvas"},null,512),C("canvas",{ref_key:"canvas2",ref:h,class:"canvas"},null,512)]))}}),R=V(j,[["__scopeId","data-v-17103b37"]]);export{R as default};
