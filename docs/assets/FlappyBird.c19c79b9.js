var V=Object.defineProperty;var H=(n,e,o)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var i=(n,e,o)=>(H(n,typeof e!="symbol"?e+"":e,o),o);import{d as F,b as f,c as N,a as d,e as W,y as x,z as b,u as D,t as z,o as E,_ as G}from"./index.1f50e283.js";import{P as I}from"./P5.95acf1af.js";import{p as v}from"./p5.min.8a20e8f9.js";const L="/nova/assets/gameover.5abf3b0a.png",M={class:"viewCon"},O={class:"canvasCon"},T=["src"],U={class:"score"},j={class:"info"},q=F({__name:"FlappyBird",setup(n){const{floor:e}=Math,o=f(!1),_=f(0),m=f(!1);let t,p=800,a=800,h,r=[],y=2,w=6,g=new v.Vector(0,.2);class C{constructor(c){i(this,"top");i(this,"bottom");i(this,"w");i(this,"x");i(this,"c","#0984e3");i(this,"cross",!1);this.top=e(t.random(60,a/2)),this.bottom=e(t.random(60,a/2)),this.w=e(t.random(30,70)),this.x=c}show(){t.noStroke(),t.fill(this.c),t.rect(this.x,0,this.w,this.top,0,0,this.w/2,this.w/2),t.rect(this.x,a-this.bottom,this.w,this.bottom,this.w/2,this.w/2,0,0)}update(){this.outCanvas(),this.x-=y}outCanvas(){this.x<-50&&(this.x=p,this.w=e(t.random(30,70)),this.c="#0984e3",this.cross=!1)}birdHit(c){let{pos:{x:l,y:u}}=c;l>=this.x&&l<=this.x+this.w&&(u<=this.top||u>=a-this.bottom)&&(this.c="#d63031",o.value=!0)}birdCross(c){if(this.cross)return;let{pos:{x:l,y:u}}=c;l>this.x+this.w&&(this.cross=!0,_.value++)}}class k{constructor(){i(this,"pos",new v.Vector(40,a/2));i(this,"vel",new v.Vector(0,1));i(this,"d",20)}show(){t.fill("#fdcb6e"),t.circle(this.pos.x,this.pos.y,this.d)}up(){this.vel.set(0,-4)}update(){this.pos.y+this.d/2>a?(this.vel.mult(0),this.pos.set(this.pos.x,a-this.d/2)):this.vel.add(g),this.pos.y<this.d/2&&(this.pos.y=this.d/2),this.pos.add(this.vel)}}function B(){for(let s=0;s<w;s++)r.push(new C(p+s*(p/w)))}function P(){for(let s=0;s<r.length;s++)r[s].birdHit(h),r[s].birdCross(h),r[s].update(),r[s].show()}function S(s){t=s,t.setup=function(){innerWidth<800?(t.createCanvas(innerWidth,innerHeight),p=innerWidth,a=innerHeight):t.createCanvas(p,a),h=new k,B(),setTimeout(()=>{m.value=!0},5e3)},t.draw=function(){t.touches.length>0&&h.up(),o.value||(t.background(50),h.update(),h.show(),P())},t.keyPressed=function(){t.keyCode===32&&h.up()}}return(s,c)=>(E(),N("div",M,[d("div",O,[W(I,{sketch:S}),x(d("img",{class:"gameover",src:D(L)},null,8,T),[[b,o.value]]),d("div",U,"Score: "+z(_.value),1),x(d("div",j,"Use space/touch to fly",512),[[b,!m.value]])])]))}});const R=G(q,[["__scopeId","data-v-976a15ba"]]);export{R as default};
