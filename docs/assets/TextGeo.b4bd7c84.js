import{$ as Y,a0 as ee,a1 as ne,u as te,G as oe,m as W,f as M,w as ie,a2 as se,S as ae,A as re,a as ce,C as le,a3 as de,P as he,V as ue,W as pe,a4 as fe,X as ge}from"./stats.module.ff472938.js";import{G as ve}from"./dat.gui.module.5aaed78b.js";import{d as we,b as D,h as be,c as me,a as R,o as xe,_ as ye}from"./index.21e0aca7.js";class Se extends Y{constructor(e){super(e)}load(e,n,a,l){const c=this,i=new ee(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,function(d){const p=c.parse(JSON.parse(d));n&&n(p)},a,l)}parse(e){return new _e(e)}}class _e{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const a=[],l=ke(e,n,this.data);for(let c=0,i=l.length;c<i;c++)a.push(...l[c].toShapes());return a}}function ke(v,e,n){const a=Array.from(v),l=e/n.resolution,c=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*l,i=[];let d=0,p=0;for(let r=0;r<a.length;r++){const u=a[r];if(u===`
`)d=0,p-=c;else{const g=Ce(u,l,d,p,n);d+=g.offsetX,i.push(g.path)}}return i}function Ce(v,e,n,a,l){const c=l.glyphs[v]||l.glyphs["?"];if(!c){console.error('THREE.Font: character "'+v+'" does not exists in font family '+l.familyName+".");return}const i=new ne;let d,p,r,u,g,w,x,_;if(c.o){const t=c._cachedOutline||(c._cachedOutline=c.o.split(" "));for(let s=0,C=t.length;s<C;)switch(t[s++]){case"m":d=t[s++]*e+n,p=t[s++]*e+a,i.moveTo(d,p);break;case"l":d=t[s++]*e+n,p=t[s++]*e+a,i.lineTo(d,p);break;case"q":r=t[s++]*e+n,u=t[s++]*e+a,g=t[s++]*e+n,w=t[s++]*e+a,i.quadraticCurveTo(g,w,r,u);break;case"b":r=t[s++]*e+n,u=t[s++]*e+a,g=t[s++]*e+n,w=t[s++]*e+a,x=t[s++]*e+n,_=t[s++]*e+a,i.bezierCurveTo(g,w,x,_,r,u);break}}return{offsetX:c.ha*e,path:i}}const Te="/nova/assets/helvetiker_regular.typeface.d5c54676.json";class ze extends te{constructor(e,n={}){const a=n.font;if(a===void 0)super();else{const l=a.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(l,n)}this.type="TextGeometry"}}const Pe={class:"viewCon"},Ge=we({__name:"TextGeo",setup(v){const{PI:e,random:n,floor:a}=Math,l=D(),c=D();let i=window.innerWidth,d=window.innerHeight,p,r,u,g,w,x="Hello three.js!",_,t,s=0,C=0,b,G,T,k,z,E=40,P;function A(o){let f=o.key;console.log(f),f==="Backspace"?x=x.slice(0,-1):x+=f,m()}function q(){let o=n()*100,f=1,y=.5;P.color.setHSL(o,f,y)}let h={changeColor:function(){q()},fontSize:50,height:6,curveSegments:1,bevelEnabled:!0,bevelThickness:4,bevelSize:3.2,bevelSegments:1};function O(){const o=new ve({width:300});o.add(h,"changeColor").name("randomColor").listen(),o.add(h,"fontSize",20,100,1).onFinishChange(f=>{E=f*.8,m()}),o.add(h,"height",1,30,1).onFinishChange(m),o.add(h,"curveSegments",1,10,1).onFinishChange(m),o.add(h,"bevelEnabled").onChange(m),o.add(h,"bevelThickness",1,10,1).onFinishChange(m),o.add(h,"bevelSize",.1,5,.1).onFinishChange(m),o.add(h,"bevelSegments",1,10,1).onFinishChange(m)}function m(){t.remove(T),t.remove(k),B()}let F=!1;function j(o){F=!0,C=o.clientX}function I(o){F&&(s=(o.clientX-C)/w*e*.04)}function N(){F=!1,s=0}function U(){const o=new Se;return new Promise((f,y)=>{o.load(Te,function(S){f(S)},void 0,function(S){y(S)})})}function B(){var y,S,L;t=new oe,r.add(t),b=new ze(x,{font:_,size:h.fontSize,height:h.height,curveSegments:h.curveSegments,bevelEnabled:h.bevelEnabled,bevelThickness:h.bevelThickness,bevelSize:h.bevelSize,bevelSegments:h.bevelSegments}),G=[new W({color:16777215,flatShading:!0}),new W({color:16777215})],T=new M(b,G),t.add(T),b.computeBoundingBox();const o=-.5*(((y=b.boundingBox)==null?void 0:y.max.x)-((S=b.boundingBox)==null?void 0:S.min.x)),f=((L=b.boundingBox)==null?void 0:L.min.y)+E;T.position.set(o,f,0),k=new M(b,G),k.position.set(o,-f,0),k.rotation.x=-e,t.add(k)}function V(){z=new M(new ie(1e4,1e4),new se({color:16777215,opacity:.5,transparent:!0})),z.position.y=0,z.rotation.x=-e/2,r.add(z)}function $(){p=ae(),c.value.append(p.dom)}function J(){r.add(new re(1e3))}function X(){i=window.innerWidth,d=window.innerHeight,w=i/2,u.aspect=i/d,u.updateProjectionMatrix(),g.setSize(i,d)}function K(){r=new ce,r.background=new le(0),r.fog=new de(0,250,1400),u=new he(75,i/d,1,4e3),u.position.set(0,100,300),u.lookAt(new ue(0,50,0)),g=new pe({canvas:l.value,antialias:!0}),g.setSize(i,d),window.addEventListener("resize",X)}function Q(){const o=new fe(16777215,.125);o.position.set(0,-100,1).normalize(),r.add(o),P=new ge(7101671,1.5),P.position.set(0,-100,90),r.add(P)}function Z(){t.rotation.y=t.rotation.y+s}function H(){requestAnimationFrame(H),p.update(),Z(),g.render(r,u)}return be(async()=>{document.addEventListener("keydown",A),w=window.innerWidth/2,K(),O(),Q(),J(),$(),_=await U(),B(),V(),H()}),(o,f)=>(xe(),me("div",Pe,[R("div",{class:"canvasCon",ref_key:"canvasCon",ref:c},[R("canvas",{class:"canvas",ref_key:"canvasDom",ref:l,onPointerdown:j,onPointermove:I,onPointerup:N},null,544)],512)]))}});const Be=ye(Ge,[["__scopeId","data-v-ce59d162"]]);export{Be as default};
