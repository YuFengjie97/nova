const $=.5*(Math.sqrt(3)-1),v=(3-Math.sqrt(3))/6,tt=1/3,x=1/6,B=w=>Math.floor(w)|0,W=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),V=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function nt(w=Math.random){const n=_(w),o=new Float64Array(n).map(y=>W[y%12*2]),t=new Float64Array(n).map(y=>W[y%12*2+1]);return function(g,z){let G=0,h=0,k=0;const M=(g+z)*$,A=B(g+M),b=B(z+M),S=(A+b)*v,N=A-S,X=b-S,u=g-N,d=z-X;let D,q;u>d?(D=1,q=0):(D=0,q=1);const Y=u-D+v,l=d-q+v,f=u-1+2*v,c=d-1+2*v,m=A&255,p=b&255;let r=.5-u*u-d*d;if(r>=0){const s=m+n[p],F=o[s],j=t[s];r*=r,G=r*r*(F*u+j*d)}let i=.5-Y*Y-l*l;if(i>=0){const s=m+D+n[p+q],F=o[s],j=t[s];i*=i,h=i*i*(F*Y+j*l)}let a=.5-f*f-c*c;if(a>=0){const s=m+1+n[p+1],F=o[s],j=t[s];a*=a,k=a*a*(F*f+j*c)}return 70*(G+h+k)}}function ot(w=Math.random){const n=_(w),o=new Float64Array(n).map(g=>V[g%12*3]),t=new Float64Array(n).map(g=>V[g%12*3+1]),y=new Float64Array(n).map(g=>V[g%12*3+2]);return function(z,G,h){let k,M,A,b;const S=(z+G+h)*tt,N=B(z+S),X=B(G+S),u=B(h+S),d=(N+X+u)*x,D=N-d,q=X-d,Y=u-d,l=z-D,f=G-q,c=h-Y;let m,p,r,i,a,s;l>=f?f>=c?(m=1,p=0,r=0,i=1,a=1,s=0):l>=c?(m=1,p=0,r=0,i=1,a=0,s=1):(m=0,p=0,r=1,i=1,a=0,s=1):f<c?(m=0,p=0,r=1,i=0,a=1,s=1):l<c?(m=0,p=1,r=0,i=0,a=1,s=1):(m=0,p=1,r=0,i=1,a=1,s=0);const F=l-m+x,j=f-p+x,I=c-r+x,J=l-i+2*x,K=f-a+2*x,L=c-s+2*x,O=l-1+3*x,Q=f-1+3*x,R=c-1+3*x,C=N&255,E=X&255,H=u&255;let P=.6-l*l-f*f-c*c;if(P<0)k=0;else{const e=C+n[E+n[H]];P*=P,k=P*P*(o[e]*l+t[e]*f+y[e]*c)}let T=.6-F*F-j*j-I*I;if(T<0)M=0;else{const e=C+m+n[E+p+n[H+r]];T*=T,M=T*T*(o[e]*F+t[e]*j+y[e]*I)}let U=.6-J*J-K*K-L*L;if(U<0)A=0;else{const e=C+i+n[E+a+n[H+s]];U*=U,A=U*U*(o[e]*J+t[e]*K+y[e]*L)}let Z=.6-O*O-Q*Q-R*R;if(Z<0)b=0;else{const e=C+1+n[E+1+n[H+1]];Z*=Z,b=Z*Z*(o[e]*O+t[e]*Q+y[e]*R)}return 32*(k+M+A+b)}}function _(w){const o=new Uint8Array(512);for(let t=0;t<512/2;t++)o[t]=t;for(let t=0;t<512/2-1;t++){const y=t+~~(w()*(256-t)),g=o[t];o[t]=o[y],o[y]=g}for(let t=256;t<512;t++)o[t]=o[t-256];return o}export{nt as a,ot as c};
